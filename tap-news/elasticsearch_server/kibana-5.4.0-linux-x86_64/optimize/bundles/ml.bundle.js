webpackJsonp([7],{0:function(module,exports,__webpack_require__){"use strict";__webpack_require__(2429),__webpack_require__(3670),__webpack_require__(2814),__webpack_require__(2824),__webpack_require__(2825),__webpack_require__(2826),__webpack_require__(2829),__webpack_require__(2835),__webpack_require__(2836),__webpack_require__(2839),__webpack_require__(2841),__webpack_require__(2842),__webpack_require__(2844),__webpack_require__(2845),__webpack_require__(2846),__webpack_require__(2847),__webpack_require__(2848),__webpack_require__(2429).bootstrap()},503:function(module,exports){module.exports='<div\n  class="kuiLocalNav"\n  ng-show="kbnTopNav.isVisible()"\n  data-test-subj="top-nav"\n>\n  <!-- Top row -->\n  <div class="kuiLocalNavRow">\n    <!-- Top left corner slot, e.g. breadcrumbs, title. -->\n    <div\n      class="kuiLocalNavRow__section"\n      data-transclude-slot="topLeftCorner"\n    ></div>\n\n    <!-- Right-side: menu -->\n    <div class="kuiLocalNavRow__section">\n      <div class="kuiLocalMenu">\n        <div\n          class="kuiLocalMenuItem"\n          ng-repeat="menuItem in kbnTopNav.menuItems"\n          aria-label="{{::menuItem.description}}"\n          aria-haspopup="{{!menuItem.hasFunction}}"\n          aria-expanded="{{kbnTopNav.isCurrent(menuItem.key)}}"\n          ng-class="{\'kuiLocalMenuItem-isSelected\': kbnTopNav.isCurrent(menuItem.key), \'kuiLocalMenuItem-isDisabled\': menuItem.disableButton()}"\n          ng-click="kbnTopNav.handleClick(menuItem)"\n          ng-bind="menuItem.label"\n          tooltip="{{menuItem.tooltip()}}"\n          tooltip-placement="bottom"\n          tooltip-popup-delay="400"\n          tooltip-append-to-body="1"\n          data-test-subj="{{menuItem.testId}}"\n        ></div>\n\n        <!-- Time-picker "menu item" -->\n        <kbn-global-timepicker></kbn-global-timepicker>\n      </div>\n    </div>\n  </div>\n\n  <!-- Dropdown content, e.g. time-picker. -->\n  <div\n    class="kuiLocalDropdown"\n    ng-show="kbnTopNav.rendered"\n  >\n    <button class="kuiLocalDropdownCloseButton" ng-click="kbnTopNav.close()">\n      <span class="fa fa-chevron-circle-up"></span>\n    </button>\n    <div id="template_wrapper">\n      <!-- Content gets dynamically inserted here. -->\n    </div>\n  </div>\n\n  <div class="kuiLocalNavRow kuiLocalNavRow--secondary">\n    <!-- Bottom row slot, e.g. tabs. -->\n    <div data-transclude-slot="bottomRow"></div>\n  </div>\n</div>\n'},505:function(module,exports){module.exports='<kbn-timepicker\n  from="timefilter.time.from"\n  to="timefilter.time.to"\n  mode="timefilter.time.mode"\n  active-tab="\'filter\'"\n  interval="timefilter.refreshInterval"\n  on-filter-select="updateFilter(from, to)"\n  on-interval-select="updateInterval(interval)">\n</kbn-timepicker>\n'},506:function(module,exports){module.exports='<kbn-timepicker\n  from="timefilter.time.from"\n  to="timefilter.time.to"\n  mode="timefilter.time.mode"\n  active-tab="\'interval\'"\n  interval="timefilter.refreshInterval"\n  on-filter-select="updateFilter(from, to)"\n  on-interval-select="updateInterval(interval)">\n</kbn-timepicker>\n'},509:function(module,exports){module.exports='<div class="kuiLocalBreadcrumbs" data-test-subj="breadcrumbs">\n  <div\n    class="kuiLocalBreadcrumb"\n    ng-if="useLinks && (!omitPages || !omitPages.includes(breadcrumb.path))"\n    ng-repeat="breadcrumb in breadcrumbs"\n  >\n    <a\n      class="kuiLocalBreadcrumb__link"\n      href="{{breadcrumb.url}}"\n    >\n      {{breadcrumb.title}}\n    </a>\n  </div>\n\n  <div\n    class="kuiLocalBreadcrumb"\n    ng-if="!useLinks && (!omitPages || !omitPages.includes(breadcrumb.path))"\n    ng-repeat="breadcrumb in breadcrumbs"\n  >\n    {{ breadcrumb.title }}\n  </div>\n\n  <div\n    class="kuiLocalBreadcrumb"\n    ng-if="pageTitle"\n  >\n    {{ pageTitle }}\n  </div>\n</div>\n'},514:function(module,exports,__webpack_require__){"use strict";__webpack_require__(11),module.exports=__webpack_require__(515),__webpack_require__(2437).get("kibana",["elasticsearch"])},515:function(module,exports){!function(){!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){(function(process){var AngularConnector=__webpack_require__(2),Client=__webpack_require__(30);process.angular_build=!0,angular.module("elasticsearch",[]).factory("esFactory",["$injector","$q",function($injector,$q){var factory=function(config){return config=config||{},config.connectionClass=AngularConnector,config.$injector=$injector,config.defer=function(){return $q.defer()},config.serializer=config.serializer||"angular",new Client(config)};return factory.errors=__webpack_require__(29),factory.ConnectionPool=__webpack_require__(35),factory.Transport=__webpack_require__(31),factory}])}).call(exports,__webpack_require__(1))},function(module,exports){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,runClearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},function(module,exports,__webpack_require__){function AngularConnector(host,config){ConnectionAbstract.call(this,host,config);var self=this;config.$injector.invoke(["$http","$q",function($http,$q){self.$q=$q,self.$http=$http}])}module.exports=AngularConnector;var _=__webpack_require__(3),ConnectionAbstract=__webpack_require__(16),ConnectionFault=__webpack_require__(29).ConnectionFault;_.inherits(AngularConnector,ConnectionAbstract),AngularConnector.prototype.request=function(params,cb){var abort=this.$q.defer();return this.$http({method:params.method,url:this.host.makeUrl(params),data:params.body,cache:!1,headers:this.host.getHeaders(params.headers),transformRequest:[],transformResponse:[],timeout:abort.promise}).then(function(response){cb(null,response.data,response.status,response.headers())},function(err){err.status?cb(null,err.data,err.status,err.headers()):cb(new ConnectionFault(err.message))}),function(){abort.resolve()}}},function(module,exports,__webpack_require__){(function(process,Buffer){function adjustWordCase(firstWordCap,otherWordsCap,sep){return function(string){for(var code,c,upper,lower,i=0,words=[],word="";i<string.length;i++)code=string.charCodeAt(i),c=string.charAt(i),lower=code>=97&&code<=122||code>=48&&code<=57,upper=code>=65&&code<=90,!upper&&lower||(word.length&&words.push(word),word=""),(upper||lower)&&(lower&&word.length?word+=c:word=!words.length&&firstWordCap||words.length&&otherWordsCap?c.toUpperCase():c.toLowerCase());return word.length&&words.push(word),words.length&&"_"===string.charAt(0)&&(words[0]="_"+words[0]),words.join(sep)}}var path=__webpack_require__(8),nodeUtils=__webpack_require__(9),lodash=__webpack_require__(12),_=lodash.assign({},lodash,nodeUtils);_.joinPath=path.join,_.get=__webpack_require__(14),_.trimEnd=__webpack_require__(15),_.deepMerge=function(to,from){return _.each(from,function(fromVal,key){switch(typeof to[key]){case"undefined":to[key]=from[key];break;case"object":_.isArray(to[key])&&_.isArray(from[key])?to[key]=to[key].concat(from[key]):_.isPlainObject(to[key])&&_.isPlainObject(from[key])&&_.deepMerge(to[key],from[key])}}),to},_.each(["String","Object","PlainObject","Array","Finite","Function","RegExp"],function(type){var check=_["is"+type];_["isArrayOf"+type+"s"]=function(arr){return _.isArray(arr)&&_.every(arr.slice(0,10),check)}}),_.ucfirst=function(word){return word[0].toUpperCase()+word.substring(1).toLowerCase()},_.studlyCase=adjustWordCase(!0,!0,""),_.camelCase=adjustWordCase(!1,!0,""),_.snakeCase=adjustWordCase(!1,!1,"_"),_.toLowerString=function(any){return any?"string"!=typeof any&&(any=any.toString()):any="",any.toLowerCase()},_.toUpperString=function(any){return any?"string"!=typeof any&&(any=any.toString()):any="",any.toUpperCase()},_.isNumeric=function(val){return"object"!=typeof val&&val-parseFloat(val)>=0};var intervalRE=/^(\d+(?:\.\d+)?)(M|w|d|h|m|s|y|ms)$/;_.isInterval=function(val){return!(!val.match||!val.match(intervalRE))},_.repeat=function(what,times){return new Array(times+1).join(what)},_.applyArgs=function(func,context,args,sliceIndex){switch(sliceIndex=sliceIndex||0,args.length-sliceIndex){case 0:return func.call(context);case 1:return func.call(context,args[0+sliceIndex]);case 2:return func.call(context,args[0+sliceIndex],args[1+sliceIndex]);case 3:return func.call(context,args[0+sliceIndex],args[1+sliceIndex],args[2+sliceIndex]);case 4:return func.call(context,args[0+sliceIndex],args[1+sliceIndex],args[2+sliceIndex],args[3+sliceIndex]);case 5:return func.call(context,args[0+sliceIndex],args[1+sliceIndex],args[2+sliceIndex],args[3+sliceIndex],args[4+sliceIndex]);default:return func.apply(context,Array.prototype.slice.call(args,sliceIndex))}},_.nextTick=function(cb){process.nextTick(_.bindKey(_,"applyArgs",cb,null,arguments,1))},_.handler=function(func){return func._provideBound=!0,func},_.scheduled=_.handler,_.makeBoundMethods=function(obj){obj.bound={};for(var prop in obj)"function"==typeof obj[prop]&&obj[prop]._provideBound===!0&&(obj.bound[prop]=_.bind(obj[prop],obj))},_.noop=function(){},_.funcEnum=function(config,name,opts,def){var val=config[name];switch(typeof val){case"undefined":return opts[def];case"function":return val;case"string":if(opts.hasOwnProperty(val))return opts[val];default:var err="Invalid "+name+' "'+val+'", expected a function';switch(_.size(opts)){case 0:break;case 1:err+=" or "+_.keys(opts)[0];break;default:err+=" or one of "+_.keys(opts).join(", ")}throw new TypeError(err)}},_.createArray=function(input,transform){transform="function"==typeof transform?transform:_.identity;var item,i,output=[];for(_.isArray(input)||(input=[input]),i=0;i<input.length;i++){if(item=transform(input[i]),void 0===item)return!1;output.push(item)}return output},_.getUnwrittenFromStream=function(stream){var writeBuffer=_.getStreamWriteBuffer(stream);if(writeBuffer){var out="";return writeBuffer.length?(_.each(writeBuffer,function(writeReq){if(writeReq.chunk)out+=""+writeReq.chunk;else{if(!_.isArray(writeReq)||"string"!=typeof writeReq[0]&&!Buffer.isBuffer(writeReq[0]))return!1;out+=""+writeReq[0]}}),out):out}},_.getStreamWriteBuffer=function(stream){if(stream&&stream._writableState){var writeState=stream._writableState;return writeState.getBuffer?writeState.getBuffer():writeState.buffer?writeState.buffer:void 0}},_.clearWriteStreamBuffer=function(stream){var buffer=_.getStreamWriteBuffer(stream);return buffer&&buffer.splice(0)},_.now=function(){return"function"==typeof Date.now?Date.now():(new Date).getTime()},module.exports=_}).call(exports,__webpack_require__(1),__webpack_require__(4).Buffer)},function(module,exports,__webpack_require__){(function(global){/*!
		 * The buffer module from node.js, for the browser.
		 *
		 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
		 * @license  MIT
		 */
"use strict";function typedArraySupport(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()&&"function"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(that=new Uint8Array(length),that.__proto__=Buffer.prototype):(null===that&&(that=new Buffer(length)),that.length=length),that}function Buffer(arg,encodingOrOffset,length){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}function from(that,value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer?fromArrayBuffer(that,value,encodingOrOffset,length):"string"==typeof value?fromString(that,value,encodingOrOffset):fromObject(that,value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be a number');if(size<0)throw new RangeError('"size" argument must not be negative')}function alloc(that,size,fill,encoding){return assertSize(size),size<=0?createBuffer(that,size):void 0!==fill?"string"==typeof encoding?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill):createBuffer(that,size)}function allocUnsafe(that,size){if(assertSize(size),that=createBuffer(that,size<0?0:0|checked(size)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<size;++i)that[i]=0;return that}function fromString(that,string,encoding){if("string"==typeof encoding&&""!==encoding||(encoding="utf8"),!Buffer.isEncoding(encoding))throw new TypeError('"encoding" must be a valid string encoding');var length=0|byteLength(string,encoding);that=createBuffer(that,length);var actual=that.write(string,encoding);return actual!==length&&(that=that.slice(0,actual)),that}function fromArrayLike(that,array){var length=array.length<0?0:0|checked(array.length);that=createBuffer(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function fromArrayBuffer(that,array,byteOffset,length){if(array.byteLength,byteOffset<0||array.byteLength<byteOffset)throw new RangeError("'offset' is out of bounds");if(array.byteLength<byteOffset+(length||0))throw new RangeError("'length' is out of bounds");return array=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length),Buffer.TYPED_ARRAY_SUPPORT?(that=array,that.__proto__=Buffer.prototype):that=fromArrayLike(that,array),that}function fromObject(that,obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length);return that=createBuffer(that,len),0===that.length?that:(obj.copy(that,0,0,len),that)}if(obj){if("undefined"!=typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||"length"in obj)return"number"!=typeof obj.length||isnan(obj.length)?createBuffer(that,0):fromArrayLike(that,obj);if("Buffer"===obj.type&&isArray(obj.data))return fromArrayLike(that,obj.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(length){if(length>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|length}function SlowBuffer(length){return+length!=length&&(length=0),Buffer.alloc(+length)}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;"string"!=typeof string&&(string=""+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case void 0:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return"";if(end>>>=0,start>>>=0,end<=start)return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),byteOffset=+byteOffset,isNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val=255&val,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}var indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&(encoding=String(encoding).toLowerCase(),"ucs2"===encoding||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,foundIndex===-1?0:i-foundIndex)){if(foundIndex===-1&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else foundIndex!==-1&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length),length>remaining&&(length=remaining)):length=remaining;var strLen=string.length;if(strLen%2!==0)throw new TypeError("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:secondByte=buf[i+1],128===(192&secondByte)&&(tempCodePoint=(31&firstByte)<<6|63&secondByte,tempCodePoint>127&&(codePoint=tempCodePoint));break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128===(192&secondByte)&&128===(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte,tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint));break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128===(192&secondByte)&&128===(192&thirdByte)&&128===(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte,tempCodePoint>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint))}}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return decodeCodePointsArray(res)}function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);for(var res="",i=0;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function objectWriteUInt16(buf,value,offset,littleEndian){value<0&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){value<0&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}function base64clean(str){if(str=stringtrim(str).replace(INVALID_BASE64_RE,""),str.length<2)return"";for(;str.length%4!==0;)str+="=";return str}function stringtrim(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}function toHex(n){return n<16?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){units=units||1/0;for(var codePoint,length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if(codePoint=string.charCodeAt(i),codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}function utf16leToBytes(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}function isnan(val){return val!==val}var base64=__webpack_require__(5),ieee754=__webpack_require__(6),isArray=__webpack_require__(7);exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:typedArraySupport(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(arr){return arr.__proto__=Buffer.prototype,arr},Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(size,fill,encoding){return alloc(null,size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)},Buffer.isBuffer=function(b){return!(null==b||!b._isBuffer)},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=0|this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString("hex",0,max).match(/.{2}/g).join(" "),this.length>max&&(str+=" ... ")),"<Buffer "+str+">"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError("Argument must be a Buffer");if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(start>>>=0,end>>>=0,thisStart>>>=0,thisEnd>>>=0,this===target)return 0;for(var x=thisEnd-thisStart,y=end-start,len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return this.indexOf(val,byteOffset,encoding)!==-1},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset=0|offset,isFinite(length)?(length=0|length,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(start,end){var len=this.length;start=~~start,end=void 0===end?len:~~end,start<0?(start+=len,start<0&&(start=0)):start>len&&(start=len),end<0?(end+=len,end<0&&(end=0)):end>len&&(end=len),end<start&&(end=start);var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT)newBuf=this.subarray(start,end),newBuf.__proto__=Buffer.prototype;else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,(void 0));for(var i=0;i<sliceLen;++i)newBuf[i]=this[i+start]}return newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?(255-this[offset]+1)*-1:this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,byteLength=0|byteLength,!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,byteLength=0|byteLength,!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);code<256&&(val=code)}if(void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding)}else"number"==typeof val&&(val=255&val);if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0);var i;if("number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString()),len=bytes.length;for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g}).call(exports,function(){return this}())},function(module,exports){"use strict";function placeHoldersCount(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===b64[len-2]?2:"="===b64[len-1]?1:0}function byteLength(b64){return 3*b64.length/4-placeHoldersCount(b64)}function toByteArray(b64){var i,j,l,tmp,placeHolders,arr,len=b64.length;placeHolders=placeHoldersCount(b64),arr=new Arr(3*len/4-placeHolders),l=placeHolders>0?len-4:len;var L=0;for(i=0,j=0;i<l;i+=4,j+=3)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[L++]=tmp>>16&255,arr[L++]=tmp>>8&255,arr[L++]=255&tmp;return 2===placeHolders?(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[L++]=255&tmp):1===placeHolders&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[L++]=tmp>>8&255,arr[L++]=255&tmp),arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]}function encodeChunk(uint8,start,end){for(var tmp,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output.push(tripletToBase64(tmp));return output.join("")}function fromByteArray(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,output="",parts=[],maxChunkLength=16383,i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength)parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength));return 1===extraBytes?(tmp=uint8[len-1],
output+=lookup[tmp>>2],output+=lookup[tmp<<4&63],output+="=="):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],output+=lookup[tmp>>10],output+=lookup[tmp>>4&63],output+=lookup[tmp<<2&63],output+="="),parts.push(output),parts.join("")}exports.byteLength=byteLength,exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},function(module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:(s?-1:1)*(1/0);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},function(module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},function(module,exports,__webpack_require__){(function(process){function normalizeArray(parts,allowAboveRoot){for(var up=0,i=parts.length-1;i>=0;i--){var last=parts[i];"."===last?parts.splice(i,1):".."===last?(parts.splice(i,1),up++):up&&(parts.splice(i,1),up--)}if(allowAboveRoot)for(;up--;up)parts.unshift("..");return parts}function filter(xs,f){if(xs.filter)return xs.filter(f);for(var res=[],i=0;i<xs.length;i++)f(xs[i],i,xs)&&res.push(xs[i]);return res}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(filename){return splitPathRe.exec(filename).slice(1)};exports.resolve=function(){for(var resolvedPath="",resolvedAbsolute=!1,i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if("string"!=typeof path)throw new TypeError("Arguments to path.resolve must be strings");path&&(resolvedPath=path+"/"+resolvedPath,resolvedAbsolute="/"===path.charAt(0))}return resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/"),(resolvedAbsolute?"/":"")+resolvedPath||"."},exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash="/"===substr(path,-1);return path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/"),path||isAbsolute||(path="."),path&&trailingSlash&&(path+="/"),(isAbsolute?"/":"")+path},exports.isAbsolute=function(path){return"/"===path.charAt(0)},exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if("string"!=typeof p)throw new TypeError("Arguments to path.join must be strings");return p}).join("/"))},exports.relative=function(from,to){function trim(arr){for(var start=0;start<arr.length&&""===arr[start];start++);for(var end=arr.length-1;end>=0&&""===arr[end];end--);return start>end?[]:arr.slice(start,end-start+1)}from=exports.resolve(from).substr(1),to=exports.resolve(to).substr(1);for(var fromParts=trim(from.split("/")),toParts=trim(to.split("/")),length=Math.min(fromParts.length,toParts.length),samePartsLength=length,i=0;i<length;i++)if(fromParts[i]!==toParts[i]){samePartsLength=i;break}for(var outputParts=[],i=samePartsLength;i<fromParts.length;i++)outputParts.push("..");return outputParts=outputParts.concat(toParts.slice(samePartsLength)),outputParts.join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];return root||dir?(dir&&(dir=dir.substr(0,dir.length-1)),root+dir):"."},exports.basename=function(path,ext){var f=splitPath(path)[2];return ext&&f.substr(-1*ext.length)===ext&&(f=f.substr(0,f.length-ext.length)),f},exports.extname=function(path){return splitPath(path)[3]};var substr="b"==="ab".substr(-1)?function(str,start,len){return str.substr(start,len)}:function(str,start,len){return start<0&&(start=str.length+start),str.substr(start,len)}}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function(global,process){function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};return array.forEach(function(val,idx){hash[val]=!0}),hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=arrayToHash(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];if(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0===keys.length&&(!array||0==value.length))return braces[0]+base+braces[1];if(recurseTimes<0)return isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special");ctx.seen.push(value);var output;return output=array?formatArray(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):isNull(value)?ctx.stylize("null","null"):void 0}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;i<l;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if(desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]},desc.get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1),str.indexOf("\n")>-1&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n"))):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;name=JSON.stringify(""+key),name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0,length=output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf("\n")>=0&&numLinesEst++,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);return length>60?braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||"undefined"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];i<len;x=args[++i])str+=isNull(x)||!isObject(x)?" "+x:" "+inspect(x);return str},exports.deprecate=function(fn,msg){function deprecated(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(process.noDeprecation===!0)return fn;var warned=!1;return deprecated};var debugEnviron,debugs={};exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=__webpack_require__(10);var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=__webpack_require__(11),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(exports,function(){return this}(),__webpack_require__(1))},function(module,exports){module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},function(module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(module,global){(function(){function baseIndexOf(array,value,fromIndex){for(var index=(fromIndex||0)-1,length=array?array.length:0;++index<length;)if(array[index]===value)return index;return-1}function cacheIndexOf(cache,value){var type=typeof value;if(cache=cache.cache,"boolean"==type||null==value)return cache[value]?0:-1;"number"!=type&&"string"!=type&&(type="object");var key="number"==type?value:keyPrefix+value;return cache=(cache=cache[type])&&cache[key],"object"==type?cache&&baseIndexOf(cache,value)>-1?0:-1:cache?0:-1}function cachePush(value){var cache=this.cache,type=typeof value;if("boolean"==type||null==value)cache[value]=!0;else{"number"!=type&&"string"!=type&&(type="object");var key="number"==type?value:keyPrefix+value,typeCache=cache[type]||(cache[type]={});"object"==type?(typeCache[key]||(typeCache[key]=[])).push(value):typeCache[key]=!0}}function charAtCallback(value){return value.charCodeAt(0)}function compareAscending(a,b){for(var ac=a.criteria,bc=b.criteria,index=-1,length=ac.length;++index<length;){var value=ac[index],other=bc[index];if(value!==other){if(value>other||"undefined"==typeof value)return 1;if(value<other||"undefined"==typeof other)return-1}}return a.index-b.index}function createCache(array){var index=-1,length=array.length,first=array[0],mid=array[length/2|0],last=array[length-1];if(first&&"object"==typeof first&&mid&&"object"==typeof mid&&last&&"object"==typeof last)return!1;var cache=getObject();cache["false"]=cache["null"]=cache["true"]=cache.undefined=!1;var result=getObject();for(result.array=array,result.cache=cache,result.push=cachePush;++index<length;)result.push(array[index]);return result}function escapeStringChar(match){return"\\"+stringEscapes[match]}function getArray(){return arrayPool.pop()||[]}function getObject(){return objectPool.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function isNode(value){return"function"!=typeof value.toString&&"string"==typeof(value+"")}function releaseArray(array){array.length=0,arrayPool.length<maxPoolSize&&arrayPool.push(array)}function releaseObject(object){var cache=object.cache;cache&&releaseObject(cache),object.array=object.cache=object.criteria=object.object=object.number=object.string=object.value=null,objectPool.length<maxPoolSize&&objectPool.push(object)}function slice(array,start,end){start||(start=0),"undefined"==typeof end&&(end=array?array.length:0);for(var index=-1,length=end-start||0,result=Array(length<0?0:length);++index<length;)result[index]=array[start+index];return result}function runInContext(context){function lodash(value){return value&&"object"==typeof value&&!isArray(value)&&hasOwnProperty.call(value,"__wrapped__")?value:new lodashWrapper(value)}function lodashWrapper(value,chainAll){this.__chain__=!!chainAll,this.__wrapped__=value}function baseBind(bindData){function bound(){if(partialArgs){var args=slice(partialArgs);push.apply(args,arguments)}if(this instanceof bound){var thisBinding=baseCreate(func.prototype),result=func.apply(thisBinding,args||arguments);return isObject(result)?result:thisBinding}return func.apply(thisArg,args||arguments)}var func=bindData[0],partialArgs=bindData[2],thisArg=bindData[4];return setBindData(bound,bindData),bound}function baseClone(value,isDeep,callback,stackA,stackB){if(callback){var result=callback(value);if("undefined"!=typeof result)return result}var isObj=isObject(value);if(!isObj)return value;var className=toString.call(value);if(!cloneableClasses[className]||!support.nodeClass&&isNode(value))return value;var ctor=ctorByClass[className];switch(className){case boolClass:case dateClass:return new ctor((+value));case numberClass:case stringClass:return new ctor(value);case regexpClass:return result=ctor(value.source,reFlags.exec(value)),result.lastIndex=value.lastIndex,result}var isArr=isArray(value);if(isDeep){var initedStack=!stackA;stackA||(stackA=getArray()),stackB||(stackB=getArray());for(var length=stackA.length;length--;)if(stackA[length]==value)return stackB[length];result=isArr?ctor(value.length):{}}else result=isArr?slice(value):assign({},value);return isArr&&(hasOwnProperty.call(value,"index")&&(result.index=value.index),hasOwnProperty.call(value,"input")&&(result.input=value.input)),isDeep?(stackA.push(value),stackB.push(result),(isArr?baseEach:forOwn)(value,function(objValue,key){result[key]=baseClone(objValue,isDeep,callback,stackA,stackB)}),initedStack&&(releaseArray(stackA),releaseArray(stackB)),result):result}function baseCreate(prototype,properties){return isObject(prototype)?nativeCreate(prototype):{}}function baseCreateCallback(func,thisArg,argCount){if("function"!=typeof func)return identity;if("undefined"==typeof thisArg||!("prototype"in func))return func;var bindData=func.__bindData__;if("undefined"==typeof bindData&&(support.funcNames&&(bindData=!func.name),bindData=bindData||!support.funcDecomp,!bindData)){var source=fnToString.call(func);support.funcNames||(bindData=!reFuncName.test(source)),bindData||(bindData=reThis.test(source),setBindData(func,bindData))}if(bindData===!1||bindData!==!0&&1&bindData[1])return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 2:return function(a,b){return func.call(thisArg,a,b)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)}}return bind(func,thisArg)}function baseCreateWrapper(bindData){function bound(){var thisBinding=isBind?thisArg:this;if(partialArgs){var args=slice(partialArgs);push.apply(args,arguments)}if((partialRightArgs||isCurry)&&(args||(args=slice(arguments)),partialRightArgs&&push.apply(args,partialRightArgs),isCurry&&args.length<arity))return bitmask|=16,baseCreateWrapper([func,isCurryBound?bitmask:bitmask&-4,args,null,thisArg,arity]);if(args||(args=arguments),isBindKey&&(func=thisBinding[key]),this instanceof bound){thisBinding=baseCreate(func.prototype);var result=func.apply(thisBinding,args);return isObject(result)?result:thisBinding}return func.apply(thisBinding,args)}var func=bindData[0],bitmask=bindData[1],partialArgs=bindData[2],partialRightArgs=bindData[3],thisArg=bindData[4],arity=bindData[5],isBind=1&bitmask,isBindKey=2&bitmask,isCurry=4&bitmask,isCurryBound=8&bitmask,key=func;return setBindData(bound,bindData),bound}function baseDifference(array,values){var index=-1,indexOf=getIndexOf(),length=array?array.length:0,isLarge=length>=largeArraySize&&indexOf===baseIndexOf,result=[];if(isLarge){var cache=createCache(values);cache?(indexOf=cacheIndexOf,values=cache):isLarge=!1}for(;++index<length;){var value=array[index];indexOf(values,value)<0&&result.push(value)}return isLarge&&releaseObject(values),result}function baseFlatten(array,isShallow,isStrict,fromIndex){for(var index=(fromIndex||0)-1,length=array?array.length:0,result=[];++index<length;){var value=array[index];if(value&&"object"==typeof value&&"number"==typeof value.length&&(isArray(value)||isArguments(value))){isShallow||(value=baseFlatten(value,isShallow,isStrict));var valIndex=-1,valLength=value.length,resIndex=result.length;for(result.length+=valLength;++valIndex<valLength;)result[resIndex++]=value[valIndex]}else isStrict||result.push(value)}return result}function baseIsEqual(a,b,callback,isWhere,stackA,stackB){if(callback){var result=callback(a,b);if("undefined"!=typeof result)return!!result}if(a===b)return 0!==a||1/a==1/b;var type=typeof a,otherType=typeof b;if(!(a!==a||a&&objectTypes[type]||b&&objectTypes[otherType]))return!1;if(null==a||null==b)return a===b;var className=toString.call(a),otherClass=toString.call(b);if(className==argsClass&&(className=objectClass),otherClass==argsClass&&(otherClass=objectClass),className!=otherClass)return!1;switch(className){case boolClass:case dateClass:return+a==+b;case numberClass:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case regexpClass:case stringClass:return a==String(b)}var isArr=className==arrayClass;if(!isArr){var aWrapped=hasOwnProperty.call(a,"__wrapped__"),bWrapped=hasOwnProperty.call(b,"__wrapped__");if(aWrapped||bWrapped)return baseIsEqual(aWrapped?a.__wrapped__:a,bWrapped?b.__wrapped__:b,callback,isWhere,stackA,stackB);if(className!=objectClass||!support.nodeClass&&(isNode(a)||isNode(b)))return!1;var ctorA=!support.argsObject&&isArguments(a)?Object:a.constructor,ctorB=!support.argsObject&&isArguments(b)?Object:b.constructor;if(ctorA!=ctorB&&!(isFunction(ctorA)&&ctorA instanceof ctorA&&isFunction(ctorB)&&ctorB instanceof ctorB)&&"constructor"in a&&"constructor"in b)return!1}var initedStack=!stackA;stackA||(stackA=getArray()),stackB||(stackB=getArray());for(var length=stackA.length;length--;)if(stackA[length]==a)return stackB[length]==b;var size=0;if(result=!0,stackA.push(a),stackB.push(b),isArr){if(length=a.length,size=b.length,result=size==length,result||isWhere)for(;size--;){var index=length,value=b[size];if(isWhere)for(;index--&&!(result=baseIsEqual(a[index],value,callback,isWhere,stackA,stackB)););else if(!(result=baseIsEqual(a[size],value,callback,isWhere,stackA,stackB)))break}}else forIn(b,function(value,key,b){if(hasOwnProperty.call(b,key))return size++,result=hasOwnProperty.call(a,key)&&baseIsEqual(a[key],value,callback,isWhere,stackA,stackB)}),result&&!isWhere&&forIn(a,function(value,key,a){if(hasOwnProperty.call(a,key))return result=--size>-1});return stackA.pop(),stackB.pop(),initedStack&&(releaseArray(stackA),releaseArray(stackB)),result}function baseMerge(object,source,callback,stackA,stackB){(isArray(source)?forEach:forOwn)(source,function(source,key){var found,isArr,result=source,value=object[key];if(source&&((isArr=isArray(source))||isPlainObject(source))){for(var stackLength=stackA.length;stackLength--;)if(found=stackA[stackLength]==source){value=stackB[stackLength];break}if(!found){var isShallow;callback&&(result=callback(value,source),(isShallow="undefined"!=typeof result)&&(value=result)),isShallow||(value=isArr?isArray(value)?value:[]:isPlainObject(value)?value:{}),stackA.push(source),stackB.push(value),isShallow||baseMerge(value,source,callback,stackA,stackB)}}else callback&&(result=callback(value,source),"undefined"==typeof result&&(result=source)),"undefined"!=typeof result&&(value=result);object[key]=value})}function baseRandom(min,max){return min+floor(nativeRandom()*(max-min+1))}function baseUniq(array,isSorted,callback){var index=-1,indexOf=getIndexOf(),length=array?array.length:0,result=[],isLarge=!isSorted&&length>=largeArraySize&&indexOf===baseIndexOf,seen=callback||isLarge?getArray():result;if(isLarge){var cache=createCache(seen);indexOf=cacheIndexOf,seen=cache}for(;++index<length;){var value=array[index],computed=callback?callback(value,index,array):value;(isSorted?!index||seen[seen.length-1]!==computed:indexOf(seen,computed)<0)&&((callback||isLarge)&&seen.push(computed),result.push(value))}return isLarge?(releaseArray(seen.array),releaseObject(seen)):callback&&releaseArray(seen),result}function createAggregator(setter){return function(collection,callback,thisArg){var result={};if(callback=lodash.createCallback(callback,thisArg,3),isArray(collection))for(var index=-1,length=collection.length;++index<length;){var value=collection[index];setter(result,value,callback(value,index,collection),collection)}else baseEach(collection,function(value,key,collection){setter(result,value,callback(value,key,collection),collection)});return result}}function createWrapper(func,bitmask,partialArgs,partialRightArgs,thisArg,arity){var isBind=1&bitmask,isBindKey=2&bitmask,isCurry=4&bitmask,isPartial=16&bitmask,isPartialRight=32&bitmask;if(!isBindKey&&!isFunction(func))throw new TypeError;isPartial&&!partialArgs.length&&(bitmask&=-17,isPartial=partialArgs=!1),isPartialRight&&!partialRightArgs.length&&(bitmask&=-33,isPartialRight=partialRightArgs=!1);var bindData=func&&func.__bindData__;if(bindData&&bindData!==!0)return bindData=slice(bindData),bindData[2]&&(bindData[2]=slice(bindData[2])),bindData[3]&&(bindData[3]=slice(bindData[3])),!isBind||1&bindData[1]||(bindData[4]=thisArg),!isBind&&1&bindData[1]&&(bitmask|=8),!isCurry||4&bindData[1]||(bindData[5]=arity),isPartial&&push.apply(bindData[2]||(bindData[2]=[]),partialArgs),isPartialRight&&unshift.apply(bindData[3]||(bindData[3]=[]),partialRightArgs),bindData[1]|=bitmask,createWrapper.apply(null,bindData);var creater=1==bitmask||17===bitmask?baseBind:baseCreateWrapper;return creater([func,bitmask,partialArgs,partialRightArgs,thisArg,arity])}function createIterator(){iteratorData.shadowedProps=shadowedProps,iteratorData.array=iteratorData.bottom=iteratorData.loop=iteratorData.top="",iteratorData.init="iterable",iteratorData.useHas=!0;for(var object,index=0;object=arguments[index];index++)for(var key in object)iteratorData[key]=object[key];var args=iteratorData.args;iteratorData.firstArg=/^[^,]+/.exec(args)[0];var factory=Function("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+args+") {\n"+iteratorTemplate(iteratorData)+"\n}");return factory(baseCreateCallback,errorClass,errorProto,hasOwnProperty,indicatorObject,isArguments,isArray,isString,iteratorData.keys,objectProto,objectTypes,nonEnumProps,stringClass,stringProto,toString)}function escapeHtmlChar(match){return htmlEscapes[match]}function getIndexOf(){var result=(result=lodash.indexOf)===indexOf?baseIndexOf:result;return result}function isNative(value){return"function"==typeof value&&reNative.test(value)}function shimIsPlainObject(value){var ctor,result;return!(!(value&&toString.call(value)==objectClass&&(ctor=value.constructor,!isFunction(ctor)||ctor instanceof ctor))||!support.argsClass&&isArguments(value)||!support.nodeClass&&isNode(value))&&(support.ownLast?(forIn(value,function(value,key,object){return result=hasOwnProperty.call(object,key),!1}),result!==!1):(forIn(value,function(value,key){result=key}),"undefined"==typeof result||hasOwnProperty.call(value,result)))}function unescapeHtmlChar(match){return htmlUnescapes[match]}function isArguments(value){return value&&"object"==typeof value&&"number"==typeof value.length&&toString.call(value)==argsClass||!1}function clone(value,isDeep,callback,thisArg){return"boolean"!=typeof isDeep&&null!=isDeep&&(thisArg=callback,callback=isDeep,isDeep=!1),baseClone(value,isDeep,"function"==typeof callback&&baseCreateCallback(callback,thisArg,1))}function cloneDeep(value,callback,thisArg){return baseClone(value,!0,"function"==typeof callback&&baseCreateCallback(callback,thisArg,1))}function create(prototype,properties){var result=baseCreate(prototype);return properties?assign(result,properties):result}function findKey(object,callback,thisArg){var result;return callback=lodash.createCallback(callback,thisArg,3),forOwn(object,function(value,key,object){if(callback(value,key,object))return result=key,!1}),result}function findLastKey(object,callback,thisArg){var result;return callback=lodash.createCallback(callback,thisArg,3),forOwnRight(object,function(value,key,object){if(callback(value,key,object))return result=key,!1}),result}function forInRight(object,callback,thisArg){var pairs=[];forIn(object,function(value,key){pairs.push(key,value)});var length=pairs.length;for(callback=baseCreateCallback(callback,thisArg,3);length--&&callback(pairs[length--],pairs[length],object)!==!1;);return object}function forOwnRight(object,callback,thisArg){var props=keys(object),length=props.length;for(callback=baseCreateCallback(callback,thisArg,3);length--;){var key=props[length];if(callback(object[key],key,object)===!1)break}return object}function functions(object){var result=[];return forIn(object,function(value,key){isFunction(value)&&result.push(key)}),result.sort()}function has(object,key){return!!object&&hasOwnProperty.call(object,key)}function invert(object){for(var index=-1,props=keys(object),length=props.length,result={};++index<length;){var key=props[index];result[object[key]]=key}return result}function isBoolean(value){return value===!0||value===!1||value&&"object"==typeof value&&toString.call(value)==boolClass||!1}function isDate(value){return value&&"object"==typeof value&&toString.call(value)==dateClass||!1}function isElement(value){return value&&1===value.nodeType||!1}function isEmpty(value){var result=!0;if(!value)return result;var className=toString.call(value),length=value.length;return className==arrayClass||className==stringClass||(support.argsClass?className==argsClass:isArguments(value))||className==objectClass&&"number"==typeof length&&isFunction(value.splice)?!length:(forOwn(value,function(){return result=!1}),result)}function isEqual(a,b,callback,thisArg){return baseIsEqual(a,b,"function"==typeof callback&&baseCreateCallback(callback,thisArg,2))}function isFinite(value){return nativeIsFinite(value)&&!nativeIsNaN(parseFloat(value))}function isFunction(value){return"function"==typeof value}function isObject(value){return!(!value||!objectTypes[typeof value])}function isNaN(value){return isNumber(value)&&value!=+value}function isNull(value){return null===value}function isNumber(value){return"number"==typeof value||value&&"object"==typeof value&&toString.call(value)==numberClass||!1}function isRegExp(value){return value&&objectTypes[typeof value]&&toString.call(value)==regexpClass||!1;
}function isString(value){return"string"==typeof value||value&&"object"==typeof value&&toString.call(value)==stringClass||!1}function isUndefined(value){return"undefined"==typeof value}function mapValues(object,callback,thisArg){var result={};return callback=lodash.createCallback(callback,thisArg,3),forOwn(object,function(value,key,object){result[key]=callback(value,key,object)}),result}function merge(object){var args=arguments,length=2;if(!isObject(object))return object;if("number"!=typeof args[2]&&(length=args.length),length>3&&"function"==typeof args[length-2])var callback=baseCreateCallback(args[--length-1],args[length--],2);else length>2&&"function"==typeof args[length-1]&&(callback=args[--length]);for(var sources=slice(arguments,1,length),index=-1,stackA=getArray(),stackB=getArray();++index<length;)baseMerge(object,sources[index],callback,stackA,stackB);return releaseArray(stackA),releaseArray(stackB),object}function omit(object,callback,thisArg){var result={};if("function"!=typeof callback){var props=[];forIn(object,function(value,key){props.push(key)}),props=baseDifference(props,baseFlatten(arguments,!0,!1,1));for(var index=-1,length=props.length;++index<length;){var key=props[index];result[key]=object[key]}}else callback=lodash.createCallback(callback,thisArg,3),forIn(object,function(value,key,object){callback(value,key,object)||(result[key]=value)});return result}function pairs(object){for(var index=-1,props=keys(object),length=props.length,result=Array(length);++index<length;){var key=props[index];result[index]=[key,object[key]]}return result}function pick(object,callback,thisArg){var result={};if("function"!=typeof callback)for(var index=-1,props=baseFlatten(arguments,!0,!1,1),length=isObject(object)?props.length:0;++index<length;){var key=props[index];key in object&&(result[key]=object[key])}else callback=lodash.createCallback(callback,thisArg,3),forIn(object,function(value,key,object){callback(value,key,object)&&(result[key]=value)});return result}function transform(object,callback,accumulator,thisArg){var isArr=isArray(object);if(null==accumulator)if(isArr)accumulator=[];else{var ctor=object&&object.constructor,proto=ctor&&ctor.prototype;accumulator=baseCreate(proto)}return callback&&(callback=lodash.createCallback(callback,thisArg,4),(isArr?baseEach:forOwn)(object,function(value,index,object){return callback(accumulator,value,index,object)})),accumulator}function values(object){for(var index=-1,props=keys(object),length=props.length,result=Array(length);++index<length;)result[index]=object[props[index]];return result}function at(collection){var args=arguments,index=-1,props=baseFlatten(args,!0,!1,1),length=args[2]&&args[2][args[1]]===collection?1:props.length,result=Array(length);for(support.unindexedChars&&isString(collection)&&(collection=collection.split(""));++index<length;)result[index]=collection[props[index]];return result}function contains(collection,target,fromIndex){var index=-1,indexOf=getIndexOf(),length=collection?collection.length:0,result=!1;return fromIndex=(fromIndex<0?nativeMax(0,length+fromIndex):fromIndex)||0,isArray(collection)?result=indexOf(collection,target,fromIndex)>-1:"number"==typeof length?result=(isString(collection)?collection.indexOf(target,fromIndex):indexOf(collection,target,fromIndex))>-1:baseEach(collection,function(value){if(++index>=fromIndex)return!(result=value===target)}),result}function every(collection,callback,thisArg){var result=!0;if(callback=lodash.createCallback(callback,thisArg,3),isArray(collection))for(var index=-1,length=collection.length;++index<length&&(result=!!callback(collection[index],index,collection)););else baseEach(collection,function(value,index,collection){return result=!!callback(value,index,collection)});return result}function filter(collection,callback,thisArg){var result=[];if(callback=lodash.createCallback(callback,thisArg,3),isArray(collection))for(var index=-1,length=collection.length;++index<length;){var value=collection[index];callback(value,index,collection)&&result.push(value)}else baseEach(collection,function(value,index,collection){callback(value,index,collection)&&result.push(value)});return result}function find(collection,callback,thisArg){if(callback=lodash.createCallback(callback,thisArg,3),!isArray(collection)){var result;return baseEach(collection,function(value,index,collection){if(callback(value,index,collection))return result=value,!1}),result}for(var index=-1,length=collection.length;++index<length;){var value=collection[index];if(callback(value,index,collection))return value}}function findLast(collection,callback,thisArg){var result;return callback=lodash.createCallback(callback,thisArg,3),forEachRight(collection,function(value,index,collection){if(callback(value,index,collection))return result=value,!1}),result}function forEach(collection,callback,thisArg){if(callback&&"undefined"==typeof thisArg&&isArray(collection))for(var index=-1,length=collection.length;++index<length&&callback(collection[index],index,collection)!==!1;);else baseEach(collection,callback,thisArg);return collection}function forEachRight(collection,callback,thisArg){var iterable=collection,length=collection?collection.length:0;if(callback=callback&&"undefined"==typeof thisArg?callback:baseCreateCallback(callback,thisArg,3),isArray(collection))for(;length--&&callback(collection[length],length,collection)!==!1;);else{if("number"!=typeof length){var props=keys(collection);length=props.length}else support.unindexedChars&&isString(collection)&&(iterable=collection.split(""));baseEach(collection,function(value,key,collection){return key=props?props[--length]:--length,callback(iterable[key],key,collection)})}return collection}function invoke(collection,methodName){var args=slice(arguments,2),index=-1,isFunc="function"==typeof methodName,length=collection?collection.length:0,result=Array("number"==typeof length?length:0);return forEach(collection,function(value){result[++index]=(isFunc?methodName:value[methodName]).apply(value,args)}),result}function map(collection,callback,thisArg){var index=-1,length=collection?collection.length:0,result=Array("number"==typeof length?length:0);if(callback=lodash.createCallback(callback,thisArg,3),isArray(collection))for(;++index<length;)result[index]=callback(collection[index],index,collection);else baseEach(collection,function(value,key,collection){result[++index]=callback(value,key,collection)});return result}function max(collection,callback,thisArg){var computed=-(1/0),result=computed;if("function"!=typeof callback&&thisArg&&thisArg[callback]===collection&&(callback=null),null==callback&&isArray(collection))for(var index=-1,length=collection.length;++index<length;){var value=collection[index];value>result&&(result=value)}else callback=null==callback&&isString(collection)?charAtCallback:lodash.createCallback(callback,thisArg,3),baseEach(collection,function(value,index,collection){var current=callback(value,index,collection);current>computed&&(computed=current,result=value)});return result}function min(collection,callback,thisArg){var computed=1/0,result=computed;if("function"!=typeof callback&&thisArg&&thisArg[callback]===collection&&(callback=null),null==callback&&isArray(collection))for(var index=-1,length=collection.length;++index<length;){var value=collection[index];value<result&&(result=value)}else callback=null==callback&&isString(collection)?charAtCallback:lodash.createCallback(callback,thisArg,3),baseEach(collection,function(value,index,collection){var current=callback(value,index,collection);current<computed&&(computed=current,result=value)});return result}function reduce(collection,callback,accumulator,thisArg){var noaccum=arguments.length<3;if(callback=lodash.createCallback(callback,thisArg,4),isArray(collection)){var index=-1,length=collection.length;for(noaccum&&(accumulator=collection[++index]);++index<length;)accumulator=callback(accumulator,collection[index],index,collection)}else baseEach(collection,function(value,index,collection){accumulator=noaccum?(noaccum=!1,value):callback(accumulator,value,index,collection)});return accumulator}function reduceRight(collection,callback,accumulator,thisArg){var noaccum=arguments.length<3;return callback=lodash.createCallback(callback,thisArg,4),forEachRight(collection,function(value,index,collection){accumulator=noaccum?(noaccum=!1,value):callback(accumulator,value,index,collection)}),accumulator}function reject(collection,callback,thisArg){return callback=lodash.createCallback(callback,thisArg,3),filter(collection,function(value,index,collection){return!callback(value,index,collection)})}function sample(collection,n,guard){if(collection&&"number"!=typeof collection.length?collection=values(collection):support.unindexedChars&&isString(collection)&&(collection=collection.split("")),null==n||guard)return collection?collection[baseRandom(0,collection.length-1)]:undefined;var result=shuffle(collection);return result.length=nativeMin(nativeMax(0,n),result.length),result}function shuffle(collection){var index=-1,length=collection?collection.length:0,result=Array("number"==typeof length?length:0);return forEach(collection,function(value){var rand=baseRandom(0,++index);result[index]=result[rand],result[rand]=value}),result}function size(collection){var length=collection?collection.length:0;return"number"==typeof length?length:keys(collection).length}function some(collection,callback,thisArg){var result;if(callback=lodash.createCallback(callback,thisArg,3),isArray(collection))for(var index=-1,length=collection.length;++index<length&&!(result=callback(collection[index],index,collection)););else baseEach(collection,function(value,index,collection){return!(result=callback(value,index,collection))});return!!result}function sortBy(collection,callback,thisArg){var index=-1,isArr=isArray(callback),length=collection?collection.length:0,result=Array("number"==typeof length?length:0);for(isArr||(callback=lodash.createCallback(callback,thisArg,3)),forEach(collection,function(value,key,collection){var object=result[++index]=getObject();isArr?object.criteria=map(callback,function(key){return value[key]}):(object.criteria=getArray())[0]=callback(value,key,collection),object.index=index,object.value=value}),length=result.length,result.sort(compareAscending);length--;){var object=result[length];result[length]=object.value,isArr||releaseArray(object.criteria),releaseObject(object)}return result}function toArray(collection){return collection&&"number"==typeof collection.length?support.unindexedChars&&isString(collection)?collection.split(""):slice(collection):values(collection)}function compact(array){for(var index=-1,length=array?array.length:0,result=[];++index<length;){var value=array[index];value&&result.push(value)}return result}function difference(array){return baseDifference(array,baseFlatten(arguments,!0,!0,1))}function findIndex(array,callback,thisArg){var index=-1,length=array?array.length:0;for(callback=lodash.createCallback(callback,thisArg,3);++index<length;)if(callback(array[index],index,array))return index;return-1}function findLastIndex(array,callback,thisArg){var length=array?array.length:0;for(callback=lodash.createCallback(callback,thisArg,3);length--;)if(callback(array[length],length,array))return length;return-1}function first(array,callback,thisArg){var n=0,length=array?array.length:0;if("number"!=typeof callback&&null!=callback){var index=-1;for(callback=lodash.createCallback(callback,thisArg,3);++index<length&&callback(array[index],index,array);)n++}else if(n=callback,null==n||thisArg)return array?array[0]:undefined;return slice(array,0,nativeMin(nativeMax(0,n),length))}function flatten(array,isShallow,callback,thisArg){return"boolean"!=typeof isShallow&&null!=isShallow&&(thisArg=callback,callback="function"!=typeof isShallow&&thisArg&&thisArg[isShallow]===array?null:isShallow,isShallow=!1),null!=callback&&(array=map(array,callback,thisArg)),baseFlatten(array,isShallow)}function indexOf(array,value,fromIndex){if("number"==typeof fromIndex){var length=array?array.length:0;fromIndex=fromIndex<0?nativeMax(0,length+fromIndex):fromIndex||0}else if(fromIndex){var index=sortedIndex(array,value);return array[index]===value?index:-1}return baseIndexOf(array,value,fromIndex)}function initial(array,callback,thisArg){var n=0,length=array?array.length:0;if("number"!=typeof callback&&null!=callback){var index=length;for(callback=lodash.createCallback(callback,thisArg,3);index--&&callback(array[index],index,array);)n++}else n=null==callback||thisArg?1:callback||n;return slice(array,0,nativeMin(nativeMax(0,length-n),length))}function intersection(){for(var args=[],argsIndex=-1,argsLength=arguments.length,caches=getArray(),indexOf=getIndexOf(),trustIndexOf=indexOf===baseIndexOf,seen=getArray();++argsIndex<argsLength;){var value=arguments[argsIndex];(isArray(value)||isArguments(value))&&(args.push(value),caches.push(trustIndexOf&&value.length>=largeArraySize&&createCache(argsIndex?args[argsIndex]:seen)))}var array=args[0],index=-1,length=array?array.length:0,result=[];outer:for(;++index<length;){var cache=caches[0];if(value=array[index],(cache?cacheIndexOf(cache,value):indexOf(seen,value))<0){for(argsIndex=argsLength,(cache||seen).push(value);--argsIndex;)if(cache=caches[argsIndex],(cache?cacheIndexOf(cache,value):indexOf(args[argsIndex],value))<0)continue outer;result.push(value)}}for(;argsLength--;)cache=caches[argsLength],cache&&releaseObject(cache);return releaseArray(caches),releaseArray(seen),result}function last(array,callback,thisArg){var n=0,length=array?array.length:0;if("number"!=typeof callback&&null!=callback){var index=length;for(callback=lodash.createCallback(callback,thisArg,3);index--&&callback(array[index],index,array);)n++}else if(n=callback,null==n||thisArg)return array?array[length-1]:undefined;return slice(array,nativeMax(0,length-n))}function lastIndexOf(array,value,fromIndex){var index=array?array.length:0;for("number"==typeof fromIndex&&(index=(fromIndex<0?nativeMax(0,index+fromIndex):nativeMin(fromIndex,index-1))+1);index--;)if(array[index]===value)return index;return-1}function pull(array){for(var args=arguments,argsIndex=0,argsLength=args.length,length=array?array.length:0;++argsIndex<argsLength;)for(var index=-1,value=args[argsIndex];++index<length;)array[index]===value&&(splice.call(array,index--,1),length--);return array}function range(start,end,step){start=+start||0,step="number"==typeof step?step:+step||1,null==end&&(end=start,start=0);for(var index=-1,length=nativeMax(0,ceil((end-start)/(step||1))),result=Array(length);++index<length;)result[index]=start,start+=step;return result}function remove(array,callback,thisArg){var index=-1,length=array?array.length:0,result=[];for(callback=lodash.createCallback(callback,thisArg,3);++index<length;){var value=array[index];callback(value,index,array)&&(result.push(value),splice.call(array,index--,1),length--)}return result}function rest(array,callback,thisArg){if("number"!=typeof callback&&null!=callback){var n=0,index=-1,length=array?array.length:0;for(callback=lodash.createCallback(callback,thisArg,3);++index<length&&callback(array[index],index,array);)n++}else n=null==callback||thisArg?1:nativeMax(0,callback);return slice(array,n)}function sortedIndex(array,value,callback,thisArg){var low=0,high=array?array.length:low;for(callback=callback?lodash.createCallback(callback,thisArg,1):identity,value=callback(value);low<high;){var mid=low+high>>>1;callback(array[mid])<value?low=mid+1:high=mid}return low}function union(){return baseUniq(baseFlatten(arguments,!0,!0))}function uniq(array,isSorted,callback,thisArg){return"boolean"!=typeof isSorted&&null!=isSorted&&(thisArg=callback,callback="function"!=typeof isSorted&&thisArg&&thisArg[isSorted]===array?null:isSorted,isSorted=!1),null!=callback&&(callback=lodash.createCallback(callback,thisArg,3)),baseUniq(array,isSorted,callback)}function without(array){return baseDifference(array,slice(arguments,1))}function xor(){for(var index=-1,length=arguments.length;++index<length;){var array=arguments[index];if(isArray(array)||isArguments(array))var result=result?baseUniq(baseDifference(result,array).concat(baseDifference(array,result))):array}return result||[]}function zip(){for(var array=arguments.length>1?arguments:arguments[0],index=-1,length=array?max(pluck(array,"length")):0,result=Array(length<0?0:length);++index<length;)result[index]=pluck(array,index);return result}function zipObject(keys,values){var index=-1,length=keys?keys.length:0,result={};for(values||!length||isArray(keys[0])||(values=[]);++index<length;){var key=keys[index];values?result[key]=values[index]:key&&(result[key[0]]=key[1])}return result}function after(n,func){if(!isFunction(func))throw new TypeError;return function(){if(--n<1)return func.apply(this,arguments)}}function bind(func,thisArg){return arguments.length>2?createWrapper(func,17,slice(arguments,2),null,thisArg):createWrapper(func,1,null,null,thisArg)}function bindAll(object){for(var funcs=arguments.length>1?baseFlatten(arguments,!0,!1,1):functions(object),index=-1,length=funcs.length;++index<length;){var key=funcs[index];object[key]=createWrapper(object[key],1,null,null,object)}return object}function bindKey(object,key){return arguments.length>2?createWrapper(key,19,slice(arguments,2),null,object):createWrapper(key,3,null,null,object)}function compose(){for(var funcs=arguments,length=funcs.length;length--;)if(!isFunction(funcs[length]))throw new TypeError;return function(){for(var args=arguments,length=funcs.length;length--;)args=[funcs[length].apply(this,args)];return args[0]}}function curry(func,arity){return arity="number"==typeof arity?arity:+arity||func.length,createWrapper(func,4,null,null,null,arity)}function debounce(func,wait,options){var args,maxTimeoutId,result,stamp,thisArg,timeoutId,trailingCall,lastCalled=0,maxWait=!1,trailing=!0;if(!isFunction(func))throw new TypeError;if(wait=nativeMax(0,wait)||0,options===!0){var leading=!0;trailing=!1}else isObject(options)&&(leading=options.leading,maxWait="maxWait"in options&&(nativeMax(wait,options.maxWait)||0),trailing="trailing"in options?options.trailing:trailing);var delayed=function(){var remaining=wait-(now()-stamp);if(remaining<=0){maxTimeoutId&&clearTimeout(maxTimeoutId);var isCalled=trailingCall;maxTimeoutId=timeoutId=trailingCall=undefined,isCalled&&(lastCalled=now(),result=func.apply(thisArg,args),timeoutId||maxTimeoutId||(args=thisArg=null))}else timeoutId=setTimeout(delayed,remaining)},maxDelayed=function(){timeoutId&&clearTimeout(timeoutId),maxTimeoutId=timeoutId=trailingCall=undefined,(trailing||maxWait!==wait)&&(lastCalled=now(),result=func.apply(thisArg,args),timeoutId||maxTimeoutId||(args=thisArg=null))};return function(){if(args=arguments,stamp=now(),thisArg=this,trailingCall=trailing&&(timeoutId||!leading),maxWait===!1)var leadingCall=leading&&!timeoutId;else{maxTimeoutId||leading||(lastCalled=stamp);var remaining=maxWait-(stamp-lastCalled),isCalled=remaining<=0;isCalled?(maxTimeoutId&&(maxTimeoutId=clearTimeout(maxTimeoutId)),lastCalled=stamp,result=func.apply(thisArg,args)):maxTimeoutId||(maxTimeoutId=setTimeout(maxDelayed,remaining))}return isCalled&&timeoutId?timeoutId=clearTimeout(timeoutId):timeoutId||wait===maxWait||(timeoutId=setTimeout(delayed,wait)),leadingCall&&(isCalled=!0,result=func.apply(thisArg,args)),!isCalled||timeoutId||maxTimeoutId||(args=thisArg=null),result}}function defer(func){if(!isFunction(func))throw new TypeError;var args=slice(arguments,1);return setTimeout(function(){func.apply(undefined,args)},1)}function delay(func,wait){if(!isFunction(func))throw new TypeError;var args=slice(arguments,2);return setTimeout(function(){func.apply(undefined,args)},wait)}function memoize(func,resolver){if(!isFunction(func))throw new TypeError;var memoized=function(){var cache=memoized.cache,key=resolver?resolver.apply(this,arguments):keyPrefix+arguments[0];return hasOwnProperty.call(cache,key)?cache[key]:cache[key]=func.apply(this,arguments)};return memoized.cache={},memoized}function once(func){var ran,result;if(!isFunction(func))throw new TypeError;return function(){return ran?result:(ran=!0,result=func.apply(this,arguments),func=null,result)}}function partial(func){return createWrapper(func,16,slice(arguments,1))}function partialRight(func){return createWrapper(func,32,null,slice(arguments,1))}function throttle(func,wait,options){var leading=!0,trailing=!0;if(!isFunction(func))throw new TypeError;return options===!1?leading=!1:isObject(options)&&(leading="leading"in options?options.leading:leading,trailing="trailing"in options?options.trailing:trailing),debounceOptions.leading=leading,debounceOptions.maxWait=wait,debounceOptions.trailing=trailing,debounce(func,wait,debounceOptions)}function wrap(value,wrapper){return createWrapper(wrapper,16,[value])}function constant(value){return function(){return value}}function createCallback(func,thisArg,argCount){var type=typeof func;if(null==func||"function"==type)return baseCreateCallback(func,thisArg,argCount);if("object"!=type)return property(func);var props=keys(func),key=props[0],a=func[key];return 1!=props.length||a!==a||isObject(a)?function(object){for(var length=props.length,result=!1;length--&&(result=baseIsEqual(object[props[length]],func[props[length]],null,!0)););return result}:function(object){var b=object[key];return a===b&&(0!==a||1/a==1/b)}}function escape(string){return null==string?"":String(string).replace(reUnescapedHtml,escapeHtmlChar)}function identity(value){return value}function mixin(object,source,options){var chain=!0,methodNames=source&&functions(source);source&&(options||methodNames.length)||(null==options&&(options=source),ctor=lodashWrapper,source=object,object=lodash,methodNames=functions(source)),options===!1?chain=!1:isObject(options)&&"chain"in options&&(chain=options.chain);var ctor=object,isFunc=isFunction(ctor);forEach(methodNames,function(methodName){var func=object[methodName]=source[methodName];isFunc&&(ctor.prototype[methodName]=function(){var chainAll=this.__chain__,value=this.__wrapped__,args=[value];push.apply(args,arguments);var result=func.apply(object,args);if(chain||chainAll){if(value===result&&isObject(result))return this;result=new ctor(result),result.__chain__=chainAll}return result})})}function noConflict(){return context._=oldDash,this}function noop(){}function property(key){return function(object){return object[key]}}function random(min,max,floating){var noMin=null==min,noMax=null==max;if(null==floating&&("boolean"==typeof min&&noMax?(floating=min,min=1):noMax||"boolean"!=typeof max||(floating=max,noMax=!0)),noMin&&noMax&&(max=1),min=+min||0,noMax?(max=min,min=0):max=+max||0,floating||min%1||max%1){var rand=nativeRandom();return nativeMin(min+rand*(max-min+parseFloat("1e-"+((rand+"").length-1))),max)}return baseRandom(min,max)}function result(object,key){if(object){var value=object[key];return isFunction(value)?object[key]():value}}function template(text,data,options){var settings=lodash.templateSettings;text=String(text||""),options=defaults({},options,settings);var isEvaluating,imports=defaults({},options.imports,settings.imports),importsKeys=keys(imports),importsValues=values(imports),index=0,interpolate=options.interpolate||reNoMatch,source="__p += '",reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g");text.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){return interpolateValue||(interpolateValue=esTemplateValue),source+=text.slice(index,offset).replace(reUnescapedString,escapeStringChar),escapeValue&&(source+="' +\n__e("+escapeValue+") +\n'"),evaluateValue&&(isEvaluating=!0,source+="';\n"+evaluateValue+";\n__p += '"),interpolateValue&&(source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"),index=offset+match.length,match}),source+="';\n";var variable=options.variable,hasVariable=variable;hasVariable||(variable="obj",source="with ("+variable+") {\n"+source+"\n}\n"),source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),source="function("+variable+") {\n"+(hasVariable?"":variable+" || ("+variable+" = {});\n")+"var __t, __p = '', __e = _.escape"+(isEvaluating?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var sourceURL="\n/*\n//# sourceURL="+(options.sourceURL||"/lodash/template/source["+templateCounter++ +"]")+"\n*/";try{var result=Function(importsKeys,"return "+source+sourceURL).apply(undefined,importsValues)}catch(e){throw e.source=source,e}return data?result(data):(result.source=source,result)}function times(n,callback,thisArg){n=(n=+n)>-1?n:0;var index=-1,result=Array(n);for(callback=baseCreateCallback(callback,thisArg,1);++index<n;)result[index]=callback(index);return result}function unescape(string){return null==string?"":String(string).replace(reEscapedHtml,unescapeHtmlChar)}function uniqueId(prefix){var id=++idCounter;return String(null==prefix?"":prefix)+id}function chain(value){return value=new lodashWrapper(value),value.__chain__=!0,value}function tap(value,interceptor){return interceptor(value),value}function wrapperChain(){return this.__chain__=!0,this}function wrapperToString(){return String(this.__wrapped__)}function wrapperValueOf(){return this.__wrapped__}context=context?_.defaults(root.Object(),context,_.pick(root,contextProps)):root;var Array=context.Array,Boolean=context.Boolean,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Number=context.Number,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError,arrayRef=[],errorProto=Error.prototype,objectProto=Object.prototype,stringProto=String.prototype,oldDash=context._,toString=objectProto.toString,reNative=RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),ceil=Math.ceil,clearTimeout=context.clearTimeout,floor=Math.floor,fnToString=Function.prototype.toString,getPrototypeOf=isNative(getPrototypeOf=Object.getPrototypeOf)&&getPrototypeOf,hasOwnProperty=objectProto.hasOwnProperty,push=arrayRef.push,propertyIsEnumerable=objectProto.propertyIsEnumerable,setTimeout=context.setTimeout,splice=arrayRef.splice,unshift=arrayRef.unshift,defineProperty=function(){try{var o={},func=isNative(func=Object.defineProperty)&&func,result=func(o,o,o)&&func}catch(e){}return result}(),nativeCreate=isNative(nativeCreate=Object.create)&&nativeCreate,nativeIsArray=isNative(nativeIsArray=Array.isArray)&&nativeIsArray,nativeIsFinite=context.isFinite,nativeIsNaN=context.isNaN,nativeKeys=isNative(nativeKeys=Object.keys)&&nativeKeys,nativeMax=Math.max,nativeMin=Math.min,nativeParseInt=context.parseInt,nativeRandom=Math.random,ctorByClass={};ctorByClass[arrayClass]=Array,ctorByClass[boolClass]=Boolean,ctorByClass[dateClass]=Date,ctorByClass[funcClass]=Function,ctorByClass[objectClass]=Object,ctorByClass[numberClass]=Number,ctorByClass[regexpClass]=RegExp,ctorByClass[stringClass]=String;var nonEnumProps={};nonEnumProps[arrayClass]=nonEnumProps[dateClass]=nonEnumProps[numberClass]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},nonEnumProps[boolClass]=nonEnumProps[stringClass]={constructor:!0,toString:!0,valueOf:!0},nonEnumProps[errorClass]=nonEnumProps[funcClass]=nonEnumProps[regexpClass]={constructor:!0,toString:!0},nonEnumProps[objectClass]={constructor:!0},function(){for(var length=shadowedProps.length;length--;){var key=shadowedProps[length];for(var className in nonEnumProps)hasOwnProperty.call(nonEnumProps,className)&&!hasOwnProperty.call(nonEnumProps[className],key)&&(nonEnumProps[className][key]=!1)}}(),lodashWrapper.prototype=lodash.prototype;var support=lodash.support={};!function(){var ctor=function(){this.x=1},object={0:1,length:1},props=[];ctor.prototype={valueOf:1,y:1};for(var key in new ctor)props.push(key);for(key in arguments);support.argsClass=toString.call(arguments)==argsClass,support.argsObject=arguments.constructor==Object&&!(arguments instanceof Array),support.enumErrorProps=propertyIsEnumerable.call(errorProto,"message")||propertyIsEnumerable.call(errorProto,"name"),support.enumPrototypes=propertyIsEnumerable.call(ctor,"prototype"),support.funcDecomp=!isNative(context.WinRTError)&&reThis.test(runInContext),support.funcNames="string"==typeof Function.name,support.nonEnumArgs=0!=key,support.nonEnumShadows=!/valueOf/.test(props),support.ownLast="x"!=props[0],support.spliceObjects=(arrayRef.splice.call(object,0,1),!object[0]),support.unindexedChars="x"[0]+Object("x")[0]!="xx";try{support.nodeClass=!(toString.call(document)==objectClass&&!({toString:0}+""))}catch(e){support.nodeClass=!0}}(1),lodash.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:reInterpolate,variable:"",imports:{_:lodash}};var iteratorTemplate=function(obj){var __p="var index, iterable = "+obj.firstArg+", result = "+obj.init+";\nif (!iterable) return result;\n"+obj.top+";";obj.array?(__p+="\nvar length = iterable.length; index = -1;\nif ("+obj.array+") {  ",support.unindexedChars&&(__p+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),__p+="\n  while (++index < length) {\n    "+obj.loop+";\n  }\n}\nelse {  "):support.nonEnumArgs&&(__p+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+obj.loop+";\n    }\n  } else {  "),support.enumPrototypes&&(__p+="\n  var skipProto = typeof iterable == 'function';\n  "),support.enumErrorProps&&(__p+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var conditions=[];if(support.enumPrototypes&&conditions.push('!(skipProto && index == "prototype")'),support.enumErrorProps&&conditions.push('!(skipErrorProps && (index == "message" || index == "name"))'),obj.useHas&&obj.keys)__p+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",conditions.length&&(__p+="    if ("+conditions.join(" && ")+") {\n  "),__p+=obj.loop+";    ",conditions.length&&(__p+="\n    }"),__p+="\n  }  ";else if(__p+="\n  for (index in iterable) {\n",obj.useHas&&conditions.push("hasOwnProperty.call(iterable, index)"),conditions.length&&(__p+="    if ("+conditions.join(" && ")+") {\n  "),__p+=obj.loop+";    ",conditions.length&&(__p+="\n    }"),__p+="\n  }    ",support.nonEnumShadows){for(__p+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;k<7;k++)__p+="\n    index = '"+obj.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",obj.useHas||(__p+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),__p+=") {\n      "+obj.loop+";\n    }      ";__p+="\n  }    "}return(obj.array||support.nonEnumArgs)&&(__p+="\n}"),__p+=obj.bottom+";\nreturn result"};nativeCreate||(baseCreate=function(){function Object(){}return function(prototype){if(isObject(prototype)){Object.prototype=prototype;var result=new Object;Object.prototype=null}return result||context.Object()}}());var setBindData=defineProperty?function(func,value){descriptor.value=value,defineProperty(func,"__bindData__",descriptor),descriptor.value=null}:noop;support.argsClass||(isArguments=function(value){return value&&"object"==typeof value&&"number"==typeof value.length&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")||!1});var isArray=nativeIsArray||function(value){
return value&&"object"==typeof value&&"number"==typeof value.length&&toString.call(value)==arrayClass||!1},shimKeys=createIterator({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),keys=nativeKeys?function(object){return isObject(object)?support.enumPrototypes&&"function"==typeof object||support.nonEnumArgs&&object.length&&isArguments(object)?shimKeys(object):nativeKeys(object):[]}:shimKeys,eachIteratorOptions={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:keys,loop:"if (callback(iterable[index], index, collection) === false) return result"},defaultsIteratorOptions={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:keys,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},forOwnIteratorOptions={top:"if (!objectTypes[typeof iterable]) return result;\n"+eachIteratorOptions.top,array:!1},htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},htmlUnescapes=invert(htmlEscapes),reEscapedHtml=RegExp("("+keys(htmlUnescapes).join("|")+")","g"),reUnescapedHtml=RegExp("["+keys(htmlEscapes).join("")+"]","g"),baseEach=createIterator(eachIteratorOptions),assign=createIterator(defaultsIteratorOptions,{top:defaultsIteratorOptions.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),defaults=createIterator(defaultsIteratorOptions),forIn=createIterator(eachIteratorOptions,forOwnIteratorOptions,{useHas:!1}),forOwn=createIterator(eachIteratorOptions,forOwnIteratorOptions);isFunction(/x/)&&(isFunction=function(value){return"function"==typeof value&&toString.call(value)==funcClass});var isPlainObject=getPrototypeOf?function(value){if(!value||toString.call(value)!=objectClass||!support.argsClass&&isArguments(value))return!1;var valueOf=value.valueOf,objProto=isNative(valueOf)&&(objProto=getPrototypeOf(valueOf))&&getPrototypeOf(objProto);return objProto?value==objProto||getPrototypeOf(value)==objProto:shimIsPlainObject(value)}:shimIsPlainObject,countBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?result[key]++:result[key]=1}),groupBy=createAggregator(function(result,value,key){(hasOwnProperty.call(result,key)?result[key]:result[key]=[]).push(value)}),indexBy=createAggregator(function(result,value,key){result[key]=value}),pluck=map,where=filter,now=isNative(now=Date.now)&&now||function(){return(new Date).getTime()},parseInt=8==nativeParseInt(whitespace+"08")?nativeParseInt:function(value,radix){return nativeParseInt(isString(value)?value.replace(reLeadingSpacesAndZeros,""):value,radix||0)};return lodash.after=after,lodash.assign=assign,lodash.at=at,lodash.bind=bind,lodash.bindAll=bindAll,lodash.bindKey=bindKey,lodash.chain=chain,lodash.compact=compact,lodash.compose=compose,lodash.constant=constant,lodash.countBy=countBy,lodash.create=create,lodash.createCallback=createCallback,lodash.curry=curry,lodash.debounce=debounce,lodash.defaults=defaults,lodash.defer=defer,lodash.delay=delay,lodash.difference=difference,lodash.filter=filter,lodash.flatten=flatten,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=forIn,lodash.forInRight=forInRight,lodash.forOwn=forOwn,lodash.forOwnRight=forOwnRight,lodash.functions=functions,lodash.groupBy=groupBy,lodash.indexBy=indexBy,lodash.initial=initial,lodash.intersection=intersection,lodash.invert=invert,lodash.invoke=invoke,lodash.keys=keys,lodash.map=map,lodash.mapValues=mapValues,lodash.max=max,lodash.memoize=memoize,lodash.merge=merge,lodash.min=min,lodash.omit=omit,lodash.once=once,lodash.pairs=pairs,lodash.partial=partial,lodash.partialRight=partialRight,lodash.pick=pick,lodash.pluck=pluck,lodash.property=property,lodash.pull=pull,lodash.range=range,lodash.reject=reject,lodash.remove=remove,lodash.rest=rest,lodash.shuffle=shuffle,lodash.sortBy=sortBy,lodash.tap=tap,lodash.throttle=throttle,lodash.times=times,lodash.toArray=toArray,lodash.transform=transform,lodash.union=union,lodash.uniq=uniq,lodash.values=values,lodash.where=where,lodash.without=without,lodash.wrap=wrap,lodash.xor=xor,lodash.zip=zip,lodash.zipObject=zipObject,lodash.collect=map,lodash.drop=rest,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.extend=assign,lodash.methods=functions,lodash.object=zipObject,lodash.select=filter,lodash.tail=rest,lodash.unique=uniq,lodash.unzip=zip,mixin(lodash),lodash.clone=clone,lodash.cloneDeep=cloneDeep,lodash.contains=contains,lodash.escape=escape,lodash.every=every,lodash.find=find,lodash.findIndex=findIndex,lodash.findKey=findKey,lodash.findLast=findLast,lodash.findLastIndex=findLastIndex,lodash.findLastKey=findLastKey,lodash.has=has,lodash.identity=identity,lodash.indexOf=indexOf,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isBoolean=isBoolean,lodash.isDate=isDate,lodash.isElement=isElement,lodash.isEmpty=isEmpty,lodash.isEqual=isEqual,lodash.isFinite=isFinite,lodash.isFunction=isFunction,lodash.isNaN=isNaN,lodash.isNull=isNull,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isString=isString,lodash.isUndefined=isUndefined,lodash.lastIndexOf=lastIndexOf,lodash.mixin=mixin,lodash.noConflict=noConflict,lodash.noop=noop,lodash.now=now,lodash.parseInt=parseInt,lodash.random=random,lodash.reduce=reduce,lodash.reduceRight=reduceRight,lodash.result=result,lodash.runInContext=runInContext,lodash.size=size,lodash.some=some,lodash.sortedIndex=sortedIndex,lodash.template=template,lodash.unescape=unescape,lodash.uniqueId=uniqueId,lodash.all=every,lodash.any=some,lodash.detect=find,lodash.findWhere=find,lodash.foldl=reduce,lodash.foldr=reduceRight,lodash.include=contains,lodash.inject=reduce,mixin(function(){var source={};return forOwn(lodash,function(func,methodName){lodash.prototype[methodName]||(source[methodName]=func)}),source}(),!1),lodash.first=first,lodash.last=last,lodash.sample=sample,lodash.take=first,lodash.head=first,forOwn(lodash,function(func,methodName){var callbackable="sample"!==methodName;lodash.prototype[methodName]||(lodash.prototype[methodName]=function(n,guard){var chainAll=this.__chain__,result=func(this.__wrapped__,n,guard);return chainAll||null!=n&&(!guard||callbackable&&"function"==typeof n)?new lodashWrapper(result,chainAll):result})}),lodash.VERSION="2.4.2",lodash.prototype.chain=wrapperChain,lodash.prototype.toString=wrapperToString,lodash.prototype.value=wrapperValueOf,lodash.prototype.valueOf=wrapperValueOf,baseEach(["join","pop","shift"],function(methodName){var func=arrayRef[methodName];lodash.prototype[methodName]=function(){var chainAll=this.__chain__,result=func.apply(this.__wrapped__,arguments);return chainAll?new lodashWrapper(result,chainAll):result}}),baseEach(["push","reverse","sort","unshift"],function(methodName){var func=arrayRef[methodName];lodash.prototype[methodName]=function(){return func.apply(this.__wrapped__,arguments),this}}),baseEach(["concat","slice","splice"],function(methodName){var func=arrayRef[methodName];lodash.prototype[methodName]=function(){return new lodashWrapper(func.apply(this.__wrapped__,arguments),this.__chain__)}}),support.spliceObjects||baseEach(["pop","shift","splice"],function(methodName){var func=arrayRef[methodName],isSplice="splice"==methodName;lodash.prototype[methodName]=function(){var chainAll=this.__chain__,value=this.__wrapped__,result=func.apply(value,arguments);return 0===value.length&&delete value[0],chainAll||isSplice?new lodashWrapper(result,chainAll):result}}),lodash}var undefined,arrayPool=[],objectPool=[],idCounter=0,indicatorObject={},keyPrefix=+new Date+"",largeArraySize=75,maxPoolSize=40,whitespace=" \t\x0B\f\ufeff\n\r\u2028\u2029",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reFlags=/\w*$/,reFuncName=/^\s*function[ \n\r\t]+\w/,reInterpolate=/<%=([\s\S]+?)%>/g,reLeadingSpacesAndZeros=RegExp("^["+whitespace+"]*0+(?=.$)"),reNoMatch=/($^)/,reThis=/\bthis\b/,reUnescapedString=/['\n\r\t\u2028\u2029\\]/g,contextProps=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],shadowedProps=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],templateCounter=0,argsClass="[object Arguments]",arrayClass="[object Array]",boolClass="[object Boolean]",dateClass="[object Date]",errorClass="[object Error]",funcClass="[object Function]",numberClass="[object Number]",objectClass="[object Object]",regexpClass="[object RegExp]",stringClass="[object String]",cloneableClasses={};cloneableClasses[funcClass]=!1,cloneableClasses[argsClass]=cloneableClasses[arrayClass]=cloneableClasses[boolClass]=cloneableClasses[dateClass]=cloneableClasses[numberClass]=cloneableClasses[objectClass]=cloneableClasses[regexpClass]=cloneableClasses[stringClass]=!0;var debounceOptions={leading:!1,maxWait:0,trailing:!1},descriptor={configurable:!1,enumerable:!1,value:null,writable:!1},iteratorData={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},objectTypes={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},root=objectTypes[typeof window]&&window||this,freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,freeGlobal=(freeModule&&freeModule.exports===freeExports&&freeExports,objectTypes[typeof global]&&global);!freeGlobal||freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal||(root=freeGlobal);var _=runInContext();root._=_,__WEBPACK_AMD_DEFINE_RESULT__=function(){return _}.call(exports,__webpack_require__,exports,module),!(__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}).call(this)}).call(exports,__webpack_require__(13)(module),function(){return this}())},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children=[],module.webpackPolyfill=1),module}},function(module,exports){(function(global){function getValue(object,key){return null==object?void 0:object[key]}function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}function Hash(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(key){return this.has(key)&&delete this.__data__[key]}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;return data[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this}function ListCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0)return!1;var lastIndex=data.length-1;return index==lastIndex?data.pop():splice.call(data,index,1),!0}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?data.push([key,value]):data[index][1]=value,this}function MapCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){return getMapData(this,key)["delete"](key)}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){return getMapData(this,key).set(key,value),this}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseGet(object,path){path=isKey(path,object)?[path]:castPath(path);for(var index=0,length=path.length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}function baseIsNative(value){if(!isObject(value)||isMasked(value))return!1;var pattern=isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function baseToString(value){if("string"==typeof value)return value;if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function castPath(value){return isArray(value)?value:stringToPath(value)}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function memoize(func,resolver){if("function"!=typeof func||resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result),result};return memoized.cache=new(memoize.Cache||MapCache),memoized}function eq(value,other){return value===other||value!==value&&other!==other}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&objectToString.call(value)==symbolTag}function toString(value){return null==value?"":baseToString(value)}function get(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}var FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",INFINITY=1/0,funcTag="[object Function]",genTag="[object GeneratorFunction]",symbolTag="[object Symbol]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reEscapeChar=/\\(\\)?/g,reIsHostCtor=/^\[object .+?Constructor\]$/,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol=root.Symbol,splice=arrayProto.splice,Map=getNative(root,"Map"),nativeCreate=getNative(Object,"create"),symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;Hash.prototype.clear=hashClear,Hash.prototype["delete"]=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype["delete"]=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype["delete"]=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet;var stringToPath=memoize(function(string){string=toString(string);var result=[];return reLeadingDot.test(string)&&result.push(""),string.replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result});memoize.Cache=MapCache;var isArray=Array.isArray;module.exports=get}).call(exports,function(){return this}())},function(module,exports){(function(global){function asciiToArray(string){return string.split("")}function baseFindIndex(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){if(value!==value)return baseFindIndex(array,baseIsNaN,fromIndex);for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}function baseIsNaN(value){return value!==value}function charsEndIndex(strSymbols,chrSymbols){for(var index=strSymbols.length;index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function hasUnicode(string){return reHasUnicode.test(string)}function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}function unicodeToArray(string){return string.match(reUnicode)||[]}function baseSlice(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),end=end>length?length:end,end<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}function baseToString(value){if("string"==typeof value)return value;if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function castSlice(array,start,end){var length=array.length;return end=void 0===end?length:end,!start&&end>=length?array:baseSlice(array,start,end)}function isObjectLike(value){return!!value&&"object"==typeof value}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&objectToString.call(value)==symbolTag}function toString(value){return null==value?"":baseToString(value)}function trimEnd(string,chars,guard){if(string=toString(string),string&&(guard||void 0===chars))return string.replace(reTrimEnd,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string),end=charsEndIndex(strSymbols,stringToArray(chars))+1;return castSlice(strSymbols,0,end).join("")}var INFINITY=1/0,symbolTag="[object Symbol]",reTrimEnd=/\s+$/,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f\\ufe20-\\ufe23",rsComboSymbolsRange="\\u20d0-\\u20f0",rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboMarksRange+rsComboSymbolsRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g"),reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboMarksRange+rsComboSymbolsRange+rsVarRange+"]"),freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,Symbol=root.Symbol,symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;module.exports=trimEnd}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){function ConnectionAbstract(host,config){if(config=config||{},EventEmitter.call(this),this.log=config.log||new Log,this.pingTimeout=config.pingTimeout||3e3,!host)throw new TypeError("Missing host");if(!(host instanceof Host))throw new TypeError("Invalid host");this.host=host,_.makeBoundMethods(this)}module.exports=ConnectionAbstract;var _=__webpack_require__(3),EventEmitter=__webpack_require__(17).EventEmitter,Log=__webpack_require__(18),Host=__webpack_require__(28),errors=__webpack_require__(29);_.inherits(ConnectionAbstract,EventEmitter),ConnectionAbstract.prototype.request=function(){throw new Error("Connection#request must be overwritten by the Connector")},ConnectionAbstract.prototype.ping=function(params,cb){"function"==typeof params?(cb=params,params=null):cb="function"==typeof cb?cb:null;var requestTimeoutId,aborted,abort,requestTimeout=this.pingTimeout;params&&params.hasOwnProperty("requestTimeout")&&(requestTimeout=params.requestTimeout),abort=this.request(_.defaults(params||{},{path:"/",method:"HEAD"}),function(err){aborted||(clearTimeout(requestTimeoutId),cb&&cb(err))}),requestTimeout&&(requestTimeoutId=setTimeout(function(){abort&&abort(),aborted=!0,cb&&cb(new errors.RequestTimeout("Ping Timeout after "+requestTimeout+"ms"))},requestTimeout))},ConnectionAbstract.prototype.setStatus=function(status){var origStatus=this.status;this.status=status,this.emit("status set",status,origStatus,this),"closed"===status&&this.removeAllListeners()}},function(module,exports){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(er=arguments[1],er instanceof Error)throw er;var err=new Error('Uncaught, unspecified "error" event. ('+er+")");throw err.context=er,err}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1),handler.apply(this,args)}else if(isObject(handler))for(args=Array.prototype.slice.call(arguments,1),listeners=handler.slice(),len=listeners.length,i=0;i<len;i++)listeners[i].apply(this,args);return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned&&(m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),"function"==typeof console.trace&&console.trace())),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-- >0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(position<0)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else if(listeners)for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;if(evlistener)return evlistener.length}return 0},EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)}},function(module,exports,__webpack_require__){(function(process){function Log(config){if(config=config||{},config.log){var i,outputs;if(outputs=_.isArrayOfStrings(config.log)?[{levels:config.log}]:_.createArray(config.log,function(val){return _.isPlainObject(val)?val:"string"==typeof val?{level:val}:void 0}),!outputs)throw new TypeError("Invalid logging output config. Expected either a log level, array of log levels, a logger config object, or an array of logger config objects.");for(i=0;i<outputs.length;i++)this.addOutput(outputs[i])}}var _=__webpack_require__(3),url=__webpack_require__(19),EventEmitter=__webpack_require__(17).EventEmitter;_.inherits(Log,EventEmitter),Log.loggers=__webpack_require__(25),Log.prototype.close=function(){this.emit("closing"),this.listenerCount()&&(console.error("Something is still listening for log events, but the logger is closing."),this.clearAllListeners())},EventEmitter.prototype.listenerCount?Log.prototype.listenerCount=EventEmitter.prototype.listenerCount:EventEmitter.listenerCount?Log.prototype.listenerCount=function(event){return EventEmitter.listenerCount(this,event)}:Log.prototype.listenerCount=function(event){return this.listeners(event).length},Log.levels=["error","warning","info","debug","trace"],Log.parseLevels=function(input){switch(typeof input){case"string":var i=_.indexOf(Log.levels,input);if(i>=0)return Log.levels.slice(0,i+1);case"object":if(_.isArray(input)){var valid=_.intersection(input,Log.levels);if(valid.length===input.length)return valid}default:throw new TypeError("invalid logging level "+input+". Expected zero or more of these options: "+Log.levels.join(", "))}},Log.join=function(arrayish){return _.map(arrayish,function(item){return _.isPlainObject(item)?JSON.stringify(item,null,2)+"\n":item.toString()}).join(" ")},Log.prototype.addOutput=function(config){config=config||{},config.levels=Log.parseLevels(config.levels||config.level||"warning"),delete config.level;var Logger=_.funcEnum(config,"type",Log.loggers,process.browser?"console":"stdio");return new Logger(this,config)},Log.prototype.error=function(e){if(this.listenerCount("error"))return this.emit("error",e instanceof Error?e:new Error(e))},Log.prototype.warning=function(){if(this.listenerCount("warning"))return this.emit("warning",Log.join(arguments))},Log.prototype.info=function(){if(this.listenerCount("info"))return this.emit("info",Log.join(arguments))},Log.prototype.debug=function(){if(this.listenerCount("debug"))return this.emit("debug",Log.join(arguments))},Log.prototype.trace=function(method,requestUrl,body,responseBody,responseStatus){if(this.listenerCount("trace"))return this.emit("trace",Log.normalizeTraceArgs(method,requestUrl,body,responseBody,responseStatus))},Log.normalizeTraceArgs=function(method,requestUrl,body,responseBody,responseStatus){return"string"==typeof requestUrl?requestUrl=url.parse(requestUrl,!0,!0):(requestUrl=_.clone(requestUrl),requestUrl.path&&(requestUrl.query=url.parse(requestUrl.path,!0,!1).query),!requestUrl.pathname&&requestUrl.path&&(requestUrl.pathname=requestUrl.path.split("?").shift())),delete requestUrl.auth,{method:method,url:url.format(requestUrl),body:body,status:responseStatus,response:responseBody}},module.exports=Log}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){"use strict";function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;return u.parse(url,parseQueryString,slashesDenoteHost),u}function urlFormat(obj){return util.isString(obj)&&(obj=urlParse(obj)),obj instanceof Url?obj.format():Url.prototype.format.call(obj);
}function urlResolve(source,relative){return urlParse(source,!1,!0).resolve(relative)}function urlResolveObject(source,relative){return source?urlParse(source,!1,!0).resolveObject(relative):relative}var punycode=__webpack_require__(20),util=__webpack_require__(21);exports.parse=urlParse,exports.resolve=urlResolve,exports.resolveObject=urlResolveObject,exports.format=urlFormat,exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=__webpack_require__(22);Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url))throw new TypeError("Parameter 'url' must be a string, not "+typeof url);var queryIndex=url.indexOf("?"),splitter=queryIndex!==-1&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter),slashRegex=/\\/g;uSplit[0]=uSplit[0].replace(slashRegex,"/"),url=uSplit.join(splitter);var rest=url;if(rest=rest.trim(),!slashesDenoteHost&&1===url.split("#").length){var simplePath=simplePathPattern.exec(rest);if(simplePath)return this.path=rest,this.href=rest,this.pathname=simplePath[1],simplePath[2]?(this.search=simplePath[2],parseQueryString?this.query=querystring.parse(this.search.substr(1)):this.query=this.search.substr(1)):parseQueryString&&(this.search="",this.query={}),this}var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto,rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes="//"===rest.substr(0,2);!slashes||proto&&hostlessProtocol[proto]||(rest=rest.substr(2),this.slashes=!0)}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){for(var hostEnd=-1,i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);hec!==-1&&(hostEnd===-1||hec<hostEnd)&&(hostEnd=hec)}var auth,atSign;atSign=hostEnd===-1?rest.lastIndexOf("@"):rest.lastIndexOf("@",hostEnd),atSign!==-1&&(auth=rest.slice(0,atSign),rest=rest.slice(atSign+1),this.auth=decodeURIComponent(auth)),hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);hec!==-1&&(hostEnd===-1||hec<hostEnd)&&(hostEnd=hec)}hostEnd===-1&&(hostEnd=rest.length),this.host=rest.slice(0,hostEnd),rest=rest.slice(hostEnd),this.parseHost(),this.hostname=this.hostname||"";var ipv6Hostname="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!ipv6Hostname)for(var hostparts=this.hostname.split(/\./),i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(part&&!part.match(hostnamePartPattern)){for(var newpart="",j=0,k=part.length;j<k;j++)newpart+=part.charCodeAt(j)>127?"x":part[j];if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i),notHost=hostparts.slice(i+1),bit=part.match(hostnamePartStart);bit&&(validParts.push(bit[1]),notHost.unshift(bit[2])),notHost.length&&(rest="/"+notHost.join(".")+rest),this.hostname=validParts.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),ipv6Hostname||(this.hostname=punycode.toASCII(this.hostname));var p=this.port?":"+this.port:"",h=this.hostname||"";this.host=h+p,this.href+=this.host,ipv6Hostname&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==rest[0]&&(rest="/"+rest))}if(!unsafeProtocol[lowerProto])for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(rest.indexOf(ae)!==-1){var esc=encodeURIComponent(ae);esc===ae&&(esc=escape(ae)),rest=rest.split(ae).join(esc)}}var hash=rest.indexOf("#");hash!==-1&&(this.hash=rest.substr(hash),rest=rest.slice(0,hash));var qm=rest.indexOf("?");if(qm!==-1?(this.search=rest.substr(qm),this.query=rest.substr(qm+1),parseQueryString&&(this.query=querystring.parse(this.query)),rest=rest.slice(0,qm)):parseQueryString&&(this.search="",this.query={}),rest&&(this.pathname=rest),slashedProtocol[lowerProto]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var p=this.pathname||"",s=this.search||"";this.path=p+s}return this.href=this.format(),this},Url.prototype.format=function(){var auth=this.auth||"";auth&&(auth=encodeURIComponent(auth),auth=auth.replace(/%3A/i,":"),auth+="@");var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=!1,query="";this.host?host=auth+this.host:this.hostname&&(host=auth+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(host+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(query=querystring.stringify(this.query));var search=this.search||query&&"?"+query||"";return protocol&&":"!==protocol.substr(-1)&&(protocol+=":"),this.slashes||(!protocol||slashedProtocol[protocol])&&host!==!1?(host="//"+(host||""),pathname&&"/"!==pathname.charAt(0)&&(pathname="/"+pathname)):host||(host=""),hash&&"#"!==hash.charAt(0)&&(hash="#"+hash),search&&"?"!==search.charAt(0)&&(search="?"+search),pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match)}),search=search.replace("#","%23"),protocol+host+pathname+search+hash},Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,!1,!0)).format()},Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url;rel.parse(relative,!1,!0),relative=rel}for(var result=new Url,tkeys=Object.keys(this),tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}if(result.hash=relative.hash,""===relative.href)return result.href=result.format(),result;if(relative.slashes&&!relative.protocol){for(var rkeys=Object.keys(relative),rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];"protocol"!==rkey&&(result[rkey]=relative[rkey])}return slashedProtocol[result.protocol]&&result.hostname&&!result.pathname&&(result.path=result.pathname="/"),result.href=result.format(),result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){for(var keys=Object.keys(relative),v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}return result.href=result.format(),result}if(result.protocol=relative.protocol,relative.host||hostlessProtocol[relative.protocol])result.pathname=relative.pathname;else{for(var relPath=(relative.pathname||"").split("/");relPath.length&&!(relative.host=relPath.shift()););relative.host||(relative.host=""),relative.hostname||(relative.hostname=""),""!==relPath[0]&&relPath.unshift(""),relPath.length<2&&relPath.unshift(""),result.pathname=relPath.join("/")}if(result.search=relative.search,result.query=relative.query,result.host=relative.host||"",result.auth=relative.auth,result.hostname=relative.hostname||relative.host,result.port=relative.port,result.pathname||result.search){var p=result.pathname||"",s=result.search||"";result.path=p+s}return result.slashes=result.slashes||relative.slashes,result.href=result.format(),result}var isSourceAbs=result.pathname&&"/"===result.pathname.charAt(0),isRelAbs=relative.host||relative.pathname&&"/"===relative.pathname.charAt(0),mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic&&(result.hostname="",result.port=null,result.host&&(""===srcPath[0]?srcPath[0]=result.host:srcPath.unshift(result.host)),result.host="",relative.protocol&&(relative.hostname=null,relative.port=null,relative.host&&(""===relPath[0]?relPath[0]=relative.host:relPath.unshift(relative.host)),relative.host=null),mustEndAbs=mustEndAbs&&(""===relPath[0]||""===srcPath[0])),isRelAbs)result.host=relative.host||""===relative.host?relative.host:result.host,result.hostname=relative.hostname||""===relative.hostname?relative.hostname:result.hostname,result.search=relative.search,result.query=relative.query,srcPath=relPath;else if(relPath.length)srcPath||(srcPath=[]),srcPath.pop(),srcPath=srcPath.concat(relPath),result.search=relative.search,result.query=relative.query;else if(!util.isNullOrUndefined(relative.search)){if(psychotic){result.hostname=result.host=srcPath.shift();var authInHost=!!(result.host&&result.host.indexOf("@")>0)&&result.host.split("@");authInHost&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift())}return result.search=relative.search,result.query=relative.query,util.isNull(result.pathname)&&util.isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.href=result.format(),result}if(!srcPath.length)return result.pathname=null,result.search?result.path="/"+result.search:result.path=null,result.href=result.format(),result;for(var last=srcPath.slice(-1)[0],hasTrailingSlash=(result.host||relative.host||srcPath.length>1)&&("."===last||".."===last)||""===last,up=0,i=srcPath.length;i>=0;i--)last=srcPath[i],"."===last?srcPath.splice(i,1):".."===last?(srcPath.splice(i,1),up++):up&&(srcPath.splice(i,1),up--);if(!mustEndAbs&&!removeAllDots)for(;up--;up)srcPath.unshift("..");!mustEndAbs||""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0)||srcPath.unshift(""),hasTrailingSlash&&"/"!==srcPath.join("/").substr(-1)&&srcPath.push("");var isAbsolute=""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0);if(psychotic){result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"";var authInHost=!!(result.host&&result.host.indexOf("@")>0)&&result.host.split("@");authInHost&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift())}return mustEndAbs=mustEndAbs||result.host&&srcPath.length,mustEndAbs&&!isAbsolute&&srcPath.unshift(""),srcPath.length?result.pathname=srcPath.join("/"):(result.pathname=null,result.path=null),util.isNull(result.pathname)&&util.isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.auth=relative.auth||result.auth,result.slashes=result.slashes||relative.slashes,result.href=result.format(),result},Url.prototype.parseHost=function(){var host=this.host,port=portPattern.exec(host);port&&(port=port[0],":"!==port&&(this.port=port.substr(1)),host=host.substr(0,host.length-port.length)),host&&(this.hostname=host)}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(module,global){!function(root){function error(type){throw RangeError(errors[type])}function map(array,fn){for(var length=array.length,result=[];length--;)result[length]=fn(array[length]);return result}function mapDomain(string,fn){var parts=string.split("@"),result="";parts.length>1&&(result=parts[0]+"@",string=parts[1]),string=string.replace(regexSeparators,".");var labels=string.split("."),encoded=map(labels,fn).join(".");return result+encoded}function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;counter<length;)value=string.charCodeAt(counter++),value>=55296&&value<=56319&&counter<length?(extra=string.charCodeAt(counter++),56320==(64512&extra)?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--)):output.push(value);return output}function ucs2encode(array){return map(array,function(value){var output="";return value>65535&&(value-=65536,output+=stringFromCharCode(value>>>10&1023|55296),value=56320|1023&value),output+=stringFromCharCode(value)}).join("")}function basicToDigit(codePoint){return codePoint-48<10?codePoint-22:codePoint-65<26?codePoint-65:codePoint-97<26?codePoint-97:base}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((0!=flag)<<5)}function adapt(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/damp):delta>>1,delta+=floor(delta/numPoints);delta>baseMinusTMin*tMax>>1;k+=base)delta=floor(delta/baseMinusTMin);return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var out,basic,j,index,oldi,w,k,digit,t,baseMinusT,output=[],inputLength=input.length,i=0,n=initialN,bias=initialBias;for(basic=input.lastIndexOf(delimiter),basic<0&&(basic=0),j=0;j<basic;++j)input.charCodeAt(j)>=128&&error("not-basic"),output.push(input.charCodeAt(j));for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;index>=inputLength&&error("invalid-input"),digit=basicToDigit(input.charCodeAt(index++)),(digit>=base||digit>floor((maxInt-i)/w))&&error("overflow"),i+=digit*w,t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias,!(digit<t);k+=base)baseMinusT=base-t,w>floor(maxInt/baseMinusT)&&error("overflow"),w*=baseMinusT;out=output.length+1,bias=adapt(i-oldi,out,0==oldi),floor(i/out)>maxInt-n&&error("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,inputLength,handledCPCountPlusOne,baseMinusT,qMinusT,output=[];for(input=ucs2decode(input),inputLength=input.length,n=initialN,delta=0,bias=initialBias,j=0;j<inputLength;++j)currentValue=input[j],currentValue<128&&output.push(stringFromCharCode(currentValue));for(handledCPCount=basicLength=output.length,basicLength&&output.push(delimiter);handledCPCount<inputLength;){for(m=maxInt,j=0;j<inputLength;++j)currentValue=input[j],currentValue>=n&&currentValue<m&&(m=currentValue);for(handledCPCountPlusOne=handledCPCount+1,m-n>floor((maxInt-delta)/handledCPCountPlusOne)&&error("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m,j=0;j<inputLength;++j)if(currentValue=input[j],currentValue<n&&++delta>maxInt&&error("overflow"),currentValue==n){for(q=delta,k=base;t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias,!(q<t);k+=base)qMinusT=q-t,baseMinusT=base-t,output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT);output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}++delta,++n}return output.join("")}function toUnicode(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}function toASCII(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})}var freeGlobal=("object"==typeof exports&&exports&&!exports.nodeType&&exports,"object"==typeof module&&module&&!module.nodeType&&module,"object"==typeof global&&global);freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal&&freeGlobal.self!==freeGlobal||(root=freeGlobal);var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;punycode={version:"1.3.2",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode},__WEBPACK_AMD_DEFINE_RESULT__=function(){return punycode}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(this)}).call(exports,__webpack_require__(13)(module),function(){return this}())},function(module,exports){"use strict";module.exports={isString:function(arg){return"string"==typeof arg},isObject:function(arg){return"object"==typeof arg&&null!==arg},isNull:function(arg){return null===arg},isNullOrUndefined:function(arg){return null==arg}}},function(module,exports,__webpack_require__){"use strict";exports.decode=exports.parse=__webpack_require__(23),exports.encode=exports.stringify=__webpack_require__(24)},function(module,exports){"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&",eq=eq||"=";var obj={};if("string"!=typeof qs||0===qs.length)return obj;var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;options&&"number"==typeof options.maxKeys&&(maxKeys=options.maxKeys);var len=qs.length;maxKeys>0&&len>maxKeys&&(len=maxKeys);for(var i=0;i<len;++i){var kstr,vstr,k,v,x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq);idx>=0?(kstr=x.substr(0,idx),vstr=x.substr(idx+1)):(kstr=x,vstr=""),k=decodeURIComponent(kstr),v=decodeURIComponent(vstr),hasOwnProperty(obj,k)?Array.isArray(obj[k])?obj[k].push(v):obj[k]=[obj[k],v]:obj[k]=v}return obj}},function(module,exports){"use strict";var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){return sep=sep||"&",eq=eq||"=",null===obj&&(obj=void 0),"object"==typeof obj?Object.keys(obj).map(function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;return Array.isArray(obj[k])?obj[k].map(function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep):ks+encodeURIComponent(stringifyPrimitive(obj[k]))}).join(sep):name?encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj)):""}},function(module,exports,__webpack_require__){module.exports={console:__webpack_require__(26)}},function(module,exports,__webpack_require__){function Console(log,config){LoggerAbstract.call(this,log,config),this.color=!_.has(config,"color")||!!config.color}module.exports=Console;var LoggerAbstract=__webpack_require__(27),_=__webpack_require__(3);_.inherits(Console,LoggerAbstract),Console.prototype.setupListeners=function(levels){LoggerAbstract.prototype.setupListeners.call(this,levels)},Console.prototype.write=function(label,message,to){console[to]&&console[to](this.format(label,message))},Console.prototype.onError=_.handler(function(e){var to=console.error?"error":"log";this.write("Error"===e.name?"ERROR":e.name,e.stack||e.message,to)}),Console.prototype.onWarning=_.handler(function(msg){this.write("WARNING",msg,console.warn?"warn":"log")}),Console.prototype.onInfo=_.handler(function(msg){this.write("INFO",msg,console.info?"info":"log")}),Console.prototype.onDebug=_.handler(function(msg){this.write("DEBUG",msg,console.debug?"debug":"log")}),Console.prototype.onTrace=_.handler(function(msg){this.write("TRACE",this._formatTraceMessage(msg),"log")})},function(module,exports,__webpack_require__){function LoggerAbstract(log,config){this.log=log,this.listeningLevels=[],_.makeBoundMethods(this),this.log.once("closing",this.bound.cleanUpListeners),this.setupListeners(config.levels)}function padNumToTen(n){return n<10?"0"+n.toString(10):n.toString(10)}function indent(text,spaces){var space=_.repeat(" ",spaces||2);return(text||"").split(/\r?\n/).map(function(line){return space+line}).join("\n")}var _=__webpack_require__(3);LoggerAbstract.prototype.timestamp=function(){var d=new Date;return d.getUTCFullYear()+"-"+padNumToTen(d.getUTCMonth()+1)+"-"+padNumToTen(d.getUTCDate())+"T"+padNumToTen(d.getUTCHours())+":"+padNumToTen(d.getUTCMinutes())+":"+padNumToTen(d.getUTCSeconds())+"Z"},LoggerAbstract.prototype.format=function(label,message){return label+": "+this.timestamp()+"\n"+indent(message)+"\n\n"},LoggerAbstract.prototype.write=function(){throw new Error("This should be overwritten by the logger")},LoggerAbstract.prototype.setupListeners=function(levels){this.cleanUpListeners(),this.listeningLevels=[],_.each(levels,_.bind(function(level){var fnName="on"+_.ucfirst(level);if(!this.bound[fnName])throw new Error('Unable to listen for level "'+level+'"');this.listeningLevels.push(level),this.log.on(level,this.bound[fnName])},this))},LoggerAbstract.prototype.cleanUpListeners=_.handler(function(){_.each(this.listeningLevels,_.bind(function(level){this.log.removeListener(level,this.bound["on"+_.ucfirst(level)])},this))}),LoggerAbstract.prototype.onError=_.handler(function(e){this.write("Error"===e.name?"ERROR":e.name,e.stack)}),LoggerAbstract.prototype.onWarning=_.handler(function(msg){this.write("WARNING",msg)}),LoggerAbstract.prototype.onInfo=_.handler(function(msg){this.write("INFO",msg)}),LoggerAbstract.prototype.onDebug=_.handler(function(msg){this.write("DEBUG",msg)}),LoggerAbstract.prototype.onTrace=_.handler(function(requestDetails){this.write("TRACE",this._formatTraceMessage(requestDetails))}),LoggerAbstract.prototype._formatTraceMessage=function(req){return"-> "+req.method+" "+req.url+"\n"+this._prettyJson(req.body)+"\n<- "+req.status+"\n"+this._prettyJson(req.response)},LoggerAbstract.prototype._prettyJson=function(body){try{return"string"==typeof body&&(body=JSON.parse(body)),JSON.stringify(body,null,"  ").replace(/'/g,"\\u0027")}catch(e){return"string"==typeof body?body:""}},module.exports=LoggerAbstract},function(module,exports,__webpack_require__){(function(Buffer){function Host(config,globalConfig){if(config=_.clone(config||{}),globalConfig=globalConfig||{},this.protocol="http",this.host="localhost",this.path="",this.port=9200,this.query=null,this.headers=null,this.suggestCompression=!!globalConfig.suggestCompression,this.ssl=_.defaults({},config.ssl||{},globalConfig.ssl||{},sslDefaults),"string"==typeof config){var firstColon=config.indexOf(":"),firstSlash=config.indexOf("/"),noSlash=firstSlash===-1,portNoPath=firstColon>-1&&noSlash,portWithPath=!portNoPath&&firstColon<firstSlash;if((noSlash||portNoPath||portWithPath)&&!startsWithProtocolRE.test(config)&&(config=defaultProto+"//"+config),config=_.pick(url.parse(config,!1,!0),urlParseFields),!config.port){var proto=config.protocol||"http";":"===proto.charAt(proto.length-1)&&(proto=proto.substring(0,proto.length-1)),Host.defaultPorts[proto]&&(config.port=Host.defaultPorts[proto])}}_.isObject(config)?_.each(simplify,function(to){var from=to+"name";config[from]&&config[to]?0===config[to].indexOf(config[from])&&(config[to]=config[from]):config[from]&&(config[to]=config[from]),delete config[from]}):config={},!config.auth&&globalConfig.httpAuth&&(config.auth=globalConfig.httpAuth),config.auth&&(config.headers=config.headers||{},config.headers.Authorization="Basic "+btoa(config.auth),delete config.auth),_.forOwn(config,_.bind(function(val,prop){null!=val&&(this[prop]=_.clone(val))},this)),null===this.query?this.query={}:_.isPlainObject(this.query)||(this.query=qs.parse(this.query)),_.isNumeric(this.port)?this.port=parseInt(this.port,10):this.port=9200,"/"===this.path?this.path="":this.path&&"/"!==this.path.charAt(0)&&(this.path="/"+(this.path||"")),":"===this.protocol.substr(-1)&&(this.protocol=this.protocol.substring(0,this.protocol.length-1))}function objectPropertyGetter(prop,preOverride){return function(overrides){preOverride&&(overrides=preOverride.call(this,overrides));var obj=this[prop];return obj||overrides?(overrides&&(obj=_.assign({},obj,overrides)),_.size(obj)?obj:null):null}}module.exports=Host;var btoa,url=__webpack_require__(19),qs=__webpack_require__(22),_=__webpack_require__(3),startsWithProtocolRE=/^([a-z]+:)?\/\//,defaultProto="http:";"undefined"!=typeof window&&"undefined"!=typeof window.location&&(defaultProto=window.location.protocol,btoa=window.btoa),btoa=btoa||function(data){return new Buffer(data,"utf8").toString("base64")};var urlParseFields=["protocol","hostname","pathname","port","auth","query"],simplify=["host","path"],sslDefaults={pfx:null,key:null,passphrase:null,cert:null,ca:null,ciphers:null,rejectUnauthorized:!1,secureProtocol:null};Host.defaultPorts={http:80,https:443},Host.prototype.makeUrl=function(params){params=params||{};var port="";this.port!==Host.defaultPorts[this.protocol]&&(port=":"+this.port);var path=""+(this.path||"")+(params.path||"");"/"!==path.charAt(0)&&(path="/"+path);var query=qs.stringify(this.getQuery(params.query));return this.host?this.protocol+"://"+this.host+port+path+(query?"?"+query:""):path+(query?"?"+query:"")},Host.prototype.getHeaders=objectPropertyGetter("headers",function(overrides){return this.suggestCompression?_.defaults(overrides||{},{"Accept-Encoding":"gzip,deflate"}):overrides}),Host.prototype.getQuery=objectPropertyGetter("query",function(query){return"string"==typeof query?qs.parse(query):query}),Host.prototype.toString=function(){return this.makeUrl()}}).call(exports,__webpack_require__(4).Buffer)},function(module,exports,__webpack_require__){function ErrorAbstract(msg,constructor,metadata){this.message=msg,Error.call(this,this.message),canCapture?Error.captureStackTrace(this,constructor):canStack?this.stack=(new Error).stack:this.stack="",metadata&&(_.assign(this,metadata),this.toString=function(){return msg+" :: "+JSON.stringify(metadata)},this.toJSON=function(){return _.assign({msg:msg},metadata)})}function prettyPrint(data){const path=[];return function print(v){if("object"!=typeof v)return JSON.stringify(v);if(path.indexOf(v)>-1)return"[circular]";path.push(v);try{return"{ "+_.map(v,function(subv,name){return name+"="+print(subv)}).join(" & ")+" }"}finally{path.pop()}}(data)}var _=__webpack_require__(3),errors=module.exports,canCapture="function"==typeof Error.captureStackTrace,canStack=!!(new Error).stack;errors._Abstract=ErrorAbstract,_.inherits(ErrorAbstract,Error),errors.ConnectionFault=function(msg){ErrorAbstract.call(this,msg||"Connection Failure",errors.ConnectionFault)},_.inherits(errors.ConnectionFault,ErrorAbstract),errors.NoConnections=function(msg){ErrorAbstract.call(this,msg||"No Living connections",errors.NoConnections)},_.inherits(errors.NoConnections,ErrorAbstract),errors.Generic=function(msg,metadata){ErrorAbstract.call(this,msg||"Generic Error",errors.Generic,metadata)},_.inherits(errors.Generic,ErrorAbstract),errors.RequestTimeout=function(msg){ErrorAbstract.call(this,msg||"Request Timeout",errors.RequestTimeout)},_.inherits(errors.RequestTimeout,ErrorAbstract),errors.Serialization=function(msg){ErrorAbstract.call(this,msg||"Unable to parse/serialize body",errors.Serialization)},_.inherits(errors.Serialization,ErrorAbstract),errors.RequestTypeError=function(feature){ErrorAbstract.call(this,"Cross-domain AJAX requests "+feature+" are not supported",errors.RequestTypeError)},_.inherits(errors.RequestTypeError,ErrorAbstract);var statusCodes=[[300,"Multiple Choices"],[301,"Moved Permanently"],[302,"Found"],[303,"See Other"],[304,"Not Modified"],[305,"Use Proxy"],[307,"Temporary Redirect"],[308,"Permanent Redirect"],[400,"Bad Request"],[401,"Authentication Exception"],[402,"Payment Required"],[403,["Authorization Exception","Forbidden"]],[404,"Not Found"],[405,"Method Not Allowed"],[406,"Not Acceptable"],[407,"Proxy Authentication Required"],[408,"Request Timeout"],[409,"Conflict"],[410,"Gone"],[411,"Length Required"],[412,"Precondition Failed"],[413,"Request Entity Too Large"],[414,"Request URIToo Long"],[415,"Unsupported Media Type"],[416,"Requested Range Not Satisfiable"],[417,"Expectation Failed"],[418,"Im ATeapot"],[421,"Too Many Connections From This IP"],[426,"Upgrade Required"],[429,"Too Many Requests"],[450,"Blocked By Windows Parental Controls"],[494,"Request Header Too Large"],[497,"HTTPTo HTTPS"],[499,"Client Closed Request"],[500,"Internal Server Error"],[501,"Not Implemented"],[502,"Bad Gateway"],[503,"Service Unavailable"],[504,"Gateway Timeout"],[505,"HTTPVersion Not Supported"],[506,"Variant Also Negotiates"],[510,"Not Extended"]];_.each(statusCodes,function(tuple){function StatusCodeError(msg,metadata){this.status=status,this.displayName=className;var esErrObject=null;return _.isPlainObject(msg)&&(esErrObject=msg,msg=null),esErrObject?(msg=[].concat(esErrObject.root_cause||[]).reduce(function(memo,cause){memo&&(memo+=" (and) "),memo+="["+cause.type+"] "+cause.reason;var extraData=_.omit(cause,["type","reason"]);return _.size(extraData)&&(memo+=", with "+prettyPrint(extraData)),memo},""),msg||(esErrObject.type&&(msg+="["+esErrObject.type+"] "),esErrObject.reason&&(msg+=esErrObject.reason)),ErrorAbstract.call(this,msg||primaryName,StatusCodeError,metadata),this):(ErrorAbstract.call(this,msg||primaryName,StatusCodeError,metadata),this)}var status=tuple[0],names=tuple[1],allNames=[].concat(names,status),primaryName=allNames[0],className=_.studlyCase(primaryName);allNames=_.uniq(allNames.concat(className)),_.inherits(StatusCodeError,ErrorAbstract),allNames.forEach(function(name){errors[name]=StatusCodeError})})},function(module,exports,__webpack_require__){function Client(config){function EsApiClient(){config.hasOwnProperty("log")||(config.log="warning"),config.hosts||config.host||(config.host="http://localhost:9200"),this.close=function(){this.transport.close()},this.transport=new Transport(config),_.each(EsApiClient.prototype,_.bind(function(Fn,prop){Fn.prototype instanceof clientAction.ApiNamespace&&(this[prop]=new Fn(this.transport,this))},this)),delete this._namespaces}if(config=config||{},config.__reused)throw new Error("Do not reuse objects to configure the elasticsearch Client class: https://github.com/elasticsearch/elasticsearch-js/issues/33");config.__reused=!0,EsApiClient.prototype=_.funcEnum(config,"apiVersion",Client.apis,"_default"),config.sniffEndpoint||EsApiClient.prototype!==Client.apis["0.90"]||(config.sniffEndpoint="/_cluster/nodes");var Constructor=EsApiClient;return config.plugins&&(Constructor.prototype=_.cloneDeep(Constructor.prototype),_.each(config.plugins,function(setup){Constructor=setup(Constructor,config,{apis:__webpack_require__(47),connectors:__webpack_require__(39),loggers:__webpack_require__(25),selectors:__webpack_require__(36),serializers:__webpack_require__(42),Client:__webpack_require__(30),clientAction:clientAction,Connection:__webpack_require__(16),ConnectionPool:__webpack_require__(35),Errors:__webpack_require__(29),Host:__webpack_require__(28),Log:__webpack_require__(18),Logger:__webpack_require__(27),NodesToHost:__webpack_require__(45),Transport:__webpack_require__(31),utils:__webpack_require__(3)})||Constructor})),new Constructor}module.exports=Client;var Transport=__webpack_require__(31),clientAction=__webpack_require__(46),_=__webpack_require__(3);Client.apis=__webpack_require__(47)},function(module,exports,__webpack_require__){(function(process){function Transport(config){var self=this;config=self._config=config||{};var LogClass="function"==typeof config.log?config.log:__webpack_require__(18);config.log=self.log=new LogClass(config);var ConnectionPool=_.funcEnum(config,"connectionPool",Transport.connectionPools,"main");self.connectionPool=new ConnectionPool(config);var Serializer=_.funcEnum(config,"serializer",Transport.serializers,"json");self.serializer=new Serializer(config),self.nodesToHostCallback=_.funcEnum(config,"nodesToHostCallback",Transport.nodesToHostCallbacks,"main"),self.maxRetries=config.hasOwnProperty("maxRetries")?config.maxRetries:3,self.sniffEndpoint=config.hasOwnProperty("sniffEndpoint")?config.sniffEndpoint:"/_nodes/_all/http",self.requestTimeout=config.hasOwnProperty("requestTimeout")?config.requestTimeout:3e4,config.hasOwnProperty("defer")&&(self.defer=config.defer);var randomizeHosts=!config.hasOwnProperty("randomizeHosts")||!!config.randomizeHosts;if(config.host&&(config.hosts=config.host),config.hosts){var hostsConfig=_.createArray(config.hosts,function(val){if(_.isPlainObject(val)||_.isString(val)||val instanceof Host)return val});if(!hostsConfig)throw new TypeError("Invalid hosts config. Expected a URL, an array of urls, a host config object, or an array of host config objects.");randomizeHosts&&(hostsConfig=_.shuffle(hostsConfig)),self.setHosts(hostsConfig)}config.hasOwnProperty("sniffedNodesProtocol")?self.sniffedNodesProtocol=config.sniffedNodesProtocol||null:self.sniffedNodesProtocol=findCommonProtocol(self.connectionPool.getAllHosts())||null,
config.sniffOnStart&&self.sniff(),config.sniffInterval&&self._timeout(function doSniff(){self.sniff(),self._timeout(doSniff,config.sniffInterval)},config.sniffInterval),config.sniffOnConnectionFault&&patchSniffOnConnectionFault(self)}module.exports=Transport;var _=__webpack_require__(3),errors=__webpack_require__(29),Host=__webpack_require__(28),patchSniffOnConnectionFault=__webpack_require__(32),findCommonProtocol=__webpack_require__(33);Transport.connectionPools={main:__webpack_require__(35)},Transport.serializers=__webpack_require__(42),Transport.nodesToHostCallbacks={main:__webpack_require__(45)},Transport.prototype.defer=function(){if("undefined"==typeof Promise)throw new Error("No Promise implementation found. In order for elasticsearch-js to create promises either specify the `defer` configuration or include a global Promise shim");var defer={};return defer.promise=new Promise(function(resolve,reject){defer.resolve=resolve,defer.reject=reject}),defer},Transport.prototype.request=function(params,cb){function sendReqWithConnection(err,_connection){aborted||(err?respond(err):_connection?(connection=_connection,requestAborter=connection.request(params.req,checkRespForFailure)):(self.log.warning("No living connections"),respond(new errors.NoConnections)))}function checkRespForFailure(err,body,status,headers){if(!aborted){if(requestAborter=void 0,err instanceof errors.RequestTypeError)return self.log.error("Connection refused to execute the request",err),void respond(err,body,status,headers);if(err){connection.setStatus("dead");var errMsg=err.message||"";errMsg="\n"+params.req.method+" "+connection.host.makeUrl(params.req)+(errMsg.length?" => ":"")+errMsg,remainingRetries?(remainingRetries--,self.log.error("Request error, retrying"+errMsg),self.connectionPool.select(sendReqWithConnection)):(self.log.error("Request complete with error"+errMsg),respond(new errors.ConnectionFault(err)))}else self.log.debug("Request complete"),respond(void 0,body,status,headers)}}function respond(err,body,status,headers){if(!aborted){self._timeout(requestTimeoutId);var parsedBody,isJson=!headers||headers["content-type"]&&~headers["content-type"].indexOf("application/json");if(!err&&body&&(isJson?(parsedBody=self.serializer.deserialize(body),null==parsedBody&&(err=new errors.Serialization,parsedBody=body)):parsedBody=body),(!err||err instanceof errors.Serialization)&&(status<200||status>=300)&&(!params.ignore||!_.include(params.ignore,status))){var errorMetadata=_.pick(params.req,["path","query","body"]);errorMetadata.statusCode=status,errorMetadata.response=body,401===status&&headers&&headers["www-authenticate"]&&(errorMetadata.wwwAuthenticateDirective=headers["www-authenticate"]),err=errors[status]?new errors[status](parsedBody&&parsedBody.error,errorMetadata):new errors.Generic("unknown error",errorMetadata)}params.castExists&&(err&&err instanceof errors.NotFound?(parsedBody=!1,err=void 0):parsedBody=!err),"function"==typeof cb?err?cb(err,parsedBody,status):cb(void 0,parsedBody,status):err?(err.body=parsedBody,err.status=status,defer.reject(err)):defer.resolve(parsedBody)}}function abortRequest(){aborted||(aborted=!0,remainingRetries=0,self._timeout(requestTimeoutId),"function"==typeof requestAborter&&requestAborter())}var connection,requestAborter,requestTimeoutId,ret,defer,self=this,remainingRetries=this.maxRetries,requestTimeout=this.requestTimeout,aborted=!1,body=params.body,headers=params.headers?_.transform(params.headers,function(headers,val,name){headers[String(name).toLowerCase()]=val}):{};if(self.log.debug("starting request",params),"function"==typeof cb?(process.domain&&(cb=process.domain.bind(cb)),ret={abort:abortRequest}):(defer=this.defer(),ret=defer.promise,ret.abort=abortRequest),body&&"GET"===params.method)return _.nextTick(respond,new TypeError('Body can not be sent with method "GET"')),ret;if(body){var serializer=self.serializer,serializeFn=serializer[params.bulkBody?"bulkBody":"serialize"];body=serializeFn.call(serializer,body),headers["content-type"]||(headers["content-type"]=serializeFn.contentType)}return params.hasOwnProperty("maxRetries")&&(remainingRetries=params.maxRetries),params.hasOwnProperty("requestTimeout")&&(requestTimeout=params.requestTimeout),params.req={method:params.method,path:params.path||"/",query:params.query,body:body,headers:headers},requestTimeout&&requestTimeout!==1/0&&(requestTimeoutId=this._timeout(function(){respond(new errors.RequestTimeout("Request Timeout after "+requestTimeout+"ms")),abortRequest()},requestTimeout)),connection?sendReqWithConnection(void 0,connection):self.connectionPool.select(sendReqWithConnection),ret},Transport.prototype._timeout=function(cb,delay){if(!this.closed){var id,timers=this._timers||(this._timers=[]);if("function"!=typeof cb&&(id=cb,cb=void 0),cb)return id=setTimeout(function(){_.pull(timers,id),cb()},delay),timers.push(id),id;if(id){clearTimeout(id);var i=this._timers.indexOf(id);i!==-1&&this._timers.splice(i,1)}}},Transport.prototype.sniff=function(cb){var self=this,nodesToHostCallback=this.nodesToHostCallback,log=this.log,sniffedNodesProtocol=this.sniffedNodesProtocol;cb="function"==typeof cb?cb:_.noop,this.request({path:this.sniffEndpoint,query:{filter_path:["nodes.*.http.publish_address","nodes.*.name","nodes.*.hostname","nodes.*.host","nodes.*.version"].join(",")},method:"GET"},function(err,resp,status){if(!err&&resp&&resp.nodes){var hostsConfigs;try{hostsConfigs=nodesToHostCallback(resp.nodes)}catch(e){return void log.error(new Error("Unable to convert node list from "+this.sniffEndpoint+" to hosts durring sniff. Encountered error:\n"+(e.stack||e.message)))}_.forEach(hostsConfigs,function(hostConfig){sniffedNodesProtocol&&(hostConfig.protocol=sniffedNodesProtocol)}),self.setHosts(hostsConfigs)}cb(err,resp,status)})},Transport.prototype.setHosts=function(hostsConfigs){var globalConfig=this._config;this.connectionPool.setHosts(_.map(hostsConfigs,function(conf){return conf instanceof Host?conf:new Host(conf,globalConfig)}))},Transport.prototype.close=function(){this.log.close(),this.closed=!0,_.each(this._timers,clearTimeout),this._timers=null,this.connectionPool.close()}}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){var _=__webpack_require__(3);module.exports=function(transport){var failures=0,pool=transport.connectionPool,originalOnDied=pool._onConnectionDied,work=function(){work.timerId=transport._timeout(work.timerId),transport.sniff()},countdownTo=function(ms){var start=_.now();return function(){return start-ms}};pool._onConnectionDied=function(connection,wasAlreadyDead){var ret=originalOnDied.call(pool,connection,wasAlreadyDead);failures=work.timerId?failures+1:0;var ms=pool.calcDeadTimeout(failures,1e3);return work.timerId&&ms<work.timerId&&work.countdown()&&(work.timerId=transport._timeout(work.timerId)),work.timerId||(work.timerId=transport._timeout(work,ms),work.countdown=countdownTo(ms)),ret},pool._onConnectionDied.restore=function(){pool._onConnectionDied=originalOnDied}}},function(module,exports,__webpack_require__){var isEmpty=__webpack_require__(34);module.exports=function(hosts){if(isEmpty(hosts))return!1;for(var commonProtocol=hosts.shift().protocol,i=0;i<hosts.length;i++)if(commonProtocol!==hosts[i].protocol)return!1;return commonProtocol}},function(module,exports,__webpack_require__){(function(global,module){function getValue(object,key){return null==object?void 0:object[key]}function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function baseGetTag(value){return objectToString.call(value)}function baseIsNative(value){if(!isObject(value)||isMasked(value))return!1;var pattern=isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}function isPrototype(value){var Ctor=value&&value.constructor,proto="function"==typeof Ctor&&Ctor.prototype||objectProto;return value===proto}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isEmpty(value){if(isArrayLike(value)&&(isArray(value)||"string"==typeof value||"function"==typeof value.splice||isBuffer(value)||isArguments(value)))return!value.length;var tag=getTag(value);if(tag==mapTag||tag==setTag)return!value.size;if(nonEnumShadows||isPrototype(value))return!nativeKeys(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function stubFalse(){return!1}var MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",objectTag="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?root.Buffer:void 0,propertyIsEnumerable=objectProto.propertyIsEnumerable,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,nativeKeys=overArg(Object.keys,Object),DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),nonEnumShadows=!propertyIsEnumerable.call({valueOf:1},"valueOf"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=objectToString.call(value),Ctor=result==objectTag?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):void 0;if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result});var isArray=Array.isArray,isBuffer=nativeIsBuffer||stubFalse;module.exports=isEmpty}).call(exports,function(){return this}(),__webpack_require__(13)(module))},function(module,exports,__webpack_require__){(function(process){function ConnectionPool(config){config=config||{},_.makeBoundMethods(this),config.log?this.log=config.log:(this.log=new Log,config.log=this.log),this._config=config,this.selector=_.funcEnum(config,"selector",ConnectionPool.selectors,ConnectionPool.defaultSelector),this.Connection=_.funcEnum(config,"connectionClass",ConnectionPool.connectionClasses,ConnectionPool.defaultConnectionClass),this.deadTimeout=config.hasOwnProperty("deadTimeout")?config.deadTimeout:6e4,this.maxDeadTimeout=config.hasOwnProperty("maxDeadTimeout")?config.maxDeadTimeout:18e5,this.calcDeadTimeout=_.funcEnum(config,"calcDeadTimeout",ConnectionPool.calcDeadTimeoutOptions,"exponential"),this.index={},this._conns={alive:[],dead:[]},this._timeouts=[]}module.exports=ConnectionPool;var _=__webpack_require__(3),Log=__webpack_require__(18);ConnectionPool.selectors=__webpack_require__(36),ConnectionPool.defaultSelector="roundRobin",ConnectionPool.connectionClasses=__webpack_require__(39),ConnectionPool.defaultConnectionClass=ConnectionPool.connectionClasses._default,delete ConnectionPool.connectionClasses._default,ConnectionPool.calcDeadTimeoutOptions={flat:function(attempt,baseTimeout){return baseTimeout},exponential:function(attempt,baseTimeout){return Math.min(2*baseTimeout*Math.pow(2,.5*attempt-1),this.maxDeadTimeout)}},ConnectionPool.prototype.select=function(cb){if(this._conns.alive.length)if(this.selector.length>1)this.selector(this._conns.alive,cb);else try{_.nextTick(cb,void 0,this.selector(this._conns.alive))}catch(e){cb(e)}else this._timeouts.length?this._selectDeadConnection(cb):_.nextTick(cb,void 0)},ConnectionPool.prototype.onStatusSet=_.handler(function(status,oldStatus,connection){var index,died="dead"===status,wasAlreadyDead=died&&"dead"===oldStatus,revived=!died&&"dead"===oldStatus,noChange=oldStatus===status,from=this._conns[oldStatus],to=this._conns[status];return!(!noChange||died)||(from!==to&&(_.isArray(from)&&(index=from.indexOf(connection),index!==-1&&from.splice(index,1)),_.isArray(to)&&(index=to.indexOf(connection),index===-1&&to.push(connection))),died&&this._onConnectionDied(connection,wasAlreadyDead),void(revived&&this._onConnectionRevived(connection)))}),ConnectionPool.prototype._onConnectionRevived=function(connection){for(var timeout,i=0;i<this._timeouts.length;i++)if(this._timeouts[i].conn===connection){timeout=this._timeouts[i],timeout.id&&clearTimeout(timeout.id),this._timeouts.splice(i,1);break}},ConnectionPool.prototype._onConnectionDied=function(connection,alreadyWasDead){var timeout;if(alreadyWasDead){for(var i=0;i<this._timeouts.length;i++)if(this._timeouts[i].conn===connection){timeout=this._timeouts[i];break}}else timeout={conn:connection,attempt:0,revive:function(cb){timeout.attempt++,connection.ping(function(err){connection.setStatus(err?"dead":"alive"),cb&&"function"==typeof cb&&cb(err)})}},this._timeouts.push(timeout);timeout.id&&clearTimeout(timeout.id);var ms=this.calcDeadTimeout(timeout.attempt,this.deadTimeout);timeout.id=setTimeout(timeout.revive,ms),timeout.runAt=_.now()+ms},ConnectionPool.prototype._selectDeadConnection=function(cb){var orderedTimeouts=_.sortBy(this._timeouts,"runAt"),log=this.log;process.nextTick(function next(){var timeout=orderedTimeouts.shift();return timeout?timeout.conn?void("dead"===timeout.conn.status?timeout.revive(function(err){err?(log.warning("Unable to revive connection: "+timeout.conn.id),process.nextTick(next)):cb(void 0,timeout.conn)}):cb(void 0,timeout.conn)):void next():void cb(void 0)})},ConnectionPool.prototype.getConnections=function(status,limit){var list;return list=status?this._conns[status]:this._conns[this._conns.alive.length?"alive":"dead"],null==limit?list.slice(0):_.shuffle(list).slice(0,limit)},ConnectionPool.prototype.addConnection=function(connection){connection.id||(connection.id=connection.host.toString()),this.index[connection.id]||(this.log.info("Adding connection to",connection.id),this.index[connection.id]=connection,connection.on("status set",this.bound.onStatusSet),connection.setStatus("alive"))},ConnectionPool.prototype.removeConnection=function(connection){connection.id||(connection.id=connection.host.toString()),this.index[connection.id]&&(delete this.index[connection.id],connection.setStatus("closed"),connection.removeListener("status set",this.bound.onStatusSet))},ConnectionPool.prototype.setHosts=function(hosts){var connection,i,id,host,toRemove=_.clone(this.index);for(i=0;i<hosts.length;i++)host=hosts[i],id=host.toString(),this.index[id]?delete toRemove[id]:(connection=new this.Connection(host,this._config),connection.id=id,this.addConnection(connection));var removeIds=_.keys(toRemove);for(i=0;i<removeIds.length;i++)this.removeConnection(this.index[removeIds[i]])},ConnectionPool.prototype.getAllHosts=function(){return _.values(this.index).map(function(connection){return connection.host})},ConnectionPool.prototype.close=function(){this.setHosts([])},ConnectionPool.prototype.empty=ConnectionPool.prototype.close}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){module.exports={random:__webpack_require__(37),roundRobin:__webpack_require__(38)}},function(module,exports){module.exports=function(connections){return connections[Math.floor(Math.random()*connections.length)]}},function(module,exports){module.exports=function(connections){var connection=connections[0];return connections.push(connections.shift()),connection}},function(module,exports,__webpack_require__){var opts={xhr:__webpack_require__(40),jquery:__webpack_require__(41),angular:__webpack_require__(2)},_=__webpack_require__(3);_.each(opts,function(conn,name){"function"!=typeof conn&&delete opts[name]}),opts.xhr?opts._default="xhr":opts.angular?opts._default="angular":opts._default="jquery",module.exports=opts},function(module,exports){},function(module,exports){},function(module,exports,__webpack_require__){module.exports={angular:__webpack_require__(43),json:__webpack_require__(44)}},function(module,exports,__webpack_require__){function AngularSerializer(){}var _=__webpack_require__(3),JsonSerializer=__webpack_require__(44);_.inherits(AngularSerializer,JsonSerializer),AngularSerializer.prototype.encode=function(val){switch(typeof val){case"string":return val;case"object":if(val)return angular.toJson(val);default:return}},module.exports=AngularSerializer},function(module,exports,__webpack_require__){function Json(){}module.exports=Json;var _=__webpack_require__(3);Json.prototype.serialize=function(val,replacer,spaces){switch(typeof val){case"string":return val;case"object":if(val)return JSON.stringify(val,replacer,spaces);default:return}},Json.prototype.serialize.contentType="application/json",Json.prototype.deserialize=function(str){if("string"==typeof str)try{return JSON.parse(str)}catch(e){}},Json.prototype.bulkBody=function(val){var i,body="";if(_.isArray(val))for(i=0;i<val.length;i++)body+=this.serialize(val[i])+"\n";else{if("string"!=typeof val)throw new TypeError("Bulk body should either be an Array of commands/string, or a String");body=val+("\n"===val[val.length-1]?"":"\n")}return body},Json.prototype.bulkBody.contentType="application/x-ndjson"},function(module,exports,__webpack_require__){function makeNodeParser(hostProp){return function(nodes){return _.transform(nodes,function(hosts,node,id){var address=_.get(node,hostProp);if(address){var host={host:void 0,port:void 0,_meta:{id:id,name:node.name,version:node.version}},malformedError=new Error("Malformed "+hostProp+". Got "+JSON.stringify(address)+' and expected it to match "{hostname?}/{ip}:{port}".'),matches1x=extractHostPartsRE1x.exec(address);if(matches1x)return host.host=matches1x[1]||matches1x[2],host.port=parseInt(matches1x[3],10),void hosts.push(host);if(address.indexOf("/")>-1){var withHostParts=address.split("/");if(2!==withHostParts.length)throw malformedError;host.host=withHostParts.shift(),address=withHostParts.shift()}if(address.indexOf(":")<0)throw malformedError;var addressParts=address.split(":");if(2!==addressParts.length)throw malformedError;host.host=host.host||addressParts[0],host.port=parseInt(addressParts[1],10),hosts.push(host)}},[])}}var _=__webpack_require__(3),extractHostPartsRE1x=/\[(?:(.*)\/)?(.+?):(\d+)\]/;module.exports=makeNodeParser("http.publish_address")},function(module,exports,__webpack_require__){function makeFactoryWithModifier(modifier){modifier=modifier||_.identity;var factory=function(spec){function action(params,cb){"function"==typeof params?(cb=params,params={}):(params=params||{},cb="function"==typeof cb?cb:null);try{return exec(this.transport,spec,_.clone(params),cb)}catch(e){if("function"!=typeof cb){var def=this.transport.defer();return def.reject(e),def.promise}_.nextTick(cb,e)}}return spec=modifier(spec),_.isPlainObject(spec.params)||(spec.params={}),spec.method||(spec.method="GET"),action.spec=spec,action};return factory.proxy=function(fn,spec){return function(params,cb){return"function"==typeof params?(cb=params,params={}):(params=params||{},cb="function"==typeof cb?cb:null),spec.transform&&spec.transform(params),fn.call(this,params,cb)}},factory}function resolveUrl(url,params){var i,key,vars={};if(url.req)for(url.reqParamKeys||(url.reqParamKeys=_.keys(url.req)),i=0;i<url.reqParamKeys.length;i++){if(key=url.reqParamKeys[i],!params.hasOwnProperty(key)||null==params[key])return!1;castType[url.req[key].type]?vars[key]=castType[url.req[key].type](url.req[key],params[key],key):vars[key]=params[key]}if(url.opt)for(url.optParamKeys||(url.optParamKeys=_.keys(url.opt)),i=0;i<url.optParamKeys.length;i++)key=url.optParamKeys[i],params[key]?castType[url.opt[key].type]||null==params[key]?vars[key]=castType[url.opt[key].type](url.opt[key],params[key],key):vars[key]=params[key]:vars[key]=url.opt[key]["default"];return url.template||(url.template=_.template(url.fmt)),url.template(_.transform(vars,function(note,val,name){note[name]=encodeURIComponent(val),delete params[name]},{}))}function exec(transport,spec,params,cb){var i,request={method:spec.method},query={};if(spec.requestTimeout&&(request.requestTimeout=spec.requestTimeout),!params.body&&spec.paramAsBody&&("object"==typeof spec.paramAsBody?(params.body={},params.body[spec.paramAsBody.body]=params[spec.paramAsBody.param]):params.body=params[spec.paramAsBody],delete params[spec.paramAsBody]),spec.needsBody&&!params.body)throw new TypeError("A request body is required.");if(spec.bulkBody&&(request.bulkBody=!0),"HEAD"===spec.method&&(request.castExists=!0),spec.url)request.path=resolveUrl(spec.url,params);else for(i=0;i<spec.urls.length&&!(request.path=resolveUrl(spec.urls[i],params));i++);if(!request.path){var minUrl=spec.url||spec.urls[spec.urls.length-1];throw new TypeError("Unable to build a path with those params. Supply at least "+_.keys(minUrl.req).join(", "))}spec.paramKeys||(spec.paramKeys=_.keys(spec.params),spec.requireParamKeys=_.transform(spec.params,function(req,param,key){param.required&&req.push(key)},[]));for(var key in params)if(params.hasOwnProperty(key)&&null!=params[key])switch(key){case"body":case"headers":case"requestTimeout":case"maxRetries":request[key]=params[key];break;case"ignore":request.ignore=_.isArray(params[key])?params[key]:[params[key]];break;case"method":request.method=_.toUpperString(params[key]);break;default:var paramSpec=spec.params[key];paramSpec?(paramSpec.name=paramSpec.name||key,null!=params[key]&&(castType[paramSpec.type]?query[paramSpec.name]=castType[paramSpec.type](paramSpec,params[key],key):query[paramSpec.name]=params[key],paramSpec["default"]&&query[paramSpec.name]===paramSpec["default"]&&delete query[paramSpec.name])):query[key]=params[key]}for(i=0;i<spec.requireParamKeys.length;i++)if(!query.hasOwnProperty(spec.requireParamKeys[i]))throw new TypeError("Missing required parameter "+spec.requireParamKeys[i]);return request.query=query,transport.request(request,cb)}function commaSepList(str){return str.split(",").map(function(i){return i.trim()})}var _=__webpack_require__(3);exports.makeFactoryWithModifier=makeFactoryWithModifier,exports.factory=makeFactoryWithModifier(),exports.proxyFactory=exports.factory.proxy,exports._resolveUrl=resolveUrl,exports.ApiNamespace=function(){},exports.namespaceFactory=function(){function ClientNamespace(transport,client){this.transport=transport,this.client=client}return ClientNamespace.prototype=new exports.ApiNamespace,ClientNamespace};var castType={"enum":function validSelection(param,val,name){if(_.isString(val)&&val.indexOf(",")>-1&&(val=commaSepList(val)),_.isArray(val))return val.map(function(v){return validSelection(param,v,name)}).join(",");for(var i=0;i<param.options.length;i++)if(param.options[i]===String(val))return param.options[i];throw new TypeError("Invalid "+name+": expected "+(param.options.length>1?"one of "+param.options.join(","):param.options[0]))},duration:function(param,val,name){if(_.isNumeric(val)||_.isInterval(val))return val;throw new TypeError("Invalid "+name+": expected a number or interval (an integer followed by one of M, w, d, h, m, s, y or ms).")},list:function(param,val,name){switch(typeof val){case"number":case"boolean":return""+val;case"string":val=commaSepList(val);case"object":if(_.isArray(val))return val.join(",");default:throw new TypeError("Invalid "+name+": expected be a comma separated list, array, number or string.")}},"boolean":function(param,val){return val=_.isString(val)?val.toLowerCase():val,"no"!==val&&"off"!==val&&!!val},number:function(param,val,name){if(_.isNumeric(val))return 1*val;throw new TypeError("Invalid "+name+": expected a number.")},string:function(param,val,name){switch(typeof val){case"number":case"string":return""+val;default:throw new TypeError("Invalid "+name+": expected a string.")}},time:function(param,val,name){if("string"==typeof val)return val;if(_.isNumeric(val))return""+val;if(val instanceof Date)return""+val.getTime();throw new TypeError("Invalid "+name+": expected some sort of time.")}}},function(module,exports,__webpack_require__){module.exports={_default:__webpack_require__(48),5.2:__webpack_require__(48),5.1:__webpack_require__(49),"5.0":__webpack_require__(50),2.4:__webpack_require__(51),1.7:__webpack_require__(52),"5.x":__webpack_require__(53),5.3:__webpack_require__(54),master:__webpack_require__(55)}},function(module,exports,__webpack_require__){var ca=__webpack_require__(46).makeFactoryWithModifier(function(spec){return __webpack_require__(3).merge(spec,{params:{filterPath:{type:"list",name:"filter_path"}}})}),namespace=__webpack_require__(46).namespaceFactory,api=module.exports={};api._namespaces=["cat","cluster","indices","ingest","nodes","snapshot","tasks"],api.bulk=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},type:{type:"string"},fields:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/<%=type%>/_bulk",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_bulk",req:{index:{type:"string"}}},{fmt:"/_bulk"}],needBody:!0,bulkBody:!0,method:"POST"}),api.cat=namespace(),api.cat.prototype.aliases=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/aliases/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_cat/aliases"}]}),api.cat.prototype.allocation=ca({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/allocation/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cat/allocation"}]}),api.cat.prototype.count=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/count/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/count"}]}),api.cat.prototype.fielddata=ca({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1},fields:{type:"list"}},urls:[{fmt:"/_cat/fielddata/<%=fields%>",req:{fields:{type:"list"}}},{fmt:"/_cat/fielddata"}]}),api.cat.prototype.health=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},ts:{type:"boolean","default":!0},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/health"}}),api.cat.prototype.help=ca({params:{help:{type:"boolean","default":!1},s:{type:"list"}},url:{fmt:"/_cat"}}),api.cat.prototype.indices=ca({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","m","g"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},health:{type:"enum","default":null,options:["green","yellow","red"]},help:{type:"boolean","default":!1},pri:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/indices/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/indices"}]}),api.cat.prototype.master=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/master"}}),api.cat.prototype.nodeattrs=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/nodeattrs"}}),api.cat.prototype.nodes=ca({params:{format:{type:"string"},fullId:{type:"boolean",name:"full_id"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/nodes"}}),api.cat.prototype.pendingTasks=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/pending_tasks"}}),api.cat.prototype.plugins=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/plugins"}}),api.cat.prototype.recovery=ca({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/recovery/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/recovery"}]}),api.cat.prototype.repositories=ca({params:{format:{type:"string"},local:{type:"boolean","default":!1},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/repositories"}}),api.cat.prototype.segments=ca({params:{format:{type:"string"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/segments/<%=index%>",
req:{index:{type:"list"}}},{fmt:"/_cat/segments"}]}),api.cat.prototype.shards=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/shards/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/shards"}]}),api.cat.prototype.snapshots=ca({params:{format:{type:"string"},ignoreUnavailable:{type:"boolean","default":!1,name:"ignore_unavailable"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/snapshots/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_cat/snapshots"}]}),api.cat.prototype.tasks=ca({params:{format:{type:"string"},nodeId:{type:"list",name:"node_id"},actions:{type:"list"},detailed:{type:"boolean"},parentNode:{type:"string",name:"parent_node"},parentTask:{type:"number",name:"parent_task"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/tasks"}}),api.cat.prototype.templates=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/templates/<%=name%>",req:{name:{type:"string"}}},{fmt:"/_cat/templates"}]}),api.cat.prototype.threadPool=ca({params:{format:{type:"string"},size:{type:"enum",options:["","k","m","g","t","p"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/thread_pool/<%=threadPoolPatterns%>",req:{threadPoolPatterns:{type:"list"}}},{fmt:"/_cat/thread_pool"}]}),api.clearScroll=ca({urls:[{fmt:"/_search/scroll/<%=scrollId%>",req:{scrollId:{type:"list"}}},{fmt:"/_search/scroll"}],paramAsBody:"scrollId",method:"DELETE"}),api.cluster=namespace(),api.cluster.prototype.allocationExplain=ca({params:{includeYesDecisions:{type:"boolean",name:"include_yes_decisions"},includeDiskInfo:{type:"boolean",name:"include_disk_info"}},url:{fmt:"/_cluster/allocation/explain"},method:"POST"}),api.cluster.prototype.getSettings=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},includeDefaults:{type:"boolean","default":!1,name:"include_defaults"}},url:{fmt:"/_cluster/settings"}}),api.cluster.prototype.health=ca({params:{level:{type:"enum","default":"cluster",options:["cluster","indices","shards"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForNodes:{type:"string",name:"wait_for_nodes"},waitForEvents:{type:"enum",options:["immediate","urgent","high","normal","low","languid"],name:"wait_for_events"},waitForNoRelocatingShards:{type:"boolean",name:"wait_for_no_relocating_shards"},waitForStatus:{type:"enum","default":null,options:["green","yellow","red"],name:"wait_for_status"}},urls:[{fmt:"/_cluster/health/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cluster/health"}]}),api.cluster.prototype.pendingTasks=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_cluster/pending_tasks"}}),api.cluster.prototype.putSettings=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/settings"},method:"PUT"}),api.cluster.prototype.reroute=ca({params:{dryRun:{type:"boolean",name:"dry_run"},explain:{type:"boolean"},retryFailed:{type:"boolean",name:"retry_failed"},metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","master_node","version"]},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/reroute"},method:"POST"}),api.cluster.prototype.state=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/_cluster/state/<%=metric%>/<%=index%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]},index:{type:"list"}}},{fmt:"/_cluster/state/<%=metric%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]}}},{fmt:"/_cluster/state"}]}),api.cluster.prototype.stats=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},human:{type:"boolean","default":!1},timeout:{type:"time"}},urls:[{fmt:"/_cluster/stats/nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cluster/stats"}]}),api.count=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},minScore:{type:"number",name:"min_score"},preference:{type:"string"},routing:{type:"string"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"}},urls:[{fmt:"/<%=index%>/<%=type%>/_count",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_count",req:{index:{type:"list"}}},{fmt:"/_count"}],method:"POST"}),api.countPercolate=ca({params:{routing:{type:"list"},preference:{type:"string"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},percolateIndex:{type:"string",name:"percolate_index"},percolateType:{type:"string",name:"percolate_type"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>/_percolate/count",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>/_percolate/count",req:{index:{type:"string"},type:{type:"string"}}}],method:"POST"}),api.create=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},parent:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},timestamp:{type:"time"},ttl:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},pipeline:{type:"string"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_create",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},needBody:!0,method:"POST"}),api["delete"]=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},parent:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"DELETE"}),api.deleteByQuery=ca({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum","default":"abort",options:["abort","proceed"]},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time","default":"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"},requestsPerSecond:{type:"number","default":0,name:"requests_per_second"},slices:{type:"number","default":1}},urls:[{fmt:"/<%=index%>/<%=type%>/_delete_by_query",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_delete_by_query",req:{index:{type:"list"}}}],needBody:!0,method:"POST"}),api.deleteScript=ca({url:{fmt:"/_scripts/<%=lang%>/<%=id%>",req:{lang:{type:"string"},id:{type:"string"}}},method:"DELETE"}),api.deleteTemplate=ca({url:{fmt:"/_search/template/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),api.exists=ca({params:{parent:{type:"string"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"HEAD"}),api.explain=ca({params:{analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},analyzer:{type:"string"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},storedFields:{type:"list",name:"stored_fields"},lenient:{type:"boolean"},parent:{type:"string"},preference:{type:"string"},q:{type:"string"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_explain",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"POST"}),api.fieldStats=ca({params:{fields:{type:"list"},level:{type:"enum","default":"cluster",options:["indices","cluster"]},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_field_stats",req:{index:{type:"list"}}},{fmt:"/_field_stats"}],method:"POST"}),api.get=ca({params:{storedFields:{type:"list",name:"stored_fields"},parent:{type:"string"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}}}),api.getScript=ca({url:{fmt:"/_scripts/<%=lang%>/<%=id%>",req:{lang:{type:"string"},id:{type:"string"}}}}),api.getSource=ca({params:{parent:{type:"string"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_source",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}}}),api.getTemplate=ca({url:{fmt:"/_search/template/<%=id%>",req:{id:{type:"string"}}}}),api.index=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},opType:{type:"enum","default":"index",options:["index","create"],name:"op_type"},parent:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},timestamp:{type:"time"},ttl:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>",req:{index:{type:"string"},type:{type:"string"}}}],needBody:!0,method:"POST"}),api.indices=namespace(),api.indices.prototype.analyze=ca({params:{analyzer:{type:"string"},charFilter:{type:"list",name:"char_filter"},field:{type:"string"},filter:{type:"list"},index:{type:"string"},preferLocal:{type:"boolean",name:"prefer_local"},text:{type:"list"},tokenizer:{type:"string"},explain:{type:"boolean"},attributes:{type:"list"},format:{type:"enum","default":"detailed",options:["detailed","text"]}},urls:[{fmt:"/<%=index%>/_analyze",req:{index:{type:"string"}}},{fmt:"/_analyze"}],method:"POST"}),api.indices.prototype.clearCache=ca({params:{fieldData:{type:"boolean",name:"field_data"},fielddata:{type:"boolean"},fields:{type:"list"},query:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},index:{type:"list"},recycler:{type:"boolean"},request:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_cache/clear",req:{index:{type:"list"}}},{fmt:"/_cache/clear"}],method:"POST"}),api.indices.prototype.close=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>/_close",req:{index:{type:"list"}}},method:"POST"}),api.indices.prototype.create=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},updateAllTypes:{type:"boolean",name:"update_all_types"}},url:{fmt:"/<%=index%>",req:{index:{type:"string"}}},method:"PUT"}),api.indices.prototype["delete"]=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"DELETE"}),api.indices.prototype.deleteAlias=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},method:"DELETE"}),api.indices.prototype.deleteTemplate=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},method:"DELETE"}),api.indices.prototype.exists=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"HEAD"}),api.indices.prototype.existsAlias=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":["open","closed"],options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}},{fmt:"/<%=index%>/_alias",req:{index:{type:"list"}}}],method:"HEAD"}),api.indices.prototype.existsTemplate=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},method:"HEAD"}),api.indices.prototype.existsType=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},url:{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"list"}}},method:"HEAD"}),api.indices.prototype.flush=ca({params:{force:{type:"boolean"},waitIfOngoing:{type:"boolean",name:"wait_if_ongoing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush",req:{index:{type:"list"}}},{fmt:"/_flush"}],method:"POST"}),api.indices.prototype.flushSynced=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush/synced",req:{index:{type:"list"}}},{fmt:"/_flush/synced"}],method:"POST"}),api.indices.prototype.forcemerge=ca({params:{flush:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},maxNumSegments:{type:"number",name:"max_num_segments"},onlyExpungeDeletes:{type:"boolean",name:"only_expunge_deletes"},operationThreading:{name:"operation_threading"},waitForMerge:{type:"boolean",name:"wait_for_merge"}},urls:[{fmt:"/<%=index%>/_forcemerge",req:{index:{type:"list"}}},{fmt:"/_forcemerge"}],method:"POST"}),api.indices.prototype.get=ca({params:{local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},human:{type:"boolean","default":!1},includeDefaults:{type:"boolean","default":!1,name:"include_defaults"}},urls:[{fmt:"/<%=index%>/<%=feature%>",req:{index:{type:"list"},feature:{type:"list",options:["_settings","_mappings","_aliases"]}}},{fmt:"/<%=index%>",req:{index:{type:"list"}}}]}),api.indices.prototype.getAlias=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"all",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}},{fmt:"/<%=index%>/_alias",req:{index:{type:"list"}}},{fmt:"/_alias"}]}),api.indices.prototype.getFieldMapping=ca({params:{includeDefaults:{type:"boolean",name:"include_defaults"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping/<%=type%>/field/<%=fields%>",req:{index:{type:"list"},type:{type:"list"},fields:{type:"list"}}},{fmt:"/<%=index%>/_mapping/field/<%=fields%>",req:{index:{type:"list"},fields:{type:"list"}}},{fmt:"/_mapping/<%=type%>/field/<%=fields%>",req:{type:{type:"list"},fields:{type:"list"}}},{fmt:"/_mapping/field/<%=fields%>",req:{fields:{type:"list"}}}]}),api.indices.prototype.getMapping=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_mapping",req:{index:{type:"list"}}},{fmt:"/_mapping/<%=type%>",req:{type:{type:"list"}}},{fmt:"/_mapping"}]}),api.indices.prototype.getSettings=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":["open","closed"],options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},local:{type:"boolean"},human:{type:"boolean","default":!1},includeDefaults:{type:"boolean","default":!1,name:"include_defaults"}},urls:[{fmt:"/<%=index%>/_settings/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_settings"}]}),api.indices.prototype.getTemplate=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_template/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_template"}]}),api.indices.prototype.getUpgrade=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},human:{type:"boolean","default":!1}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}]}),api.indices.prototype.open=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"closed",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>/_open",req:{index:{type:"list"}}},method:"POST"}),api.indices.prototype.putAlias=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"string"}}},method:"PUT"}),api.indices.prototype.putMapping=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},updateAllTypes:{type:"boolean",name:"update_all_types"}},urls:[{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"string"}}},{fmt:"/_mapping/<%=type%>",req:{type:{type:"string"}}}],needBody:!0,method:"PUT"}),api.indices.prototype.putSettings=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},preserveExisting:{type:"boolean",name:"preserve_existing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"}},urls:[{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings"}],needBody:!0,method:"PUT"}),api.indices.prototype.putTemplate=ca({params:{order:{type:"number"},create:{type:"boolean","default":!1},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},needBody:!0,method:"PUT"}),api.indices.prototype.recovery=ca({params:{detailed:{type:"boolean","default":!1},activeOnly:{type:"boolean","default":!1,name:"active_only"},human:{type:"boolean","default":!1}},urls:[{fmt:"/<%=index%>/_recovery",req:{index:{type:"list"}}},{fmt:"/_recovery"}]}),api.indices.prototype.refresh=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},force:{type:"boolean","default":!1},operationThreading:{name:"operation_threading"}},urls:[{fmt:"/<%=index%>/_refresh",req:{index:{type:"list"}}},{fmt:"/_refresh"}],method:"POST"}),api.indices.prototype.rollover=ca({params:{timeout:{type:"time"},dryRun:{type:"boolean",name:"dry_run"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},urls:[{fmt:"/<%=alias%>/_rollover/<%=newIndex%>",req:{alias:{type:"string"},newIndex:{type:"string"}}},{fmt:"/<%=alias%>/_rollover",req:{alias:{type:"string"}}}],method:"POST"}),api.indices.prototype.segments=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},human:{type:"boolean","default":!1},operationThreading:{name:"operation_threading"},verbose:{type:"boolean","default":!1}},urls:[{fmt:"/<%=index%>/_segments",req:{index:{type:"list"}}},{fmt:"/_segments"}]}),api.indices.prototype.shardStores=ca({params:{status:{type:"list",options:["green","yellow","red","all"]},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},operationThreading:{name:"operation_threading"}},urls:[{fmt:"/<%=index%>/_shard_stores",req:{index:{type:"list"}}},{fmt:"/_shard_stores"}]}),api.indices.prototype.shrink=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_shrink/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),api.indices.prototype.stats=ca({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"list"},human:{type:"boolean","default":!1},level:{type:"enum","default":"indices",options:["cluster","indices","shards"]},types:{type:"list"},includeSegmentFileSizes:{type:"boolean","default":!1,name:"include_segment_file_sizes"}},urls:[{fmt:"/<%=index%>/_stats/<%=metric%>",req:{index:{type:"list"},metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","percolate","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_stats/<%=metric%>",req:{metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","percolate","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/<%=index%>/_stats",req:{index:{type:"list"}}},{fmt:"/_stats"}]}),api.indices.prototype.updateAliases=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_aliases"},needBody:!0,method:"POST"}),api.indices.prototype.upgrade=ca({params:{allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},onlyAncientSegments:{type:"boolean",name:"only_ancient_segments"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}],method:"POST"}),api.indices.prototype.validateQuery=ca({params:{explain:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},operationThreading:{name:"operation_threading"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},rewrite:{type:"boolean"}},urls:[{fmt:"/<%=index%>/<%=type%>/_validate/query",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_validate/query",req:{index:{type:"list"}}},{fmt:"/_validate/query"}],method:"POST"}),api.info=ca({url:{fmt:"/"}}),api.ingest=namespace(),api.ingest.prototype.deletePipeline=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),api.ingest.prototype.getPipeline=ca({params:{masterTimeout:{type:"time",name:"master_timeout"}},urls:[{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline"}]}),api.ingest.prototype.putPipeline=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},needBody:!0,method:"PUT"}),api.ingest.prototype.simulate=ca({params:{verbose:{type:"boolean","default":!1}},urls:[{fmt:"/_ingest/pipeline/<%=id%>/_simulate",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline/_simulate"}],needBody:!0,method:"POST"}),api.mget=ca({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"}},urls:[{fmt:"/<%=index%>/<%=type%>/_mget",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_mget",req:{index:{type:"string"}}},{fmt:"/_mget"}],needBody:!0,method:"POST"}),api.mpercolate=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/<%=type%>/_mpercolate",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_mpercolate",req:{index:{type:"string"}}},{fmt:"/_mpercolate"}],needBody:!0,bulkBody:!0,method:"POST"}),api.msearch=ca({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},maxConcurrentSearches:{type:"number",name:"max_concurrent_searches"}},urls:[{fmt:"/<%=index%>/<%=type%>/_msearch",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_msearch",req:{index:{type:"list"}}},{fmt:"/_msearch"}],needBody:!0,bulkBody:!0,method:"POST"}),api.msearchTemplate=ca({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/_msearch/template",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_msearch/template",req:{index:{type:"list"}}},{fmt:"/_msearch/template"}],needBody:!0,bulkBody:!0,method:"POST"}),api.mtermvectors=ca({params:{ids:{type:"list",required:!1},termStatistics:{type:"boolean","default":!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean","default":!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean","default":!0,required:!1},positions:{type:"boolean","default":!0,required:!1},payloads:{type:"boolean","default":!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},parent:{type:"string",required:!1},realtime:{type:"boolean",
required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/_mtermvectors",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_mtermvectors",req:{index:{type:"string"}}},{fmt:"/_mtermvectors"}],method:"POST"}),api.nodes=namespace(),api.nodes.prototype.hotThreads=ca({params:{interval:{type:"time"},snapshots:{type:"number"},threads:{type:"number"},ignoreIdleThreads:{type:"boolean",name:"ignore_idle_threads"},type:{type:"enum",options:["cpu","wait","block"]},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/hotthreads",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/hotthreads"}]}),api.nodes.prototype.info=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},human:{type:"boolean","default":!1},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/<%=metric%>",req:{metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes"}]}),api.nodes.prototype.stats=ca({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"boolean"},human:{type:"boolean","default":!1},level:{type:"enum","default":"node",options:["indices","node","shards"]},types:{type:"list"},timeout:{type:"time"},includeSegmentFileSizes:{type:"boolean","default":!1,name:"include_segment_file_sizes"}},urls:[{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>/<%=indexMetric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","percolate","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats/<%=metric%>/<%=indexMetric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","percolate","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/stats/<%=metric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats"}]}),api.percolate=ca({params:{routing:{type:"list"},preference:{type:"string"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},percolateIndex:{type:"string",name:"percolate_index"},percolateType:{type:"string",name:"percolate_type"},percolateRouting:{type:"string",name:"percolate_routing"},percolatePreference:{type:"string",name:"percolate_preference"},percolateFormat:{type:"enum",options:["ids"],name:"percolate_format"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>/_percolate",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>/_percolate",req:{index:{type:"string"},type:{type:"string"}}}],method:"POST"}),api.ping=ca({url:{fmt:"/"},requestTimeout:3e3,method:"HEAD"}),api.putScript=ca({url:{fmt:"/_scripts/<%=lang%>/<%=id%>",req:{lang:{type:"string"},id:{type:"string"}}},needBody:!0,method:"PUT"}),api.putTemplate=ca({url:{fmt:"/_search/template/<%=id%>",req:{id:{type:"string"}}},needBody:!0,method:"PUT"}),api.reindex=ca({params:{refresh:{type:"boolean"},timeout:{type:"time","default":"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"},requestsPerSecond:{type:"number","default":0,name:"requests_per_second"},slices:{type:"number","default":1}},url:{fmt:"/_reindex"},needBody:!0,method:"POST"}),api.reindexRethrottle=ca({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_reindex/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"}),api.renderSearchTemplate=ca({urls:[{fmt:"/_render/template/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_render/template"}],method:"POST"}),api.scroll=ca({params:{scroll:{type:"time"},scrollId:{type:"string",name:"scroll_id"}},urls:[{fmt:"/_search/scroll/<%=scrollId%>",req:{scrollId:{type:"string"}}},{fmt:"/_search/scroll"}],paramAsBody:"scrollId",method:"POST"}),api.search=ca({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},explain:{type:"boolean"},storedFields:{type:"list",name:"stored_fields"},docvalueFields:{type:"list",name:"docvalue_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},suggestField:{type:"string",name:"suggest_field"},suggestMode:{type:"enum","default":"missing",options:["missing","popular","always"],name:"suggest_mode"},suggestSize:{type:"number",name:"suggest_size"},suggestText:{type:"string",name:"suggest_text"},timeout:{type:"time"},trackScores:{type:"boolean",name:"track_scores"},version:{type:"boolean"},requestCache:{type:"boolean",name:"request_cache"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_search",req:{index:{type:"list"}}},{fmt:"/_search"}],method:"POST"}),api.searchShards=ca({params:{preference:{type:"string"},routing:{type:"string"},local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search_shards",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_search_shards",req:{index:{type:"list"}}},{fmt:"/_search_shards"}],method:"POST"}),api.searchTemplate=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},preference:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},explain:{type:"boolean"},profile:{type:"boolean"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search/template",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_search/template",req:{index:{type:"list"}}},{fmt:"/_search/template"}],method:"POST"}),api.snapshot=namespace(),api.snapshot.prototype.create=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),api.snapshot.prototype.createRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},verify:{type:"boolean"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"string"}}},needBody:!0,method:"POST"}),api.snapshot.prototype["delete"]=ca({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"DELETE"}),api.snapshot.prototype.deleteRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},method:"DELETE"}),api.snapshot.prototype.get=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"list"}}}}),api.snapshot.prototype.getRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_snapshot"}]}),api.snapshot.prototype.restore=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_restore",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),api.snapshot.prototype.status=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"}},urls:[{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_status",req:{repository:{type:"string"},snapshot:{type:"list"}}},{fmt:"/_snapshot/<%=repository%>/_status",req:{repository:{type:"string"}}},{fmt:"/_snapshot/_status"}]}),api.snapshot.prototype.verifyRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>/_verify",req:{repository:{type:"string"}}},method:"POST"}),api.suggest=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},preference:{type:"string"},routing:{type:"string"}},urls:[{fmt:"/<%=index%>/_suggest",req:{index:{type:"list"}}},{fmt:"/_suggest"}],needBody:!0,method:"POST"}),api.tasks=namespace(),api.tasks.prototype.cancel=ca({params:{nodeId:{type:"list",name:"node_id"},actions:{type:"list"},parentNode:{type:"string",name:"parent_node"},parentTask:{type:"string",name:"parent_task"}},urls:[{fmt:"/_tasks/<%=taskId%>/_cancel",req:{taskId:{type:"string"}}},{fmt:"/_tasks/_cancel"}],method:"POST"}),api.tasks.prototype.get=ca({params:{waitForCompletion:{type:"boolean",name:"wait_for_completion"}},url:{fmt:"/_tasks/<%=taskId%>",req:{taskId:{type:"string"}}}}),api.tasks.prototype.list=ca({params:{nodeId:{type:"list",name:"node_id"},actions:{type:"list"},detailed:{type:"boolean"},parentNode:{type:"string",name:"parent_node"},parentTask:{type:"string",name:"parent_task"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},groupBy:{type:"enum","default":"nodes",options:["nodes","parents"],name:"group_by"}},url:{fmt:"/_tasks"}}),api.termvectors=ca({params:{termStatistics:{type:"boolean","default":!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean","default":!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean","default":!0,required:!1},positions:{type:"boolean","default":!0,required:!1},payloads:{type:"boolean","default":!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},parent:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>/_termvectors",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>/_termvectors",req:{index:{type:"string"},type:{type:"string"}}}],method:"POST"}),api.update=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},fields:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},lang:{type:"string"},parent:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},retryOnConflict:{type:"number",name:"retry_on_conflict"},routing:{type:"string"},timeout:{type:"time"},timestamp:{type:"time"},ttl:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_update",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"POST"}),api.updateByQuery=ca({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum","default":"abort",options:["abort","proceed"]},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},pipeline:{type:"string"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},versionType:{type:"boolean",name:"version_type"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time","default":"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"},requestsPerSecond:{type:"number","default":0,name:"requests_per_second"},slices:{type:"number","default":1}},urls:[{fmt:"/<%=index%>/<%=type%>/_update_by_query",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_update_by_query",req:{index:{type:"list"}}}],method:"POST"})},function(module,exports,__webpack_require__){var ca=__webpack_require__(46).makeFactoryWithModifier(function(spec){return __webpack_require__(3).merge(spec,{params:{filterPath:{type:"list",name:"filter_path"}}})}),namespace=__webpack_require__(46).namespaceFactory,api=module.exports={};api._namespaces=["cat","cluster","indices","ingest","nodes","snapshot","tasks"],api.bulk=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},type:{type:"string"},fields:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/<%=type%>/_bulk",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_bulk",req:{index:{type:"string"}}},{fmt:"/_bulk"}],needBody:!0,bulkBody:!0,method:"POST"}),api.cat=namespace(),api.cat.prototype.aliases=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/aliases/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_cat/aliases"}]}),api.cat.prototype.allocation=ca({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/allocation/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cat/allocation"}]}),api.cat.prototype.count=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/count/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/count"}]}),api.cat.prototype.fielddata=ca({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1},fields:{type:"list"}},urls:[{fmt:"/_cat/fielddata/<%=fields%>",req:{fields:{type:"list"}}},{fmt:"/_cat/fielddata"}]}),api.cat.prototype.health=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},ts:{type:"boolean","default":!0},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/health"}}),api.cat.prototype.help=ca({params:{help:{type:"boolean","default":!1},s:{type:"list"}},url:{fmt:"/_cat"}}),api.cat.prototype.indices=ca({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","m","g"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},health:{type:"enum","default":null,options:["green","yellow","red"]},help:{type:"boolean","default":!1},pri:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/indices/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/indices"}]}),api.cat.prototype.master=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/master"}}),api.cat.prototype.nodeattrs=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/nodeattrs"}}),api.cat.prototype.nodes=ca({params:{format:{type:"string"},fullId:{type:"boolean",name:"full_id"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/nodes"}}),api.cat.prototype.pendingTasks=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/pending_tasks"}}),api.cat.prototype.plugins=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/plugins"}}),api.cat.prototype.recovery=ca({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/recovery/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/recovery"}]}),api.cat.prototype.repositories=ca({params:{format:{type:"string"},local:{type:"boolean","default":!1},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/repositories"}}),api.cat.prototype.segments=ca({params:{format:{type:"string"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/segments/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/segments"}]}),api.cat.prototype.shards=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/shards/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/shards"}]}),api.cat.prototype.snapshots=ca({params:{format:{type:"string"},ignoreUnavailable:{type:"boolean","default":!1,name:"ignore_unavailable"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/snapshots/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_cat/snapshots"}]}),api.cat.prototype.tasks=ca({params:{format:{type:"string"},nodeId:{type:"list",name:"node_id"},actions:{type:"list"},detailed:{type:"boolean"},parentNode:{type:"string",name:"parent_node"},parentTask:{type:"number",name:"parent_task"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/tasks"}}),api.cat.prototype.templates=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/templates/<%=name%>",req:{name:{type:"string"}}},{fmt:"/_cat/templates"}]}),api.cat.prototype.threadPool=ca({params:{format:{type:"string"},size:{type:"enum",options:["","k","m","g","t","p"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/thread_pool/<%=threadPoolPatterns%>",req:{threadPoolPatterns:{type:"list"}}},{fmt:"/_cat/thread_pool"}]}),api.clearScroll=ca({urls:[{fmt:"/_search/scroll/<%=scrollId%>",req:{scrollId:{type:"list"}}},{fmt:"/_search/scroll"}],paramAsBody:"scrollId",method:"DELETE"}),api.cluster=namespace(),api.cluster.prototype.allocationExplain=ca({params:{includeYesDecisions:{type:"boolean",name:"include_yes_decisions"},includeDiskInfo:{type:"boolean",name:"include_disk_info"}},url:{fmt:"/_cluster/allocation/explain"},method:"POST"}),api.cluster.prototype.getSettings=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},includeDefaults:{type:"boolean","default":!1,name:"include_defaults"}},url:{fmt:"/_cluster/settings"}}),api.cluster.prototype.health=ca({params:{level:{type:"enum","default":"cluster",options:["cluster","indices","shards"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForNodes:{type:"string",name:"wait_for_nodes"},waitForEvents:{type:"enum",options:["immediate","urgent","high","normal","low","languid"],name:"wait_for_events"},waitForNoRelocatingShards:{type:"boolean",name:"wait_for_no_relocating_shards"},waitForStatus:{type:"enum","default":null,options:["green","yellow","red"],name:"wait_for_status"}},urls:[{fmt:"/_cluster/health/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cluster/health"}]}),api.cluster.prototype.pendingTasks=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_cluster/pending_tasks"}}),api.cluster.prototype.putSettings=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/settings"},method:"PUT"}),api.cluster.prototype.reroute=ca({params:{dryRun:{type:"boolean",name:"dry_run"},explain:{type:"boolean"},retryFailed:{type:"boolean",name:"retry_failed"},metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","master_node","version"]},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/reroute"},method:"POST"}),api.cluster.prototype.state=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/_cluster/state/<%=metric%>/<%=index%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]},index:{type:"list"}}},{fmt:"/_cluster/state/<%=metric%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]}}},{fmt:"/_cluster/state"}]}),api.cluster.prototype.stats=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},human:{type:"boolean","default":!1},timeout:{type:"time"}},urls:[{fmt:"/_cluster/stats/nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cluster/stats"}]}),api.count=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},minScore:{type:"number",name:"min_score"},preference:{type:"string"},routing:{type:"string"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"}},urls:[{fmt:"/<%=index%>/<%=type%>/_count",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_count",req:{index:{type:"list"}}},{fmt:"/_count"}],method:"POST"}),api.countPercolate=ca({params:{routing:{type:"list"},preference:{type:"string"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},percolateIndex:{type:"string",name:"percolate_index"},percolateType:{type:"string",name:"percolate_type"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>/_percolate/count",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>/_percolate/count",req:{index:{type:"string"},type:{type:"string"}}}],method:"POST"}),api.create=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},parent:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},timestamp:{type:"time"},ttl:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},pipeline:{type:"string"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_create",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},needBody:!0,method:"POST"}),api["delete"]=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},parent:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"DELETE"}),api.deleteByQuery=ca({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum","default":"abort",options:["abort","proceed"]},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time","default":"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"},requestsPerSecond:{type:"number","default":0,name:"requests_per_second"},slices:{type:"integer","default":1}},urls:[{fmt:"/<%=index%>/<%=type%>/_delete_by_query",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_delete_by_query",req:{index:{type:"list"}}}],needBody:!0,method:"POST"}),api.deleteScript=ca({url:{fmt:"/_scripts/<%=lang%>/<%=id%>",req:{lang:{type:"string"},id:{type:"string"}}},method:"DELETE"}),api.deleteTemplate=ca({url:{fmt:"/_search/template/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),api.exists=ca({params:{parent:{type:"string"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"HEAD"}),api.explain=ca({params:{analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},analyzer:{type:"string"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},storedFields:{type:"list",name:"stored_fields"},lenient:{type:"boolean"},parent:{type:"string"},preference:{type:"string"},q:{type:"string"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_explain",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"POST"}),api.fieldStats=ca({params:{fields:{type:"list"},level:{type:"enum","default":"cluster",options:["indices","cluster"]},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_field_stats",req:{index:{type:"list"}}},{fmt:"/_field_stats"}],method:"POST"}),api.get=ca({params:{storedFields:{type:"list",name:"stored_fields"},parent:{type:"string"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"
}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}}}),api.getScript=ca({url:{fmt:"/_scripts/<%=lang%>/<%=id%>",req:{lang:{type:"string"},id:{type:"string"}}}}),api.getSource=ca({params:{parent:{type:"string"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_source",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}}}),api.getTemplate=ca({url:{fmt:"/_search/template/<%=id%>",req:{id:{type:"string"}}}}),api.index=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},opType:{type:"enum","default":"index",options:["index","create"],name:"op_type"},parent:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},timestamp:{type:"time"},ttl:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>",req:{index:{type:"string"},type:{type:"string"}}}],needBody:!0,method:"POST"}),api.indices=namespace(),api.indices.prototype.analyze=ca({params:{analyzer:{type:"string"},charFilter:{type:"list",name:"char_filter"},field:{type:"string"},filter:{type:"list"},index:{type:"string"},preferLocal:{type:"boolean",name:"prefer_local"},text:{type:"list"},tokenizer:{type:"string"},explain:{type:"boolean"},attributes:{type:"list"},format:{type:"enum","default":"detailed",options:["detailed","text"]}},urls:[{fmt:"/<%=index%>/_analyze",req:{index:{type:"string"}}},{fmt:"/_analyze"}],method:"POST"}),api.indices.prototype.clearCache=ca({params:{fieldData:{type:"boolean",name:"field_data"},fielddata:{type:"boolean"},fields:{type:"list"},query:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},index:{type:"list"},recycler:{type:"boolean"},request:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_cache/clear",req:{index:{type:"list"}}},{fmt:"/_cache/clear"}],method:"POST"}),api.indices.prototype.close=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>/_close",req:{index:{type:"list"}}},method:"POST"}),api.indices.prototype.create=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},updateAllTypes:{type:"boolean",name:"update_all_types"}},url:{fmt:"/<%=index%>",req:{index:{type:"string"}}},method:"PUT"}),api.indices.prototype["delete"]=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"DELETE"}),api.indices.prototype.deleteAlias=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},method:"DELETE"}),api.indices.prototype.deleteTemplate=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},method:"DELETE"}),api.indices.prototype.exists=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"HEAD"}),api.indices.prototype.existsAlias=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":["open","closed"],options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}},{fmt:"/<%=index%>/_alias",req:{index:{type:"list"}}}],method:"HEAD"}),api.indices.prototype.existsTemplate=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},method:"HEAD"}),api.indices.prototype.existsType=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},url:{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"list"}}},method:"HEAD"}),api.indices.prototype.flush=ca({params:{force:{type:"boolean"},waitIfOngoing:{type:"boolean",name:"wait_if_ongoing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush",req:{index:{type:"list"}}},{fmt:"/_flush"}],method:"POST"}),api.indices.prototype.flushSynced=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush/synced",req:{index:{type:"list"}}},{fmt:"/_flush/synced"}],method:"POST"}),api.indices.prototype.forcemerge=ca({params:{flush:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},maxNumSegments:{type:"number",name:"max_num_segments"},onlyExpungeDeletes:{type:"boolean",name:"only_expunge_deletes"},operationThreading:{name:"operation_threading"},waitForMerge:{type:"boolean",name:"wait_for_merge"}},urls:[{fmt:"/<%=index%>/_forcemerge",req:{index:{type:"list"}}},{fmt:"/_forcemerge"}],method:"POST"}),api.indices.prototype.get=ca({params:{local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},human:{type:"boolean","default":!1},includeDefaults:{type:"boolean","default":!1,name:"include_defaults"}},urls:[{fmt:"/<%=index%>/<%=feature%>",req:{index:{type:"list"},feature:{type:"list",options:["_settings","_mappings","_aliases"]}}},{fmt:"/<%=index%>",req:{index:{type:"list"}}}]}),api.indices.prototype.getAlias=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"all",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}},{fmt:"/<%=index%>/_alias",req:{index:{type:"list"}}},{fmt:"/_alias"}]}),api.indices.prototype.getFieldMapping=ca({params:{includeDefaults:{type:"boolean",name:"include_defaults"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping/<%=type%>/field/<%=fields%>",req:{index:{type:"list"},type:{type:"list"},fields:{type:"list"}}},{fmt:"/<%=index%>/_mapping/field/<%=fields%>",req:{index:{type:"list"},fields:{type:"list"}}},{fmt:"/_mapping/<%=type%>/field/<%=fields%>",req:{type:{type:"list"},fields:{type:"list"}}},{fmt:"/_mapping/field/<%=fields%>",req:{fields:{type:"list"}}}]}),api.indices.prototype.getMapping=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_mapping",req:{index:{type:"list"}}},{fmt:"/_mapping/<%=type%>",req:{type:{type:"list"}}},{fmt:"/_mapping"}]}),api.indices.prototype.getSettings=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":["open","closed"],options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},local:{type:"boolean"},human:{type:"boolean","default":!1},includeDefaults:{type:"boolean","default":!1,name:"include_defaults"}},urls:[{fmt:"/<%=index%>/_settings/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_settings"}]}),api.indices.prototype.getTemplate=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_template/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_template"}]}),api.indices.prototype.getUpgrade=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},human:{type:"boolean","default":!1}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}]}),api.indices.prototype.open=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"closed",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>/_open",req:{index:{type:"list"}}},method:"POST"}),api.indices.prototype.putAlias=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"string"}}},method:"PUT"}),api.indices.prototype.putMapping=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},updateAllTypes:{type:"boolean",name:"update_all_types"}},urls:[{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"string"}}},{fmt:"/_mapping/<%=type%>",req:{type:{type:"string"}}}],needBody:!0,method:"PUT"}),api.indices.prototype.putSettings=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},preserveExisting:{type:"boolean",name:"preserve_existing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"}},urls:[{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings"}],needBody:!0,method:"PUT"}),api.indices.prototype.putTemplate=ca({params:{order:{type:"number"},create:{type:"boolean","default":!1},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},needBody:!0,method:"PUT"}),api.indices.prototype.recovery=ca({params:{detailed:{type:"boolean","default":!1},activeOnly:{type:"boolean","default":!1,name:"active_only"},human:{type:"boolean","default":!1}},urls:[{fmt:"/<%=index%>/_recovery",req:{index:{type:"list"}}},{fmt:"/_recovery"}]}),api.indices.prototype.refresh=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},force:{type:"boolean","default":!1},operationThreading:{name:"operation_threading"}},urls:[{fmt:"/<%=index%>/_refresh",req:{index:{type:"list"}}},{fmt:"/_refresh"}],method:"POST"}),api.indices.prototype.rollover=ca({params:{timeout:{type:"time"},dryRun:{type:"boolean",name:"dry_run"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},urls:[{fmt:"/<%=alias%>/_rollover/<%=newIndex%>",req:{alias:{type:"string"},newIndex:{type:"string"}}},{fmt:"/<%=alias%>/_rollover",req:{alias:{type:"string"}}}],method:"POST"}),api.indices.prototype.segments=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},human:{type:"boolean","default":!1},operationThreading:{name:"operation_threading"},verbose:{type:"boolean","default":!1}},urls:[{fmt:"/<%=index%>/_segments",req:{index:{type:"list"}}},{fmt:"/_segments"}]}),api.indices.prototype.shardStores=ca({params:{status:{type:"list",options:["green","yellow","red","all"]},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},operationThreading:{name:"operation_threading"}},urls:[{fmt:"/<%=index%>/_shard_stores",req:{index:{type:"list"}}},{fmt:"/_shard_stores"}]}),api.indices.prototype.shrink=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_shrink/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),api.indices.prototype.stats=ca({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"list"},human:{type:"boolean","default":!1},level:{type:"enum","default":"indices",options:["cluster","indices","shards"]},types:{type:"list"},includeSegmentFileSizes:{type:"boolean","default":!1,name:"include_segment_file_sizes"}},urls:[{fmt:"/<%=index%>/_stats/<%=metric%>",req:{index:{type:"list"},metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","percolate","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_stats/<%=metric%>",req:{metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","percolate","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/<%=index%>/_stats",req:{index:{type:"list"}}},{fmt:"/_stats"}]}),api.indices.prototype.updateAliases=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_aliases"},needBody:!0,method:"POST"}),api.indices.prototype.upgrade=ca({params:{allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},onlyAncientSegments:{type:"boolean",name:"only_ancient_segments"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}],method:"POST"}),api.indices.prototype.validateQuery=ca({params:{explain:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},operationThreading:{name:"operation_threading"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},rewrite:{type:"boolean"}},urls:[{fmt:"/<%=index%>/<%=type%>/_validate/query",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_validate/query",req:{index:{type:"list"}}},{fmt:"/_validate/query"}],method:"POST"}),api.info=ca({url:{fmt:"/"}}),api.ingest=namespace(),api.ingest.prototype.deletePipeline=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),api.ingest.prototype.getPipeline=ca({params:{masterTimeout:{type:"time",name:"master_timeout"}},urls:[{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline"}]}),api.ingest.prototype.putPipeline=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},needBody:!0,method:"PUT"}),api.ingest.prototype.simulate=ca({params:{verbose:{type:"boolean","default":!1}},urls:[{fmt:"/_ingest/pipeline/<%=id%>/_simulate",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline/_simulate"}],needBody:!0,method:"POST"}),api.mget=ca({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"}},urls:[{fmt:"/<%=index%>/<%=type%>/_mget",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_mget",req:{index:{type:"string"}}},{fmt:"/_mget"}],needBody:!0,method:"POST"}),api.mpercolate=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/<%=type%>/_mpercolate",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_mpercolate",req:{index:{type:"string"}}},{fmt:"/_mpercolate"}],needBody:!0,bulkBody:!0,method:"POST"}),api.msearch=ca({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},maxConcurrentSearches:{type:"number",name:"max_concurrent_searches"}},urls:[{fmt:"/<%=index%>/<%=type%>/_msearch",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_msearch",req:{index:{type:"list"}}},{fmt:"/_msearch"}],needBody:!0,bulkBody:!0,method:"POST"}),api.msearchTemplate=ca({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/_msearch/template",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_msearch/template",req:{index:{type:"list"}}},{fmt:"/_msearch/template"}],needBody:!0,bulkBody:!0,method:"POST"}),api.mtermvectors=ca({params:{ids:{type:"list",required:!1},termStatistics:{type:"boolean","default":!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean","default":!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean","default":!0,required:!1},positions:{type:"boolean","default":!0,required:!1},payloads:{type:"boolean","default":!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},parent:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/_mtermvectors",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_mtermvectors",req:{index:{type:"string"}}},{fmt:"/_mtermvectors"}],method:"POST"}),api.nodes=namespace(),api.nodes.prototype.hotThreads=ca({params:{interval:{type:"time"},snapshots:{type:"number"},threads:{type:"number"},ignoreIdleThreads:{type:"boolean",name:"ignore_idle_threads"},type:{type:"enum",options:["cpu","wait","block"]},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/hotthreads",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/hotthreads"}]}),api.nodes.prototype.info=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},human:{type:"boolean","default":!1},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/<%=metric%>",req:{metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes"}]}),api.nodes.prototype.stats=ca({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"boolean"},human:{type:"boolean","default":!1},level:{type:"enum","default":"node",options:["indices","node","shards"]},types:{type:"list"},timeout:{type:"time"},includeSegmentFileSizes:{type:"boolean","default":!1,name:"include_segment_file_sizes"}},urls:[{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>/<%=indexMetric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","percolate","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats/<%=metric%>/<%=indexMetric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","percolate","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/stats/<%=metric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats"}]}),api.percolate=ca({params:{routing:{type:"list"},preference:{type:"string"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},percolateIndex:{type:"string",name:"percolate_index"},percolateType:{type:"string",name:"percolate_type"},percolateRouting:{type:"string",name:"percolate_routing"},percolatePreference:{type:"string",name:"percolate_preference"},percolateFormat:{type:"enum",options:["ids"],name:"percolate_format"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>/_percolate",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>/_percolate",req:{index:{type:"string"},type:{type:"string"}}}],method:"POST"}),api.ping=ca({url:{fmt:"/"},requestTimeout:3e3,method:"HEAD"}),api.putScript=ca({url:{fmt:"/_scripts/<%=lang%>/<%=id%>",req:{lang:{type:"string"},id:{type:"string"}}},needBody:!0,method:"PUT"}),api.putTemplate=ca({url:{fmt:"/_search/template/<%=id%>",req:{id:{type:"string"}}},needBody:!0,method:"PUT"}),api.reindex=ca({params:{refresh:{type:"boolean"},timeout:{type:"time","default":"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"},requestsPerSecond:{type:"number","default":0,name:"requests_per_second"},slices:{type:"integer","default":1}},url:{fmt:"/_reindex"},needBody:!0,method:"POST"}),api.reindexRethrottle=ca({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_reindex/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"}),api.renderSearchTemplate=ca({urls:[{fmt:"/_render/template/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_render/template"}],method:"POST"}),api.scroll=ca({params:{scroll:{type:"time"},scrollId:{type:"string",name:"scroll_id"}},urls:[{fmt:"/_search/scroll/<%=scrollId%>",req:{scrollId:{type:"string"}}},{fmt:"/_search/scroll"}],paramAsBody:"scrollId",method:"POST"}),api.search=ca({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},explain:{type:"boolean"},storedFields:{type:"list",name:"stored_fields"},docvalueFields:{type:"list",name:"docvalue_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},suggestField:{type:"string",name:"suggest_field"},suggestMode:{type:"enum","default":"missing",options:["missing","popular","always"],name:"suggest_mode"},suggestSize:{type:"number",name:"suggest_size"},suggestText:{type:"string",name:"suggest_text"},timeout:{type:"time"},trackScores:{type:"boolean",name:"track_scores"},version:{type:"boolean"},requestCache:{type:"boolean",name:"request_cache"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_search",req:{index:{type:"list"}}},{fmt:"/_search"}],method:"POST"}),api.searchShards=ca({params:{preference:{type:"string"},routing:{type:"string"},local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search_shards",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_search_shards",req:{index:{type:"list"}}},{fmt:"/_search_shards"}],method:"POST"}),api.searchTemplate=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},preference:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},explain:{type:"boolean"},profile:{type:"boolean"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search/template",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_search/template",req:{index:{type:"list"}}},{fmt:"/_search/template"}],method:"POST"}),api.snapshot=namespace(),api.snapshot.prototype.create=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),api.snapshot.prototype.createRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},verify:{type:"boolean"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"string"}}},needBody:!0,method:"POST"}),api.snapshot.prototype["delete"]=ca({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"DELETE"}),api.snapshot.prototype.deleteRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},method:"DELETE"}),api.snapshot.prototype.get=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"list"}}}}),api.snapshot.prototype.getRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_snapshot"}]}),api.snapshot.prototype.restore=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_restore",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),api.snapshot.prototype.status=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"}},urls:[{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_status",req:{repository:{type:"string"},snapshot:{type:"list"}}},{fmt:"/_snapshot/<%=repository%>/_status",req:{repository:{type:"string"}}},{fmt:"/_snapshot/_status"}]}),api.snapshot.prototype.verifyRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>/_verify",req:{repository:{type:"string"}}},method:"POST"}),api.suggest=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},preference:{type:"string"},routing:{type:"string"}},urls:[{fmt:"/<%=index%>/_suggest",req:{index:{type:"list"}}},{fmt:"/_suggest"}],needBody:!0,method:"POST"}),api.tasks=namespace(),api.tasks.prototype.cancel=ca({params:{nodeId:{type:"list",name:"node_id"},actions:{type:"list"},parentNode:{type:"string",name:"parent_node"},parentTask:{type:"string",name:"parent_task"}},urls:[{fmt:"/_tasks/<%=taskId%>/_cancel",req:{taskId:{type:"string"}}},{fmt:"/_tasks/_cancel"}],method:"POST"}),api.tasks.prototype.get=ca({params:{waitForCompletion:{type:"boolean",name:"wait_for_completion"
}},url:{fmt:"/_tasks/<%=taskId%>",req:{taskId:{type:"string"}}}}),api.tasks.prototype.list=ca({params:{nodeId:{type:"list",name:"node_id"},actions:{type:"list"},detailed:{type:"boolean"},parentNode:{type:"string",name:"parent_node"},parentTask:{type:"string",name:"parent_task"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},groupBy:{type:"enum","default":"nodes",options:["nodes","parents"],name:"group_by"}},url:{fmt:"/_tasks"}}),api.termvectors=ca({params:{termStatistics:{type:"boolean","default":!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean","default":!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean","default":!0,required:!1},positions:{type:"boolean","default":!0,required:!1},payloads:{type:"boolean","default":!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},parent:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>/_termvectors",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>/_termvectors",req:{index:{type:"string"},type:{type:"string"}}}],method:"POST"}),api.update=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},fields:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},lang:{type:"string"},parent:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},retryOnConflict:{type:"number",name:"retry_on_conflict"},routing:{type:"string"},timeout:{type:"time"},timestamp:{type:"time"},ttl:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_update",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"POST"}),api.updateByQuery=ca({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum","default":"abort",options:["abort","proceed"]},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},pipeline:{type:"string"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},versionType:{type:"boolean",name:"version_type"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time","default":"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"},requestsPerSecond:{type:"number","default":0,name:"requests_per_second"},slices:{type:"integer","default":1}},urls:[{fmt:"/<%=index%>/<%=type%>/_update_by_query",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_update_by_query",req:{index:{type:"list"}}}],method:"POST"})},function(module,exports,__webpack_require__){var ca=__webpack_require__(46).makeFactoryWithModifier(function(spec){return __webpack_require__(3).merge(spec,{params:{filterPath:{type:"list",name:"filter_path"}}})}),namespace=__webpack_require__(46).namespaceFactory,api=module.exports={};api._namespaces=["cat","cluster","indices","ingest","nodes","snapshot","tasks"],api.bulk=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},type:{type:"string"},fields:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/<%=type%>/_bulk",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_bulk",req:{index:{type:"string"}}},{fmt:"/_bulk"}],needBody:!0,bulkBody:!0,method:"POST"}),api.cat=namespace(),api.cat.prototype.aliases=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/aliases/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_cat/aliases"}]}),api.cat.prototype.allocation=ca({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/allocation/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cat/allocation"}]}),api.cat.prototype.count=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/count/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/count"}]}),api.cat.prototype.fielddata=ca({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1},fields:{type:"list"}},urls:[{fmt:"/_cat/fielddata/<%=fields%>",req:{fields:{type:"list"}}},{fmt:"/_cat/fielddata"}]}),api.cat.prototype.health=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},ts:{type:"boolean","default":!0},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/health"}}),api.cat.prototype.help=ca({params:{help:{type:"boolean","default":!1}},url:{fmt:"/_cat"}}),api.cat.prototype.indices=ca({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","m","g"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},health:{type:"enum","default":null,options:["green","yellow","red"]},help:{type:"boolean","default":!1},pri:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/indices/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/indices"}]}),api.cat.prototype.master=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/master"}}),api.cat.prototype.nodeattrs=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/nodeattrs"}}),api.cat.prototype.nodes=ca({params:{format:{type:"string"},fullId:{type:"boolean",name:"full_id"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/nodes"}}),api.cat.prototype.pendingTasks=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/pending_tasks"}}),api.cat.prototype.plugins=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/plugins"}}),api.cat.prototype.recovery=ca({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/recovery/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/recovery"}]}),api.cat.prototype.repositories=ca({params:{format:{type:"string"},local:{type:"boolean","default":!1},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/repositories"}}),api.cat.prototype.segments=ca({params:{format:{type:"string"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/segments/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/segments"}]}),api.cat.prototype.shards=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/shards/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/shards"}]}),api.cat.prototype.snapshots=ca({params:{format:{type:"string"},ignoreUnavailable:{type:"boolean","default":!1,name:"ignore_unavailable"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/snapshots/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_cat/snapshots"}]}),api.cat.prototype.tasks=ca({params:{format:{type:"string"},nodeId:{type:"list",name:"node_id"},actions:{type:"list"},detailed:{type:"boolean"},parentNode:{type:"string",name:"parent_node"},parentTask:{type:"number",name:"parent_task"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/tasks"}}),api.cat.prototype.threadPool=ca({params:{format:{type:"string"},size:{type:"enum",options:["","k","m","g","t","p"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/thread_pool/<%=threadPoolPatterns%>",req:{threadPoolPatterns:{type:"list"}}},{fmt:"/_cat/thread_pool"}]}),api.clearScroll=ca({urls:[{fmt:"/_search/scroll/<%=scrollId%>",req:{scrollId:{type:"list"}}},{fmt:"/_search/scroll"}],paramAsBody:"scrollId",method:"DELETE"}),api.cluster=namespace(),api.cluster.prototype.allocationExplain=ca({params:{includeYesDecisions:{type:"boolean",name:"include_yes_decisions"},includeDiskInfo:{type:"boolean",name:"include_disk_info"}},url:{fmt:"/_cluster/allocation/explain"},method:"POST"}),api.cluster.prototype.getSettings=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},includeDefaults:{type:"boolean","default":!1,name:"include_defaults"}},url:{fmt:"/_cluster/settings"}}),api.cluster.prototype.health=ca({params:{level:{type:"enum","default":"cluster",options:["cluster","indices","shards"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForNodes:{type:"string",name:"wait_for_nodes"},waitForEvents:{type:"enum",options:["immediate","urgent","high","normal","low","languid"],name:"wait_for_events"},waitForNoRelocatingShards:{type:"boolean",name:"wait_for_no_relocating_shards"},waitForStatus:{type:"enum","default":null,options:["green","yellow","red"],name:"wait_for_status"}},urls:[{fmt:"/_cluster/health/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cluster/health"}]}),api.cluster.prototype.pendingTasks=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_cluster/pending_tasks"}}),api.cluster.prototype.putSettings=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/settings"},method:"PUT"}),api.cluster.prototype.reroute=ca({params:{dryRun:{type:"boolean",name:"dry_run"},explain:{type:"boolean"},retryFailed:{type:"boolean",name:"retry_failed"},metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","master_node","version"]},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/reroute"},method:"POST"}),api.cluster.prototype.state=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/_cluster/state/<%=metric%>/<%=index%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]},index:{type:"list"}}},{fmt:"/_cluster/state/<%=metric%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]}}},{fmt:"/_cluster/state"}]}),api.cluster.prototype.stats=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},human:{type:"boolean","default":!1},timeout:{type:"time"}},urls:[{fmt:"/_cluster/stats/nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cluster/stats"}]}),api.count=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},minScore:{type:"number",name:"min_score"},preference:{type:"string"},routing:{type:"string"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},lowercaseExpandedTerms:{type:"boolean",name:"lowercase_expanded_terms"}},urls:[{fmt:"/<%=index%>/<%=type%>/_count",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_count",req:{index:{type:"list"}}},{fmt:"/_count"}],method:"POST"}),api.countPercolate=ca({params:{routing:{type:"list"},preference:{type:"string"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},percolateIndex:{type:"string",name:"percolate_index"},percolateType:{type:"string",name:"percolate_type"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>/_percolate/count",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>/_percolate/count",req:{index:{type:"string"},type:{type:"string"}}}],method:"POST"}),api.create=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},parent:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},timestamp:{type:"time"},ttl:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},pipeline:{type:"string"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_create",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},needBody:!0,method:"POST"}),api["delete"]=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},parent:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"DELETE"}),api.deleteByQuery=ca({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum","default":"abort",options:["abort","proceed"]},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},lowercaseExpandedTerms:{type:"boolean",name:"lowercase_expanded_terms"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time","default":"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"},requestsPerSecond:{type:"number","default":0,name:"requests_per_second"}},urls:[{fmt:"/<%=index%>/<%=type%>/_delete_by_query",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_delete_by_query",req:{index:{type:"list"}}}],needBody:!0,method:"POST"}),api.deleteScript=ca({url:{fmt:"/_scripts/<%=lang%>/<%=id%>",req:{lang:{type:"string"},id:{type:"string"}}},method:"DELETE"}),api.deleteTemplate=ca({url:{fmt:"/_search/template/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),api.exists=ca({params:{parent:{type:"string"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"HEAD"}),api.explain=ca({params:{analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},analyzer:{type:"string"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},storedFields:{type:"list",name:"stored_fields"},lenient:{type:"boolean"},lowercaseExpandedTerms:{type:"boolean",name:"lowercase_expanded_terms"},parent:{type:"string"},preference:{type:"string"},q:{type:"string"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_explain",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"POST"}),api.fieldStats=ca({params:{fields:{type:"list"},level:{type:"enum","default":"cluster",options:["indices","cluster"]},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_field_stats",req:{index:{type:"list"}}},{fmt:"/_field_stats"}],method:"POST"}),api.get=ca({params:{storedFields:{type:"list",name:"stored_fields"},parent:{type:"string"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}}}),api.getScript=ca({url:{fmt:"/_scripts/<%=lang%>/<%=id%>",req:{lang:{type:"string"},id:{type:"string"}}}}),api.getSource=ca({params:{parent:{type:"string"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_source",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}}}),api.getTemplate=ca({url:{fmt:"/_search/template/<%=id%>",req:{id:{type:"string"}}}}),api.index=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},opType:{type:"enum","default":"index",options:["index","create"],name:"op_type"},parent:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},timestamp:{type:"time"},ttl:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>",req:{index:{type:"string"},type:{type:"string"}}}],needBody:!0,method:"POST"}),api.indices=namespace(),api.indices.prototype.analyze=ca({params:{analyzer:{type:"string"},charFilter:{type:"list",name:"char_filter"},field:{type:"string"},filter:{type:"list"},index:{type:"string"},preferLocal:{type:"boolean",name:"prefer_local"},text:{type:"list"},tokenizer:{type:"string"},explain:{type:"boolean"},attributes:{type:"list"},format:{type:"enum","default":"detailed",options:["detailed","text"]}},urls:[{fmt:"/<%=index%>/_analyze",req:{index:{type:"string"}}},{fmt:"/_analyze"}],method:"POST"}),api.indices.prototype.clearCache=ca({params:{fieldData:{type:"boolean",name:"field_data"},fielddata:{type:"boolean"},fields:{type:"list"},query:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},index:{type:"list"},recycler:{type:"boolean"},request:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_cache/clear",req:{index:{type:"list"}}},{fmt:"/_cache/clear"}],method:"POST"}),api.indices.prototype.close=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>/_close",req:{index:{type:"list"}}},method:"POST"}),api.indices.prototype.create=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},updateAllTypes:{type:"boolean",name:"update_all_types"}},url:{fmt:"/<%=index%>",req:{index:{type:"string"}}},method:"PUT"}),api.indices.prototype["delete"]=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"DELETE"}),api.indices.prototype.deleteAlias=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},method:"DELETE"}),api.indices.prototype.deleteTemplate=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},method:"DELETE"}),api.indices.prototype.exists=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"HEAD"}),api.indices.prototype.existsAlias=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":["open","closed"],options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}},{fmt:"/<%=index%>/_alias",req:{index:{type:"list"}}}],method:"HEAD"}),api.indices.prototype.existsTemplate=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},method:"HEAD"}),api.indices.prototype.existsType=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},url:{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"list"}}},method:"HEAD"}),api.indices.prototype.flush=ca({params:{force:{type:"boolean"},waitIfOngoing:{type:"boolean",name:"wait_if_ongoing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush",req:{index:{type:"list"}}},{fmt:"/_flush"}],method:"POST"}),api.indices.prototype.flushSynced=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush/synced",req:{index:{type:"list"}}},{fmt:"/_flush/synced"}],method:"POST"}),api.indices.prototype.forcemerge=ca({params:{flush:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},maxNumSegments:{type:"number",name:"max_num_segments"},onlyExpungeDeletes:{type:"boolean",name:"only_expunge_deletes"},operationThreading:{name:"operation_threading"},waitForMerge:{type:"boolean",name:"wait_for_merge"}},urls:[{fmt:"/<%=index%>/_forcemerge",req:{index:{type:"list"}}},{fmt:"/_forcemerge"}],method:"POST"}),api.indices.prototype.get=ca({params:{local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},human:{type:"boolean","default":!1},includeDefaults:{type:"boolean","default":!1,name:"include_defaults"}},urls:[{fmt:"/<%=index%>/<%=feature%>",req:{index:{type:"list"},feature:{type:"list",options:["_settings","_mappings","_aliases"]}}},{fmt:"/<%=index%>",req:{index:{type:"list"}}}]}),api.indices.prototype.getAlias=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"all",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}},{fmt:"/<%=index%>/_alias",req:{index:{type:"list"}}},{fmt:"/_alias"}]}),api.indices.prototype.getFieldMapping=ca({params:{includeDefaults:{type:"boolean",name:"include_defaults"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping/<%=type%>/field/<%=fields%>",req:{index:{type:"list"},type:{type:"list"},fields:{type:"list"}}},{fmt:"/<%=index%>/_mapping/field/<%=fields%>",req:{index:{type:"list"},fields:{type:"list"}}},{fmt:"/_mapping/<%=type%>/field/<%=fields%>",req:{type:{type:"list"},fields:{type:"list"}}},{fmt:"/_mapping/field/<%=fields%>",req:{fields:{type:"list"}}}]}),api.indices.prototype.getMapping=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_mapping",req:{index:{type:"list"}}},{fmt:"/_mapping/<%=type%>",req:{type:{type:"list"}}},{fmt:"/_mapping"}]}),api.indices.prototype.getSettings=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":["open","closed"],options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},local:{type:"boolean"},human:{type:"boolean","default":!1},includeDefaults:{type:"boolean","default":!1,name:"include_defaults"}},urls:[{fmt:"/<%=index%>/_settings/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_settings"}]}),api.indices.prototype.getTemplate=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_template/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_template"}]}),api.indices.prototype.getUpgrade=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},human:{type:"boolean","default":!1}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}]}),api.indices.prototype.open=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"closed",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>/_open",req:{index:{type:"list"}}},method:"POST"}),api.indices.prototype.putAlias=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"string"}}},method:"PUT"}),api.indices.prototype.putMapping=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},updateAllTypes:{type:"boolean",name:"update_all_types"}},urls:[{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"string"}}},{fmt:"/_mapping/<%=type%>",req:{type:{type:"string"}}}],needBody:!0,method:"PUT"}),api.indices.prototype.putSettings=ca({
params:{masterTimeout:{type:"time",name:"master_timeout"},preserveExisting:{type:"boolean",name:"preserve_existing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"}},urls:[{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings"}],needBody:!0,method:"PUT"}),api.indices.prototype.putTemplate=ca({params:{order:{type:"number"},create:{type:"boolean","default":!1},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},needBody:!0,method:"PUT"}),api.indices.prototype.recovery=ca({params:{detailed:{type:"boolean","default":!1},activeOnly:{type:"boolean","default":!1,name:"active_only"},human:{type:"boolean","default":!1}},urls:[{fmt:"/<%=index%>/_recovery",req:{index:{type:"list"}}},{fmt:"/_recovery"}]}),api.indices.prototype.refresh=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},force:{type:"boolean","default":!1},operationThreading:{name:"operation_threading"}},urls:[{fmt:"/<%=index%>/_refresh",req:{index:{type:"list"}}},{fmt:"/_refresh"}],method:"POST"}),api.indices.prototype.rollover=ca({params:{timeout:{type:"time"},dryRun:{type:"boolean",name:"dry_run"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},urls:[{fmt:"/<%=alias%>/_rollover/<%=newIndex%>",req:{alias:{type:"string"},newIndex:{type:"string"}}},{fmt:"/<%=alias%>/_rollover",req:{alias:{type:"string"}}}],method:"POST"}),api.indices.prototype.segments=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},human:{type:"boolean","default":!1},operationThreading:{name:"operation_threading"},verbose:{type:"boolean","default":!1}},urls:[{fmt:"/<%=index%>/_segments",req:{index:{type:"list"}}},{fmt:"/_segments"}]}),api.indices.prototype.shardStores=ca({params:{status:{type:"list",options:["green","yellow","red","all"]},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},operationThreading:{name:"operation_threading"}},urls:[{fmt:"/<%=index%>/_shard_stores",req:{index:{type:"list"}}},{fmt:"/_shard_stores"}]}),api.indices.prototype.shrink=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_shrink/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),api.indices.prototype.stats=ca({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"list"},human:{type:"boolean","default":!1},level:{type:"enum","default":"indices",options:["cluster","indices","shards"]},types:{type:"list"}},urls:[{fmt:"/<%=index%>/_stats/<%=metric%>",req:{index:{type:"list"},metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","percolate","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_stats/<%=metric%>",req:{metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","percolate","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/<%=index%>/_stats",req:{index:{type:"list"}}},{fmt:"/_stats"}]}),api.indices.prototype.updateAliases=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_aliases"},needBody:!0,method:"POST"}),api.indices.prototype.upgrade=ca({params:{allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},onlyAncientSegments:{type:"boolean",name:"only_ancient_segments"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}],method:"POST"}),api.indices.prototype.validateQuery=ca({params:{explain:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},operationThreading:{name:"operation_threading"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},lowercaseExpandedTerms:{type:"boolean",name:"lowercase_expanded_terms"},rewrite:{type:"boolean"}},urls:[{fmt:"/<%=index%>/<%=type%>/_validate/query",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_validate/query",req:{index:{type:"list"}}},{fmt:"/_validate/query"}],method:"POST"}),api.info=ca({url:{fmt:"/"}}),api.ingest=namespace(),api.ingest.prototype.deletePipeline=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),api.ingest.prototype.getPipeline=ca({params:{masterTimeout:{type:"time",name:"master_timeout"}},urls:[{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline"}]}),api.ingest.prototype.putPipeline=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},needBody:!0,method:"PUT"}),api.ingest.prototype.simulate=ca({params:{verbose:{type:"boolean","default":!1}},urls:[{fmt:"/_ingest/pipeline/<%=id%>/_simulate",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline/_simulate"}],needBody:!0,method:"POST"}),api.mget=ca({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"}},urls:[{fmt:"/<%=index%>/<%=type%>/_mget",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_mget",req:{index:{type:"string"}}},{fmt:"/_mget"}],needBody:!0,method:"POST"}),api.mpercolate=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/<%=type%>/_mpercolate",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_mpercolate",req:{index:{type:"string"}}},{fmt:"/_mpercolate"}],needBody:!0,bulkBody:!0,method:"POST"}),api.msearch=ca({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},maxConcurrentSearches:{type:"number",name:"max_concurrent_searches"}},urls:[{fmt:"/<%=index%>/<%=type%>/_msearch",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_msearch",req:{index:{type:"list"}}},{fmt:"/_msearch"}],needBody:!0,bulkBody:!0,method:"POST"}),api.msearchTemplate=ca({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/_msearch/template",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_msearch/template",req:{index:{type:"list"}}},{fmt:"/_msearch/template"}],needBody:!0,bulkBody:!0,method:"POST"}),api.mtermvectors=ca({params:{ids:{type:"list",required:!1},termStatistics:{type:"boolean","default":!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean","default":!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean","default":!0,required:!1},positions:{type:"boolean","default":!0,required:!1},payloads:{type:"boolean","default":!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},parent:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/_mtermvectors",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_mtermvectors",req:{index:{type:"string"}}},{fmt:"/_mtermvectors"}],method:"POST"}),api.nodes=namespace(),api.nodes.prototype.hotThreads=ca({params:{interval:{type:"time"},snapshots:{type:"number"},threads:{type:"number"},ignoreIdleThreads:{type:"boolean",name:"ignore_idle_threads"},type:{type:"enum",options:["cpu","wait","block"]},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/hotthreads",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/hotthreads"}]}),api.nodes.prototype.info=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},human:{type:"boolean","default":!1},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/<%=metric%>",req:{metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes"}]}),api.nodes.prototype.stats=ca({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"boolean"},human:{type:"boolean","default":!1},level:{type:"enum","default":"node",options:["indices","node","shards"]},types:{type:"list"},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>/<%=indexMetric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","percolate","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats/<%=metric%>/<%=indexMetric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","percolate","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/stats/<%=metric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats"}]}),api.percolate=ca({params:{routing:{type:"list"},preference:{type:"string"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},percolateIndex:{type:"string",name:"percolate_index"},percolateType:{type:"string",name:"percolate_type"},percolateRouting:{type:"string",name:"percolate_routing"},percolatePreference:{type:"string",name:"percolate_preference"},percolateFormat:{type:"enum",options:["ids"],name:"percolate_format"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>/_percolate",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>/_percolate",req:{index:{type:"string"},type:{type:"string"}}}],method:"POST"}),api.ping=ca({url:{fmt:"/"},requestTimeout:3e3,method:"HEAD"}),api.putScript=ca({url:{fmt:"/_scripts/<%=lang%>/<%=id%>",req:{lang:{type:"string"},id:{type:"string"}}},needBody:!0,method:"PUT"}),api.putTemplate=ca({url:{fmt:"/_search/template/<%=id%>",req:{id:{type:"string"}}},needBody:!0,method:"PUT"}),api.reindex=ca({params:{refresh:{type:"boolean"},timeout:{type:"time","default":"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"},requestsPerSecond:{type:"number","default":0,name:"requests_per_second"}},url:{fmt:"/_reindex"},needBody:!0,method:"POST"}),api.reindexRethrottle=ca({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_reindex/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"}),api.renderSearchTemplate=ca({urls:[{fmt:"/_render/template/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_render/template"}],method:"POST"}),api.scroll=ca({params:{scroll:{type:"time"},scrollId:{type:"string",name:"scroll_id"}},urls:[{fmt:"/_search/scroll/<%=scrollId%>",req:{scrollId:{type:"string"}}},{fmt:"/_search/scroll"}],paramAsBody:"scrollId",method:"POST"}),api.search=ca({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},explain:{type:"boolean"},storedFields:{type:"list",name:"stored_fields"},docvalueFields:{type:"list",name:"docvalue_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},lowercaseExpandedTerms:{type:"boolean",name:"lowercase_expanded_terms"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},suggestField:{type:"string",name:"suggest_field"},suggestMode:{type:"enum","default":"missing",options:["missing","popular","always"],name:"suggest_mode"},suggestSize:{type:"number",name:"suggest_size"},suggestText:{type:"string",name:"suggest_text"},timeout:{type:"time"},trackScores:{type:"boolean",name:"track_scores"},version:{type:"boolean"},requestCache:{type:"boolean",name:"request_cache"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_search",req:{index:{type:"list"}}},{fmt:"/_search"}],method:"POST"}),api.searchShards=ca({params:{preference:{type:"string"},routing:{type:"string"},local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search_shards",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_search_shards",req:{index:{type:"list"}}},{fmt:"/_search_shards"}],method:"POST"}),api.searchTemplate=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},preference:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search/template",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_search/template",req:{index:{type:"list"}}},{fmt:"/_search/template"}],method:"POST"}),api.snapshot=namespace(),api.snapshot.prototype.create=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),api.snapshot.prototype.createRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},verify:{type:"boolean"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"string"}}},needBody:!0,method:"POST"}),api.snapshot.prototype["delete"]=ca({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"DELETE"}),api.snapshot.prototype.deleteRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},method:"DELETE"}),api.snapshot.prototype.get=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"list"}}}}),api.snapshot.prototype.getRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_snapshot"}]}),api.snapshot.prototype.restore=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_restore",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),api.snapshot.prototype.status=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"}},urls:[{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_status",req:{repository:{type:"string"},snapshot:{type:"list"}}},{fmt:"/_snapshot/<%=repository%>/_status",req:{repository:{type:"string"}}},{fmt:"/_snapshot/_status"}]}),api.snapshot.prototype.verifyRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>/_verify",req:{repository:{type:"string"}}},method:"POST"}),api.suggest=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},preference:{type:"string"},routing:{type:"string"}},urls:[{fmt:"/<%=index%>/_suggest",req:{index:{type:"list"}}},{fmt:"/_suggest"}],needBody:!0,method:"POST"}),api.tasks=namespace(),api.tasks.prototype.cancel=ca({params:{nodeId:{type:"list",name:"node_id"},actions:{type:"list"},parentNode:{type:"string",name:"parent_node"},parentTask:{type:"string",name:"parent_task"}},urls:[{fmt:"/_tasks/<%=taskId%>/_cancel",req:{taskId:{type:"string"}}},{fmt:"/_tasks/_cancel"}],method:"POST"}),api.tasks.prototype.get=ca({params:{waitForCompletion:{type:"boolean",name:"wait_for_completion"}},url:{fmt:"/_tasks/<%=taskId%>",req:{taskId:{type:"string"}}}}),api.tasks.prototype.list=ca({params:{nodeId:{type:"list",name:"node_id"},actions:{type:"list"},detailed:{type:"boolean"},parentNode:{type:"string",name:"parent_node"},parentTask:{type:"string",name:"parent_task"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},groupBy:{type:"enum","default":"nodes",options:["nodes","parents"],name:"group_by"}},url:{fmt:"/_tasks"}}),api.termvectors=ca({params:{termStatistics:{type:"boolean","default":!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean","default":!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean","default":!0,required:!1},positions:{type:"boolean","default":!0,required:!1},payloads:{type:"boolean","default":!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},parent:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>/_termvectors",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>/_termvectors",req:{index:{type:"string"},type:{type:"string"}}}],method:"POST"}),api.update=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},fields:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},lang:{type:"string"},parent:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},retryOnConflict:{type:"number",name:"retry_on_conflict"},routing:{type:"string"},timeout:{type:"time"},timestamp:{type:"time"},ttl:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_update",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"POST"}),api.updateByQuery=ca({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum","default":"abort",options:["abort","proceed"]},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},lowercaseExpandedTerms:{type:"boolean",name:"lowercase_expanded_terms"},pipeline:{type:"string"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},versionType:{type:"boolean",name:"version_type"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time","default":"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"},requestsPerSecond:{type:"number","default":0,name:"requests_per_second"}},urls:[{fmt:"/<%=index%>/<%=type%>/_update_by_query",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_update_by_query",req:{index:{type:"list"}}}],method:"POST"})},function(module,exports,__webpack_require__){var ca=__webpack_require__(46).makeFactoryWithModifier(function(spec){return __webpack_require__(3).merge(spec,{params:{filterPath:{type:"list",name:"filter_path"}}})}),namespace=__webpack_require__(46).namespaceFactory,api=module.exports={};api._namespaces=["cat","cluster","indices","nodes","snapshot","tasks"],api.bulk=ca({params:{consistency:{type:"enum",options:["one","quorum","all"]},refresh:{type:"boolean"},routing:{type:"string"},timeout:{type:"time"},type:{type:"string"},fields:{type:"list"}},urls:[{fmt:"/<%=index%>/<%=type%>/_bulk",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_bulk",req:{index:{type:"string"}}},{fmt:"/_bulk"}],needBody:!0,bulkBody:!0,method:"POST"}),api.cat=namespace(),api.cat.prototype.aliases=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/aliases/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_cat/aliases"}]}),api.cat.prototype.allocation=ca({params:{bytes:{type:"enum",options:["b","k","m","g"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/allocation/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cat/allocation"}]}),api.cat.prototype.count=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/count/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/count"}]}),api.cat.prototype.fielddata=ca({params:{bytes:{type:"enum",options:["b","k","m","g"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1},fields:{type:"list"}},urls:[{fmt:"/_cat/fielddata/<%=fields%>",req:{fields:{type:"list"}}},{fmt:"/_cat/fielddata"}]}),api.cat.prototype.health=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},ts:{type:"boolean","default":!0},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/health"}}),api.cat.prototype.help=ca({params:{help:{type:"boolean","default":!1}},url:{fmt:"/_cat"}}),api.cat.prototype.indices=ca({params:{bytes:{type:"enum",options:["b","k","m","g"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},pri:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/indices/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/indices"}]}),api.cat.prototype.master=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/master"}}),api.cat.prototype.nodeattrs=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/nodeattrs"}}),api.cat.prototype.nodes=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/nodes"}}),api.cat.prototype.pendingTasks=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/pending_tasks"}}),api.cat.prototype.plugins=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/plugins"}}),api.cat.prototype.recovery=ca({params:{bytes:{type:"enum",options:["b","k","m","g"]},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/recovery/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/recovery"}]}),api.cat.prototype.repositories=ca({params:{local:{type:"boolean","default":!1},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/repositories"}}),api.cat.prototype.segments=ca({params:{h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/segments/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/segments"}]}),api.cat.prototype.shards=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/shards/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/shards"}]}),api.cat.prototype.snapshots=ca({params:{ignoreUnavailable:{type:"boolean","default":!1,name:"ignore_unavailable"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/snapshots/<%=repository%>",req:{repository:{type:"list"}}}}),api.cat.prototype.threadPool=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1},fullId:{type:"boolean","default":!1,name:"full_id"}},url:{fmt:"/_cat/thread_pool"}}),api.clearScroll=ca({urls:[{fmt:"/_search/scroll/<%=scrollId%>",req:{scrollId:{type:"list"}}},{fmt:"/_search/scroll"}],paramAsBody:"scrollId",method:"DELETE"}),api.cluster=namespace(),api.cluster.prototype.getSettings=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/settings"}}),api.cluster.prototype.health=ca({params:{level:{type:"enum","default":"cluster",options:["cluster","indices","shards"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},waitForActiveShards:{type:"number",name:"wait_for_active_shards"},waitForNodes:{type:"string",name:"wait_for_nodes"},waitForRelocatingShards:{type:"number",name:"wait_for_relocating_shards"},waitForStatus:{type:"enum","default":null,options:["green","yellow","red"],name:"wait_for_status"}},urls:[{fmt:"/_cluster/health/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cluster/health"}]}),api.cluster.prototype.pendingTasks=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_cluster/pending_tasks"}}),api.cluster.prototype.putSettings=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/settings"},method:"PUT"}),api.cluster.prototype.reroute=ca({params:{dryRun:{type:"boolean",name:"dry_run"},explain:{type:"boolean"},metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","master_node","version"]},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/reroute"},method:"POST"}),api.cluster.prototype.state=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/_cluster/state/<%=metric%>/<%=index%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]},index:{type:"list"}}},{fmt:"/_cluster/state/<%=metric%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]}}},{fmt:"/_cluster/state"}]}),api.cluster.prototype.stats=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},human:{type:"boolean",
"default":!1},timeout:{type:"time"}},urls:[{fmt:"/_cluster/stats/nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cluster/stats"}]}),api.count=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},minScore:{type:"number",name:"min_score"},preference:{type:"string"},routing:{type:"string"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},lowercaseExpandedTerms:{type:"boolean",name:"lowercase_expanded_terms"}},urls:[{fmt:"/<%=index%>/<%=type%>/_count",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_count",req:{index:{type:"list"}}},{fmt:"/_count"}],method:"POST"}),api.countPercolate=ca({params:{routing:{type:"list"},preference:{type:"string"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},percolateIndex:{type:"string",name:"percolate_index"},percolateType:{type:"string",name:"percolate_type"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>/_percolate/count",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>/_percolate/count",req:{index:{type:"string"},type:{type:"string"}}}],method:"POST"}),api["delete"]=ca({params:{consistency:{type:"enum",options:["one","quorum","all"]},parent:{type:"string"},refresh:{type:"boolean"},routing:{type:"string"},timeout:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"DELETE"}),api.deleteScript=ca({params:{version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/_scripts/<%=lang%>/<%=id%>",req:{lang:{type:"string"},id:{type:"string"}}},method:"DELETE"}),api.deleteTemplate=ca({params:{version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/_search/template/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),api.exists=ca({params:{parent:{type:"string"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"HEAD"}),api.explain=ca({params:{analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},analyzer:{type:"string"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},fields:{type:"list"},lenient:{type:"boolean"},lowercaseExpandedTerms:{type:"boolean",name:"lowercase_expanded_terms"},parent:{type:"string"},preference:{type:"string"},q:{type:"string"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_explain",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"POST"}),api.fieldStats=ca({params:{fields:{type:"list"},level:{type:"enum","default":"cluster",options:["indices","cluster"]},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_field_stats",req:{index:{type:"list"}}},{fmt:"/_field_stats"}],method:"POST"}),api.get=ca({params:{fields:{type:"list"},parent:{type:"string"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}}}),api.getScript=ca({params:{version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/_scripts/<%=lang%>/<%=id%>",req:{lang:{type:"string"},id:{type:"string"}}}}),api.getSource=ca({params:{parent:{type:"string"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_source",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}}}),api.getTemplate=ca({params:{version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/_search/template/<%=id%>",req:{id:{type:"string"}}}}),api.index=ca({params:{consistency:{type:"enum",options:["one","quorum","all"]},opType:{type:"enum","default":"index",options:["index","create"],name:"op_type"},parent:{type:"string"},refresh:{type:"boolean"},routing:{type:"string"},timeout:{type:"time"},timestamp:{type:"time"},ttl:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>",req:{index:{type:"string"},type:{type:"string"}}}],needBody:!0,method:"POST"}),api.indices=namespace(),api.indices.prototype.analyze=ca({params:{analyzer:{type:"string"},charFilters:{type:"list",name:"char_filters"},charFilter:{type:"list",name:"char_filter"},field:{type:"string"},filters:{type:"list"},filter:{type:"list"},index:{type:"string"},preferLocal:{type:"boolean",name:"prefer_local"},text:{type:"list"},tokenizer:{type:"string"},explain:{type:"boolean"},attributes:{type:"list"},format:{type:"enum","default":"detailed",options:["detailed","text"]}},urls:[{fmt:"/<%=index%>/_analyze",req:{index:{type:"string"}}},{fmt:"/_analyze"}],method:"POST"}),api.indices.prototype.clearCache=ca({params:{fieldData:{type:"boolean",name:"field_data"},fielddata:{type:"boolean"},fields:{type:"list"},query:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},index:{type:"list"},recycler:{type:"boolean"},request:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_cache/clear",req:{index:{type:"list"}}},{fmt:"/_cache/clear"}],method:"POST"}),api.indices.prototype.close=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>/_close",req:{index:{type:"list"}}},method:"POST"}),api.indices.prototype.create=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},updateAllTypes:{type:"boolean",name:"update_all_types"}},url:{fmt:"/<%=index%>",req:{index:{type:"string"}}},method:"POST"}),api.indices.prototype["delete"]=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"DELETE"}),api.indices.prototype.deleteAlias=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},method:"DELETE"}),api.indices.prototype.deleteTemplate=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},method:"DELETE"}),api.indices.prototype.deleteWarmer=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},name:{type:"list"}},url:{fmt:"/<%=index%>/_warmer/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},method:"DELETE"}),api.indices.prototype.exists=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"HEAD"}),api.indices.prototype.existsAlias=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":["open","closed"],options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}},{fmt:"/<%=index%>/_alias",req:{index:{type:"list"}}}],method:"HEAD"}),api.indices.prototype.existsTemplate=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},method:"HEAD"}),api.indices.prototype.existsType=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},url:{fmt:"/<%=index%>/<%=type%>",req:{index:{type:"list"},type:{type:"list"}}},method:"HEAD"}),api.indices.prototype.flush=ca({params:{force:{type:"boolean"},waitIfOngoing:{type:"boolean",name:"wait_if_ongoing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush",req:{index:{type:"list"}}},{fmt:"/_flush"}],method:"POST"}),api.indices.prototype.flushSynced=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush/synced",req:{index:{type:"list"}}},{fmt:"/_flush/synced"}],method:"POST"}),api.indices.prototype.forcemerge=ca({params:{flush:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},maxNumSegments:{type:"number",name:"max_num_segments"},onlyExpungeDeletes:{type:"boolean",name:"only_expunge_deletes"},operationThreading:{name:"operation_threading"},waitForMerge:{type:"boolean",name:"wait_for_merge"}},urls:[{fmt:"/<%=index%>/_forcemerge",req:{index:{type:"list"}}},{fmt:"/_forcemerge"}],method:"POST"}),api.indices.prototype.get=ca({params:{local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},human:{type:"boolean","default":!1}},urls:[{fmt:"/<%=index%>/<%=feature%>",req:{index:{type:"list"},feature:{type:"list",options:["_settings","_mappings","_warmers","_aliases"]}}},{fmt:"/<%=index%>",req:{index:{type:"list"}}}]}),api.indices.prototype.getAlias=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}},{fmt:"/<%=index%>/_alias",req:{index:{type:"list"}}},{fmt:"/_alias"}]}),api.indices.prototype.getAliases=ca({params:{timeout:{type:"time"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_aliases/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/<%=index%>/_aliases",req:{index:{type:"list"}}},{fmt:"/_aliases/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_aliases"}]}),api.indices.prototype.getFieldMapping=ca({params:{includeDefaults:{type:"boolean",name:"include_defaults"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping/<%=type%>/field/<%=fields%>",req:{index:{type:"list"},type:{type:"list"},fields:{type:"list"}}},{fmt:"/<%=index%>/_mapping/field/<%=fields%>",req:{index:{type:"list"},fields:{type:"list"}}},{fmt:"/_mapping/<%=type%>/field/<%=fields%>",req:{type:{type:"list"},fields:{type:"list"}}},{fmt:"/_mapping/field/<%=fields%>",req:{fields:{type:"list"}}}]}),api.indices.prototype.getMapping=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_mapping",req:{index:{type:"list"}}},{fmt:"/_mapping/<%=type%>",req:{type:{type:"list"}}},{fmt:"/_mapping"}]}),api.indices.prototype.getSettings=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":["open","closed"],options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},local:{type:"boolean"},human:{type:"boolean","default":!1}},urls:[{fmt:"/<%=index%>/_settings/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_settings"}]}),api.indices.prototype.getTemplate=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_template/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_template"}]}),api.indices.prototype.getUpgrade=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},human:{type:"boolean","default":!1}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}]}),api.indices.prototype.getWarmer=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/<%=type%>/_warmer/<%=name%>",req:{index:{type:"list"},type:{type:"list"},name:{type:"list"}}},{fmt:"/<%=index%>/_warmer/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/<%=index%>/_warmer",req:{index:{type:"list"}}},{fmt:"/_warmer/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_warmer"}]}),api.indices.prototype.open=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"closed",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>/_open",req:{index:{type:"list"}}},method:"POST"}),api.indices.prototype.optimize=ca({params:{flush:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},maxNumSegments:{type:"number",name:"max_num_segments"},onlyExpungeDeletes:{type:"boolean",name:"only_expunge_deletes"},operationThreading:{name:"operation_threading"},waitForMerge:{type:"boolean",name:"wait_for_merge"}},urls:[{fmt:"/<%=index%>/_optimize",req:{index:{type:"list"}}},{fmt:"/_optimize"}],method:"POST"}),api.indices.prototype.putAlias=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"string"}}},method:"PUT"}),api.indices.prototype.putMapping=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},updateAllTypes:{type:"boolean",name:"update_all_types"}},urls:[{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"string"}}},{fmt:"/_mapping/<%=type%>",req:{type:{type:"string"}}}],needBody:!0,method:"PUT"}),api.indices.prototype.putSettings=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"}},urls:[{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings"}],needBody:!0,method:"PUT"}),api.indices.prototype.putTemplate=ca({params:{order:{type:"number"},create:{type:"boolean","default":!1},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},needBody:!0,method:"PUT"}),api.indices.prototype.putWarmer=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},requestCache:{type:"boolean",name:"request_cache"}},urls:[{fmt:"/<%=index%>/<%=type%>/_warmer/<%=name%>",req:{index:{type:"list"},type:{type:"list"},name:{type:"string"}}},{fmt:"/<%=index%>/_warmer/<%=name%>",req:{index:{type:"list"},name:{type:"string"}}},{fmt:"/_warmer/<%=name%>",req:{name:{type:"string"}}}],needBody:!0,method:"PUT"}),api.indices.prototype.recovery=ca({params:{detailed:{type:"boolean","default":!1},activeOnly:{type:"boolean","default":!1,name:"active_only"},human:{type:"boolean","default":!1}},urls:[{fmt:"/<%=index%>/_recovery",req:{index:{type:"list"}}},{fmt:"/_recovery"}]}),api.indices.prototype.refresh=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},force:{type:"boolean","default":!1},operationThreading:{name:"operation_threading"}},urls:[{fmt:"/<%=index%>/_refresh",req:{index:{type:"list"}}},{fmt:"/_refresh"}],method:"POST"}),api.indices.prototype.segments=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},human:{type:"boolean","default":!1},operationThreading:{name:"operation_threading"},verbose:{type:"boolean","default":!1}},urls:[{fmt:"/<%=index%>/_segments",req:{index:{type:"list"}}},{fmt:"/_segments"}]}),api.indices.prototype.shardStores=ca({params:{status:{type:"list",options:["green","yellow","red","all"]},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},operationThreading:{name:"operation_threading"}},urls:[{fmt:"/<%=index%>/_shard_stores",req:{index:{type:"list"}}},{fmt:"/_shard_stores"}]}),api.indices.prototype.stats=ca({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"list"},human:{type:"boolean","default":!1},level:{type:"enum","default":"indices",options:["cluster","indices","shards"]},types:{type:"list"}},urls:[{fmt:"/<%=index%>/_stats/<%=metric%>",req:{index:{type:"list"},metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","percolate","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_stats/<%=metric%>",req:{metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","percolate","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/<%=index%>/_stats",req:{index:{type:"list"}}},{fmt:"/_stats"}]}),api.indices.prototype.updateAliases=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_aliases"},needBody:!0,method:"POST"}),api.indices.prototype.upgrade=ca({params:{allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},onlyAncientSegments:{type:"boolean",name:"only_ancient_segments"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}],method:"POST"}),api.indices.prototype.validateQuery=ca({params:{explain:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},operationThreading:{name:"operation_threading"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},lowercaseExpandedTerms:{type:"boolean",name:"lowercase_expanded_terms"},rewrite:{type:"boolean"}},urls:[{fmt:"/<%=index%>/<%=type%>/_validate/query",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_validate/query",req:{index:{type:"list"}}},{fmt:"/_validate/query"}],method:"POST"}),api.info=ca({url:{fmt:"/"}}),api.mget=ca({params:{fields:{type:"list"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"}},urls:[{fmt:"/<%=index%>/<%=type%>/_mget",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_mget",req:{index:{type:"string"}}},{fmt:"/_mget"}],needBody:!0,method:"POST"}),api.mpercolate=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/<%=type%>/_mpercolate",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_mpercolate",req:{index:{type:"string"}}},{fmt:"/_mpercolate"}],needBody:!0,bulkBody:!0,method:"POST"}),api.msearch=ca({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch","count","scan"],name:"search_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/_msearch",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_msearch",req:{index:{type:"list"}}},{fmt:"/_msearch"}],needBody:!0,bulkBody:!0,method:"POST"}),api.mtermvectors=ca({params:{ids:{type:"list",required:!1},termStatistics:{type:"boolean","default":!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean","default":!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean","default":!0,required:!1},positions:{type:"boolean","default":!0,required:!1},payloads:{type:"boolean","default":!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},parent:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/_mtermvectors",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_mtermvectors",req:{index:{type:"string"}}},{fmt:"/_mtermvectors"}],method:"POST"}),api.nodes=namespace(),api.nodes.prototype.hotThreads=ca({params:{interval:{type:"time"},snapshots:{type:"number"},threads:{type:"number"},ignoreIdleThreads:{type:"boolean",name:"ignore_idle_threads"},type:{type:"enum",options:["cpu","wait","block"]},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/hotthreads",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/hotthreads"}]}),api.nodes.prototype.info=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},human:{type:"boolean","default":!1},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins"]}}},{fmt:"/_nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/<%=metric%>",req:{metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins"]}}},{fmt:"/_nodes"}]}),api.nodes.prototype.stats=ca({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"boolean"},human:{type:"boolean","default":!1},level:{type:"enum","default":"node",options:["node","indices","shards"]},types:{type:"list"},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>/<%=indexMetric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","percolate","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport"]}}},{fmt:"/_nodes/stats/<%=metric%>/<%=indexMetric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","percolate","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/stats/<%=metric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport"]}}},{fmt:"/_nodes/stats"}]}),api.percolate=ca({params:{routing:{type:"list"},preference:{type:"string"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},percolateIndex:{type:"string",name:"percolate_index"},percolateType:{type:"string",name:"percolate_type"},percolateRouting:{type:"string",name:"percolate_routing"},percolatePreference:{type:"string",name:"percolate_preference"},percolateFormat:{type:"enum",options:["ids"],name:"percolate_format"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>/_percolate",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>/_percolate",req:{index:{type:"string"},type:{type:"string"}}}],method:"POST"}),api.ping=ca({url:{fmt:"/"},requestTimeout:3e3,method:"HEAD"}),api.putScript=ca({params:{opType:{type:"enum","default":"index",options:["index","create"],name:"op_type"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/_scripts/<%=lang%>/<%=id%>",req:{lang:{type:"string"},id:{type:"string"}}},needBody:!0,method:"PUT"}),api.putTemplate=ca({params:{opType:{type:"enum","default":"index",options:["index","create"],name:"op_type"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/_search/template/<%=id%>",req:{id:{type:"string"}}},needBody:!0,method:"PUT"}),api.reindex=ca({params:{refresh:{type:"boolean"},timeout:{type:"time","default":"1m"},consistency:{type:"enum",options:["one","quorum","all"]},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"},requestsPerSecond:{type:"number","default":0,name:"requests_per_second"}},url:{fmt:"/_reindex"},needBody:!0,method:"POST"}),api.reindexRethrottle=ca({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_reindex/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"}),api.renderSearchTemplate=ca({urls:[{fmt:"/_render/template/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_render/template"}],method:"POST"}),api.scroll=ca({params:{scroll:{type:"time"},scrollId:{type:"string",name:"scroll_id"}},urls:[{fmt:"/_search/scroll/<%=scrollId%>",req:{scrollId:{type:"string"}}},{fmt:"/_search/scroll"}],paramAsBody:"scrollId",method:"POST"}),api.search=ca({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},explain:{type:"boolean"},fields:{type:"list"},fielddataFields:{type:"list",name:"fielddata_fields"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},lowercaseExpandedTerms:{type:"boolean",name:"lowercase_expanded_terms"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch","count","scan"],name:"search_type"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"
},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},suggestField:{type:"string",name:"suggest_field"},suggestMode:{type:"enum","default":"missing",options:["missing","popular","always"],name:"suggest_mode"},suggestSize:{type:"number",name:"suggest_size"},suggestText:{type:"string",name:"suggest_text"},timeout:{type:"time"},trackScores:{type:"boolean",name:"track_scores"},version:{type:"boolean"},requestCache:{type:"boolean",name:"request_cache"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_search",req:{index:{type:"list"}}},{fmt:"/_search"}],method:"POST"}),api.searchExists=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},minScore:{type:"number",name:"min_score"},preference:{type:"string"},routing:{type:"string"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},lowercaseExpandedTerms:{type:"boolean",name:"lowercase_expanded_terms"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search/exists",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_search/exists",req:{index:{type:"list"}}},{fmt:"/_search/exists"}],method:"POST"}),api.searchShards=ca({params:{preference:{type:"string"},routing:{type:"string"},local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search_shards",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_search_shards",req:{index:{type:"list"}}},{fmt:"/_search_shards"}],method:"POST"}),api.searchTemplate=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},preference:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch","count","scan"],name:"search_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search/template",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_search/template",req:{index:{type:"list"}}},{fmt:"/_search/template"}],method:"POST"}),api.snapshot=namespace(),api.snapshot.prototype.create=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),api.snapshot.prototype.createRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},verify:{type:"boolean"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"string"}}},needBody:!0,method:"POST"}),api.snapshot.prototype["delete"]=ca({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"DELETE"}),api.snapshot.prototype.deleteRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},method:"DELETE"}),api.snapshot.prototype.get=ca({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"list"}}}}),api.snapshot.prototype.getRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_snapshot"}]}),api.snapshot.prototype.restore=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_restore",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),api.snapshot.prototype.status=ca({params:{masterTimeout:{type:"time",name:"master_timeout"}},urls:[{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_status",req:{repository:{type:"string"},snapshot:{type:"list"}}},{fmt:"/_snapshot/<%=repository%>/_status",req:{repository:{type:"string"}}},{fmt:"/_snapshot/_status"}]}),api.snapshot.prototype.verifyRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>/_verify",req:{repository:{type:"string"}}},method:"POST"}),api.suggest=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},preference:{type:"string"},routing:{type:"string"}},urls:[{fmt:"/<%=index%>/_suggest",req:{index:{type:"list"}}},{fmt:"/_suggest"}],needBody:!0,method:"POST"}),api.tasks=namespace(),api.tasks.prototype.cancel=ca({params:{nodeId:{type:"list",name:"node_id"},actions:{type:"list"},parentNode:{type:"string",name:"parent_node"},parentTask:{type:"string",name:"parent_task"}},urls:[{fmt:"/_tasks/<%=taskId%>/_cancel",req:{taskId:{type:"string"}}},{fmt:"/_tasks/_cancel"}],method:"POST"}),api.tasks.prototype.list=ca({params:{nodeId:{type:"list",name:"node_id"},actions:{type:"list"},detailed:{type:"boolean"},parentNode:{type:"string",name:"parent_node"},parentTask:{type:"string",name:"parent_task"},waitForCompletion:{type:"boolean",name:"wait_for_completion"}},urls:[{fmt:"/_tasks/<%=taskId%>",req:{taskId:{type:"string"}}},{fmt:"/_tasks"}]}),api.termvectors=ca({params:{termStatistics:{type:"boolean","default":!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean","default":!0,required:!1,name:"field_statistics"},dfs:{type:"boolean","default":!1,required:!1},fields:{type:"list",required:!1},offsets:{type:"boolean","default":!0,required:!1},positions:{type:"boolean","default":!0,required:!1},payloads:{type:"boolean","default":!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},parent:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>/_termvectors",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>/_termvectors",req:{index:{type:"string"},type:{type:"string"}}}],method:"POST"}),api.update=ca({params:{consistency:{type:"enum",options:["one","quorum","all"]},fields:{type:"list"},lang:{type:"string"},parent:{type:"string"},refresh:{type:"boolean"},retryOnConflict:{type:"number",name:"retry_on_conflict"},routing:{type:"string"},script:{type:"string"},scriptId:{type:"string",name:"script_id"},scriptedUpsert:{type:"boolean",name:"scripted_upsert"},timeout:{type:"time"},timestamp:{type:"time"},ttl:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_update",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"POST"}),api.updateByQuery=ca({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},explain:{type:"boolean"},fields:{type:"list"},fielddataFields:{type:"list",name:"fielddata_fields"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum","default":"abort",options:["abort","proceed"]},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},lowercaseExpandedTerms:{type:"boolean",name:"lowercase_expanded_terms"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},suggestField:{type:"string",name:"suggest_field"},suggestMode:{type:"enum","default":"missing",options:["missing","popular","always"],name:"suggest_mode"},suggestSize:{type:"number",name:"suggest_size"},suggestText:{type:"string",name:"suggest_text"},timeout:{type:"time","default":"1m"},trackScores:{type:"boolean",name:"track_scores"},version:{type:"boolean"},versionType:{type:"boolean",name:"version_type"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},consistency:{type:"enum",options:["one","quorum","all"]},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"},requestsPerSecond:{type:"number","default":0,name:"requests_per_second"}},urls:[{fmt:"/<%=index%>/<%=type%>/_update_by_query",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_update_by_query",req:{index:{type:"list"}}}],method:"POST"}),api.create=ca.proxy(api.index,{transform:function(params){params.op_type="create"}})},function(module,exports,__webpack_require__){var ca=__webpack_require__(46).makeFactoryWithModifier(function(spec){return __webpack_require__(3).merge(spec,{params:{filterPath:{type:"list",name:"filter_path"}}})}),namespace=__webpack_require__(46).namespaceFactory,api=module.exports={};api._namespaces=["cat","cluster","indices","nodes","snapshot"],api.bulk=ca({params:{consistency:{type:"enum",options:["one","quorum","all"]},refresh:{type:"boolean"},replication:{type:"enum","default":"sync",options:["sync","async"]},routing:{type:"string"},timeout:{type:"time"},type:{type:"string"}},urls:[{fmt:"/<%=index%>/<%=type%>/_bulk",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_bulk",req:{index:{type:"string"}}},{fmt:"/_bulk"}],needBody:!0,bulkBody:!0,method:"POST"}),api.cat=namespace(),api.cat.prototype.aliases=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/aliases/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_cat/aliases"}]}),api.cat.prototype.allocation=ca({params:{bytes:{type:"enum",options:["b","k","m","g"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/allocation/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cat/allocation"}]}),api.cat.prototype.count=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/count/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/count"}]}),api.cat.prototype.fielddata=ca({params:{bytes:{type:"enum",options:["b","k","m","g"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1},fields:{type:"list"}},urls:[{fmt:"/_cat/fielddata/<%=fields%>",req:{fields:{type:"list"}}},{fmt:"/_cat/fielddata"}]}),api.cat.prototype.health=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},ts:{type:"boolean","default":!0},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/health"}}),api.cat.prototype.help=ca({params:{help:{type:"boolean","default":!1}},url:{fmt:"/_cat"}}),api.cat.prototype.indices=ca({params:{bytes:{type:"enum",options:["b","k","m","g"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},pri:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/indices/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/indices"}]}),api.cat.prototype.master=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/master"}}),api.cat.prototype.nodes=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/nodes"}}),api.cat.prototype.pendingTasks=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/pending_tasks"}}),api.cat.prototype.plugins=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/plugins"}}),api.cat.prototype.recovery=ca({params:{bytes:{type:"enum",options:["b","k","m","g"]},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/recovery/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/recovery"}]}),api.cat.prototype.segments=ca({params:{h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!0}},urls:[{fmt:"/_cat/segments/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/segments"}]}),api.cat.prototype.shards=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/shards/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/shards"}]}),api.cat.prototype.threadPool=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},v:{type:"boolean","default":!1},fullId:{type:"boolean","default":!1,name:"full_id"}},url:{fmt:"/_cat/thread_pool"}}),api.clearScroll=ca({urls:[{fmt:"/_search/scroll/<%=scrollId%>",req:{scrollId:{type:"list"}}},{fmt:"/_search/scroll"}],paramAsBody:"scrollId",method:"DELETE"}),api.cluster=namespace(),api.cluster.prototype.getSettings=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/settings"}}),api.cluster.prototype.health=ca({params:{level:{type:"enum","default":"cluster",options:["cluster","indices","shards"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},waitForActiveShards:{type:"number",name:"wait_for_active_shards"},waitForNodes:{type:"string",name:"wait_for_nodes"},waitForRelocatingShards:{type:"number",name:"wait_for_relocating_shards"},waitForStatus:{type:"enum","default":null,options:["green","yellow","red"],name:"wait_for_status"}},urls:[{fmt:"/_cluster/health/<%=index%>",req:{index:{type:"string"}}},{fmt:"/_cluster/health"}]}),api.cluster.prototype.pendingTasks=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_cluster/pending_tasks"}}),api.cluster.prototype.putSettings=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/settings"},method:"PUT"}),api.cluster.prototype.reroute=ca({params:{dryRun:{type:"boolean",name:"dry_run"},explain:{type:"boolean"},metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","master_node","version"]},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/reroute"},method:"POST"}),api.cluster.prototype.state=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/_cluster/state/<%=metric%>/<%=index%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]},index:{type:"list"}}},{fmt:"/_cluster/state/<%=metric%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]}}},{fmt:"/_cluster/state"}]}),api.cluster.prototype.stats=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},human:{type:"boolean","default":!1},timeout:{type:"time"}},urls:[{fmt:"/_cluster/stats/nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cluster/stats"}]}),api.count=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},minScore:{type:"number",name:"min_score"},preference:{type:"string"},routing:{type:"string"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},lowercaseExpandedTerms:{type:"boolean",name:"lowercase_expanded_terms"}},urls:[{fmt:"/<%=index%>/<%=type%>/_count",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_count",req:{index:{type:"list"}}},{fmt:"/_count"}],method:"POST"}),api.countPercolate=ca({params:{routing:{type:"list"},preference:{type:"string"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},percolateIndex:{type:"string",name:"percolate_index"},percolateType:{type:"string",name:"percolate_type"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>/_percolate/count",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>/_percolate/count",req:{index:{type:"string"},type:{type:"string"}}}],method:"POST"}),api["delete"]=ca({params:{consistency:{type:"enum",options:["one","quorum","all"]},parent:{type:"string"},refresh:{type:"boolean"},replication:{type:"enum","default":"sync",options:["sync","async"]},routing:{type:"string"},timeout:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"DELETE"}),api.deleteByQuery=ca({params:{analyzer:{type:"string"},consistency:{type:"enum",options:["one","quorum","all"]},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},replication:{type:"enum","default":"sync",options:["sync","async"]},q:{type:"string"},routing:{type:"string"},timeout:{type:"time"}},urls:[{fmt:"/<%=index%>/<%=type%>/_query",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_query",req:{index:{type:"list"}}}],method:"DELETE"}),api.deleteScript=ca({params:{version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/_scripts/<%=lang%>/<%=id%>",req:{lang:{type:"string"},id:{type:"string"}}},method:"DELETE"}),api.deleteTemplate=ca({params:{version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/_search/template/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),api.exists=ca({params:{parent:{type:"string"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"HEAD"}),api.explain=ca({params:{analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},analyzer:{type:"string"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},fields:{type:"list"},lenient:{type:"boolean"},lowercaseExpandedTerms:{type:"boolean",name:"lowercase_expanded_terms"},parent:{type:"string"},preference:{type:"string"},q:{type:"string"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_explain",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"POST"}),api.fieldStats=ca({params:{fields:{type:"list"},level:{type:"enum","default":"cluster",options:["indices","cluster"]},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_field_stats",req:{index:{type:"list"}}},{fmt:"/_field_stats"}],method:"POST"}),api.get=ca({params:{fields:{type:"list"},parent:{type:"string"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}}}),api.getScript=ca({params:{version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/_scripts/<%=lang%>/<%=id%>",req:{lang:{type:"string"},id:{type:"string"}}}}),api.getSource=ca({params:{parent:{type:"string"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_source",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}}}),api.getTemplate=ca({params:{version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/_search/template/<%=id%>",req:{id:{type:"string"}}}}),api.index=ca({params:{consistency:{type:"enum",options:["one","quorum","all"]},opType:{type:"enum","default":"index",options:["index","create"],name:"op_type"},parent:{type:"string"},refresh:{type:"boolean"},replication:{type:"enum","default":"sync",options:["sync","async"]},routing:{type:"string"},timeout:{type:"time"},timestamp:{type:"time"},ttl:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>",req:{index:{type:"string"},type:{type:"string"}}}],needBody:!0,method:"POST"}),api.indices=namespace(),api.indices.prototype.analyze=ca({params:{analyzer:{type:"string"},charFilters:{type:"list",name:"char_filters"},field:{type:"string"},filters:{type:"list"},index:{type:"string"},preferLocal:{type:"boolean",name:"prefer_local"},text:{type:"string"},tokenizer:{type:"string"},format:{type:"enum","default":"detailed",options:["detailed","text"]}},urls:[{fmt:"/<%=index%>/_analyze",req:{index:{type:"string"}}},{fmt:"/_analyze"}],method:"POST"}),api.indices.prototype.clearCache=ca({params:{fieldData:{type:"boolean",name:"field_data"},fielddata:{type:"boolean"},fields:{type:"list"},filter:{type:"boolean"},filterCache:{type:"boolean",name:"filter_cache"},filterKeys:{type:"boolean",name:"filter_keys"},id:{type:"boolean"},idCache:{type:"boolean",name:"id_cache"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},index:{type:"list"},recycler:{type:"boolean"},queryCache:{type:"boolean",name:"query_cache"}},urls:[{fmt:"/<%=index%>/_cache/clear",req:{index:{type:"list"}}},{fmt:"/_cache/clear"}],method:"POST"}),api.indices.prototype.close=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>/_close",req:{index:{type:"string"}}},method:"POST"}),api.indices.prototype.create=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"string"}}},method:"POST"}),api.indices.prototype["delete"]=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"DELETE"}),api.indices.prototype.deleteAlias=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},method:"DELETE"}),api.indices.prototype.deleteMapping=ca({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/<%=type%>/_mapping",req:{index:{type:"list"},type:{type:"list"}}},method:"DELETE"}),api.indices.prototype.deleteTemplate=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},method:"DELETE"}),api.indices.prototype.deleteWarmer=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},name:{type:"list"}},url:{fmt:"/<%=index%>/_warmer/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},method:"DELETE"}),api.indices.prototype.exists=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"HEAD"}),api.indices.prototype.existsAlias=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":["open","closed"],options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}},{fmt:"/<%=index%>/_alias",req:{index:{type:"list"}}}],method:"HEAD"}),api.indices.prototype.existsTemplate=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},method:"HEAD"}),api.indices.prototype.existsType=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},url:{fmt:"/<%=index%>/<%=type%>",req:{index:{type:"list"},type:{type:"list"}}},method:"HEAD"}),api.indices.prototype.flush=ca({params:{force:{type:"boolean"},waitIfOngoing:{type:"boolean",name:"wait_if_ongoing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush",req:{index:{type:"list"}}},{fmt:"/_flush"}],method:"POST"}),api.indices.prototype.flushSynced=ca({urls:[{fmt:"/<%=index%>/_flush/synced",req:{index:{type:"list"}}},{fmt:"/_flush/synced"}],method:"POST"}),api.indices.prototype.get=ca({params:{local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/<%=feature%>",req:{index:{type:"list"},feature:{type:"list"}}},{fmt:"/<%=index%>",req:{index:{type:"list"}}}]}),api.indices.prototype.getAlias=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}},{fmt:"/<%=index%>/_alias",req:{index:{type:"list"}}},{fmt:"/_alias"}]}),api.indices.prototype.getAliases=ca({params:{timeout:{type:"time"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_aliases/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/<%=index%>/_aliases",req:{index:{type:"list"}}},{fmt:"/_aliases/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_aliases"}]}),api.indices.prototype.getFieldMapping=ca({params:{includeDefaults:{type:"boolean",name:"include_defaults"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping/<%=type%>/field/<%=field%>",req:{index:{type:"list"},type:{type:"list"},field:{type:"list"}}},{fmt:"/<%=index%>/_mapping/field/<%=field%>",req:{index:{type:"list"},field:{type:"list"}}},{fmt:"/_mapping/<%=type%>/field/<%=field%>",req:{type:{type:"list"},field:{type:"list"}}},{fmt:"/_mapping/field/<%=field%>",req:{field:{type:"list"}}}]}),api.indices.prototype.getMapping=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_mapping",req:{index:{type:"list"}}},{fmt:"/_mapping/<%=type%>",req:{type:{type:"list"}}},{fmt:"/_mapping"}]}),api.indices.prototype.getSettings=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":["open","closed"],options:["open","closed","none","all"],
name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_settings/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_settings"}]}),api.indices.prototype.getTemplate=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},{fmt:"/_template"}]}),api.indices.prototype.getUpgrade=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},human:{type:"boolean","default":!1}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}]}),api.indices.prototype.getWarmer=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/<%=type%>/_warmer/<%=name%>",req:{index:{type:"list"},type:{type:"list"},name:{type:"list"}}},{fmt:"/<%=index%>/_warmer/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/<%=index%>/_warmer",req:{index:{type:"list"}}},{fmt:"/_warmer/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_warmer"}]}),api.indices.prototype.open=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"closed",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>/_open",req:{index:{type:"string"}}},method:"POST"}),api.indices.prototype.optimize=ca({params:{flush:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},maxNumSegments:{type:"number",name:"max_num_segments"},onlyExpungeDeletes:{type:"boolean",name:"only_expunge_deletes"},operationThreading:{name:"operation_threading"},waitForMerge:{type:"boolean",name:"wait_for_merge"},force:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_optimize",req:{index:{type:"list"}}},{fmt:"/_optimize"}],method:"POST"}),api.indices.prototype.putAlias=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"string"}}},method:"PUT"}),api.indices.prototype.putMapping=ca({params:{ignoreConflicts:{type:"boolean",name:"ignore_conflicts"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"string"}}},{fmt:"/_mapping/<%=type%>",req:{type:{type:"string"}}}],needBody:!0,method:"PUT"}),api.indices.prototype.putSettings=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"}},urls:[{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings"}],needBody:!0,method:"PUT"}),api.indices.prototype.putTemplate=ca({params:{order:{type:"number"},create:{type:"boolean","default":!1},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},needBody:!0,method:"PUT"}),api.indices.prototype.putWarmer=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/<%=type%>/_warmer/<%=name%>",req:{index:{type:"list"},type:{type:"list"},name:{type:"string"}}},{fmt:"/<%=index%>/_warmer/<%=name%>",req:{index:{type:"list"},name:{type:"string"}}},{fmt:"/_warmer/<%=name%>",req:{name:{type:"string"}}}],needBody:!0,method:"PUT"}),api.indices.prototype.recovery=ca({params:{detailed:{type:"boolean","default":!1},activeOnly:{type:"boolean","default":!1,name:"active_only"},human:{type:"boolean","default":!1}},urls:[{fmt:"/<%=index%>/_recovery",req:{index:{type:"list"}}},{fmt:"/_recovery"}]}),api.indices.prototype.refresh=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},force:{type:"boolean","default":!1},operationThreading:{name:"operation_threading"}},urls:[{fmt:"/<%=index%>/_refresh",req:{index:{type:"list"}}},{fmt:"/_refresh"}],method:"POST"}),api.indices.prototype.segments=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},human:{type:"boolean","default":!1},operationThreading:{name:"operation_threading"}},urls:[{fmt:"/<%=index%>/_segments",req:{index:{type:"list"}}},{fmt:"/_segments"}]}),api.indices.prototype.stats=ca({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"list"},human:{type:"boolean","default":!1},level:{type:"enum","default":"indices",options:["cluster","indices","shards"]},types:{type:"list"}},urls:[{fmt:"/<%=index%>/_stats/<%=metric%>",req:{index:{type:"list"},metric:{type:"list",options:["_all","completion","docs","fielddata","filter_cache","flush","get","id_cache","indexing","merge","percolate","query_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_stats/<%=metric%>",req:{metric:{type:"list",options:["_all","completion","docs","fielddata","filter_cache","flush","get","id_cache","indexing","merge","percolate","query_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/<%=index%>/_stats",req:{index:{type:"list"}}},{fmt:"/_stats"}]}),api.indices.prototype.status=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},human:{type:"boolean","default":!1},operationThreading:{name:"operation_threading"},recovery:{type:"boolean"},snapshot:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_status",req:{index:{type:"list"}}},{fmt:"/_status"}]}),api.indices.prototype.updateAliases=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_aliases"},needBody:!0,method:"POST"}),api.indices.prototype.upgrade=ca({params:{allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},onlyAncientSegments:{type:"boolean",name:"only_ancient_segments"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}],method:"POST"}),api.indices.prototype.validateQuery=ca({params:{explain:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},operationThreading:{name:"operation_threading"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},lowercaseExpandedTerms:{type:"boolean",name:"lowercase_expanded_terms"},rewrite:{type:"boolean"}},urls:[{fmt:"/<%=index%>/<%=type%>/_validate/query",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_validate/query",req:{index:{type:"list"}}},{fmt:"/_validate/query"}],method:"POST"}),api.info=ca({url:{fmt:"/"}}),api.mget=ca({params:{fields:{type:"list"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"}},urls:[{fmt:"/<%=index%>/<%=type%>/_mget",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_mget",req:{index:{type:"string"}}},{fmt:"/_mget"}],needBody:!0,method:"POST"}),api.mlt=ca({params:{boostTerms:{type:"number",name:"boost_terms"},maxDocFreq:{type:"number",name:"max_doc_freq"},maxQueryTerms:{type:"number",name:"max_query_terms"},maxWordLength:{type:"number",name:"max_word_length"},minDocFreq:{type:"number",name:"min_doc_freq"},minTermFreq:{type:"number",name:"min_term_freq"},minWordLength:{type:"number",name:"min_word_length"},mltFields:{type:"list",name:"mlt_fields"},percentTermsToMatch:{type:"number",name:"percent_terms_to_match"},routing:{type:"string"},searchFrom:{type:"number",name:"search_from"},searchIndices:{type:"list",name:"search_indices"},searchScroll:{type:"string",name:"search_scroll"},searchSize:{type:"number",name:"search_size"},searchSource:{type:"string",name:"search_source"},searchType:{type:"string",name:"search_type"},searchTypes:{type:"list",name:"search_types"},stopWords:{type:"list",name:"stop_words"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_mlt",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"POST"}),api.mpercolate=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/<%=type%>/_mpercolate",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_mpercolate",req:{index:{type:"string"}}},{fmt:"/_mpercolate"}],needBody:!0,bulkBody:!0,method:"POST"}),api.msearch=ca({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch","count","scan"],name:"search_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/_msearch",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_msearch",req:{index:{type:"list"}}},{fmt:"/_msearch"}],needBody:!0,bulkBody:!0,method:"POST"}),api.mtermvectors=ca({params:{ids:{type:"list",required:!1},termStatistics:{type:"boolean","default":!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean","default":!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean","default":!0,required:!1},positions:{type:"boolean","default":!0,required:!1},payloads:{type:"boolean","default":!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},parent:{type:"string",required:!1},realtime:{type:"boolean",required:!1}},urls:[{fmt:"/<%=index%>/<%=type%>/_mtermvectors",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_mtermvectors",req:{index:{type:"string"}}},{fmt:"/_mtermvectors"}],method:"POST"}),api.nodes=namespace(),api.nodes.prototype.hotThreads=ca({params:{interval:{type:"time"},snapshots:{type:"number"},threads:{type:"number"},ignoreIdleThreads:{type:"boolean",name:"ignore_idle_threads"},type:{type:"enum",options:["cpu","wait","block"]},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/hotthreads",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/hotthreads"}]}),api.nodes.prototype.info=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},human:{type:"boolean","default":!1},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["settings","os","process","jvm","thread_pool","network","transport","http","plugins"]}}},{fmt:"/_nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/<%=metric%>",req:{metric:{type:"list",options:["settings","os","process","jvm","thread_pool","network","transport","http","plugins"]}}},{fmt:"/_nodes"}]}),api.nodes.prototype.shutdown=ca({params:{delay:{type:"time"},exit:{type:"boolean"}},urls:[{fmt:"/_cluster/nodes/<%=nodeId%>/_shutdown",req:{nodeId:{type:"list"}}},{fmt:"/_shutdown"}],method:"POST"}),api.nodes.prototype.stats=ca({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"boolean"},human:{type:"boolean","default":!1},level:{type:"enum","default":"node",options:["node","indices","shards"]},types:{type:"list"},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>/<%=indexMetric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","network","os","process","thread_pool","transport"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","filter_cache","flush","get","id_cache","indexing","merge","percolate","query_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","network","os","process","thread_pool","transport"]}}},{fmt:"/_nodes/stats/<%=metric%>/<%=indexMetric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","network","os","process","thread_pool","transport"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","filter_cache","flush","get","id_cache","indexing","merge","percolate","query_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/stats/<%=metric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","network","os","process","thread_pool","transport"]}}},{fmt:"/_nodes/stats"}]}),api.percolate=ca({params:{routing:{type:"list"},preference:{type:"string"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},percolateFormat:{type:"enum",options:["ids"],name:"percolate_format"},percolateIndex:{type:"string",name:"percolate_index"},percolateType:{type:"string",name:"percolate_type"},percolateRouting:{type:"string",name:"percolate_routing"},percolatePreference:{type:"string",name:"percolate_preference"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>/_percolate",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>/_percolate",req:{index:{type:"string"},type:{type:"string"}}}],method:"POST"}),api.ping=ca({url:{fmt:"/"},requestTimeout:3e3,method:"HEAD"}),api.putScript=ca({params:{opType:{type:"enum","default":"index",options:["index","create"],name:"op_type"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/_scripts/<%=lang%>/<%=id%>",req:{lang:{type:"string"},id:{type:"string"}}},needBody:!0,method:"PUT"}),api.putTemplate=ca({params:{opType:{type:"enum","default":"index",options:["index","create"],name:"op_type"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/_search/template/<%=id%>",req:{id:{type:"string"}}},needBody:!0,method:"PUT"}),api.scroll=ca({params:{scroll:{type:"time"},scrollId:{type:"string",name:"scroll_id"}},urls:[{fmt:"/_search/scroll/<%=scrollId%>",req:{scrollId:{type:"string"}}},{fmt:"/_search/scroll"}],paramAsBody:"scrollId",method:"POST"}),api.search=ca({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},explain:{type:"boolean"},fields:{type:"list"},fielddataFields:{type:"list",name:"fielddata_fields"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},lowercaseExpandedTerms:{type:"boolean",name:"lowercase_expanded_terms"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch","count","scan"],name:"search_type"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},stats:{type:"list"},suggestField:{type:"string",name:"suggest_field"},suggestMode:{type:"enum","default":"missing",options:["missing","popular","always"],name:"suggest_mode"},suggestSize:{type:"number",name:"suggest_size"},suggestText:{type:"string",name:"suggest_text"},timeout:{type:"time"},trackScores:{type:"boolean",name:"track_scores"},version:{type:"boolean"},queryCache:{type:"boolean",name:"query_cache"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_search",req:{index:{type:"list"}}},{fmt:"/_search"}],method:"POST"}),api.searchExists=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},minScore:{type:"number",name:"min_score"},preference:{type:"string"},routing:{type:"string"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},lowercaseExpandedTerms:{type:"boolean",name:"lowercase_expanded_terms"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search/exists",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_search/exists",req:{index:{type:"list"}}},{fmt:"/_search/exists"}],method:"POST"}),api.searchShards=ca({params:{preference:{type:"string"},routing:{type:"string"},local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search_shards",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_search_shards",req:{index:{type:"string"}}},{fmt:"/_search_shards"}],method:"POST"}),api.searchTemplate=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},preference:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch","count","scan"],name:"search_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search/template",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_search/template",req:{index:{type:"list"}}},{fmt:"/_search/template"}],method:"POST"}),api.snapshot=namespace(),api.snapshot.prototype.create=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),api.snapshot.prototype.createRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},verify:{type:"boolean"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"string"}}},needBody:!0,method:"POST"}),api.snapshot.prototype["delete"]=ca({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"DELETE"}),api.snapshot.prototype.deleteRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},method:"DELETE"}),api.snapshot.prototype.get=ca({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"list"}}}}),api.snapshot.prototype.getRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_snapshot"}]}),api.snapshot.prototype.restore=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_restore",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),api.snapshot.prototype.status=ca({params:{masterTimeout:{type:"time",name:"master_timeout"}},urls:[{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_status",req:{repository:{type:"string"},snapshot:{type:"list"}}},{fmt:"/_snapshot/<%=repository%>/_status",req:{repository:{type:"string"}}},{fmt:"/_snapshot/_status"}]}),api.snapshot.prototype.verifyRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>/_verify",req:{repository:{type:"string"}}},method:"POST"}),api.suggest=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},preference:{type:"string"},routing:{type:"string"}},urls:[{fmt:"/<%=index%>/_suggest",req:{index:{type:"list"}}},{fmt:"/_suggest"}],needBody:!0,method:"POST"}),api.termvector=ca({params:{termStatistics:{type:"boolean","default":!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean","default":!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean","default":!0,required:!1},positions:{type:"boolean","default":!0,required:!1},payloads:{type:"boolean","default":!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},parent:{type:"string",required:!1},realtime:{type:"boolean",required:!1}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>/_termvector",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>/_termvector",req:{index:{type:"string"},type:{type:"string"}}}],method:"POST"}),api.update=ca({params:{consistency:{type:"enum",options:["one","quorum","all"]},fields:{type:"list"},lang:{type:"string"},parent:{type:"string"},refresh:{type:"boolean"},replication:{type:"enum","default":"sync",options:["sync","async"]},retryOnConflict:{type:"number",name:"retry_on_conflict"},routing:{type:"string"},script:{type:"string"},scriptId:{type:"string",name:"script_id"},scriptedUpsert:{type:"boolean",name:"scripted_upsert"},timeout:{type:"time"},timestamp:{type:"time"},ttl:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_update",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"POST"}),api.create=ca.proxy(api.index,{transform:function(params){params.op_type="create"}})},function(module,exports,__webpack_require__){var ca=__webpack_require__(46).makeFactoryWithModifier(function(spec){return __webpack_require__(3).merge(spec,{params:{filterPath:{type:"list",name:"filter_path"}}})}),namespace=__webpack_require__(46).namespaceFactory,api=module.exports={};api._namespaces=["cat","cluster","indices","ingest","nodes","snapshot","tasks"],api.bulk=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},type:{type:"string"},fields:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/<%=type%>/_bulk",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_bulk",req:{index:{type:"string"}}},{fmt:"/_bulk"}],needBody:!0,bulkBody:!0,method:"POST"}),api.cat=namespace(),api.cat.prototype.aliases=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/aliases/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_cat/aliases"}]}),api.cat.prototype.allocation=ca({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/allocation/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cat/allocation"}]}),api.cat.prototype.count=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/count/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/count"}]}),api.cat.prototype.fielddata=ca({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1},fields:{type:"list"}},urls:[{fmt:"/_cat/fielddata/<%=fields%>",req:{fields:{type:"list"}}},{fmt:"/_cat/fielddata"}]}),api.cat.prototype.health=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},ts:{type:"boolean","default":!0},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/health"}}),api.cat.prototype.help=ca({params:{help:{type:"boolean","default":!1},s:{type:"list"}},url:{fmt:"/_cat"}}),api.cat.prototype.indices=ca({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","m","g"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},health:{type:"enum","default":null,options:["green","yellow","red"]},help:{type:"boolean","default":!1},pri:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/indices/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/indices"}]}),api.cat.prototype.master=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/master"}}),api.cat.prototype.nodeattrs=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/nodeattrs"}}),api.cat.prototype.nodes=ca({params:{format:{type:"string"},fullId:{type:"boolean",name:"full_id"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/nodes"}}),api.cat.prototype.pendingTasks=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/pending_tasks"}}),api.cat.prototype.plugins=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/plugins"}}),api.cat.prototype.recovery=ca({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/recovery/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/recovery"}]}),api.cat.prototype.repositories=ca({params:{format:{type:"string"},local:{type:"boolean","default":!1},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/repositories"}}),api.cat.prototype.segments=ca({params:{format:{type:"string"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/segments/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/segments"}]}),api.cat.prototype.shards=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/shards/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/shards"}]}),api.cat.prototype.snapshots=ca({params:{format:{type:"string"},ignoreUnavailable:{type:"boolean","default":!1,name:"ignore_unavailable"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/snapshots/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_cat/snapshots"}]}),api.cat.prototype.tasks=ca({params:{format:{type:"string"},nodeId:{type:"list",name:"node_id"},actions:{type:"list"},detailed:{type:"boolean"},parentNode:{type:"string",name:"parent_node"},parentTask:{type:"number",name:"parent_task"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/tasks"}}),api.cat.prototype.templates=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/templates/<%=name%>",req:{name:{type:"string"}}},{fmt:"/_cat/templates"}]}),api.cat.prototype.threadPool=ca({params:{format:{type:"string"},size:{type:"enum",options:["","k","m","g","t","p"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean",
"default":!1}},urls:[{fmt:"/_cat/thread_pool/<%=threadPoolPatterns%>",req:{threadPoolPatterns:{type:"list"}}},{fmt:"/_cat/thread_pool"}]}),api.clearScroll=ca({urls:[{fmt:"/_search/scroll/<%=scrollId%>",req:{scrollId:{type:"list"}}},{fmt:"/_search/scroll"}],paramAsBody:{param:"scrollId",body:"scroll_id"},method:"DELETE"}),api.cluster=namespace(),api.cluster.prototype.allocationExplain=ca({params:{includeYesDecisions:{type:"boolean",name:"include_yes_decisions"},includeDiskInfo:{type:"boolean",name:"include_disk_info"}},url:{fmt:"/_cluster/allocation/explain"},method:"POST"}),api.cluster.prototype.getSettings=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},includeDefaults:{type:"boolean","default":!1,name:"include_defaults"}},url:{fmt:"/_cluster/settings"}}),api.cluster.prototype.health=ca({params:{level:{type:"enum","default":"cluster",options:["cluster","indices","shards"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForNodes:{type:"string",name:"wait_for_nodes"},waitForEvents:{type:"enum",options:["immediate","urgent","high","normal","low","languid"],name:"wait_for_events"},waitForNoRelocatingShards:{type:"boolean",name:"wait_for_no_relocating_shards"},waitForStatus:{type:"enum","default":null,options:["green","yellow","red"],name:"wait_for_status"}},urls:[{fmt:"/_cluster/health/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cluster/health"}]}),api.cluster.prototype.pendingTasks=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_cluster/pending_tasks"}}),api.cluster.prototype.putSettings=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/settings"},method:"PUT"}),api.cluster.prototype.reroute=ca({params:{dryRun:{type:"boolean",name:"dry_run"},explain:{type:"boolean"},retryFailed:{type:"boolean",name:"retry_failed"},metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","master_node","version"]},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/reroute"},method:"POST"}),api.cluster.prototype.state=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/_cluster/state/<%=metric%>/<%=index%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]},index:{type:"list"}}},{fmt:"/_cluster/state/<%=metric%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]}}},{fmt:"/_cluster/state"}]}),api.cluster.prototype.stats=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},timeout:{type:"time"}},urls:[{fmt:"/_cluster/stats/nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cluster/stats"}]}),api.count=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},minScore:{type:"number",name:"min_score"},preference:{type:"string"},routing:{type:"string"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"}},urls:[{fmt:"/<%=index%>/<%=type%>/_count",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_count",req:{index:{type:"list"}}},{fmt:"/_count"}],method:"POST"}),api.countPercolate=ca({params:{routing:{type:"list"},preference:{type:"string"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},percolateIndex:{type:"string",name:"percolate_index"},percolateType:{type:"string",name:"percolate_type"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>/_percolate/count",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>/_percolate/count",req:{index:{type:"string"},type:{type:"string"}}}],method:"POST"}),api.create=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},parent:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},timestamp:{type:"time"},ttl:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},pipeline:{type:"string"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_create",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},needBody:!0,method:"POST"}),api["delete"]=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},parent:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"DELETE"}),api.deleteByQuery=ca({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum","default":"abort",options:["abort","proceed"]},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time","default":"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"},requestsPerSecond:{type:"number","default":0,name:"requests_per_second"},slices:{type:"number","default":1}},urls:[{fmt:"/<%=index%>/<%=type%>/_delete_by_query",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_delete_by_query",req:{index:{type:"list"}}}],needBody:!0,method:"POST"}),api.deleteScript=ca({urls:[{fmt:"/_scripts/<%=lang%>/<%=id%>",req:{lang:{type:"string"},id:{type:"string"}}},{fmt:"/_scripts/<%=lang%>",req:{lang:{type:"string"}}}],method:"DELETE"}),api.deleteTemplate=ca({url:{fmt:"/_search/template/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),api.exists=ca({params:{parent:{type:"string"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"HEAD"}),api.explain=ca({params:{analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},analyzer:{type:"string"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},storedFields:{type:"list",name:"stored_fields"},lenient:{type:"boolean"},parent:{type:"string"},preference:{type:"string"},q:{type:"string"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_explain",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"POST"}),api.fieldStats=ca({params:{fields:{type:"list"},level:{type:"enum","default":"cluster",options:["indices","cluster"]},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_field_stats",req:{index:{type:"list"}}},{fmt:"/_field_stats"}],method:"POST"}),api.get=ca({params:{storedFields:{type:"list",name:"stored_fields"},parent:{type:"string"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}}}),api.getScript=ca({urls:[{fmt:"/_scripts/<%=lang%>/<%=id%>",req:{lang:{type:"string"},id:{type:"string"}}},{fmt:"/_scripts/<%=lang%>",req:{lang:{type:"string"}}}]}),api.getSource=ca({params:{parent:{type:"string"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_source",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}}}),api.getTemplate=ca({url:{fmt:"/_search/template/<%=id%>",req:{id:{type:"string"}}}}),api.index=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},opType:{type:"enum","default":"index",options:["index","create"],name:"op_type"},parent:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},timestamp:{type:"time"},ttl:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>",req:{index:{type:"string"},type:{type:"string"}}}],needBody:!0,method:"POST"}),api.indices=namespace(),api.indices.prototype.analyze=ca({params:{analyzer:{type:"string"},charFilter:{type:"list",name:"char_filter"},field:{type:"string"},filter:{type:"list"},index:{type:"string"},preferLocal:{type:"boolean",name:"prefer_local"},text:{type:"list"},tokenizer:{type:"string"},explain:{type:"boolean"},attributes:{type:"list"},format:{type:"enum","default":"detailed",options:["detailed","text"]}},urls:[{fmt:"/<%=index%>/_analyze",req:{index:{type:"string"}}},{fmt:"/_analyze"}],method:"POST"}),api.indices.prototype.clearCache=ca({params:{fieldData:{type:"boolean",name:"field_data"},fielddata:{type:"boolean"},fields:{type:"list"},query:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},index:{type:"list"},recycler:{type:"boolean"},request:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_cache/clear",req:{index:{type:"list"}}},{fmt:"/_cache/clear"}],method:"POST"}),api.indices.prototype.close=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>/_close",req:{index:{type:"list"}}},method:"POST"}),api.indices.prototype.create=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},updateAllTypes:{type:"boolean",name:"update_all_types"}},url:{fmt:"/<%=index%>",req:{index:{type:"string"}}},method:"PUT"}),api.indices.prototype["delete"]=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"DELETE"}),api.indices.prototype.deleteAlias=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},method:"DELETE"}),api.indices.prototype.deleteTemplate=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},method:"DELETE"}),api.indices.prototype.exists=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"HEAD"}),api.indices.prototype.existsAlias=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":["open","closed"],options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}},{fmt:"/<%=index%>/_alias",req:{index:{type:"list"}}}],method:"HEAD"}),api.indices.prototype.existsTemplate=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},method:"HEAD"}),api.indices.prototype.existsType=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},url:{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"list"}}},method:"HEAD"}),api.indices.prototype.flush=ca({params:{force:{type:"boolean"},waitIfOngoing:{type:"boolean",name:"wait_if_ongoing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush",req:{index:{type:"list"}}},{fmt:"/_flush"}],method:"POST"}),api.indices.prototype.flushSynced=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush/synced",req:{index:{type:"list"}}},{fmt:"/_flush/synced"}],method:"POST"}),api.indices.prototype.forcemerge=ca({params:{flush:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},maxNumSegments:{type:"number",name:"max_num_segments"},onlyExpungeDeletes:{type:"boolean",name:"only_expunge_deletes"},operationThreading:{name:"operation_threading"},waitForMerge:{type:"boolean",name:"wait_for_merge"}},urls:[{fmt:"/<%=index%>/_forcemerge",req:{index:{type:"list"}}},{fmt:"/_forcemerge"}],method:"POST"}),api.indices.prototype.get=ca({params:{local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},includeDefaults:{type:"boolean","default":!1,name:"include_defaults"}},urls:[{fmt:"/<%=index%>/<%=feature%>",req:{index:{type:"list"},feature:{type:"list",options:["_settings","_mappings","_aliases"]}}},{fmt:"/<%=index%>",req:{index:{type:"list"}}}]}),api.indices.prototype.getAlias=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"all",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}},{fmt:"/<%=index%>/_alias",req:{index:{type:"list"}}},{fmt:"/_alias"}]}),api.indices.prototype.getFieldMapping=ca({params:{includeDefaults:{type:"boolean",name:"include_defaults"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping/<%=type%>/field/<%=fields%>",req:{index:{type:"list"},type:{type:"list"},fields:{type:"list"}}},{fmt:"/<%=index%>/_mapping/field/<%=fields%>",req:{index:{type:"list"},fields:{type:"list"}}},{fmt:"/_mapping/<%=type%>/field/<%=fields%>",req:{type:{type:"list"},fields:{type:"list"}}},{fmt:"/_mapping/field/<%=fields%>",req:{fields:{type:"list"}}}]}),api.indices.prototype.getMapping=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_mapping",req:{index:{type:"list"}}},{fmt:"/_mapping/<%=type%>",req:{type:{type:"list"}}},{fmt:"/_mapping"}]}),api.indices.prototype.getSettings=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":["open","closed"],options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},local:{type:"boolean"},includeDefaults:{type:"boolean","default":!1,name:"include_defaults"}},urls:[{fmt:"/<%=index%>/_settings/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_settings"}]}),api.indices.prototype.getTemplate=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_template/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_template"}]}),api.indices.prototype.getUpgrade=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}]}),api.indices.prototype.open=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"closed",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>/_open",req:{index:{type:"list"}}},method:"POST"}),api.indices.prototype.putAlias=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"string"}}},method:"PUT"}),api.indices.prototype.putMapping=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},updateAllTypes:{type:"boolean",name:"update_all_types"}},urls:[{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"string"}}},{fmt:"/_mapping/<%=type%>",req:{type:{type:"string"}}}],needBody:!0,method:"PUT"}),api.indices.prototype.putSettings=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},preserveExisting:{type:"boolean",name:"preserve_existing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"}},urls:[{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings"}],needBody:!0,method:"PUT"}),api.indices.prototype.putTemplate=ca({params:{order:{type:"number"},create:{type:"boolean","default":!1},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},needBody:!0,method:"PUT"}),api.indices.prototype.recovery=ca({params:{detailed:{type:"boolean","default":!1},activeOnly:{type:"boolean","default":!1,name:"active_only"}},urls:[{fmt:"/<%=index%>/_recovery",req:{index:{type:"list"}}},{fmt:"/_recovery"}]}),api.indices.prototype.refresh=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},force:{type:"boolean","default":!1},operationThreading:{name:"operation_threading"}},urls:[{fmt:"/<%=index%>/_refresh",req:{index:{type:"list"}}},{fmt:"/_refresh"}],method:"POST"}),api.indices.prototype.rollover=ca({params:{timeout:{type:"time"},dryRun:{type:"boolean",name:"dry_run"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},urls:[{fmt:"/<%=alias%>/_rollover/<%=newIndex%>",req:{alias:{type:"string"},newIndex:{type:"string"}}},{fmt:"/<%=alias%>/_rollover",req:{alias:{type:"string"}}}],method:"POST"}),api.indices.prototype.segments=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},operationThreading:{name:"operation_threading"},verbose:{type:"boolean","default":!1}},urls:[{fmt:"/<%=index%>/_segments",req:{index:{type:"list"}}},{fmt:"/_segments"}]}),api.indices.prototype.shardStores=ca({params:{status:{type:"list",options:["green","yellow","red","all"]},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},operationThreading:{name:"operation_threading"}},urls:[{fmt:"/<%=index%>/_shard_stores",req:{index:{type:"list"}}},{fmt:"/_shard_stores"}]}),api.indices.prototype.shrink=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_shrink/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),api.indices.prototype.stats=ca({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"list"},level:{type:"enum","default":"indices",options:["cluster","indices","shards"]},types:{type:"list"},includeSegmentFileSizes:{type:"boolean","default":!1,name:"include_segment_file_sizes"}},urls:[{fmt:"/<%=index%>/_stats/<%=metric%>",req:{index:{type:"list"},metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","percolate","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_stats/<%=metric%>",req:{metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","percolate","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/<%=index%>/_stats",req:{index:{type:"list"}}},{fmt:"/_stats"}]}),api.indices.prototype.updateAliases=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_aliases"},needBody:!0,method:"POST"}),api.indices.prototype.upgrade=ca({params:{allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},onlyAncientSegments:{type:"boolean",name:"only_ancient_segments"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}],method:"POST"}),api.indices.prototype.validateQuery=ca({params:{explain:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},operationThreading:{name:"operation_threading"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},rewrite:{type:"boolean"}},urls:[{fmt:"/<%=index%>/<%=type%>/_validate/query",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_validate/query",req:{index:{type:"list"}}},{fmt:"/_validate/query"}],method:"POST"}),api.info=ca({url:{fmt:"/"}}),api.ingest=namespace(),api.ingest.prototype.deletePipeline=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),api.ingest.prototype.getPipeline=ca({params:{masterTimeout:{type:"time",name:"master_timeout"}},urls:[{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline"}]}),api.ingest.prototype.putPipeline=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},needBody:!0,method:"PUT"}),api.ingest.prototype.simulate=ca({params:{verbose:{type:"boolean","default":!1}},urls:[{fmt:"/_ingest/pipeline/<%=id%>/_simulate",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline/_simulate"}],needBody:!0,method:"POST"}),api.mget=ca({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"}},urls:[{fmt:"/<%=index%>/<%=type%>/_mget",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_mget",req:{index:{type:"string"}}},{fmt:"/_mget"}],needBody:!0,method:"POST"}),api.mpercolate=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/<%=type%>/_mpercolate",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_mpercolate",req:{index:{type:"string"}}},{fmt:"/_mpercolate"}],needBody:!0,bulkBody:!0,method:"POST"}),api.msearch=ca({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},maxConcurrentSearches:{type:"number",name:"max_concurrent_searches"},typedKeys:{type:"boolean",name:"typed_keys"}},urls:[{fmt:"/<%=index%>/<%=type%>/_msearch",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_msearch",req:{index:{type:"list"}}},{fmt:"/_msearch"}],needBody:!0,bulkBody:!0,method:"POST"}),api.msearchTemplate=ca({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},typedKeys:{type:"boolean",name:"typed_keys"}},urls:[{fmt:"/<%=index%>/<%=type%>/_msearch/template",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_msearch/template",req:{index:{type:"list"}}},{fmt:"/_msearch/template"}],needBody:!0,bulkBody:!0,method:"POST"}),api.mtermvectors=ca({params:{ids:{type:"list",required:!1},termStatistics:{type:"boolean","default":!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean","default":!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean","default":!0,required:!1},positions:{type:"boolean","default":!0,required:!1},payloads:{type:"boolean","default":!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},parent:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/_mtermvectors",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_mtermvectors",req:{index:{type:"string"}}},{fmt:"/_mtermvectors"}],method:"POST"}),api.nodes=namespace(),api.nodes.prototype.hotThreads=ca({params:{interval:{type:"time"},snapshots:{type:"number"},threads:{type:"number"},ignoreIdleThreads:{type:"boolean",name:"ignore_idle_threads"},type:{type:"enum",options:["cpu","wait","block"]},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/hotthreads",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/hotthreads"}]}),api.nodes.prototype.info=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/<%=metric%>",req:{metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes"}]}),api.nodes.prototype.stats=ca({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"boolean"},level:{type:"enum","default":"node",options:["indices","node","shards"]},types:{type:"list"},timeout:{type:"time"},includeSegmentFileSizes:{type:"boolean","default":!1,name:"include_segment_file_sizes"}},urls:[{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>/<%=indexMetric%>",req:{nodeId:{type:"list"},metric:{type:"list",
options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","percolate","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats/<%=metric%>/<%=indexMetric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","percolate","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/stats/<%=metric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats"}]}),api.percolate=ca({params:{routing:{type:"list"},preference:{type:"string"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},percolateIndex:{type:"string",name:"percolate_index"},percolateType:{type:"string",name:"percolate_type"},percolateRouting:{type:"string",name:"percolate_routing"},percolatePreference:{type:"string",name:"percolate_preference"},percolateFormat:{type:"enum",options:["ids"],name:"percolate_format"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>/_percolate",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>/_percolate",req:{index:{type:"string"},type:{type:"string"}}}],method:"POST"}),api.ping=ca({url:{fmt:"/"},requestTimeout:3e3,method:"HEAD"}),api.putScript=ca({urls:[{fmt:"/_scripts/<%=lang%>/<%=id%>",req:{lang:{type:"string"},id:{type:"string"}}},{fmt:"/_scripts/<%=lang%>",req:{lang:{type:"string"}}}],needBody:!0,method:"PUT"}),api.putTemplate=ca({url:{fmt:"/_search/template/<%=id%>",req:{id:{type:"string"}}},needBody:!0,method:"PUT"}),api.reindex=ca({params:{refresh:{type:"boolean"},timeout:{type:"time","default":"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"},requestsPerSecond:{type:"number","default":0,name:"requests_per_second"},slices:{type:"number","default":1}},url:{fmt:"/_reindex"},needBody:!0,method:"POST"}),api.reindexRethrottle=ca({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_reindex/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"}),api.renderSearchTemplate=ca({urls:[{fmt:"/_render/template/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_render/template"}],method:"POST"}),api.scroll=ca({params:{scroll:{type:"time"},scrollId:{type:"string",name:"scroll_id"}},urls:[{fmt:"/_search/scroll/<%=scrollId%>",req:{scrollId:{type:"string"}}},{fmt:"/_search/scroll"}],paramAsBody:{param:"scrollId",body:"scroll_id"},method:"POST"}),api.search=ca({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},explain:{type:"boolean"},storedFields:{type:"list",name:"stored_fields"},docvalueFields:{type:"list",name:"docvalue_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},suggestField:{type:"string",name:"suggest_field"},suggestMode:{type:"enum","default":"missing",options:["missing","popular","always"],name:"suggest_mode"},suggestSize:{type:"number",name:"suggest_size"},suggestText:{type:"string",name:"suggest_text"},timeout:{type:"time"},trackScores:{type:"boolean",name:"track_scores"},typedKeys:{type:"boolean",name:"typed_keys"},version:{type:"boolean"},requestCache:{type:"boolean",name:"request_cache"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_search",req:{index:{type:"list"}}},{fmt:"/_search"}],method:"POST"}),api.searchShards=ca({params:{preference:{type:"string"},routing:{type:"string"},local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search_shards",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_search_shards",req:{index:{type:"list"}}},{fmt:"/_search_shards"}],method:"POST"}),api.searchTemplate=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},preference:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},explain:{type:"boolean"},profile:{type:"boolean"},typedKeys:{type:"boolean",name:"typed_keys"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search/template",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_search/template",req:{index:{type:"list"}}},{fmt:"/_search/template"}],method:"POST"}),api.snapshot=namespace(),api.snapshot.prototype.create=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),api.snapshot.prototype.createRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},verify:{type:"boolean"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"string"}}},needBody:!0,method:"POST"}),api.snapshot.prototype["delete"]=ca({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"DELETE"}),api.snapshot.prototype.deleteRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},method:"DELETE"}),api.snapshot.prototype.get=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"list"}}}}),api.snapshot.prototype.getRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_snapshot"}]}),api.snapshot.prototype.restore=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_restore",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),api.snapshot.prototype.status=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"}},urls:[{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_status",req:{repository:{type:"string"},snapshot:{type:"list"}}},{fmt:"/_snapshot/<%=repository%>/_status",req:{repository:{type:"string"}}},{fmt:"/_snapshot/_status"}]}),api.snapshot.prototype.verifyRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>/_verify",req:{repository:{type:"string"}}},method:"POST"}),api.suggest=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},preference:{type:"string"},routing:{type:"string"}},urls:[{fmt:"/<%=index%>/_suggest",req:{index:{type:"list"}}},{fmt:"/_suggest"}],needBody:!0,method:"POST"}),api.tasks=namespace(),api.tasks.prototype.cancel=ca({params:{nodeId:{type:"list",name:"node_id"},actions:{type:"list"},parentNode:{type:"string",name:"parent_node"},parentTask:{type:"string",name:"parent_task"}},urls:[{fmt:"/_tasks/<%=taskId%>/_cancel",req:{taskId:{type:"string"}}},{fmt:"/_tasks/_cancel"}],method:"POST"}),api.tasks.prototype.get=ca({params:{waitForCompletion:{type:"boolean",name:"wait_for_completion"}},url:{fmt:"/_tasks/<%=taskId%>",req:{taskId:{type:"string"}}}}),api.tasks.prototype.list=ca({params:{nodeId:{type:"list",name:"node_id"},actions:{type:"list"},detailed:{type:"boolean"},parentNode:{type:"string",name:"parent_node"},parentTask:{type:"string",name:"parent_task"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},groupBy:{type:"enum","default":"nodes",options:["nodes","parents"],name:"group_by"}},url:{fmt:"/_tasks"}}),api.termvectors=ca({params:{termStatistics:{type:"boolean","default":!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean","default":!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean","default":!0,required:!1},positions:{type:"boolean","default":!0,required:!1},payloads:{type:"boolean","default":!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},parent:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>/_termvectors",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>/_termvectors",req:{index:{type:"string"},type:{type:"string"}}}],method:"POST"}),api.update=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},fields:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},lang:{type:"string"},parent:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},retryOnConflict:{type:"number",name:"retry_on_conflict"},routing:{type:"string"},timeout:{type:"time"},timestamp:{type:"time"},ttl:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_update",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"POST"}),api.updateByQuery=ca({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum","default":"abort",options:["abort","proceed"]},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},pipeline:{type:"string"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},versionType:{type:"boolean",name:"version_type"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time","default":"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"},requestsPerSecond:{type:"number","default":0,name:"requests_per_second"},slices:{type:"number","default":1}},urls:[{fmt:"/<%=index%>/<%=type%>/_update_by_query",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_update_by_query",req:{index:{type:"list"}}}],method:"POST"})},function(module,exports,__webpack_require__){var ca=__webpack_require__(46).makeFactoryWithModifier(function(spec){return __webpack_require__(3).merge(spec,{params:{filterPath:{type:"list",name:"filter_path"}}})}),namespace=__webpack_require__(46).namespaceFactory,api=module.exports={};api._namespaces=["cat","cluster","indices","ingest","nodes","snapshot","tasks"],api.bulk=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},type:{type:"string"},fields:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/<%=type%>/_bulk",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_bulk",req:{index:{type:"string"}}},{fmt:"/_bulk"}],needBody:!0,bulkBody:!0,method:"POST"}),api.cat=namespace(),api.cat.prototype.aliases=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/aliases/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_cat/aliases"}]}),api.cat.prototype.allocation=ca({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/allocation/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cat/allocation"}]}),api.cat.prototype.count=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/count/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/count"}]}),api.cat.prototype.fielddata=ca({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1},fields:{type:"list"}},urls:[{fmt:"/_cat/fielddata/<%=fields%>",req:{fields:{type:"list"}}},{fmt:"/_cat/fielddata"}]}),api.cat.prototype.health=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},ts:{type:"boolean","default":!0},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/health"}}),api.cat.prototype.help=ca({params:{help:{type:"boolean","default":!1},s:{type:"list"}},url:{fmt:"/_cat"}}),api.cat.prototype.indices=ca({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","m","g"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},health:{type:"enum","default":null,options:["green","yellow","red"]},help:{type:"boolean","default":!1},pri:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/indices/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/indices"}]}),api.cat.prototype.master=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/master"}}),api.cat.prototype.nodeattrs=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/nodeattrs"}}),api.cat.prototype.nodes=ca({params:{format:{type:"string"},fullId:{type:"boolean",name:"full_id"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/nodes"}}),api.cat.prototype.pendingTasks=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/pending_tasks"}}),api.cat.prototype.plugins=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/plugins"}}),api.cat.prototype.recovery=ca({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/recovery/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/recovery"}]}),api.cat.prototype.repositories=ca({params:{format:{type:"string"},local:{type:"boolean","default":!1},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/repositories"}}),api.cat.prototype.segments=ca({params:{format:{type:"string"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/segments/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/segments"}]}),api.cat.prototype.shards=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/shards/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/shards"}]}),api.cat.prototype.snapshots=ca({params:{format:{type:"string"},ignoreUnavailable:{type:"boolean","default":!1,name:"ignore_unavailable"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/snapshots/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_cat/snapshots"}]}),api.cat.prototype.tasks=ca({params:{format:{type:"string"},nodeId:{type:"list",name:"node_id"},actions:{type:"list"},detailed:{type:"boolean"},parentNode:{type:"string",name:"parent_node"},parentTask:{type:"number",name:"parent_task"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/tasks"}}),api.cat.prototype.templates=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/templates/<%=name%>",req:{name:{type:"string"}}},{fmt:"/_cat/templates"}]}),api.cat.prototype.threadPool=ca({params:{format:{type:"string"},size:{type:"enum",options:["","k","m","g","t","p"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/thread_pool/<%=threadPoolPatterns%>",req:{threadPoolPatterns:{type:"list"}}},{fmt:"/_cat/thread_pool"}]}),api.clearScroll=ca({urls:[{fmt:"/_search/scroll/<%=scrollId%>",req:{scrollId:{type:"list"}}},{fmt:"/_search/scroll"}],paramAsBody:{param:"scrollId",body:"scroll_id"},method:"DELETE"}),api.cluster=namespace(),api.cluster.prototype.allocationExplain=ca({params:{includeYesDecisions:{type:"boolean",name:"include_yes_decisions"},includeDiskInfo:{type:"boolean",name:"include_disk_info"}},url:{fmt:"/_cluster/allocation/explain"},method:"POST"}),api.cluster.prototype.getSettings=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},includeDefaults:{type:"boolean","default":!1,name:"include_defaults"}},url:{fmt:"/_cluster/settings"}}),api.cluster.prototype.health=ca({params:{level:{type:"enum","default":"cluster",options:["cluster","indices","shards"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForNodes:{type:"string",name:"wait_for_nodes"},waitForEvents:{type:"enum",options:["immediate","urgent","high","normal","low","languid"],name:"wait_for_events"},waitForNoRelocatingShards:{type:"boolean",name:"wait_for_no_relocating_shards"},waitForStatus:{type:"enum","default":null,options:["green","yellow","red"],name:"wait_for_status"}},urls:[{fmt:"/_cluster/health/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cluster/health"}]}),api.cluster.prototype.pendingTasks=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_cluster/pending_tasks"}}),api.cluster.prototype.putSettings=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/settings"},method:"PUT"}),api.cluster.prototype.reroute=ca({params:{dryRun:{type:"boolean",name:"dry_run"},explain:{type:"boolean"},retryFailed:{type:"boolean",name:"retry_failed"},metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","master_node","version"]},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/reroute"},method:"POST"}),api.cluster.prototype.state=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/_cluster/state/<%=metric%>/<%=index%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]},index:{type:"list"}}},{fmt:"/_cluster/state/<%=metric%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]}}},{fmt:"/_cluster/state"}]}),api.cluster.prototype.stats=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},timeout:{type:"time"}},urls:[{fmt:"/_cluster/stats/nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cluster/stats"}]}),api.count=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},minScore:{type:"number",name:"min_score"},preference:{type:"string"},routing:{type:"string"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"}},urls:[{fmt:"/<%=index%>/<%=type%>/_count",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_count",req:{index:{type:"list"}}},{fmt:"/_count"}],method:"POST"}),api.countPercolate=ca({params:{routing:{type:"list"},preference:{type:"string"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},percolateIndex:{type:"string",name:"percolate_index"},percolateType:{type:"string",name:"percolate_type"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>/_percolate/count",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>/_percolate/count",req:{index:{type:"string"},type:{type:"string"}}}],method:"POST"}),api.create=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},parent:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},timestamp:{type:"time"},ttl:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},pipeline:{type:"string"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_create",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},needBody:!0,method:"POST"}),api["delete"]=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},parent:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"DELETE"}),api.deleteByQuery=ca({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum","default":"abort",options:["abort","proceed"]},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time","default":"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"},requestsPerSecond:{type:"number","default":0,name:"requests_per_second"},slices:{type:"number","default":1}},urls:[{fmt:"/<%=index%>/<%=type%>/_delete_by_query",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_delete_by_query",req:{index:{type:"list"}}}],needBody:!0,method:"POST"}),api.deleteScript=ca({urls:[{fmt:"/_scripts/<%=lang%>/<%=id%>",req:{lang:{type:"string"},id:{type:"string"}}},{fmt:"/_scripts/<%=lang%>",req:{lang:{type:"string"}}}],method:"DELETE"}),api.deleteTemplate=ca({url:{fmt:"/_search/template/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),api.exists=ca({params:{parent:{type:"string"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"HEAD"}),api.explain=ca({params:{analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},analyzer:{type:"string"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},storedFields:{type:"list",name:"stored_fields"},lenient:{type:"boolean"},parent:{type:"string"},preference:{type:"string"},q:{type:"string"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_explain",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"POST"}),api.fieldStats=ca({params:{fields:{type:"list"},level:{type:"enum","default":"cluster",options:["indices","cluster"]},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_field_stats",req:{index:{type:"list"}}},{fmt:"/_field_stats"}],method:"POST"}),api.get=ca({params:{storedFields:{type:"list",name:"stored_fields"},parent:{type:"string"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}}}),api.getScript=ca({urls:[{fmt:"/_scripts/<%=lang%>/<%=id%>",req:{lang:{type:"string"},id:{type:"string"}}},{fmt:"/_scripts/<%=lang%>",req:{lang:{type:"string"}}}]}),api.getSource=ca({params:{parent:{type:"string"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_source",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}}}),api.getTemplate=ca({url:{fmt:"/_search/template/<%=id%>",req:{id:{type:"string"}}}}),api.index=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},opType:{type:"enum","default":"index",options:["index","create"],name:"op_type"},parent:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},timestamp:{type:"time"},ttl:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>",req:{index:{type:"string"},type:{type:"string"}}}],needBody:!0,method:"POST"
}),api.indices=namespace(),api.indices.prototype.analyze=ca({params:{analyzer:{type:"string"},charFilter:{type:"list",name:"char_filter"},field:{type:"string"},filter:{type:"list"},index:{type:"string"},preferLocal:{type:"boolean",name:"prefer_local"},text:{type:"list"},tokenizer:{type:"string"},explain:{type:"boolean"},attributes:{type:"list"},format:{type:"enum","default":"detailed",options:["detailed","text"]}},urls:[{fmt:"/<%=index%>/_analyze",req:{index:{type:"string"}}},{fmt:"/_analyze"}],method:"POST"}),api.indices.prototype.clearCache=ca({params:{fieldData:{type:"boolean",name:"field_data"},fielddata:{type:"boolean"},fields:{type:"list"},query:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},index:{type:"list"},recycler:{type:"boolean"},request:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_cache/clear",req:{index:{type:"list"}}},{fmt:"/_cache/clear"}],method:"POST"}),api.indices.prototype.close=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>/_close",req:{index:{type:"list"}}},method:"POST"}),api.indices.prototype.create=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},updateAllTypes:{type:"boolean",name:"update_all_types"}},url:{fmt:"/<%=index%>",req:{index:{type:"string"}}},method:"PUT"}),api.indices.prototype["delete"]=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"DELETE"}),api.indices.prototype.deleteAlias=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},method:"DELETE"}),api.indices.prototype.deleteTemplate=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},method:"DELETE"}),api.indices.prototype.exists=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"HEAD"}),api.indices.prototype.existsAlias=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":["open","closed"],options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}},{fmt:"/<%=index%>/_alias",req:{index:{type:"list"}}}],method:"HEAD"}),api.indices.prototype.existsTemplate=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},method:"HEAD"}),api.indices.prototype.existsType=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},url:{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"list"}}},method:"HEAD"}),api.indices.prototype.flush=ca({params:{force:{type:"boolean"},waitIfOngoing:{type:"boolean",name:"wait_if_ongoing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush",req:{index:{type:"list"}}},{fmt:"/_flush"}],method:"POST"}),api.indices.prototype.flushSynced=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush/synced",req:{index:{type:"list"}}},{fmt:"/_flush/synced"}],method:"POST"}),api.indices.prototype.forcemerge=ca({params:{flush:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},maxNumSegments:{type:"number",name:"max_num_segments"},onlyExpungeDeletes:{type:"boolean",name:"only_expunge_deletes"},operationThreading:{name:"operation_threading"},waitForMerge:{type:"boolean",name:"wait_for_merge"}},urls:[{fmt:"/<%=index%>/_forcemerge",req:{index:{type:"list"}}},{fmt:"/_forcemerge"}],method:"POST"}),api.indices.prototype.get=ca({params:{local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},includeDefaults:{type:"boolean","default":!1,name:"include_defaults"}},urls:[{fmt:"/<%=index%>/<%=feature%>",req:{index:{type:"list"},feature:{type:"list",options:["_settings","_mappings","_aliases"]}}},{fmt:"/<%=index%>",req:{index:{type:"list"}}}]}),api.indices.prototype.getAlias=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"all",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}},{fmt:"/<%=index%>/_alias",req:{index:{type:"list"}}},{fmt:"/_alias"}]}),api.indices.prototype.getFieldMapping=ca({params:{includeDefaults:{type:"boolean",name:"include_defaults"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping/<%=type%>/field/<%=fields%>",req:{index:{type:"list"},type:{type:"list"},fields:{type:"list"}}},{fmt:"/<%=index%>/_mapping/field/<%=fields%>",req:{index:{type:"list"},fields:{type:"list"}}},{fmt:"/_mapping/<%=type%>/field/<%=fields%>",req:{type:{type:"list"},fields:{type:"list"}}},{fmt:"/_mapping/field/<%=fields%>",req:{fields:{type:"list"}}}]}),api.indices.prototype.getMapping=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_mapping",req:{index:{type:"list"}}},{fmt:"/_mapping/<%=type%>",req:{type:{type:"list"}}},{fmt:"/_mapping"}]}),api.indices.prototype.getSettings=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":["open","closed"],options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},local:{type:"boolean"},includeDefaults:{type:"boolean","default":!1,name:"include_defaults"}},urls:[{fmt:"/<%=index%>/_settings/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_settings"}]}),api.indices.prototype.getTemplate=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_template/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_template"}]}),api.indices.prototype.getUpgrade=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}]}),api.indices.prototype.open=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"closed",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>/_open",req:{index:{type:"list"}}},method:"POST"}),api.indices.prototype.putAlias=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"string"}}},method:"PUT"}),api.indices.prototype.putMapping=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},updateAllTypes:{type:"boolean",name:"update_all_types"}},urls:[{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"string"}}},{fmt:"/_mapping/<%=type%>",req:{type:{type:"string"}}}],needBody:!0,method:"PUT"}),api.indices.prototype.putSettings=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},preserveExisting:{type:"boolean",name:"preserve_existing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"}},urls:[{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings"}],needBody:!0,method:"PUT"}),api.indices.prototype.putTemplate=ca({params:{order:{type:"number"},create:{type:"boolean","default":!1},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},needBody:!0,method:"PUT"}),api.indices.prototype.recovery=ca({params:{detailed:{type:"boolean","default":!1},activeOnly:{type:"boolean","default":!1,name:"active_only"}},urls:[{fmt:"/<%=index%>/_recovery",req:{index:{type:"list"}}},{fmt:"/_recovery"}]}),api.indices.prototype.refresh=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},force:{type:"boolean","default":!1},operationThreading:{name:"operation_threading"}},urls:[{fmt:"/<%=index%>/_refresh",req:{index:{type:"list"}}},{fmt:"/_refresh"}],method:"POST"}),api.indices.prototype.rollover=ca({params:{timeout:{type:"time"},dryRun:{type:"boolean",name:"dry_run"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},urls:[{fmt:"/<%=alias%>/_rollover/<%=newIndex%>",req:{alias:{type:"string"},newIndex:{type:"string"}}},{fmt:"/<%=alias%>/_rollover",req:{alias:{type:"string"}}}],method:"POST"}),api.indices.prototype.segments=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},operationThreading:{name:"operation_threading"},verbose:{type:"boolean","default":!1}},urls:[{fmt:"/<%=index%>/_segments",req:{index:{type:"list"}}},{fmt:"/_segments"}]}),api.indices.prototype.shardStores=ca({params:{status:{type:"list",options:["green","yellow","red","all"]},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},operationThreading:{name:"operation_threading"}},urls:[{fmt:"/<%=index%>/_shard_stores",req:{index:{type:"list"}}},{fmt:"/_shard_stores"}]}),api.indices.prototype.shrink=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_shrink/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),api.indices.prototype.stats=ca({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"list"},level:{type:"enum","default":"indices",options:["cluster","indices","shards"]},types:{type:"list"},includeSegmentFileSizes:{type:"boolean","default":!1,name:"include_segment_file_sizes"}},urls:[{fmt:"/<%=index%>/_stats/<%=metric%>",req:{index:{type:"list"},metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","percolate","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_stats/<%=metric%>",req:{metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","percolate","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/<%=index%>/_stats",req:{index:{type:"list"}}},{fmt:"/_stats"}]}),api.indices.prototype.updateAliases=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_aliases"},needBody:!0,method:"POST"}),api.indices.prototype.upgrade=ca({params:{allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},onlyAncientSegments:{type:"boolean",name:"only_ancient_segments"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}],method:"POST"}),api.indices.prototype.validateQuery=ca({params:{explain:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},operationThreading:{name:"operation_threading"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},rewrite:{type:"boolean"}},urls:[{fmt:"/<%=index%>/<%=type%>/_validate/query",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_validate/query",req:{index:{type:"list"}}},{fmt:"/_validate/query"}],method:"POST"}),api.info=ca({url:{fmt:"/"}}),api.ingest=namespace(),api.ingest.prototype.deletePipeline=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),api.ingest.prototype.getPipeline=ca({params:{masterTimeout:{type:"time",name:"master_timeout"}},urls:[{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline"}]}),api.ingest.prototype.putPipeline=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},needBody:!0,method:"PUT"}),api.ingest.prototype.simulate=ca({params:{verbose:{type:"boolean","default":!1}},urls:[{fmt:"/_ingest/pipeline/<%=id%>/_simulate",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline/_simulate"}],needBody:!0,method:"POST"}),api.mget=ca({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"}},urls:[{fmt:"/<%=index%>/<%=type%>/_mget",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_mget",req:{index:{type:"string"}}},{fmt:"/_mget"}],needBody:!0,method:"POST"}),api.mpercolate=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/<%=type%>/_mpercolate",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_mpercolate",req:{index:{type:"string"}}},{fmt:"/_mpercolate"}],needBody:!0,bulkBody:!0,method:"POST"}),api.msearch=ca({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},maxConcurrentSearches:{type:"number",name:"max_concurrent_searches"}},urls:[{fmt:"/<%=index%>/<%=type%>/_msearch",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_msearch",req:{index:{type:"list"}}},{fmt:"/_msearch"}],needBody:!0,bulkBody:!0,method:"POST"}),api.msearchTemplate=ca({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/_msearch/template",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_msearch/template",req:{index:{type:"list"}}},{fmt:"/_msearch/template"}],needBody:!0,bulkBody:!0,method:"POST"}),api.mtermvectors=ca({params:{ids:{type:"list",required:!1},termStatistics:{type:"boolean","default":!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean","default":!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean","default":!0,required:!1},positions:{type:"boolean","default":!0,required:!1},payloads:{type:"boolean","default":!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},parent:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/_mtermvectors",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_mtermvectors",req:{index:{type:"string"}}},{fmt:"/_mtermvectors"}],method:"POST"}),api.nodes=namespace(),api.nodes.prototype.hotThreads=ca({params:{interval:{type:"time"},snapshots:{type:"number"},threads:{type:"number"},ignoreIdleThreads:{type:"boolean",name:"ignore_idle_threads"},type:{type:"enum",options:["cpu","wait","block"]},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/hotthreads",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/hotthreads"}]}),api.nodes.prototype.info=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/<%=metric%>",req:{metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes"}]}),api.nodes.prototype.stats=ca({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"boolean"},level:{type:"enum","default":"node",options:["indices","node","shards"]},types:{type:"list"},timeout:{type:"time"},includeSegmentFileSizes:{type:"boolean","default":!1,name:"include_segment_file_sizes"}},urls:[{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>/<%=indexMetric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","percolate","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats/<%=metric%>/<%=indexMetric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","percolate","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/stats/<%=metric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats"}]}),api.percolate=ca({params:{routing:{type:"list"},preference:{type:"string"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},percolateIndex:{type:"string",name:"percolate_index"},percolateType:{type:"string",name:"percolate_type"},percolateRouting:{type:"string",name:"percolate_routing"},percolatePreference:{type:"string",name:"percolate_preference"},percolateFormat:{type:"enum",options:["ids"],name:"percolate_format"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>/_percolate",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>/_percolate",req:{index:{type:"string"},type:{type:"string"}}}],method:"POST"}),api.ping=ca({url:{fmt:"/"},requestTimeout:3e3,method:"HEAD"}),api.putScript=ca({urls:[{fmt:"/_scripts/<%=lang%>/<%=id%>",req:{lang:{type:"string"},id:{type:"string"}}},{fmt:"/_scripts/<%=lang%>",req:{lang:{type:"string"}}}],needBody:!0,method:"PUT"}),api.putTemplate=ca({url:{fmt:"/_search/template/<%=id%>",req:{id:{type:"string"}}},needBody:!0,method:"PUT"}),api.reindex=ca({params:{refresh:{type:"boolean"},timeout:{type:"time","default":"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"},requestsPerSecond:{type:"number","default":0,name:"requests_per_second"},slices:{type:"number","default":1}},url:{fmt:"/_reindex"},needBody:!0,method:"POST"}),api.reindexRethrottle=ca({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_reindex/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"}),api.renderSearchTemplate=ca({urls:[{fmt:"/_render/template/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_render/template"}],method:"POST"}),api.scroll=ca({params:{scroll:{type:"time"},scrollId:{type:"string",name:"scroll_id"}},urls:[{fmt:"/_search/scroll/<%=scrollId%>",req:{scrollId:{type:"string"}}},{fmt:"/_search/scroll"}],paramAsBody:{param:"scrollId",body:"scroll_id"},method:"POST"}),api.search=ca({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},explain:{type:"boolean"},storedFields:{type:"list",name:"stored_fields"},docvalueFields:{type:"list",name:"docvalue_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},suggestField:{type:"string",name:"suggest_field"},suggestMode:{type:"enum","default":"missing",options:["missing","popular","always"],name:"suggest_mode"},suggestSize:{type:"number",name:"suggest_size"},suggestText:{type:"string",name:"suggest_text"},timeout:{type:"time"},trackScores:{type:"boolean",name:"track_scores"},version:{type:"boolean"},requestCache:{type:"boolean",name:"request_cache"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_search",req:{index:{type:"list"}}},{fmt:"/_search"}],method:"POST"}),api.searchShards=ca({params:{preference:{type:"string"},routing:{type:"string"},local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search_shards",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_search_shards",req:{index:{type:"list"}}},{fmt:"/_search_shards"}],method:"POST"}),api.searchTemplate=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},preference:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},explain:{type:"boolean"},profile:{type:"boolean"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search/template",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_search/template",req:{index:{type:"list"}}},{fmt:"/_search/template"}],method:"POST"}),api.snapshot=namespace(),api.snapshot.prototype.create=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),api.snapshot.prototype.createRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},verify:{type:"boolean"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"string"}}},needBody:!0,method:"POST"}),api.snapshot.prototype["delete"]=ca({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"DELETE"}),api.snapshot.prototype.deleteRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},method:"DELETE"}),api.snapshot.prototype.get=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"list"}}}}),api.snapshot.prototype.getRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_snapshot"}]}),api.snapshot.prototype.restore=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_restore",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),api.snapshot.prototype.status=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"}},urls:[{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_status",req:{repository:{type:"string"},snapshot:{type:"list"}}},{fmt:"/_snapshot/<%=repository%>/_status",req:{repository:{type:"string"}}},{fmt:"/_snapshot/_status"}]}),api.snapshot.prototype.verifyRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>/_verify",req:{repository:{type:"string"}}},method:"POST"}),api.suggest=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},preference:{type:"string"},routing:{type:"string"}},urls:[{fmt:"/<%=index%>/_suggest",req:{index:{type:"list"}}},{fmt:"/_suggest"}],needBody:!0,method:"POST"}),api.tasks=namespace(),api.tasks.prototype.cancel=ca({params:{nodeId:{type:"list",name:"node_id"},actions:{type:"list"},parentNode:{type:"string",name:"parent_node"},parentTask:{type:"string",name:"parent_task"}},urls:[{fmt:"/_tasks/<%=taskId%>/_cancel",req:{taskId:{type:"string"}}},{fmt:"/_tasks/_cancel"}],method:"POST"}),api.tasks.prototype.get=ca({params:{waitForCompletion:{type:"boolean",name:"wait_for_completion"}},url:{fmt:"/_tasks/<%=taskId%>",req:{taskId:{type:"string"}}}}),api.tasks.prototype.list=ca({params:{nodeId:{type:"list",name:"node_id"},actions:{type:"list"},detailed:{type:"boolean"},parentNode:{type:"string",name:"parent_node"},parentTask:{type:"string",name:"parent_task"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},groupBy:{type:"enum","default":"nodes",options:["nodes","parents"],name:"group_by"}},url:{fmt:"/_tasks"}}),api.termvectors=ca({params:{termStatistics:{type:"boolean","default":!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean","default":!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean","default":!0,required:!1},positions:{type:"boolean","default":!0,required:!1},payloads:{type:"boolean","default":!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},parent:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>/_termvectors",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>/_termvectors",req:{index:{type:"string"},type:{type:"string"}}}],method:"POST"}),api.update=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},fields:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},lang:{type:"string"},parent:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},retryOnConflict:{type:"number",name:"retry_on_conflict"},routing:{type:"string"
},timeout:{type:"time"},timestamp:{type:"time"},ttl:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_update",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"POST"}),api.updateByQuery=ca({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum","default":"abort",options:["abort","proceed"]},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},pipeline:{type:"string"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},versionType:{type:"boolean",name:"version_type"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time","default":"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"},requestsPerSecond:{type:"number","default":0,name:"requests_per_second"},slices:{type:"number","default":1}},urls:[{fmt:"/<%=index%>/<%=type%>/_update_by_query",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_update_by_query",req:{index:{type:"list"}}}],method:"POST"})},function(module,exports,__webpack_require__){var ca=__webpack_require__(46).makeFactoryWithModifier(function(spec){return __webpack_require__(3).merge(spec,{params:{filterPath:{type:"list",name:"filter_path"}}})}),namespace=__webpack_require__(46).namespaceFactory,api=module.exports={};api._namespaces=["cat","cluster","indices","ingest","nodes","snapshot","tasks"],api.bulk=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},type:{type:"string"},fields:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/<%=type%>/_bulk",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_bulk",req:{index:{type:"string"}}},{fmt:"/_bulk"}],needBody:!0,bulkBody:!0,method:"POST"}),api.cat=namespace(),api.cat.prototype.aliases=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/aliases/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_cat/aliases"}]}),api.cat.prototype.allocation=ca({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/allocation/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cat/allocation"}]}),api.cat.prototype.count=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/count/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/count"}]}),api.cat.prototype.fielddata=ca({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1},fields:{type:"list"}},urls:[{fmt:"/_cat/fielddata/<%=fields%>",req:{fields:{type:"list"}}},{fmt:"/_cat/fielddata"}]}),api.cat.prototype.health=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},ts:{type:"boolean","default":!0},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/health"}}),api.cat.prototype.help=ca({params:{help:{type:"boolean","default":!1},s:{type:"list"}},url:{fmt:"/_cat"}}),api.cat.prototype.indices=ca({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","m","g"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},health:{type:"enum","default":null,options:["green","yellow","red"]},help:{type:"boolean","default":!1},pri:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/indices/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/indices"}]}),api.cat.prototype.master=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/master"}}),api.cat.prototype.nodeattrs=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/nodeattrs"}}),api.cat.prototype.nodes=ca({params:{format:{type:"string"},fullId:{type:"boolean",name:"full_id"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/nodes"}}),api.cat.prototype.pendingTasks=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/pending_tasks"}}),api.cat.prototype.plugins=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/plugins"}}),api.cat.prototype.recovery=ca({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/recovery/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/recovery"}]}),api.cat.prototype.repositories=ca({params:{format:{type:"string"},local:{type:"boolean","default":!1},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/repositories"}}),api.cat.prototype.segments=ca({params:{format:{type:"string"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/segments/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/segments"}]}),api.cat.prototype.shards=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/shards/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/shards"}]}),api.cat.prototype.snapshots=ca({params:{format:{type:"string"},ignoreUnavailable:{type:"boolean","default":!1,name:"ignore_unavailable"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/snapshots/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_cat/snapshots"}]}),api.cat.prototype.tasks=ca({params:{format:{type:"string"},nodeId:{type:"list",name:"node_id"},actions:{type:"list"},detailed:{type:"boolean"},parentNode:{type:"string",name:"parent_node"},parentTask:{type:"number",name:"parent_task"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},url:{fmt:"/_cat/tasks"}}),api.cat.prototype.templates=ca({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/templates/<%=name%>",req:{name:{type:"string"}}},{fmt:"/_cat/templates"}]}),api.cat.prototype.threadPool=ca({params:{format:{type:"string"},size:{type:"enum",options:["","k","m","g","t","p"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean","default":!1},s:{type:"list"},v:{type:"boolean","default":!1}},urls:[{fmt:"/_cat/thread_pool/<%=threadPoolPatterns%>",req:{threadPoolPatterns:{type:"list"}}},{fmt:"/_cat/thread_pool"}]}),api.clearScroll=ca({urls:[{fmt:"/_search/scroll/<%=scrollId%>",req:{scrollId:{type:"list"}}},{fmt:"/_search/scroll"}],paramAsBody:"scrollId",method:"DELETE"}),api.cluster=namespace(),api.cluster.prototype.allocationExplain=ca({params:{includeYesDecisions:{type:"boolean",name:"include_yes_decisions"},includeDiskInfo:{type:"boolean",name:"include_disk_info"}},url:{fmt:"/_cluster/allocation/explain"},method:"POST"}),api.cluster.prototype.getSettings=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},includeDefaults:{type:"boolean","default":!1,name:"include_defaults"}},url:{fmt:"/_cluster/settings"}}),api.cluster.prototype.health=ca({params:{level:{type:"enum","default":"cluster",options:["cluster","indices","shards"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForNodes:{type:"string",name:"wait_for_nodes"},waitForEvents:{type:"enum",options:["immediate","urgent","high","normal","low","languid"],name:"wait_for_events"},waitForNoRelocatingShards:{type:"boolean",name:"wait_for_no_relocating_shards"},waitForStatus:{type:"enum","default":null,options:["green","yellow","red"],name:"wait_for_status"}},urls:[{fmt:"/_cluster/health/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cluster/health"}]}),api.cluster.prototype.pendingTasks=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_cluster/pending_tasks"}}),api.cluster.prototype.putSettings=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/settings"},method:"PUT"}),api.cluster.prototype.reroute=ca({params:{dryRun:{type:"boolean",name:"dry_run"},explain:{type:"boolean"},retryFailed:{type:"boolean",name:"retry_failed"},metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","master_node","version"]},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/reroute"},method:"POST"}),api.cluster.prototype.state=ca({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/_cluster/state/<%=metric%>/<%=index%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]},index:{type:"list"}}},{fmt:"/_cluster/state/<%=metric%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]}}},{fmt:"/_cluster/state"}]}),api.cluster.prototype.stats=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},timeout:{type:"time"}},urls:[{fmt:"/_cluster/stats/nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cluster/stats"}]}),api.count=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},minScore:{type:"number",name:"min_score"},preference:{type:"string"},routing:{type:"string"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"}},urls:[{fmt:"/<%=index%>/<%=type%>/_count",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_count",req:{index:{type:"list"}}},{fmt:"/_count"}],method:"POST"}),api.create=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},parent:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},timestamp:{type:"time"},ttl:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},pipeline:{type:"string"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_create",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},needBody:!0,method:"POST"}),api["delete"]=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},parent:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"DELETE"}),api.deleteByQuery=ca({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum","default":"abort",options:["abort","proceed"]},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time","default":"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"},requestsPerSecond:{type:"number","default":0,name:"requests_per_second"},slices:{type:"number","default":1}},urls:[{fmt:"/<%=index%>/<%=type%>/_delete_by_query",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_delete_by_query",req:{index:{type:"list"}}}],needBody:!0,method:"POST"}),api.deleteScript=ca({urls:[{fmt:"/_scripts/<%=lang%>/<%=id%>",req:{lang:{type:"string"},id:{type:"string"}}},{fmt:"/_scripts/<%=lang%>",req:{lang:{type:"string"}}}],method:"DELETE"}),api.deleteTemplate=ca({url:{fmt:"/_search/template/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),api.exists=ca({params:{parent:{type:"string"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"HEAD"}),api.explain=ca({params:{analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},analyzer:{type:"string"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},storedFields:{type:"list",name:"stored_fields"},lenient:{type:"boolean"},parent:{type:"string"},preference:{type:"string"},q:{type:"string"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_explain",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"POST"}),api.fieldStats=ca({params:{fields:{type:"list"},level:{type:"enum","default":"cluster",options:["indices","cluster"]},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_field_stats",req:{index:{type:"list"}}},{fmt:"/_field_stats"}],method:"POST"}),api.get=ca({params:{storedFields:{type:"list",name:"stored_fields"},parent:{type:"string"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}}}),api.getScript=ca({urls:[{fmt:"/_scripts/<%=lang%>/<%=id%>",req:{lang:{type:"string"},id:{type:"string"}}},{fmt:"/_scripts/<%=lang%>",req:{lang:{type:"string"}}}]}),api.getSource=ca({params:{parent:{type:"string"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_source",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}}}),api.getTemplate=ca({url:{fmt:"/_search/template/<%=id%>",req:{id:{type:"string"}}}}),api.index=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},opType:{type:"enum","default":"index",options:["index","create"],name:"op_type"},parent:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},timestamp:{type:"time"},ttl:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>",req:{index:{type:"string"},type:{type:"string"}}}],needBody:!0,method:"POST"}),api.indices=namespace(),api.indices.prototype.analyze=ca({params:{index:{type:"string"},preferLocal:{type:"boolean",name:"prefer_local"},format:{type:"enum","default":"detailed",options:["detailed","text"]}},urls:[{fmt:"/<%=index%>/_analyze",req:{index:{type:"string"}}},{fmt:"/_analyze"}],method:"POST"}),api.indices.prototype.clearCache=ca({params:{fieldData:{type:"boolean",name:"field_data"},fielddata:{type:"boolean"},fields:{type:"list"},query:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},index:{type:"list"},recycler:{type:"boolean"},request:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_cache/clear",req:{index:{type:"list"}}},{fmt:"/_cache/clear"}],method:"POST"}),api.indices.prototype.close=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>/_close",req:{index:{type:"list"}}},method:"POST"}),api.indices.prototype.create=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},updateAllTypes:{type:"boolean",name:"update_all_types"}},url:{fmt:"/<%=index%>",req:{index:{type:"string"}}},method:"PUT"}),api.indices.prototype["delete"]=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"DELETE"}),api.indices.prototype.deleteAlias=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},method:"DELETE"}),api.indices.prototype.deleteTemplate=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},method:"DELETE"}),api.indices.prototype.exists=ca({params:{expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"HEAD"}),api.indices.prototype.existsAlias=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":["open","closed"],options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}},{fmt:"/<%=index%>/_alias",req:{index:{type:"list"}}}],method:"HEAD"}),api.indices.prototype.existsTemplate=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},method:"HEAD"}),api.indices.prototype.existsType=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},url:{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"list"}}},method:"HEAD"}),api.indices.prototype.flush=ca({params:{force:{type:"boolean"},waitIfOngoing:{type:"boolean",name:"wait_if_ongoing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush",req:{index:{type:"list"}}},{fmt:"/_flush"}],method:"POST"}),api.indices.prototype.flushSynced=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush/synced",req:{index:{type:"list"}}},{fmt:"/_flush/synced"}],method:"POST"}),api.indices.prototype.forcemerge=ca({params:{flush:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},maxNumSegments:{type:"number",name:"max_num_segments"},onlyExpungeDeletes:{type:"boolean",name:"only_expunge_deletes"},operationThreading:{name:"operation_threading"},waitForMerge:{type:"boolean",name:"wait_for_merge"}},urls:[{fmt:"/<%=index%>/_forcemerge",req:{index:{type:"list"}}},{fmt:"/_forcemerge"}],method:"POST"}),api.indices.prototype.get=ca({params:{local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},includeDefaults:{type:"boolean","default":!1,name:"include_defaults"}},urls:[{fmt:"/<%=index%>/<%=feature%>",req:{index:{type:"list"},feature:{type:"list",options:["_settings","_mappings","_aliases"]}}},{fmt:"/<%=index%>",req:{index:{type:"list"}}}]}),api.indices.prototype.getAlias=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"all",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}},{fmt:"/<%=index%>/_alias",req:{index:{type:"list"}}},{fmt:"/_alias"}]}),api.indices.prototype.getFieldMapping=ca({params:{includeDefaults:{type:"boolean",name:"include_defaults"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping/<%=type%>/field/<%=fields%>",req:{index:{type:"list"},type:{type:"list"},fields:{type:"list"}}},{fmt:"/<%=index%>/_mapping/field/<%=fields%>",req:{index:{type:"list"},fields:{type:"list"}}},{fmt:"/_mapping/<%=type%>/field/<%=fields%>",req:{type:{type:"list"},fields:{type:"list"}}},{fmt:"/_mapping/field/<%=fields%>",req:{fields:{type:"list"}}}]}),api.indices.prototype.getMapping=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_mapping",req:{index:{type:"list"}}},{fmt:"/_mapping/<%=type%>",req:{type:{type:"list"}}},{fmt:"/_mapping"}]}),api.indices.prototype.getSettings=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":["open","closed"],options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},local:{type:"boolean"},includeDefaults:{type:"boolean","default":!1,name:"include_defaults"}},urls:[{fmt:"/<%=index%>/_settings/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_settings"}]}),api.indices.prototype.getTemplate=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_template/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_template"}]}),api.indices.prototype.getUpgrade=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}]}),api.indices.prototype.open=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"closed",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>/_open",req:{index:{type:"list"}}},method:"POST"}),api.indices.prototype.putAlias=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"string"}}},method:"PUT"}),api.indices.prototype.putMapping=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},updateAllTypes:{type:"boolean",name:"update_all_types"}},urls:[{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"string"}}},{fmt:"/_mapping/<%=type%>",req:{type:{type:"string"}}}],needBody:!0,method:"PUT"}),api.indices.prototype.putSettings=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},preserveExisting:{type:"boolean",name:"preserve_existing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"}},urls:[{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings"}],needBody:!0,method:"PUT"}),api.indices.prototype.putTemplate=ca({params:{order:{type:"number"},create:{type:"boolean","default":!1},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},needBody:!0,method:"PUT"}),api.indices.prototype.recovery=ca({params:{detailed:{type:"boolean","default":!1},activeOnly:{type:"boolean","default":!1,name:"active_only"}},urls:[{fmt:"/<%=index%>/_recovery",req:{index:{type:"list"}}},{fmt:"/_recovery"}]}),api.indices.prototype.refresh=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},force:{type:"boolean","default":!1},operationThreading:{name:"operation_threading"}},urls:[{fmt:"/<%=index%>/_refresh",req:{index:{type:"list"}}},{fmt:"/_refresh"}],method:"POST"}),api.indices.prototype.rollover=ca({params:{timeout:{type:"time"},dryRun:{type:"boolean",name:"dry_run"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},urls:[{fmt:"/<%=alias%>/_rollover/<%=newIndex%>",req:{alias:{type:"string"},newIndex:{type:"string"}}},{fmt:"/<%=alias%>/_rollover",req:{alias:{type:"string"}}}],method:"POST"}),api.indices.prototype.segments=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},operationThreading:{name:"operation_threading"},verbose:{type:"boolean","default":!1}},urls:[{fmt:"/<%=index%>/_segments",req:{index:{type:"list"}}},{fmt:"/_segments"}]}),api.indices.prototype.shardStores=ca({params:{status:{type:"list",
options:["green","yellow","red","all"]},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},operationThreading:{name:"operation_threading"}},urls:[{fmt:"/<%=index%>/_shard_stores",req:{index:{type:"list"}}},{fmt:"/_shard_stores"}]}),api.indices.prototype.shrink=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_shrink/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),api.indices.prototype.stats=ca({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"list"},level:{type:"enum","default":"indices",options:["cluster","indices","shards"]},types:{type:"list"},includeSegmentFileSizes:{type:"boolean","default":!1,name:"include_segment_file_sizes"}},urls:[{fmt:"/<%=index%>/_stats/<%=metric%>",req:{index:{type:"list"},metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_stats/<%=metric%>",req:{metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/<%=index%>/_stats",req:{index:{type:"list"}}},{fmt:"/_stats"}]}),api.indices.prototype.updateAliases=ca({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_aliases"},needBody:!0,method:"POST"}),api.indices.prototype.upgrade=ca({params:{allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},onlyAncientSegments:{type:"boolean",name:"only_ancient_segments"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}],method:"POST"}),api.indices.prototype.validateQuery=ca({params:{explain:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},operationThreading:{name:"operation_threading"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},rewrite:{type:"boolean"}},urls:[{fmt:"/<%=index%>/<%=type%>/_validate/query",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_validate/query",req:{index:{type:"list"}}},{fmt:"/_validate/query"}],method:"POST"}),api.info=ca({url:{fmt:"/"}}),api.ingest=namespace(),api.ingest.prototype.deletePipeline=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),api.ingest.prototype.getPipeline=ca({params:{masterTimeout:{type:"time",name:"master_timeout"}},urls:[{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline"}]}),api.ingest.prototype.putPipeline=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},needBody:!0,method:"PUT"}),api.ingest.prototype.simulate=ca({params:{verbose:{type:"boolean","default":!1}},urls:[{fmt:"/_ingest/pipeline/<%=id%>/_simulate",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline/_simulate"}],needBody:!0,method:"POST"}),api.mget=ca({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"}},urls:[{fmt:"/<%=index%>/<%=type%>/_mget",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_mget",req:{index:{type:"string"}}},{fmt:"/_mget"}],needBody:!0,method:"POST"}),api.msearch=ca({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},maxConcurrentSearches:{type:"number",name:"max_concurrent_searches"},typedKeys:{type:"boolean",name:"typed_keys"}},urls:[{fmt:"/<%=index%>/<%=type%>/_msearch",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_msearch",req:{index:{type:"list"}}},{fmt:"/_msearch"}],needBody:!0,bulkBody:!0,method:"POST"}),api.msearchTemplate=ca({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},typedKeys:{type:"boolean",name:"typed_keys"}},urls:[{fmt:"/<%=index%>/<%=type%>/_msearch/template",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_msearch/template",req:{index:{type:"list"}}},{fmt:"/_msearch/template"}],needBody:!0,bulkBody:!0,method:"POST"}),api.mtermvectors=ca({params:{ids:{type:"list",required:!1},termStatistics:{type:"boolean","default":!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean","default":!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean","default":!0,required:!1},positions:{type:"boolean","default":!0,required:!1},payloads:{type:"boolean","default":!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},parent:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/_mtermvectors",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_mtermvectors",req:{index:{type:"string"}}},{fmt:"/_mtermvectors"}],method:"POST"}),api.nodes=namespace(),api.nodes.prototype.hotThreads=ca({params:{interval:{type:"time"},snapshots:{type:"number"},threads:{type:"number"},ignoreIdleThreads:{type:"boolean",name:"ignore_idle_threads"},type:{type:"enum",options:["cpu","wait","block"]},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/hotthreads",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/hotthreads"}]}),api.nodes.prototype.info=ca({params:{flatSettings:{type:"boolean",name:"flat_settings"},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/<%=metric%>",req:{metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes"}]}),api.nodes.prototype.stats=ca({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"boolean"},level:{type:"enum","default":"node",options:["indices","node","shards"]},types:{type:"list"},timeout:{type:"time"},includeSegmentFileSizes:{type:"boolean","default":!1,name:"include_segment_file_sizes"}},urls:[{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>/<%=indexMetric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats/<%=metric%>/<%=indexMetric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/stats/<%=metric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats"}]}),api.ping=ca({url:{fmt:"/"},requestTimeout:3e3,method:"HEAD"}),api.putScript=ca({urls:[{fmt:"/_scripts/<%=lang%>/<%=id%>",req:{lang:{type:"string"},id:{type:"string"}}},{fmt:"/_scripts/<%=lang%>",req:{lang:{type:"string"}}}],needBody:!0,method:"PUT"}),api.putTemplate=ca({url:{fmt:"/_search/template/<%=id%>",req:{id:{type:"string"}}},needBody:!0,method:"PUT"}),api.reindex=ca({params:{refresh:{type:"boolean"},timeout:{type:"time","default":"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"},requestsPerSecond:{type:"number","default":0,name:"requests_per_second"},slices:{type:"number","default":1}},url:{fmt:"/_reindex"},needBody:!0,method:"POST"}),api.reindexRethrottle=ca({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_reindex/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"}),api.renderSearchTemplate=ca({urls:[{fmt:"/_render/template/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_render/template"}],method:"POST"}),api.scroll=ca({params:{scroll:{type:"time"},scrollId:{type:"string",name:"scroll_id"}},urls:[{fmt:"/_search/scroll/<%=scrollId%>",req:{scrollId:{type:"string"}}},{fmt:"/_search/scroll"}],paramAsBody:"scrollId",method:"POST"}),api.search=ca({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},explain:{type:"boolean"},storedFields:{type:"list",name:"stored_fields"},docvalueFields:{type:"list",name:"docvalue_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},suggestField:{type:"string",name:"suggest_field"},suggestMode:{type:"enum","default":"missing",options:["missing","popular","always"],name:"suggest_mode"},suggestSize:{type:"number",name:"suggest_size"},suggestText:{type:"string",name:"suggest_text"},timeout:{type:"time"},trackScores:{type:"boolean",name:"track_scores"},typedKeys:{type:"boolean",name:"typed_keys"},version:{type:"boolean"},requestCache:{type:"boolean",name:"request_cache"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_search",req:{index:{type:"list"}}},{fmt:"/_search"}],method:"POST"}),api.searchShards=ca({params:{preference:{type:"string"},routing:{type:"string"},local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_search_shards",req:{index:{type:"list"}}},{fmt:"/_search_shards"}],method:"POST"}),api.searchTemplate=ca({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},preference:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},explain:{type:"boolean"},profile:{type:"boolean"},typedKeys:{type:"boolean",name:"typed_keys"}},urls:[{fmt:"/<%=index%>/<%=type%>/_search/template",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_search/template",req:{index:{type:"list"}}},{fmt:"/_search/template"}],method:"POST"}),api.snapshot=namespace(),api.snapshot.prototype.create=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),api.snapshot.prototype.createRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},verify:{type:"boolean"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"string"}}},needBody:!0,method:"POST"}),api.snapshot.prototype["delete"]=ca({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"DELETE"}),api.snapshot.prototype.deleteRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},method:"DELETE"}),api.snapshot.prototype.get=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"list"}}}}),api.snapshot.prototype.getRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_snapshot"}]}),api.snapshot.prototype.restore=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_restore",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),api.snapshot.prototype.status=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"}},urls:[{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_status",req:{repository:{type:"string"},snapshot:{type:"list"}}},{fmt:"/_snapshot/<%=repository%>/_status",req:{repository:{type:"string"}}},{fmt:"/_snapshot/_status"}]}),api.snapshot.prototype.verifyRepository=ca({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>/_verify",req:{repository:{type:"string"}}},method:"POST"}),api.tasks=namespace(),api.tasks.prototype.cancel=ca({params:{nodeId:{type:"list",name:"node_id"},actions:{type:"list"},parentNode:{type:"string",name:"parent_node"},parentTask:{type:"string",name:"parent_task"}},urls:[{fmt:"/_tasks/<%=taskId%>/_cancel",req:{taskId:{type:"string"}}},{fmt:"/_tasks/_cancel"}],method:"POST"}),api.tasks.prototype.get=ca({params:{waitForCompletion:{type:"boolean",name:"wait_for_completion"}},url:{fmt:"/_tasks/<%=taskId%>",req:{taskId:{type:"string"}}}}),api.tasks.prototype.list=ca({params:{nodeId:{type:"list",name:"node_id"},actions:{type:"list"},detailed:{type:"boolean"},parentNode:{type:"string",name:"parent_node"},parentTask:{type:"string",name:"parent_task"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},groupBy:{type:"enum","default":"nodes",options:["nodes","parents"],name:"group_by"}},url:{fmt:"/_tasks"}}),api.termvectors=ca({params:{termStatistics:{type:"boolean","default":!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean","default":!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean","default":!0,required:!1},positions:{type:"boolean","default":!0,required:!1},payloads:{type:"boolean","default":!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},parent:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/<%=type%>/<%=id%>/_termvectors",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/<%=type%>/_termvectors",req:{index:{type:"string"},type:{type:"string"}}}],method:"POST"}),api.update=ca({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},fields:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},lang:{type:"string"},parent:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},retryOnConflict:{type:"number",name:"retry_on_conflict"},routing:{type:"string"},timeout:{type:"time"},timestamp:{type:"time"},ttl:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","force"],name:"version_type"}},url:{fmt:"/<%=index%>/<%=type%>/<%=id%>/_update",req:{index:{type:"string"},type:{type:"string"},id:{type:"string"}}},method:"POST"}),api.updateByQuery=ca({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum","default":"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum","default":"abort",options:["abort","proceed"]},expandWildcards:{type:"enum","default":"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},pipeline:{type:"string"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExclude:{type:"list",name:"_source_exclude"},_sourceInclude:{type:"list",name:"_source_include"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},versionType:{type:"boolean",name:"version_type"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time","default":"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean","default":!1,name:"wait_for_completion"},requestsPerSecond:{type:"number","default":0,name:"requests_per_second"},slices:{type:"number","default":1}},urls:[{fmt:"/<%=index%>/<%=type%>/_update_by_query",req:{index:{type:"list"},type:{type:"list"}}},{fmt:"/<%=index%>/_update_by_query",req:{index:{type:"list"}}}],method:"POST"})}])}()},586:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(Buffer){!function(_window){"use strict";function setupBrowser(){var _crypto=_window.crypto||_window.msCrypto;if(!_rng&&_crypto&&_crypto.getRandomValues)try{var _rnds8=new Uint8Array(16);_whatwgRNG=_rng=function(){return _crypto.getRandomValues(_rnds8),_rnds8},_rng()}catch(e){}if(!_rng){var _rnds=new Array(16);_mathRNG=_rng=function(){for(var r,i=0;i<16;i++)0===(3&i)&&(r=4294967296*Math.random()),_rnds[i]=r>>>((3&i)<<3)&255;return _rnds},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function setupNode(){try{var _rb=__webpack_require__(587).randomBytes;_nodeRNG=_rng=_rb&&function(){return _rb(16)},_rng()}catch(e){}}function parse(s,buf,offset){var i=buf&&offset||0,ii=0;for(buf=buf||[],s.toLowerCase().replace(/[0-9a-f]{2}/g,function(oct){ii<16&&(buf[i+ii++]=_hexToByte[oct])});ii<16;)buf[i+ii++]=0;return buf}function unparse(buf,offset){var i=offset||0,bth=_byteToHex;return bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]}function v1(options,buf,offset){var i=buf&&offset||0,b=buf||[];options=options||{};var clockseq=null!=options.clockseq?options.clockseq:_clockseq,msecs=null!=options.msecs?options.msecs:(new Date).getTime(),nsecs=null!=options.nsecs?options.nsecs:_lastNSecs+1,dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&null==options.clockseq&&(clockseq=clockseq+1&16383),(dt<0||msecs>_lastMSecs)&&null==options.nsecs&&(nsecs=0),nsecs>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=msecs,_lastNSecs=nsecs,_clockseq=clockseq,msecs+=122192928e5;var tl=(1e4*(268435455&msecs)+nsecs)%4294967296;b[i++]=tl>>>24&255,b[i++]=tl>>>16&255,b[i++]=tl>>>8&255,b[i++]=255&tl;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255,b[i++]=255&tmh,b[i++]=tmh>>>24&15|16,b[i++]=tmh>>>16&255,b[i++]=clockseq>>>8|128,b[i++]=255&clockseq;for(var node=options.node||_nodeId,n=0;n<6;n++)b[i+n]=node[n];return buf?buf:unparse(b)}function v4(options,buf,offset){var i=buf&&offset||0;"string"==typeof options&&(buf="binary"===options?new BufferClass(16):null,options=null),options=options||{};var rnds=options.random||(options.rng||_rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf)for(var ii=0;ii<16;ii++)buf[i+ii]=rnds[ii];return buf||unparse(rnds)}var _rng,_mathRNG,_nodeRNG,_whatwgRNG;_window?setupBrowser():setupNode();for(var BufferClass="function"==typeof Buffer?Buffer:Array,_byteToHex=[],_hexToByte={},i=0;i<256;i++)_byteToHex[i]=(i+256).toString(16).substr(1),_hexToByte[_byteToHex[i]]=i;var _seedBytes=_rng(),_nodeId=[1|_seedBytes[0],_seedBytes[1],_seedBytes[2],_seedBytes[3],_seedBytes[4],_seedBytes[5]],_clockseq=16383&(_seedBytes[6]<<8|_seedBytes[7]),_lastMSecs=0,_lastNSecs=0,uuid=v4;uuid.v1=v1,uuid.v4=v4,uuid.parse=parse,uuid.unparse=unparse,uuid.BufferClass=BufferClass,uuid._rng=_rng,uuid._mathRNG=_mathRNG,uuid._nodeRNG=_nodeRNG,uuid._whatwgRNG=_whatwgRNG,"undefined"!=typeof module&&module.exports?module.exports=uuid:(__WEBPACK_AMD_DEFINE_RESULT__=function(){return uuid}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}("undefined"!=typeof window?window:null)}).call(exports,__webpack_require__(338).Buffer)},587:function(module,exports,__webpack_require__){(function(Buffer){function error(){var m=[].slice.call(arguments).join(" ");throw new Error([m,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function each(a,f){for(var i in a)f(a[i],i)}var rng=__webpack_require__(588);exports.createHash=__webpack_require__(590),exports.createHmac=__webpack_require__(599),exports.randomBytes=function(size,callback){if(!callback||!callback.call)return new Buffer(rng(size));try{callback.call(this,void 0,new Buffer(rng(size)))}catch(err){callback(err)}},exports.getHashes=function(){return["sha1","sha256","sha512","md5","rmd160"]};var p=__webpack_require__(600)(exports);exports.pbkdf2=p.pbkdf2,exports.pbkdf2Sync=p.pbkdf2Sync,each(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman"],function(name){exports[name]=function(){error("sorry,",name,"is not implemented yet")}})}).call(exports,__webpack_require__(338).Buffer)},588:function(module,exports,__webpack_require__){(function(global,Buffer){!function(){var g=("undefined"==typeof window?global:window)||{};_crypto=g.crypto||g.msCrypto||__webpack_require__(2627),module.exports=function(size){if(_crypto.getRandomValues){var bytes=new Buffer(size);return _crypto.getRandomValues(bytes),bytes}if(_crypto.randomBytes)return _crypto.randomBytes(size);throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}}()}).call(exports,function(){return this}(),__webpack_require__(338).Buffer)},590:function(module,exports,__webpack_require__){(function(Buffer){function toConstructor(fn){return function(){var buffers=[],m={update:function(data,enc){return Buffer.isBuffer(data)||(data=new Buffer(data,enc)),buffers.push(data),this},digest:function(enc){var buf=Buffer.concat(buffers),r=fn(buf);return buffers=null,enc?r.toString(enc):r}};return m}}var createHash=__webpack_require__(591),md5=toConstructor(__webpack_require__(596)),rmd160=toConstructor(__webpack_require__(598));module.exports=function(alg){return"md5"===alg?new md5:"rmd160"===alg?new rmd160:createHash(alg)}}).call(exports,__webpack_require__(338).Buffer)},591:function(module,exports,__webpack_require__){var exports=module.exports=function(alg){var Alg=exports[alg];if(!Alg)throw new Error(alg+" is not supported (we accept pull requests)");return new Alg},Buffer=__webpack_require__(338).Buffer,Hash=__webpack_require__(592)(Buffer);exports.sha1=__webpack_require__(593)(Buffer,Hash),exports.sha256=__webpack_require__(594)(Buffer,Hash),exports.sha512=__webpack_require__(595)(Buffer,Hash)},592:function(module,exports){module.exports=function(Buffer){function Hash(blockSize,finalSize){this._block=new Buffer(blockSize),this._finalSize=finalSize,this._blockSize=blockSize,this._len=0,this._s=0}return Hash.prototype.init=function(){this._s=0,this._len=0},Hash.prototype.update=function(data,enc){"string"==typeof data&&(enc=enc||"utf8",data=new Buffer(data,enc));for(var l=this._len+=data.length,s=this._s=this._s||0,f=0,buffer=this._block;s<l;){for(var t=Math.min(data.length,f+this._blockSize-s%this._blockSize),ch=t-f,i=0;i<ch;i++)buffer[s%this._blockSize+i]=data[i+f];s+=ch,f+=ch,s%this._blockSize===0&&this._update(buffer)}return this._s=s,this},Hash.prototype.digest=function(enc){var l=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),l%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(l,this._blockSize-4);var hash=this._update(this._block)||this._hash();return enc?hash.toString(enc):hash},Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")},Hash}},593:function(module,exports,__webpack_require__){var inherits=__webpack_require__(330).inherits;module.exports=function(Buffer,Hash){function Sha1(){return POOL.length?POOL.pop().init():this instanceof Sha1?(this._w=W,Hash.call(this,64,56),this._h=null,void this.init()):new Sha1}function sha1_ft(t,b,c,d){return t<20?b&c|~b&d:t<40?b^c^d:t<60?b&c|b&d|c&d:b^c^d}function sha1_kt(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}function add(x,y){return x+y|0}function rol(num,cnt){return num<<cnt|num>>>32-cnt}var A=0,B=4,C=8,D=12,E=16,W=new("undefined"==typeof Int32Array?Array:Int32Array)(80),POOL=[];return inherits(Sha1,Hash),Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,Hash.prototype.init.call(this),this},Sha1.prototype._POOL=POOL,Sha1.prototype._update=function(X){var a,b,c,d,e,_a,_b,_c,_d,_e;a=_a=this._a,b=_b=this._b,c=_c=this._c,d=_d=this._d,e=_e=this._e;for(var w=this._w,j=0;j<80;j++){var W=w[j]=j<16?X.readInt32BE(4*j):rol(w[j-3]^w[j-8]^w[j-14]^w[j-16],1),t=add(add(rol(a,5),sha1_ft(j,b,c,d)),add(add(e,W),sha1_kt(j)));e=d,d=c,c=rol(b,30),b=a,a=t}this._a=add(a,_a),this._b=add(b,_b),this._c=add(c,_c),this._d=add(d,_d),this._e=add(e,_e)},Sha1.prototype._hash=function(){POOL.length<100&&POOL.push(this);var H=new Buffer(20);return H.writeInt32BE(0|this._a,A),H.writeInt32BE(0|this._b,B),H.writeInt32BE(0|this._c,C),H.writeInt32BE(0|this._d,D),H.writeInt32BE(0|this._e,E),H},Sha1}},594:function(module,exports,__webpack_require__){var inherits=__webpack_require__(330).inherits;module.exports=function(Buffer,Hash){function Sha256(){this.init(),this._w=W,Hash.call(this,64,56)}function S(X,n){return X>>>n|X<<32-n}function R(X,n){return X>>>n}function Ch(x,y,z){return x&y^~x&z}function Maj(x,y,z){return x&y^x&z^y&z}function Sigma0256(x){return S(x,2)^S(x,13)^S(x,22)}function Sigma1256(x){return S(x,6)^S(x,11)^S(x,25)}function Gamma0256(x){return S(x,7)^S(x,18)^R(x,3)}function Gamma1256(x){return S(x,17)^S(x,19)^R(x,10)}var K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W=new Array(64);return inherits(Sha256,Hash),Sha256.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._len=this._s=0,this},Sha256.prototype._update=function(M){var a,b,c,d,e,f,g,h,T1,T2,W=this._w;a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,f=0|this._f,g=0|this._g,h=0|this._h;for(var j=0;j<64;j++){var w=W[j]=j<16?M.readInt32BE(4*j):Gamma1256(W[j-2])+W[j-7]+Gamma0256(W[j-15])+W[j-16];T1=h+Sigma1256(e)+Ch(e,f,g)+K[j]+w,T2=Sigma0256(a)+Maj(a,b,c),h=g,g=f,f=e,e=d+T1,d=c,c=b,b=a,a=T1+T2}this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0,this._f=f+this._f|0,this._g=g+this._g|0,this._h=h+this._h|0},Sha256.prototype._hash=function(){var H=new Buffer(32);return H.writeInt32BE(this._a,0),H.writeInt32BE(this._b,4),H.writeInt32BE(this._c,8),H.writeInt32BE(this._d,12),H.writeInt32BE(this._e,16),H.writeInt32BE(this._f,20),H.writeInt32BE(this._g,24),H.writeInt32BE(this._h,28),H},Sha256}},595:function(module,exports,__webpack_require__){var inherits=__webpack_require__(330).inherits;module.exports=function(Buffer,Hash){function Sha512(){this.init(),this._w=W,Hash.call(this,128,112)}function S(X,Xl,n){return X>>>n|Xl<<32-n}function Ch(x,y,z){return x&y^~x&z}function Maj(x,y,z){return x&y^x&z^y&z}var K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W=new Array(160);
return inherits(Sha512,Hash),Sha512.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._al=-205731576,this._bl=-2067093701,this._cl=-23791573,this._dl=1595750129,this._el=-1377402159,this._fl=725511199,this._gl=-79577749,this._hl=327033209,this._len=this._s=0,this},Sha512.prototype._update=function(M){var a,b,c,d,e,f,g,h,al,bl,cl,dl,el,fl,gl,hl,W=this._w;a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,f=0|this._f,g=0|this._g,h=0|this._h,al=0|this._al,bl=0|this._bl,cl=0|this._cl,dl=0|this._dl,el=0|this._el,fl=0|this._fl,gl=0|this._gl,hl=0|this._hl;for(var i=0;i<80;i++){var Wi,Wil,j=2*i;if(i<16)Wi=W[j]=M.readInt32BE(4*j),Wil=W[j+1]=M.readInt32BE(4*j+4);else{var x=W[j-30],xl=W[j-30+1],gamma0=S(x,xl,1)^S(x,xl,8)^x>>>7,gamma0l=S(xl,x,1)^S(xl,x,8)^S(xl,x,7);x=W[j-4],xl=W[j-4+1];var gamma1=S(x,xl,19)^S(xl,x,29)^x>>>6,gamma1l=S(xl,x,19)^S(x,xl,29)^S(xl,x,6),Wi7=W[j-14],Wi7l=W[j-14+1],Wi16=W[j-32],Wi16l=W[j-32+1];Wil=gamma0l+Wi7l,Wi=gamma0+Wi7+(Wil>>>0<gamma0l>>>0?1:0),Wil+=gamma1l,Wi=Wi+gamma1+(Wil>>>0<gamma1l>>>0?1:0),Wil+=Wi16l,Wi=Wi+Wi16+(Wil>>>0<Wi16l>>>0?1:0),W[j]=Wi,W[j+1]=Wil}var maj=Maj(a,b,c),majl=Maj(al,bl,cl),sigma0h=S(a,al,28)^S(al,a,2)^S(al,a,7),sigma0l=S(al,a,28)^S(a,al,2)^S(a,al,7),sigma1h=S(e,el,14)^S(e,el,18)^S(el,e,9),sigma1l=S(el,e,14)^S(el,e,18)^S(e,el,9),Ki=K[j],Kil=K[j+1],ch=Ch(e,f,g),chl=Ch(el,fl,gl),t1l=hl+sigma1l,t1=h+sigma1h+(t1l>>>0<hl>>>0?1:0);t1l+=chl,t1=t1+ch+(t1l>>>0<chl>>>0?1:0),t1l+=Kil,t1=t1+Ki+(t1l>>>0<Kil>>>0?1:0),t1l+=Wil,t1=t1+Wi+(t1l>>>0<Wil>>>0?1:0);var t2l=sigma0l+majl,t2=sigma0h+maj+(t2l>>>0<sigma0l>>>0?1:0);h=g,hl=gl,g=f,gl=fl,f=e,fl=el,el=dl+t1l|0,e=d+t1+(el>>>0<dl>>>0?1:0)|0,d=c,dl=cl,c=b,cl=bl,b=a,bl=al,al=t1l+t2l|0,a=t1+t2+(al>>>0<t1l>>>0?1:0)|0}this._al=this._al+al|0,this._bl=this._bl+bl|0,this._cl=this._cl+cl|0,this._dl=this._dl+dl|0,this._el=this._el+el|0,this._fl=this._fl+fl|0,this._gl=this._gl+gl|0,this._hl=this._hl+hl|0,this._a=this._a+a+(this._al>>>0<al>>>0?1:0)|0,this._b=this._b+b+(this._bl>>>0<bl>>>0?1:0)|0,this._c=this._c+c+(this._cl>>>0<cl>>>0?1:0)|0,this._d=this._d+d+(this._dl>>>0<dl>>>0?1:0)|0,this._e=this._e+e+(this._el>>>0<el>>>0?1:0)|0,this._f=this._f+f+(this._fl>>>0<fl>>>0?1:0)|0,this._g=this._g+g+(this._gl>>>0<gl>>>0?1:0)|0,this._h=this._h+h+(this._hl>>>0<hl>>>0?1:0)|0},Sha512.prototype._hash=function(){function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset),H.writeInt32BE(l,offset+4)}var H=new Buffer(64);return writeInt64BE(this._a,this._al,0),writeInt64BE(this._b,this._bl,8),writeInt64BE(this._c,this._cl,16),writeInt64BE(this._d,this._dl,24),writeInt64BE(this._e,this._el,32),writeInt64BE(this._f,this._fl,40),writeInt64BE(this._g,this._gl,48),writeInt64BE(this._h,this._hl,56),H},Sha512}},596:function(module,exports,__webpack_require__){function core_md5(x,len){x[len>>5]|=128<<len%32,x[(len+64>>>9<<4)+14]=len;for(var a=1732584193,b=-271733879,c=-1732584194,d=271733878,i=0;i<x.length;i+=16){var olda=a,oldb=b,oldc=c,oldd=d;a=md5_ff(a,b,c,d,x[i+0],7,-680876936),d=md5_ff(d,a,b,c,x[i+1],12,-389564586),c=md5_ff(c,d,a,b,x[i+2],17,606105819),b=md5_ff(b,c,d,a,x[i+3],22,-1044525330),a=md5_ff(a,b,c,d,x[i+4],7,-176418897),d=md5_ff(d,a,b,c,x[i+5],12,1200080426),c=md5_ff(c,d,a,b,x[i+6],17,-1473231341),b=md5_ff(b,c,d,a,x[i+7],22,-45705983),a=md5_ff(a,b,c,d,x[i+8],7,1770035416),d=md5_ff(d,a,b,c,x[i+9],12,-1958414417),c=md5_ff(c,d,a,b,x[i+10],17,-42063),b=md5_ff(b,c,d,a,x[i+11],22,-1990404162),a=md5_ff(a,b,c,d,x[i+12],7,1804603682),d=md5_ff(d,a,b,c,x[i+13],12,-40341101),c=md5_ff(c,d,a,b,x[i+14],17,-1502002290),b=md5_ff(b,c,d,a,x[i+15],22,1236535329),a=md5_gg(a,b,c,d,x[i+1],5,-165796510),d=md5_gg(d,a,b,c,x[i+6],9,-1069501632),c=md5_gg(c,d,a,b,x[i+11],14,643717713),b=md5_gg(b,c,d,a,x[i+0],20,-373897302),a=md5_gg(a,b,c,d,x[i+5],5,-701558691),d=md5_gg(d,a,b,c,x[i+10],9,38016083),c=md5_gg(c,d,a,b,x[i+15],14,-660478335),b=md5_gg(b,c,d,a,x[i+4],20,-405537848),a=md5_gg(a,b,c,d,x[i+9],5,568446438),d=md5_gg(d,a,b,c,x[i+14],9,-1019803690),c=md5_gg(c,d,a,b,x[i+3],14,-187363961),b=md5_gg(b,c,d,a,x[i+8],20,1163531501),a=md5_gg(a,b,c,d,x[i+13],5,-1444681467),d=md5_gg(d,a,b,c,x[i+2],9,-51403784),c=md5_gg(c,d,a,b,x[i+7],14,1735328473),b=md5_gg(b,c,d,a,x[i+12],20,-1926607734),a=md5_hh(a,b,c,d,x[i+5],4,-378558),d=md5_hh(d,a,b,c,x[i+8],11,-2022574463),c=md5_hh(c,d,a,b,x[i+11],16,1839030562),b=md5_hh(b,c,d,a,x[i+14],23,-35309556),a=md5_hh(a,b,c,d,x[i+1],4,-1530992060),d=md5_hh(d,a,b,c,x[i+4],11,1272893353),c=md5_hh(c,d,a,b,x[i+7],16,-155497632),b=md5_hh(b,c,d,a,x[i+10],23,-1094730640),a=md5_hh(a,b,c,d,x[i+13],4,681279174),d=md5_hh(d,a,b,c,x[i+0],11,-358537222),c=md5_hh(c,d,a,b,x[i+3],16,-722521979),b=md5_hh(b,c,d,a,x[i+6],23,76029189),a=md5_hh(a,b,c,d,x[i+9],4,-640364487),d=md5_hh(d,a,b,c,x[i+12],11,-421815835),c=md5_hh(c,d,a,b,x[i+15],16,530742520),b=md5_hh(b,c,d,a,x[i+2],23,-995338651),a=md5_ii(a,b,c,d,x[i+0],6,-198630844),d=md5_ii(d,a,b,c,x[i+7],10,1126891415),c=md5_ii(c,d,a,b,x[i+14],15,-1416354905),b=md5_ii(b,c,d,a,x[i+5],21,-57434055),a=md5_ii(a,b,c,d,x[i+12],6,1700485571),d=md5_ii(d,a,b,c,x[i+3],10,-1894986606),c=md5_ii(c,d,a,b,x[i+10],15,-1051523),b=md5_ii(b,c,d,a,x[i+1],21,-2054922799),a=md5_ii(a,b,c,d,x[i+8],6,1873313359),d=md5_ii(d,a,b,c,x[i+15],10,-30611744),c=md5_ii(c,d,a,b,x[i+6],15,-1560198380),b=md5_ii(b,c,d,a,x[i+13],21,1309151649),a=md5_ii(a,b,c,d,x[i+4],6,-145523070),d=md5_ii(d,a,b,c,x[i+11],10,-1120210379),c=md5_ii(c,d,a,b,x[i+2],15,718787259),b=md5_ii(b,c,d,a,x[i+9],21,-343485551),a=safe_add(a,olda),b=safe_add(b,oldb),c=safe_add(c,oldc),d=safe_add(d,oldd)}return Array(a,b,c,d)}function md5_cmn(q,a,b,x,s,t){return safe_add(bit_rol(safe_add(safe_add(a,q),safe_add(x,t)),s),b)}function md5_ff(a,b,c,d,x,s,t){return md5_cmn(b&c|~b&d,a,b,x,s,t)}function md5_gg(a,b,c,d,x,s,t){return md5_cmn(b&d|c&~d,a,b,x,s,t)}function md5_hh(a,b,c,d,x,s,t){return md5_cmn(b^c^d,a,b,x,s,t)}function md5_ii(a,b,c,d,x,s,t){return md5_cmn(c^(b|~d),a,b,x,s,t)}function safe_add(x,y){var lsw=(65535&x)+(65535&y),msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|65535&lsw}function bit_rol(num,cnt){return num<<cnt|num>>>32-cnt}var helpers=__webpack_require__(597);module.exports=function(buf){return helpers.hash(buf,core_md5,16)}},597:function(module,exports,__webpack_require__){(function(Buffer){function toArray(buf,bigEndian){if(buf.length%intSize!==0){var len=buf.length+(intSize-buf.length%intSize);buf=Buffer.concat([buf,zeroBuffer],len)}for(var arr=[],fn=bigEndian?buf.readInt32BE:buf.readInt32LE,i=0;i<buf.length;i+=intSize)arr.push(fn.call(buf,i));return arr}function toBuffer(arr,size,bigEndian){for(var buf=new Buffer(size),fn=bigEndian?buf.writeInt32BE:buf.writeInt32LE,i=0;i<arr.length;i++)fn.call(buf,arr[i],4*i,!0);return buf}function hash(buf,fn,hashSize,bigEndian){Buffer.isBuffer(buf)||(buf=new Buffer(buf));var arr=fn(toArray(buf,bigEndian),buf.length*chrsz);return toBuffer(arr,hashSize,bigEndian)}var intSize=4,zeroBuffer=new Buffer(intSize);zeroBuffer.fill(0);var chrsz=8;module.exports={hash:hash}}).call(exports,__webpack_require__(338).Buffer)},598:function(module,exports,__webpack_require__){(function(Buffer){function f1(x,y,z){return x^y^z}function f2(x,y,z){return x&y|~x&z}function f3(x,y,z){return(x|~y)^z}function f4(x,y,z){return x&z|y&~z}function f5(x,y,z){return x^(y|~z)}function rotl(x,n){return x<<n|x>>>32-n}function ripemd160(message){var H=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof message&&(message=new Buffer(message,"utf8"));var m=bytesToWords(message),nBitsLeft=8*message.length,nBitsTotal=8*message.length;m[nBitsLeft>>>5]|=128<<24-nBitsLeft%32,m[(nBitsLeft+64>>>9<<4)+14]=16711935&(nBitsTotal<<8|nBitsTotal>>>24)|4278255360&(nBitsTotal<<24|nBitsTotal>>>8);for(var i=0;i<m.length;i+=16)processBlock(H,m,i);for(var i=0;i<5;i++){var H_i=H[i];H[i]=16711935&(H_i<<8|H_i>>>24)|4278255360&(H_i<<24|H_i>>>8)}var digestbytes=wordsToBytes(H);return new Buffer(digestbytes)}module.exports=ripemd160;/** @preserve
	(c) 2012 by Cdric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
var zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr=[1352829926,1548603684,1836072691,2053994217,0],bytesToWords=function(bytes){for(var words=[],i=0,b=0;i<bytes.length;i++,b+=8)words[b>>>5]|=bytes[i]<<24-b%32;return words},wordsToBytes=function(words){for(var bytes=[],b=0;b<32*words.length;b+=8)bytes.push(words[b>>>5]>>>24-b%32&255);return bytes},processBlock=function(H,M,offset){for(var i=0;i<16;i++){var offset_i=offset+i,M_offset_i=M[offset_i];M[offset_i]=16711935&(M_offset_i<<8|M_offset_i>>>24)|4278255360&(M_offset_i<<24|M_offset_i>>>8)}var al,bl,cl,dl,el,ar,br,cr,dr,er;ar=al=H[0],br=bl=H[1],cr=cl=H[2],dr=dl=H[3],er=el=H[4];for(var t,i=0;i<80;i+=1)t=al+M[offset+zl[i]]|0,t+=i<16?f1(bl,cl,dl)+hl[0]:i<32?f2(bl,cl,dl)+hl[1]:i<48?f3(bl,cl,dl)+hl[2]:i<64?f4(bl,cl,dl)+hl[3]:f5(bl,cl,dl)+hl[4],t=0|t,t=rotl(t,sl[i]),t=t+el|0,al=el,el=dl,dl=rotl(cl,10),cl=bl,bl=t,t=ar+M[offset+zr[i]]|0,t+=i<16?f5(br,cr,dr)+hr[0]:i<32?f4(br,cr,dr)+hr[1]:i<48?f3(br,cr,dr)+hr[2]:i<64?f2(br,cr,dr)+hr[3]:f1(br,cr,dr)+hr[4],t=0|t,t=rotl(t,sr[i]),t=t+er|0,ar=er,er=dr,dr=rotl(cr,10),cr=br,br=t;t=H[1]+cl+dr|0,H[1]=H[2]+dl+er|0,H[2]=H[3]+el+ar|0,H[3]=H[4]+al+br|0,H[4]=H[0]+bl+cr|0,H[0]=t}}).call(exports,__webpack_require__(338).Buffer)},599:function(module,exports,__webpack_require__){(function(Buffer){function Hmac(alg,key){if(!(this instanceof Hmac))return new Hmac(alg,key);this._opad=opad,this._alg=alg;var blocksize="sha512"===alg?128:64;key=this._key=Buffer.isBuffer(key)?key:new Buffer(key),key.length>blocksize?key=createHash(alg).update(key).digest():key.length<blocksize&&(key=Buffer.concat([key,zeroBuffer],blocksize));for(var ipad=this._ipad=new Buffer(blocksize),opad=this._opad=new Buffer(blocksize),i=0;i<blocksize;i++)ipad[i]=54^key[i],opad[i]=92^key[i];this._hash=createHash(alg).update(ipad)}var createHash=__webpack_require__(590),zeroBuffer=new Buffer(128);zeroBuffer.fill(0),module.exports=Hmac,Hmac.prototype.update=function(data,enc){return this._hash.update(data,enc),this},Hmac.prototype.digest=function(enc){var h=this._hash.digest();return createHash(this._alg).update(this._opad).update(h).digest(enc)}}).call(exports,__webpack_require__(338).Buffer)},600:function(module,exports,__webpack_require__){var pbkdf2Export=__webpack_require__(601);module.exports=function(crypto,exports){exports=exports||{};var exported=pbkdf2Export(crypto);return exports.pbkdf2=exported.pbkdf2,exports.pbkdf2Sync=exported.pbkdf2Sync,exports}},601:function(module,exports,__webpack_require__){(function(Buffer){module.exports=function(crypto){function pbkdf2(password,salt,iterations,keylen,digest,callback){if("function"==typeof digest&&(callback=digest,digest=void 0),"function"!=typeof callback)throw new Error("No callback provided to pbkdf2");setTimeout(function(){var result;try{result=pbkdf2Sync(password,salt,iterations,keylen,digest)}catch(e){return callback(e)}callback(void 0,result)})}function pbkdf2Sync(password,salt,iterations,keylen,digest){if("number"!=typeof iterations)throw new TypeError("Iterations not a number");if(iterations<0)throw new TypeError("Bad iterations");if("number"!=typeof keylen)throw new TypeError("Key length not a number");if(keylen<0)throw new TypeError("Bad key length");digest=digest||"sha1",Buffer.isBuffer(password)||(password=new Buffer(password)),Buffer.isBuffer(salt)||(salt=new Buffer(salt));var hLen,r,T,l=1,DK=new Buffer(keylen),block1=new Buffer(salt.length+4);salt.copy(block1,0,0,salt.length);for(var i=1;i<=l;i++){block1.writeUInt32BE(i,salt.length);var U=crypto.createHmac(digest,password).update(block1).digest();if(!hLen&&(hLen=U.length,T=new Buffer(hLen),l=Math.ceil(keylen/hLen),r=keylen-(l-1)*hLen,keylen>(Math.pow(2,32)-1)*hLen))throw new TypeError("keylen exceeds maximum length");U.copy(T,0,0,hLen);for(var j=1;j<iterations;j++){U=crypto.createHmac(digest,password).update(U).digest();for(var k=0;k<hLen;k++)T[k]^=U[k]}var destPos=(i-1)*hLen,len=i==l?r:hLen;T.copy(DK,destPos,0,len)}return DK}return{pbkdf2:pbkdf2,pbkdf2Sync:pbkdf2Sync}}}).call(exports,__webpack_require__(338).Buffer)},610:function(module,exports){module.exports='<div class="filter-bar-confirm" ng-show="newFilters.length">\n  <form ng-submit="applyFilters(newFilters)">\n  <ul class="list-unstyled">\n    <li>Apply these filters?</li>\n    <li ng-repeat="filter in newFilters track by $index" class="filter" ng-click="filter.meta.apply = !filter.meta.apply"><input type="checkbox" ng-checked="filter.meta.apply"/> {{ filter.meta.key }}: {{ filter.meta.value }}</li>\n    <li ng-if="changeTimeFilter" class="changeTimeFilter filter" ng-click="changeTimeFilter.meta.apply = !changeTimeFilter.meta.apply"><input type="checkbox" ng-checked="changeTimeFilter.meta.apply"/> <strong>Change time to:</strong> {{changeTimeFilter.meta.value}} </li>\n    <li><button class="btn btn-xs btn-primary">Apply Now</button> or <a ng-click="clearFilterBar();">Cancel</a></li>\n  </ul>\n  </form>\n</div>\n\n<div class="filter-bar" ng-show="filters.length">\n  <div class="filter" ng-class="{ negate: filter.meta.negate, disabled: filter.meta.disabled }" ng-repeat="filter in filters track by $index">\n    <div class="filter-description">\n      <span ng-if="filter.$state.store == \'globalState\'"><i class="fa fa-fw fa-thumb-tack pinned"></i></span>\n      <span ng-if="filter.meta.alias">{{ filter.meta.alias }}</span>\n      <span ng-if="!filter.meta.alias">{{ filter.meta.key }}:</span>\n      <span ng-if="!filter.meta.alias">"{{ filter.meta.value }}"</span>\n    </div>\n    <div class="filter-actions">\n      <a class="action filter-toggle" ng-click="toggleFilter(filter)" data-test-subj="disableFilter-{{ filter.meta.key }}">\n        <i ng-show="filter.meta.disabled" class="fa fa-fw fa-square-o disabled"></i>\n        <i ng-hide="filter.meta.disabled" class="fa fa-fw fa-check-square-o enabled"></i>\n      </a>\n      <a class="action filter-pin" ng-click="pinFilter(filter)" data-test-subj="pinFilter-{{ filter.meta.key }}">\n        <i ng-show="filter.$state.store == \'globalState\'" class="fa fa-fw fa-thumb-tack pinned"></i>\n        <i ng-hide="filter.$state.store == \'globalState\'" class="fa fa-fw fa-thumb-tack fa-rotate-270 unpinned"></i>\n      </a>\n      <a class="action filter-invert" ng-click="invertFilter(filter)" data-test-subj="invertFilter-{{ filter.meta.key }}">\n        <i ng-show="filter.meta.negate" class="fa fa-fw fa-search-plus negative"></i>\n        <i ng-hide="filter.meta.negate" class="fa fa-fw fa-search-minus positive"></i>\n      </a>\n      <a class="action filter-remove" ng-click="removeFilter(filter)">\n        <i class="fa fa-fw fa-trash" data-test-subj="removeFilter-{{ filter.meta.key }}"></i>\n      </a>\n      <a class="action filter-edit" ng-click="startEditingFilter(filter)">\n        <i class="fa fa-fw fa-edit"></i>\n      </a>\n    </div>\n  </div>\n\n  <div class="filter-edit-container" ng-if="editingFilter">\n    <form role="form" name="editFilterForm" ng-submit="editDone()">\n      <div class="form-group filter-edit-alias">\n        <label>Filter Alias\n          <small>(optional)</small>\n        </label>\n        <input\n          ng-model="editingFilter.alias"\n          type="text"\n          class="form-control">\n      </div>\n      <div\n        json-input\n        require-keys="true"\n        ui-ace="{\n          mode: \'json\',\n          onLoad: aceLoaded\n        }"\n        ng-model="editingFilter.model"></div>\n      <div class="form-group">\n        <button class="btn btn-primary" ng-click="stopEditingFilter()">Cancel</button>\n        <button type="submit" class="btn btn-success"\n          ng-disabled="editFilterForm.$invalid"\n          >Done</button>\n        <small ng-show="editFilterForm.$invalid">Could not parse JSON input</small>\n      </div>\n    </form>\n  </div>\n\n  <div class="filter-link">\n    <div class="filter-description small">\n      <a ng-click="showFilterActions = !showFilterActions">\n        Actions\n        <i class="fa"\n        ng-class="{\'fa-caret-down\': showFilterActions, \'fa-caret-right\': !showFilterActions}" data-test-subj="showFilterActions"></i>\n      </a>\n    </div>\n  </div>\n</div>\n\n<div class="filter-bar filter-bar-condensed" ng-show="filters.length && showFilterActions">\n  <div class="filter-actions-all">\n    <div class="filter-link">\n      <div class="filter-description"><strong>All filters:</strong></div>\n    </div>\n    <div class="filter-link">\n      <div class="filter-description"><a ng-click="toggleAll(false)">Enable</a></div>\n    </div>\n    <div class="filter-link">\n      <div class="filter-description"><a ng-click="toggleAll(true)">Disable</a></div>\n    </div>\n    <div class="filter-link">\n      <div class="filter-description"><a ng-click="pinAll(true)">Pin</a></div>\n    </div>\n    <div class="filter-link">\n      <div class="filter-description"><a ng-click="pinAll(false)">Unpin</a></div>\n    </div>\n    <div class="filter-link">\n      <div class="filter-description"><a ng-click="invertAll()">Invert</a></div>\n    </div>\n    <div class="filter-link">\n      <div class="filter-description"><a ng-click="toggleAll()">Toggle</a></div>\n    </div>\n    <div class="filter-link">\n      <div class="filter-description"><a ng-click="removeAll()" data-test-subj="removeAllFilters">Remove</a></div>\n    </div>\n  </div>\n</div>\n'},644:function(module,exports){module.exports='<div class="kuiModal" style="width: 450px" data-test-subj="confirmModal">\n  <div class="kuiModalHeader" ng-if="title">\n    <div class="kuiModalHeader__title" data-test-subj="confirmModalTitleText">\n      {{title}}\n    </div>\n    <div\n      ng-if="showClose"\n      class="kuiModalHeaderCloseButton kuiIcon fa-times"\n      data-test-subj="confirmModalCloseButton"\n      ng-click="onClose()"\n    ></div>\n  </div>\n  <div class="kuiModalBody">\n    <div\n      class="kuiModalBodyText"\n      data-test-subj="confirmModalBodyText"\n    >\n      {{message}}\n    </div>\n  </div>\n\n  <div class="kuiModalFooter">\n    <button\n      class="kuiButton kuiButton--hollow"\n      data-test-subj="confirmModalCancelButton"\n      ng-click="onCancel()"\n    >\n      {{cancelButtonText}}\n    </button>\n    <button\n      class="kuiButton kuiButton--primary"\n      data-test-subj="confirmModalConfirmButton"\n      ng-click="onConfirm()"\n    >\n      {{confirmButtonText}}\n    </button>\n  </div>\n</div>\n'},646:function(module,exports){module.exports='<div class="kuiModalOverlay" data-test-subj="modalOverlay"></div>\n'},652:function(module,exports){module.exports='<div class="form-group hintbox" ng-if="error">\n  <h4 class="hintbox-heading">\n    <i class="fa fa-danger text-danger"></i> Format error\n  </h4>\n  <p>\n    An error occured while trying to use this format configuration.\n  </p>\n  <pre>{{ error.message }}</pre>\n</div>\n\n<div class="form-group" ng-if="samples">\n  <hr>\n  <label>Samples</label>\n  <table class="table">\n    <thead>\n      <tr>\n        <th>\n          Input\n        </th>\n        <th>\n          Formatted\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr ng-repeat="sample in samples">\n        <td ng-bind="sample[0]"></td>\n        <td ng-bind-html="sample[1]"></td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n'},653:function(module,exports){module.exports='<div class="form-group">\n  <input\n    ng-model="model"\n    placeholder="{{ placeholder }}"\n    class="form-control">\n</div>\n\n<field-format-editor-samples\n  ng-model="model"\n  inputs="inputs">\n</field-format-editor-samples>\n'},655:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/stringify/icons/go.png"},656:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/stringify/icons/stop.png"},657:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/stringify/icons/de.png"},658:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/stringify/icons/ne.png"},659:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/stringify/icons/us.png"},660:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/stringify/icons/ni.png"},661:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/stringify/icons/cv.png"},662:function(module,exports){module.exports='<div class="form-group">\n  <label>Type</label>\n  <select\n    ng-model="editor.formatParams.type"\n    ng-options="type.id as type.name for type in editor.field.format.type.urlTypes"\n    class="form-control">\n  </select>\n</div>\n\n<div class="form-group">\n  <span class="pull-right text-info hintbox-label" ng-click="editor.showUrlTmplHelp = !editor.showUrlTmplHelp">\n    <i class="fa fa-info"></i> Url Template Help\n  </span>\n\n  <label>Url Template</label>\n  <div class="hintbox" ng-if="editor.showUrlTmplHelp">\n    <h4 class="hintbox-heading">\n      <i class="fa fa-question-circle text-info"></i> Url Template Help\n    </h4>\n\n    <p>\n      If a field only contains part of a url then a "Url Template" can be used to format the value as a complete url. The format is a string which uses double curly brace notation <code ng-non-bindable>{{ }}</code> to inject values. The following values can be accessed:\n    </p>\n\n    <ul>\n      <li>\n        <strong>value</strong> &mdash; The uri-escaped value\n      </li>\n      <li>\n        <strong>rawValue</strong> &mdash; The unescaped value\n      </li>\n    </ul>\n\n    <table class="table table-striped table-bordered">\n      <caption>Examples</caption>\n      <thead>\n        <tr>\n          <th>Value</th>\n          <th>Template</th>\n          <th>Result</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>1234</td>\n          <td ng-non-bindable>http://company.net/profiles?user_id={{value}}</td>\n          <td>http://company.net/profiles?user_id=1234</td>\n        </tr>\n        <tr>\n          <td>users/admin</td>\n          <td ng-non-bindable>http://company.net/groups?id={{value}}</td>\n          <td>http://company.net/groups?id=users%2Fadmin</td>\n        </tr>\n        <tr>\n          <td>/images/favicon.ico</td>\n          <td ng-non-bindable>http://www.site.com{{rawValue}}</td>\n          <td>http://www.site.com/images/favicon.ico</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n\n  <input ng-model="editor.formatParams.urlTemplate" class="form-control">\n</div>\n\n<div class="form-group">\n  <span class="pull-right text-info hintbox-label" ng-click="editor.showLabelTmplHelp = !editor.showLabelTmplHelp">\n    <i class="fa fa-info"></i> Label Template Help\n  </span>\n\n  <label>Label Template</label>\n  <div class="hintbox" ng-if="editor.showLabelTmplHelp">\n    <h4 class="hintbox-heading">\n      <i class="fa fa-question-circle text-info"></i> Label Template Help\n    </h4>\n\n    <p>\n      If the url in this field is large, it might be useful to provide an alternate template for the text version of the url. This will be displayed instead of the url, but will still link to the url. The format is a string which uses double curly brace notation <code ng-non-bindable>{{ }}</code> to inject values. The following values can be accessed:\n    </p>\n\n    <ul>\n      <li>\n        <strong>value</strong> &mdash; The fields value\n      </li>\n      <li>\n        <strong>url</strong> &mdash; The formatted url\n      </li>\n    </ul>\n\n    <table class="table table-striped table-bordered">\n      <caption>Examples</caption>\n      <thead>\n        <tr>\n          <th>Value</th>\n          <th>Url Template</th>\n          <th>Label Template</th>\n          <th>Result</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>1234</td>\n          <td ng-non-bindable>http://company.net/profiles?user_id={{value}}</td>\n          <td ng-non-bindable>User #{{value}}</td>\n          <td>\n            <a href="http://company.net/profiles?user_id=1234">User #1234</a>\n          </td>\n        </tr>\n        <tr>\n          <td>/assets/main.css</td>\n          <td ng-non-bindable>http://site.com{{rawValue}}</td>\n          <td>View Asset</td>\n          <td>\n            <a href="http://site.com/assets/main.css">View Asset</a>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n\n  <input ng-model="editor.formatParams.labelTemplate" class="form-control">\n</div>\n\n<field-format-editor-samples inputs="url.samples[editor.formatParams.type]"></field-format-editor-samples>\n'},666:function(module,exports){module.exports='<div class="form-group">\n  <small class="pull-right">\n    <a ng-href="https://adamwdraper.github.io/Numeral-js/" target="_blank">\n      Docs <i class="fa fa-link"></i>\n    </a>\n  </small>\n\n  <label>\n    Numeral.js format pattern\n    <small>\n      (Default: "{{ editor.field.format.type.paramDefaults.pattern }}")\n    </small>\n  </label>\n</div>\n\n<field-format-editor-pattern\n  ng-model="editor.formatParams.pattern"\n  placeholder="editor.field.format.type.paramDefaults.pattern"\n  inputs="cntrl.sampleInputs">\n</field-format-editor-pattern>\n\n'},667:function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(668)},668:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;/*!
	 * numeral.js
	 * version : 1.5.3
	 * author : Adam Draper
	 * license : MIT
	 * http://adamwdraper.github.com/Numeral-js/
	 */
(function(){function Numeral(number){this._value=number}function toFixed(value,precision,roundingFunction,optionals){var optionalsRegExp,output,power=Math.pow(10,precision);return output=(roundingFunction(value*power)/power).toFixed(precision),optionals&&(optionalsRegExp=new RegExp("0{1,"+optionals+"}$"),output=output.replace(optionalsRegExp,"")),output}function formatNumeral(n,format,roundingFunction){var output;return output=format.indexOf("$")>-1?formatCurrency(n,format,roundingFunction):format.indexOf("%")>-1?formatPercentage(n,format,roundingFunction):format.indexOf(":")>-1?formatTime(n,format):formatNumber(n._value,format,roundingFunction)}function unformatNumeral(n,string){var thousandRegExp,millionRegExp,billionRegExp,trillionRegExp,power,stringOriginal=string,suffixes=["KB","MB","GB","TB","PB","EB","ZB","YB"],bytesMultiplier=!1;if(string.indexOf(":")>-1)n._value=unformatTime(string);else if(string===zeroFormat)n._value=0;else{for("."!==languages[currentLanguage].delimiters.decimal&&(string=string.replace(/\./g,"").replace(languages[currentLanguage].delimiters.decimal,".")),thousandRegExp=new RegExp("[^a-zA-Z]"+languages[currentLanguage].abbreviations.thousand+"(?:\\)|(\\"+languages[currentLanguage].currency.symbol+")?(?:\\))?)?$"),millionRegExp=new RegExp("[^a-zA-Z]"+languages[currentLanguage].abbreviations.million+"(?:\\)|(\\"+languages[currentLanguage].currency.symbol+")?(?:\\))?)?$"),billionRegExp=new RegExp("[^a-zA-Z]"+languages[currentLanguage].abbreviations.billion+"(?:\\)|(\\"+languages[currentLanguage].currency.symbol+")?(?:\\))?)?$"),trillionRegExp=new RegExp("[^a-zA-Z]"+languages[currentLanguage].abbreviations.trillion+"(?:\\)|(\\"+languages[currentLanguage].currency.symbol+")?(?:\\))?)?$"),power=0;power<suffixes.length&&!(bytesMultiplier=string.indexOf(suffixes[power])>-1&&Math.pow(1024,power+1));++power);n._value=(bytesMultiplier?bytesMultiplier:1)*(stringOriginal.match(thousandRegExp)?Math.pow(10,3):1)*(stringOriginal.match(millionRegExp)?Math.pow(10,6):1)*(stringOriginal.match(billionRegExp)?Math.pow(10,9):1)*(stringOriginal.match(trillionRegExp)?Math.pow(10,12):1)*(string.indexOf("%")>-1?.01:1)*((string.split("-").length+Math.min(string.split("(").length-1,string.split(")").length-1))%2?1:-1)*Number(string.replace(/[^0-9\.]+/g,"")),n._value=bytesMultiplier?Math.ceil(n._value):n._value}return n._value}function formatCurrency(n,format,roundingFunction){var spliceIndex,output,symbolIndex=format.indexOf("$"),openParenIndex=format.indexOf("("),minusSignIndex=format.indexOf("-"),space="";return format.indexOf(" $")>-1?(space=" ",format=format.replace(" $","")):format.indexOf("$ ")>-1?(space=" ",format=format.replace("$ ","")):format=format.replace("$",""),output=formatNumber(n._value,format,roundingFunction),symbolIndex<=1?output.indexOf("(")>-1||output.indexOf("-")>-1?(output=output.split(""),spliceIndex=1,(symbolIndex<openParenIndex||symbolIndex<minusSignIndex)&&(spliceIndex=0),output.splice(spliceIndex,0,languages[currentLanguage].currency.symbol+space),output=output.join("")):output=languages[currentLanguage].currency.symbol+space+output:output.indexOf(")")>-1?(output=output.split(""),output.splice(-1,0,space+languages[currentLanguage].currency.symbol),output=output.join("")):output=output+space+languages[currentLanguage].currency.symbol,output}function formatPercentage(n,format,roundingFunction){var output,space="",value=100*n._value;return format.indexOf(" %")>-1?(space=" ",format=format.replace(" %","")):format=format.replace("%",""),output=formatNumber(value,format,roundingFunction),output.indexOf(")")>-1?(output=output.split(""),output.splice(-1,0,space+"%"),output=output.join("")):output=output+space+"%",output}function formatTime(n){var hours=Math.floor(n._value/60/60),minutes=Math.floor((n._value-60*hours*60)/60),seconds=Math.round(n._value-60*hours*60-60*minutes);return hours+":"+(minutes<10?"0"+minutes:minutes)+":"+(seconds<10?"0"+seconds:seconds)}function unformatTime(string){var timeArray=string.split(":"),seconds=0;return 3===timeArray.length?(seconds+=60*Number(timeArray[0])*60,seconds+=60*Number(timeArray[1]),seconds+=Number(timeArray[2])):2===timeArray.length&&(seconds+=60*Number(timeArray[0]),seconds+=Number(timeArray[1])),Number(seconds)}function formatByteUnits(value){var power,min,max,suffixes=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],suffix=suffixes[0],abs=Math.abs(value),matched=abs<1024;if(!matched){for(power=1;power<suffixes.length;++power)if(min=Math.pow(1024,power),max=Math.pow(1024,power+1),abs>=min&&abs<max){matched=!0,suffix=suffixes[power],value/=min;break}matched||(value/=Math.pow(1024,suffixes.length-1),suffix=suffixes[suffixes.length-1])}return{value:value,suffix:suffix}}function formatNumber(value,format,roundingFunction){var units,w,precision,thousands,negP=!1,signed=!1,optDec=!1,abbr="",abbrK=!1,abbrM=!1,abbrB=!1,abbrT=!1,abbrForce=!1,bytes="",ord="",abs=Math.abs(value),d="",neg=!1;return 0===value&&null!==zeroFormat?zeroFormat:(format.indexOf("(")>-1?(negP=!0,format=format.slice(1,-1)):format.indexOf("+")>-1&&(signed=!0,format=format.replace(/\+/g,"")),format.indexOf("a")>-1&&(abbrK=format.indexOf("aK")>=0,abbrM=format.indexOf("aM")>=0,abbrB=format.indexOf("aB")>=0,abbrT=format.indexOf("aT")>=0,abbrForce=abbrK||abbrM||abbrB||abbrT,format.indexOf(" a")>-1?(abbr=" ",format=format.replace(" a","")):format=format.replace("a",""),abs>=Math.pow(10,12)&&!abbrForce||abbrT?(abbr+=languages[currentLanguage].abbreviations.trillion,value/=Math.pow(10,12)):abs<Math.pow(10,12)&&abs>=Math.pow(10,9)&&!abbrForce||abbrB?(abbr+=languages[currentLanguage].abbreviations.billion,value/=Math.pow(10,9)):abs<Math.pow(10,9)&&abs>=Math.pow(10,6)&&!abbrForce||abbrM?(abbr+=languages[currentLanguage].abbreviations.million,value/=Math.pow(10,6)):(abs<Math.pow(10,6)&&abs>=Math.pow(10,3)&&!abbrForce||abbrK)&&(abbr+=languages[currentLanguage].abbreviations.thousand,value/=Math.pow(10,3))),format.indexOf("b")>-1&&(format.indexOf(" b")>-1?(bytes=" ",format=format.replace(" b","")):format=format.replace("b",""),units=formatByteUnits(value),value=units.value,bytes+=units.suffix),format.indexOf("o")>-1&&(format.indexOf(" o")>-1?(ord=" ",format=format.replace(" o","")):format=format.replace("o",""),ord+=languages[currentLanguage].ordinal(value)),format.indexOf("[.]")>-1&&(optDec=!0,format=format.replace("[.]",".")),w=value.toString().split(".")[0],precision=format.split(".")[1],thousands=format.indexOf(","),precision?(precision.indexOf("[")>-1?(precision=precision.replace("]",""),precision=precision.split("["),d=toFixed(value,precision[0].length+precision[1].length,roundingFunction,precision[1].length)):d=toFixed(value,precision.length,roundingFunction),w=d.split(".")[0],d=d.split(".")[1].length?languages[currentLanguage].delimiters.decimal+d.split(".")[1]:"",optDec&&0===Number(d.slice(1))&&(d="")):w=toFixed(value,null,roundingFunction),w.indexOf("-")>-1&&(w=w.slice(1),neg=!0),thousands>-1&&(w=w.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+languages[currentLanguage].delimiters.thousands)),0===format.indexOf(".")&&(w=""),(negP&&neg?"(":"")+(!negP&&neg?"-":"")+(!neg&&signed?"+":"")+w+d+(ord?ord:"")+(abbr?abbr:"")+(bytes?bytes:"")+(negP&&neg?")":""))}function loadLanguage(key,values){languages[key]=values}function multiplier(x){var parts=x.toString().split(".");return parts.length<2?1:Math.pow(10,parts[1].length)}function correctionFactor(){var args=Array.prototype.slice.call(arguments);return args.reduce(function(prev,next){var mp=multiplier(prev),mn=multiplier(next);return mp>mn?mp:mn},-(1/0))}var numeral,VERSION="1.5.3",languages={},currentLanguage="en",zeroFormat=null,defaultFormat="0,0",hasModule="undefined"!=typeof module&&module.exports;numeral=function(input){return numeral.isNumeral(input)?input=input.value():0===input||"undefined"==typeof input?input=0:Number(input)||(input=numeral.fn.unformat(input)),new Numeral(Number(input))},numeral.version=VERSION,numeral.isNumeral=function(obj){return obj instanceof Numeral},numeral.language=function(key,values){if(!key)return currentLanguage;if(key&&!values){if(!languages[key])throw new Error("Unknown language : "+key);currentLanguage=key}return!values&&languages[key]||loadLanguage(key,values),numeral},numeral.languageData=function(key){if(!key)return languages[currentLanguage];if(!languages[key])throw new Error("Unknown language : "+key);return languages[key]},numeral.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1===~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"},currency:{symbol:"$"}}),numeral.zeroFormat=function(format){zeroFormat="string"==typeof format?format:null},numeral.defaultFormat=function(format){defaultFormat="string"==typeof format?format:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(callback,opt_initialValue){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof callback)throw new TypeError(callback+" is not a function");var index,value,length=this.length>>>0,isValueSet=!1;for(1<arguments.length&&(value=opt_initialValue,isValueSet=!0),index=0;length>index;++index)this.hasOwnProperty(index)&&(isValueSet?value=callback(value,this[index],index,this):(value=this[index],isValueSet=!0));if(!isValueSet)throw new TypeError("Reduce of empty array with no initial value");return value}),numeral.fn=Numeral.prototype={clone:function(){return numeral(this)},format:function(inputString,roundingFunction){return formatNumeral(this,inputString?inputString:defaultFormat,void 0!==roundingFunction?roundingFunction:Math.round)},unformat:function(inputString){return"[object Number]"===Object.prototype.toString.call(inputString)?inputString:unformatNumeral(this,inputString?inputString:defaultFormat)},byteUnits:function(){return formatByteUnits(this._value).suffix},value:function(){return this._value},valueOf:function(){return this._value},set:function(value){return this._value=Number(value),this},add:function(value){function cback(accum,curr,currI,O){return accum+corrFactor*curr}var corrFactor=correctionFactor.call(null,this._value,value);return this._value=[this._value,value].reduce(cback,0)/corrFactor,this},subtract:function(value){function cback(accum,curr,currI,O){return accum-corrFactor*curr}var corrFactor=correctionFactor.call(null,this._value,value);return this._value=[value].reduce(cback,this._value*corrFactor)/corrFactor,this},multiply:function(value){function cback(accum,curr,currI,O){var corrFactor=correctionFactor(accum,curr);return accum*corrFactor*(curr*corrFactor)/(corrFactor*corrFactor)}return this._value=[this._value,value].reduce(cback,1),this},divide:function(value){function cback(accum,curr,currI,O){var corrFactor=correctionFactor(accum,curr);return accum*corrFactor/(curr*corrFactor)}return this._value=[this._value,value].reduce(cback),this},difference:function(value){return Math.abs(numeral(this._value).subtract(value).value())}},hasModule&&(module.exports=numeral),"undefined"==typeof ender&&(this.numeral=numeral),__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return numeral}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}).call(this)},670:function(module,exports){module.exports='<div class="form-group">\n  <small class="pull-right">\n    <a ng-href="http://momentjs.com/" target="_blank">\n      Docs <i class="fa fa-link"></i>\n    </a>\n  </small>\n\n  <label>\n    moment.js format pattern\n    <small>\n      (Default: "{{ editor.field.format.type.paramDefaults.pattern }}")\n    </small>\n  </label>\n\n  <field-format-editor-pattern\n    ng-model="editor.formatParams.pattern"\n    inputs="cntrl.sampleInputs"\n  ></field-format-editor-pattern>\n\n</div>\n'},673:function(module,exports){module.exports='<div class="editor-duration">\n  <div class="form-group">\n    <label>Input Format</label>\n    <select\n      ng-model="editor.formatParams.inputFormat"\n      ng-options="inputFormat.kind as inputFormat.text for inputFormat in editor.field.format.type.inputFormats"\n      class="form-control">\n    </select>\n  </div>\n  <div class="form-group">\n    <label>Output Format</label>\n    <select\n      ng-model="editor.formatParams.outputFormat"\n      ng-options="outputFormat.method as outputFormat.text for outputFormat in editor.field.format.type.outputFormats"\n      class="form-control">\n    </select>\n  </div>\n  <div class="form-group" ng-hide="editor.field.format.isHuman()">\n    <label>Decimal Places</label>\n    <input type="number" min="0" max="20" ng-model="editor.formatParams.outputPrecision" class="form-control" />\n  </div>\n</div>\n<div>\n  <field-format-editor-samples\n    ng-model="editor.formatParams"\n    inputs="cntrl.sampleInputs">\n  </field-format-editor-samples>\n</div>\n'},678:function(module,exports){module.exports='<div class="form-group">\n  <label>Transform</label>\n  <select\n    ng-model="editor.formatParams.transform"\n    ng-options="opt.id as opt.name for opt in editor.field.format.type.transformOpts"\n    class="form-control">\n  </select>\n</div>\n\n<field-format-editor-samples inputs="editor.field.format.type.sampleInputs"></field-format-editor-samples>\n'},681:function(module,exports){module.exports="<dl class=\"source truncate-by-height\">\n  <% defPairs.forEach(function (def) { %>\n    <dt><%- def[0] %>:</dt>\n    <dd><%= def[1] %></dd>\n    <%= ' ' %>\n  <% }); %>\n</dl>\n"},684:function(module,exports){module.exports='<div class="form-group">\n  <div ng-repeat="color in editor.formatParams.colors">\n    <div class="editor-color">\n      <button ng-if="editor.formatParams.colors.length > 1" aria-label="Remove Color" ng-click="removeColor($index)" tooltip="Remove Color" tooltip-append-to-body="true" type="button" class="btn btn-xs btn-danger editor-color-remove">\n        <i aria-hidden="true" class="fa fa-times"></i>\n      </button>\n      <div class="form-group" ng-if="editor.formatParams.fieldType === \'number\'">\n        <label>Range <small>(min:max)</small></label>\n        <input\n          ng-model="color.range"\n          class="form-control">\n      </div>\n      <div class="form-group" ng-if="editor.formatParams.fieldType === \'string\'">\n        <label>Pattern <small>(regular expression)</small></label>\n        <input\n            ng-model="color.regex"\n            class="form-control">\n      </div>\n      <div class="form-group">\n        <label>Font Color</label>\n        <input\n          ng-model="color.text"\n          colorpicker\n          type="text"\n          class="form-control">\n      </div>\n      <div class="form-group">\n        <label>Background Color</label>\n        <input\n          ng-model="color.background"\n          colorpicker\n          type="text"\n          class="form-control">\n      </div>\n      <div class="form-group">\n        <label>Example</label>\n          <div class="form-control"\n            ng-style="{color: color.text, \'background-color\': color.background}"\n            value="formatted">\n            123456\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n  <button aria-label="Add Color" ng-click="addColor()" tooltip="Add Color" tooltip-append-to-body="true" type="button" class="btn btn-primary btn-xs">\n      <span class="sr-only">Add Color</span>\n      <i aria-hidden="true" class="fa fa-plus"></i> Add Color\n  </button>\n\n</div>\n'},686:function(module,exports){module.exports='<div class="form-group">\n  <label>Field Length</label>\n  <input ng-model="editor.formatParams.fieldLength" class="form-control">\n</div>\n\n<field-format-editor-samples inputs="editor.field.format.type.sampleInput"></field-format-editor-samples>\n'},687:function(module,exports){module.exports="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris vitae sem consequat, sollicitudin enim a, feugiat mi. Curabitur congue laoreet elit, eu dictum nisi commodo ut. Nullam congue sem a blandit commodo. Suspendisse eleifend sodales leo ac hendrerit. Nam fringilla tempor fermentum. Ut tristique pharetra sapien sit amet pharetra. Ut turpis massa, viverra id erat quis, fringilla vehicula risus. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Phasellus tincidunt gravida gravida. Praesent et ligula viverra, semper lacus in, tristique elit. Cras ac eleifend diam. Nulla facilisi. Morbi id sagittis magna. Sed fringilla, magna in suscipit aliquet."},690:function(module,exports){module.exports=".truncate-by-height {\n  max-height: <%= truncateMaxHeight %>;\n  display: inline-block;\n}\n.truncate-by-height:before {\n  top: <%= truncateGradientTop %>;\n}\n"},692:function(module,exports){module.exports='<div class="kbn-timepicker">\n\n  <div class="tab-content">\n\n    <!-- Filters -->\n    <div ng-show="activeTab === \'filter\'" role="tabpanel" class="tab-pane active">\n      <div class="kuiLocalDropdownTitle">Time Range</div>\n      <div class="row">\n        <div class="col-md-2">\n          <ul class="nav nav-pills nav-stacked kbn-timepicker-modes">\n            <li ng-class="{active: mode === \'quick\' }">\n              <a ng-click="setMode(\'quick\')">quick</a>\n            </li>\n            <li ng-class="{active: mode === \'relative\' }">\n              <a ng-click="setMode(\'relative\')">relative</a>\n            </li>\n            <li ng-class="{active: mode === \'absolute\' }">\n              <a ng-click="setMode(\'absolute\')">absolute</a>\n            </li>\n          </ul>\n        </div>\n\n        <div class="col-md-10">\n          <div ng-switch on="mode" class="container-fluid">\n            <div ng-switch-when="quick">\n\n              <div ng-repeat="list in quickLists" class="kbn-timepicker-section">\n                <ul class="list-unstyled">\n                  <li ng-repeat="option in list">\n                    <a ng-click="setQuick(option.from, option.to)" ng-bind="::option.display"></a>\n                  </li>\n                </ul>\n              </div>\n\n              <!-- TODO: Add a section for custom intervals -->\n            </div>\n\n            <div ng-switch-when="relative">\n              <form role="form" ng-submit="applyRelative()" class="form-inline" name="relativeTime">\n                <div class="kbn-timepicker-section">\n                  <label>\n                    From:\n                    <span ng-show="relative.from.preview">{{relative.from.preview}}</span>\n                    <a class="label label-default" ng-click="setRelativeToNow(\'from\')">Set To Now</a>\n                    <span ng-hide="relative.from.preview"><i>Invalid Expression</i></span>\n                  </label>\n                  <br>\n                  <div class="form-group" ng-class="{ \'has-error\': checkRelative() }">\n                    <input\n                      required\n                      ng-model="relative.from.count"\n                      ng-change="formatRelative(\'from\')"\n                      greater-than="-1"\n                      min="0"\n                      type="number"\n                      class="form-control">\n                  </div>\n                  <div class="form-group" ng-class="{ \'has-error\': checkRelative() }">\n                    <select\n                      ng-model="relative.from.unit"\n                      ng-options="opt.value as opt.text for opt in relativeOptions"\n                      ng-change="formatRelative(\'from\')"\n                      class="form-control col-xs-2">\n                    </select>\n                  </div>\n                  <br>\n                  <div class="small">\n                    <label>\n                      <input\n                        ng-model="relative.from.round"\n                        ng-checked="relative.from.round"\n                        ng-change="formatRelative(\'from\')"\n                        type="checkbox">\n                      round to the {{units[relative.from.unit.substring(0,1)]}}\n                    </label>\n                    <div\n                      ng-class="{ \'kbn-timepicker-error\': checkRelative() }"\n                      ng-show="checkRelative()">\n                      <strong>From</strong> must occur before <strong>To</strong>\n                    </div>\n                  </div>\n                </div>\n\n                <div class="kbn-timepicker-section">\n                  <label>\n                    To:\n                    <span ng-show="relative.to.preview">{{relative.to.preview}}</span>\n                    <a class="label label-default" ng-click="setRelativeToNow(\'to\')">Set To Now</a>\n                    <span ng-hide="relative.to.preview"><i>Invalid Expression</i></span>\n                  </label>\n                  <br>\n                  <div class="form-group" ng-class="{ \'has-error\': checkRelative() }">\n                    <input\n                      required\n                      ng-model="relative.to.count"\n                      ng-change="formatRelative(\'to\')"\n                      greater-than="-1"\n                      min="0"\n                      type="number"\n                      class="form-control">\n                  </div>\n                  <div class="form-group" ng-class="{ \'has-error\': checkRelative() }">\n                    <select\n                      ng-model="relative.to.unit"\n                      ng-options="opt.value as opt.text for opt in relativeOptions"\n                      ng-change="formatRelative(\'to\')"\n                      class="form-control col-xs-2">\n                    </select>\n                  </div>\n                  <br>\n                  <div class="small">\n                    <label>\n                      <input\n                        ng-model="relative.to.round"\n                        ng-checked="relative.to.round"\n                        ng-change="formatRelative(\'to\')"\n                        type="checkbox">\n                      round to the {{units[relative.to.unit.substring(0,1)]}}\n                    </label>\n                  </div>\n                </div>\n\n                <div class="kbn-timepicker-section">\n                  <label>&nbsp;</label>\n                  <br>\n                  <div class="form-group">\n                    <button type="submit" class="btn btn-primary kbn-timepicker-go" ng-disabled="!(relative.from.preview && relative.to.preview) || checkRelative()">\n                      Go\n                    </button>\n                  </div>\n                </div>\n              </form>\n            </div>\n\n            <div ng-switch-when="absolute">\n              <form name="absoluteTime" ng-submit="applyAbsolute()">\n                <div class="kbn-timepicker-section">\n                  <div>\n                    <label class="small">From: <span ng-show="!absolute.from"><i>Invalid Date</i></span>\n                      <a class="label label-default" ng-click="setToNow(\'from\')">Set To Now</a>\n                    </label>\n                    <input type="text" required class="form-control" input-datetime="{{format}}" ng-model="absolute.from">\n                  </div>\n                  <div>\n                    <datepicker ng-model="pickFromDate" ng-model-options="{ getterSetter: true }" max-date="absolute.to" show-weeks="false"></datepicker>\n                  </div>\n                </div>\n\n                <div class="kbn-timepicker-section">\n                  <div>\n                    <label class="small">To:\n                      <a class="label label-default" ng-click="setToNow(\'to\')">Set To Now</a>\n                    </label>\n                    <span ng-show="!absolute.to"><i>Invalid Date</i></span>\n                    <input type="text" required class="form-control" input-datetime="{{format}}" ng-model="absolute.to">\n                  </div>\n                  <div>\n                    <datepicker ng-model="pickToDate" ng-model-options="{ getterSetter: true }" min-date="absolute.from" show-weeks="false"></datepicker>\n                  </div>\n                </div>\n\n                <div class="kbn-timepicker-section kbn-timepicker-alert">\n                  <label>&nbsp;</label>\n                  <div class="form-group">\n                    <button class="btn btn-primary kbn-timepicker-go" ng-disabled="absolute.from > absolute.to || !absolute.from || !absolute.to" type="submit">\n                      Go\n                    </button>\n                    <span class="small" ng-show="absolute.from > absolute.to"><strong>From</strong> must occur before <strong>To</strong></span>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Refresh Intervals -->\n    <div ng-show="activeTab === \'interval\'" role="tabpanel" class="tab-pane active">\n      <div class="kuiLocalDropdownTitle">Refresh Interval</div>\n      <div ng-repeat="list in refreshLists" class="kbn-refresh-section">\n        <ul class="list-unstyled">\n          <li ng-repeat="inter in list">\n            <a class="refresh-interval" ng-class="{ \'refresh-interval-active\': interval.value === inter.value }" ng-click="setRefreshInterval(inter)">\n              {{inter.display}}\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n'},702:function(module,exports){module.exports='<div ng-show="timefilter.enabled" data-shared-timefilter="{{timefilter.enabled}}" class="kuiLocalMenu" data-test-subj="globalTimepicker">\n  <div\n    class="kuiLocalMenuItem"\n    ng-click="toggleRefresh()"\n    ng-show="timefilter.refreshInterval.value > 0"\n  >\n    <span class="fa" ng-class="timefilter.refreshInterval.pause ? \'fa-play\' : \'fa-pause\'"></span>\n  </div>\n\n  <div\n    class="kuiLocalMenuItem navbar-timepicker-auto-refresh-desc"\n    ng-class="{\'kuiLocalMenuItem-isSelected\': kbnTopNav.isCurrent(\'interval\') }"\n    ng-show="timefilter.refreshInterval.value > 0 || kbnTopNav.isCurrent(\'interval\') || kbnTopNav.isCurrent(\'filter\')"\n    ng-click="kbnTopNav.toggle(\'interval\')"\n  >\n    <span ng-show="timefilter.refreshInterval.value === 0">\n      <span class="fa fa-repeat"></span> Auto-refresh\n    </span>\n    <span ng-show="timefilter.refreshInterval.value > 0">\n      {{timefilter.refreshInterval.display}}\n    </span>\n  </div>\n\n  <div class="kuiLocalMenuItem" ng-click="back()">\n    <span class="fa fa-chevron-left ng-scope" tooltip="Move backwards in time"></span>\n  </div>\n\n  <div\n    data-test-subj="globalTimepickerButton"\n    class="kuiLocalMenuItem navbar-timepicker-time-desc"\n    ng-class="{\'kuiLocalMenuItem-isSelected\': kbnTopNav.isCurrent(\'filter\')}"\n    ng-click="kbnTopNav.toggle(\'filter\')"\n    aria-haspopup="true"\n    aria-expanded="false"\n  >\n    <span aria-hidden="true" class="fa fa-clock-o"></span>\n    <pretty-duration\n      from="timefilter.time.from" to="timefilter.time.to"\n      data-test-subj="globalTimepickerRange"\n    ></pretty-duration>\n  </div>\n\n  <div class="kuiLocalMenuItem" ng-click="forward()">\n    <span class="fa fa-chevron-right ng-scope" tooltip="Move forwards in time"></span>\n  </div>\n</div>\n'},705:function(module,exports){module.exports='<span\n  tooltip="{{text}}"\n  tooltip-placement="{{placement}}"\n  tooltip-popup-delay="{{delay}}"\n  tooltip-append-to-body="{{appendToBody}}"\n  ng-transclude></span>'},706:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_RESULT__=function(require){__webpack_require__(11),__webpack_require__(2705);const chrome=__webpack_require__(2429);return __webpack_require__(2437).get("kibana",["ui.bootstrap","pascalprecht.translate"]).config(function($tooltipProvider){$tooltipProvider.setTriggers({mouseenter:"mouseleave click"})}).config(function($translateProvider){$translateProvider.translations("default",chrome.getTranslations()),$translateProvider.preferredLanguage("default"),$translateProvider.useSanitizeValueStrategy("escape")})}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},727:function(module,exports){module.exports='<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n'},728:function(module,exports){module.exports='<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>'},729:function(module,exports){module.exports='<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},730:function(module,exports){module.exports='<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n';
},731:function(module,exports){module.exports='<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n'},732:function(module,exports){module.exports='<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},733:function(module,exports){module.exports='<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n'},734:function(module,exports){module.exports='<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>'},735:function(module,exports){module.exports='<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>'},736:function(module,exports){module.exports='<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>'},737:function(module,exports){module.exports='<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n'},738:function(module,exports){module.exports='<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n'},739:function(module,exports){module.exports='<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n'},740:function(module,exports){module.exports='<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>'},741:function(module,exports){module.exports='<div class="progress" ng-transclude></div>'},742:function(module,exports){module.exports='<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>'},743:function(module,exports){module.exports='<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>'},744:function(module,exports){module.exports='<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n'},745:function(module,exports){module.exports='<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n'},746:function(module,exports){module.exports='<table>\n\t<tbody>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n\t\t\t\t<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td>:</td>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n\t\t\t\t<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n\t\t</tr>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t</tbody>\n</table>\n'},747:function(module,exports){module.exports='<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>'},748:function(module,exports){module.exports='<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n'},753:function(module,exports){module.exports='<div\n  ng-show="typeahead.isVisible()"\n  ng-mouseenter="typeahead.setMouseover(true);"\n  ng-mouseleave="typeahead.setMouseover(false);"\n  class="typeahead-items"\n  >\n\n  <div\n    ng-repeat="item in typeahead.getItems()"\n    ng-class="{active: item === typeahead.active}"\n    ng-click="typeahead.selectItem(item, $event);"\n    ng-mouseenter="typeahead.activateItem(item);"\n    class="typeahead-item"\n    >\n    {{item}}\n  </div>\n</div>\n'},757:function(module,exports){module.exports='<div ng-hide="!savedObject.id || savedObject.isSaving">\n  <div ng-hide="!savedObject.isTitleChanged() || savedObject.copyOnSave" class="kuiLocalDropdownWarning">\n    In previous versions of Kibana, changing the name of a {{savedObject.getDisplayName()}} would make a copy with the new name. Use the \'Save as a new {{savedObject.getDisplayName()}}\' checkbox to do this now.\n  </div>\n  <label>\n    <input\n      type="checkbox"\n      data-test-subj="saveAsNewCheckbox"\n      ng-model="savedObject.copyOnSave"\n      ng-checked="savedObject.copyOnSave"\n    >\n    Save as a new {{savedObject.getDisplayName()}}\n  </label>\n</div>\n'},768:function(module,exports){module.exports='<i aria-label="{{info}}" class="fa fa-info-circle"\n    tooltip="{{info}}"\n    tooltip-placement="{{placement}}"\n    tooltip-popup-delay="250"></i>'},771:function(module,exports){module.exports='<a\n  class="kuiLink"\n  ng-if="linkToTop"\n  ng-click="paginate.goToTop()"\n  data-test-subj="paginateControlsLinkToTop"\n>\n  Scroll to top\n</a>\n\n<div class="pagination-other-pages">\n  <ul class="pagination-other-pages-list pagination-sm" ng-if="page.count > 1">\n    <li ng-style="{\'visibility\':\'hidden\'}" ng-if="page.first">\n      <a ng-click="paginate.goToPage(page.prev)"></a>\n    </li>\n    <li ng-style="{\'visibility\':\'visible\'}" ng-if="!page.first">\n      <a ng-click="paginate.goToPage(page.prev)"></a>\n    </li>\n\n    <li ng-if="!otherPages.containsFirst">\n      <a ng-click="paginate.goToPage(1)">1...</a>\n    </li>\n\n    <li\n      ng-repeat="other in otherPages"\n      ng-class="{ active: other.number === page.number }">\n      <a ng-click="paginate.goToPage(other)">{{other.number}}</a>\n    </li>\n\n    <li ng-if="!otherPages.containsLast">\n      <a ng-click="paginate.goToPage(page.count)">...{{page.count}}</a>\n    </li>\n\n    <li ng-style="{\'visibility\':\'hidden\'}" ng-if="page.last">\n      <a ng-click="paginate.goToPage(page.next)"></a>\n    </li>\n    <li ng-style="{\'visibility\':\'visible\'}" ng-if="!page.last">\n      <a ng-click="paginate.goToPage(page.next)"></a>\n    </li>\n  </ul>\n</div>\n\n<form class="form-inline pagination-size" ng-if="showSelector">\n  <div class="form-group">\n    <label>Page Size</label>\n    <select\n      ng-model="paginate.perPage"\n      ng-options="opt.value as opt.title for opt in paginate.sizeOptions"\n      data-test-subj="paginateControlsPageSizeSelect"\n    >\n    </select>\n  </div>\n</form>\n'},773:function(module,exports){module.exports='<form\n  role="form"\n  class="kuiVerticalRhythm"\n>\n  <div class="kuiBar">\n    <div class="kuiBarSection">\n      <div class="kuiSearchInput fullWidth">\n        <div class="kuiSearchInput__icon kuiIcon fa-search"></div>\n        <input\n          class="kuiSearchInput__input"\n          input-focus\n          ng-model="query"\n          placeholder="Filter..."\n          class="form-control"\n          name="query"\n          type="text"\n          autocomplete="off"\n        >\n      </div>\n    </div>\n\n    <div class="kuiBarSection">\n      <p class="kuiText kuiSubduedText">\n        {{ (hits | filter: query).length }} of {{ hitCount }}\n      </p>\n    </div>\n  </div>\n</form>\n\n<paginate\n  list="hits | filter: query"\n  per-page="{{ perPage }}"\n  class="kuiVerticalRhythm"\n>\n  <ul class="li-striped list-group list-group-menu">\n    <li class="list-group-item" ng-click="sortHits(hits)">\n      <span class="paginate-heading">\n        Name\n        <i class="fa" ng-class="isAscending ? \'fa-caret-up\' : \'fa-caret-down\'"></i>\n      </span>\n    </li>\n\n    <li class="list-group-item list-group-menu-item" ng-repeat="hit in page">\n      <a ng-show="userMakeUrl" kbn-href="{{ makeUrl(hit) }}">\n        <span>{{ hit }}</span>\n      </a>\n\n      <div ng-show="userOnSelect" ng-click="onSelect(hit, $event)">\n        <span>{{ hit }}</span>\n      </div>\n    </li>\n\n    <li class="list-group-item list-group-no-results" ng-if="(hits | filter: query).length === 0">\n      <p>No matches found.</p>\n    </li>\n  </ul>\n</paginate>\n'},780:function(module,exports){module.exports='<td>\n  <div\n    data-cell-content\n    class="cell-hover"\n  >\n    <span class="table-cell-filter">\n      <span\n        ng-click="onFilterClick($event, false)"\n        class="fa fa-search-plus"\n        tooltip="Filter for value"\n        tooltip-append-to-body="1"\n      ></span>\n\n      <span\n        ng-click="onFilterClick($event, true)"\n        class="fa fa-search-minus"\n        tooltip="Filter out value"\n        tooltip-append-to-body="1"\n      ></span>\n    </span>\n  </div>\n</td>\n'},784:function(module,exports){module.exports='<form\n  role="form"\n  class="kuiVerticalRhythm"\n>\n  <div class="kuiBar">\n    <div class="kuiBarSection">\n      <div class="kuiSearchInput fullWidth">\n        <div class="kuiSearchInput__icon kuiIcon fa-search"></div>\n        <input\n          class="kuiSearchInput__input"\n          input-focus\n          ng-model="filter"\n          ng-attr-placeholder="{{ finder.properties.nouns | label }} Filter..."\n          ng-keydown="finder.filterKeyDown($event)"\n          name="filter"\n          type="text"\n          autocomplete="off"\n        >\n      </div>\n    </div>\n\n    <div class="kuiBarSection">\n      <p class="kuiText kuiSubduedText">\n        {{ finder.hitCount }} of {{ finder.hitCount }}\n      </p>\n\n      <div class="kuiButtonGroup">\n        <button\n          class="kuiButton kuiButton--basic"\n          ng-if="onAddNew"\n          ng-click="onAddNew()"\n          data-test-subj="addNewSavedObjectLink"\n        >\n          Add new {{ finder.properties.noun }}\n        </button>\n\n        <button\n          class="kuiButton kuiButton--basic"\n          ng-if="!useLocalManagement"\n          ng-click="finder.manageObjects(finder.properties.name)"\n        >\n          Manage {{ finder.properties.nouns }}\n        </button>\n      </div>\n    </div>\n  </div>\n</form>\n\n<paginate\n  list="finder.hits"\n  per-page="20"\n  class="kuiVerticalRhythm"\n>\n  <ul class="li-striped list-group list-group-menu" ng-class="{\'select-mode\': finder.selector.enabled}">\n    <li class="list-group-item" ng-click="finder.sortHits(finder.hits)">\n      <span class="paginate-heading">\n        Name\n        <span\n          class="fa"\n          ng-class="finder.isAscending ? \'fa-caret-up\' : \'fa-caret-down\'">\n        </span>\n      </span>\n    </li>\n    <li\n      class="list-group-item list-group-menu-item"\n      ng-class="{\'active\': finder.selector.index === $index && finder.selector.enabled}"\n      ng-repeat="hit in page"\n      ng-keydown="finder.hitKeyDown($event, page, paginate)"\n      ng-click="finder.onChoose(hit, $event)">\n\n      <a ng-href="{{finder.makeUrl(hit)}}"\n          ng-blur="finder.hitBlur($event)"\n          ng-click="finder.preventClick($event)">\n          <span aria-hidden="true" class="finder-type fa" ng-if="hit.icon" ng-class="hit.icon"></span>\n          <span>{{hit.title}}</span>\n          <p ng-if="hit.description" ng-bind="hit.description"></p>\n      </a>\n    </li>\n    <li\n      class="list-group-item list-group-no-results"\n      ng-if="finder.hits.length === 0">\n      <p ng-bind="\'No matching \' + finder.properties.nouns + \' found.\'"></p>\n    </li>\n  </ul>\n</paginate>\n'},928:function(module,exports){module.exports='<td ng-click="toggleRow()" data-test-subj="docTableExpandToggleColumn">\n  <i\n    class="fa discover-table-open-icon"\n    ng-class="{ \'fa-caret-down\': open, \'fa-caret-right\': !open }">\n  </i>\n</td>\n'},953:function(module,exports){module.exports='<div class="form-group">\n  <label for="field">\n    Field\n  </label>\n\n  <span class="pull-right text-warning hintbox-label" ng-show="aggParam.showAnalyzedWarning && agg.params.field.analyzed"\n      ng-click="showAnalyzedFieldWarning = !showAnalyzedFieldWarning">\n    <i class="fa fa-warning"></i> Analyzed Field\n  </span>\n  <div class="hintbox" ng-show="showAnalyzedFieldWarning && agg.params.field.analyzed">\n    <p>\n    <strong>Careful!</strong> The field selected contains analyzed strings. Analyzed strings are highly unique and can use a lot of memory to visualize. Values such as <i>foo-bar</i> will be broken into <i>foo</i> and <i>bar</i>. See <a href="http://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-types.html" target="_blank">Mapping Types</a> for more information on setting this field as <i>keyword</i> (not analyzed).\n    </p>\n\n    <p ng-show="indexedFields.byName[agg.params.field.name + \'.keyword\'].analyzed == false">\n      <strong>Tip:</strong> <i>{{agg.params.field.name + \'.keyword\'}}</i> may be a non analyzed version of this field.\n    </p>\n\n    <p ng-show="indexedFields.byName[agg.params.field.name + \'.raw\'].analyzed == false">\n      <strong>Tip:</strong> <i>{{agg.params.field.name + \'.raw\'}}</i> may be a non analyzed version of this field.\n    </p>\n  </div>\n\n  <select\n    class="form-control"\n    name="field"\n    required\n    ng-model="agg.params.field"\n    ng-show="indexedFields.length"\n    auto-select-if-only-one="indexedFields"\n    ng-options="field as field.displayName group by field.type for field in indexedFields"\n    ng-change="aggParam.onChange(agg)">\n  </select>\n\n  <div class="hintbox" ng-if="!indexedFields.length">\n    <p>\n      <i class="fa fa-danger text-danger"></i>\n      <strong>No Compatible Fields:</strong> The "{{ vis.indexPattern.id }}" index pattern does not contain any of the following field types: {{ agg.type.params.byName.field.filterFieldTypes | commaList:false }}\n    </p>\n  </div>\n\n</div>\n'},957:function(module,exports){module.exports='<div ng-if="!aggParam.disabled(agg)">\n  <div class="form-group regex">\n    <label>{{ aggParam.name | label }} Pattern</label>\n    <input\n      type="text"\n      class="form-control"\n      ng-model="agg.params[aggParam.name].pattern"\n    >\n  </div>\n</div>\n'},959:function(module,exports){module.exports='<div class="form-group">\n  <label>{{ aggParam.name | label }}</label>\n  <div>\n    <input type="text" ng-model="agg.params[aggParam.name]" class="form-control">\n  </div>\n</div>'},961:function(module,exports){module.exports='<div class="form-group regex">\n    <span class="hintbox-label" ng-click="showJsonHint = !showJsonHint">\n      <label>JSON Input</label>\n      <i class="fa fa-info-circle"></i>\n    </span>\n    <div class="hintbox" ng-show="showJsonHint">\n      <p>\n        Any JSON formatted properties you add here will be merged with the elasticsearch aggregation definition for this section. For example <i>shard_size</i> on a <i>terms</i> aggregation\n      </p>\n    </div>\n  <p>\n    <textarea\n      type="text"\n      class="form-control"\n      ng-model="agg.params.json"\n      validate-json\n      ></textarea>\n  </p>\n</div>\n'},970:function(module,exports){module.exports='<div class="form-group">\n  <label>Percents</label>\n  <kbn-number-list\n    ng-model="agg.params.percents"\n    unit-name="percent"\n    range="[0,100]"\n    >\n  </kbn-number-list>\n</div>\n'},974:function(module,exports){module.exports='<div\n  ng-repeat="value in numberListCntr.getList() track by $index"\n  class="form-group vis-editor-agg-form-row vis-editor-agg-form-row">\n\n  <input\n    ng-model="numberListCntr.getList()[$index]"\n    kbn-number-list-input\n    input-focus\n    class="form-control">\n\n  <button\n    ng-click="numberListCntr.remove($index, 1)"\n    class="btn btn-danger btn-xs"\n    type="button">\n    <i class="fa fa-times"></i>\n  </button>\n\n</div>\n\n<p ng-show="numberListCntr.invalidLength()" class="text-danger text-center">\n  You must specify at least one {{numberListCntr.getUnitName()}}\n</p>\n\n<p ng-show="numberListCntr.undefinedLength()" class="text-primary text-center">\n  <!-- be a bit more polite when the form is first init\'d -->\n  Please specify at least one {{numberListCntr.getUnitName()}}\n</p>\n\n<button\n  ng-click="numberListCntr.add()"\n  type="button"\n  class="sidebar-item-button primary">\n  <i class="fa fa-plus"></i> Add {{numberListCntr.getUnitName()}}\n</button>\n'},980:function(module,exports){module.exports='<div class="form-group">\n  <label for="sort">\n    Sort On\n  </label>\n\n  <select\n    class="form-control"\n    name="sortField"\n    required\n    ng-model="agg.params.sortField"\n    ng-show="sortFieldOptions.length"\n    auto-select-if-only-one="sortFieldOptions"\n    ng-options="field as field.displayName group by field.type for field in sortFieldOptions">\n  </select>\n</div>\n\n<div class="form-group">\n  <label>\n    Order\n  </label>\n\n  <select\n     name="sortOrder"\n     ng-model="agg.params.sortOrder"\n     required\n     ng-options="opt as opt.display for opt in aggParam.options track by opt.val"\n     class="form-control">\n  </select>\n</div>\n'},981:function(module,exports){module.exports='<div ng-controller="aggParam.controller" class="vis-editor-agg-form-row">\n  <div class="form-group">\n    <label>\n      Aggregate With\n      <kbn-info\n       info="Choose a strategy for combining multiple hits or a multi-valued field into a single metric."\n       placement="right">\n      </kbn-info>\n    </label>\n\n    <select\n      required\n      name="aggregate"\n      ng-model="agg.params.aggregate"\n      ng-options="opt as opt.display for opt in options| orderBy: \'display\' track by opt.val"\n      class="form-control"\n    ></select>\n  </div>\n  <div class="form-group">\n    <label>\n      Size\n      <kbn-info\n       info="Request top-K hits. Multiple hits will be combined via \'aggregate with\'."\n       placement="right">\n      </kbn-info>\n    </label>\n\n    <input\n       required\n       name="size"\n       ng-model="agg.params.size"\n       class="form-control"\n       type="number"\n       min="1"\n    ></input>\n  </div>\n</div>\n'},986:function(module,exports){module.exports='<div class="form-group">\n  <label>Values</label>\n  <kbn-number-list\n    ng-model="agg.params.values"\n    unit-name="value"\n    range="[-Infinity,Infinity]"\n    >\n  </kbn-number-list>\n</div>\n'},989:function(module,exports){module.exports='<div ng-controller="aggParam.controller">\n  <div class="form-group">\n    <label>Metric</label>\n    <select\n      name="metricAgg"\n      ng-model="agg.params.metricAgg"\n      agg="agg"\n      required\n      validate-agg\n      class="form-control">\n      <option\n        ng-repeat="respAgg in responseValueAggs track by respAgg.id"\n        value="{{respAgg.id}}"\n        ng-if="respAgg.type.name !== agg.type.name"\n        ng-disabled="isDisabledAgg(respAgg)"\n        ng-selected="agg.params.metricAgg === respAgg.id">\n        metric: {{safeMakeLabel(respAgg)}}\n      </option>\n      <option value="custom" ng-selected="agg.params.metricAgg === \'custom\'">\n        Custom Metric\n      </option>\n    </select>\n  </div>\n  <div ng-if="agg.params.metricAgg === \'custom\'" class="vis-editor-agg-order-agg">\n    <ng-form name="customMetricForm">\n      <vis-editor-agg-params\n        agg="agg.params.customMetric"\n        group-name="\'metrics\'">\n      </vis-editor-agg-params>\n    </ng-form>\n  </div>\n</div>\n'},992:function(module,exports){module.exports='<div class="form-group">\n  <div class="btn-group">\n    <button\n      type="button"\n      class="btn btn-xs btn-default"\n      ng-model="agg.params.row"\n      btn-radio="true">\n      Rows\n    </button>\n    <button\n      type="button"\n      class="btn btn-xs btn-default"\n      ng-model="agg.params.row"\n      btn-radio="false">\n      Columns\n    </button>\n  </div>\n</div>'},993:function(module,exports){module.exports='<div>\n  <label>\n    Dot Size Ratio:\n    <kbn-info\n      placement="right"\n      info="Change the ratio of the radius of the smallest point to the largest point.">\n    </kbn-info>\n  </label>\n  <input type="range" step="2" min="1" max="100" class="form-control" ng-model="vis.params.radiusRatio" />\n</div>\n'},1002:function(module,exports,__webpack_require__){/**
	 * This script gives you the zone info key representing your device's time zone setting.
	 *
	 * @name jsTimezoneDetect
	 * @version 1.0.5
	 * @author Jon Nylander
	 * @license MIT License - http://www.opensource.org/licenses/mit-license.php
	 *
	 * For usage and examples, visit:
	 * http://pellepim.bitbucket.org/jstz/
	 *
	 * Copyright (c) Jon Nylander
	 */
!function(root){var jstz=function(){"use strict";var HEMISPHERE_SOUTH="s",get_date_offset=function(date){var offset=-date.getTimezoneOffset();return null!==offset?offset:0},get_date=function(year,month,date){var d=new Date;return void 0!==year&&d.setFullYear(year),d.setMonth(month),d.setDate(date),d},get_january_offset=function(year){return get_date_offset(get_date(year,0,2))},get_june_offset=function(year){return get_date_offset(get_date(year,5,2))},date_is_dst=function(date){var is_southern=date.getMonth()>7,base_offset=is_southern?get_june_offset(date.getFullYear()):get_january_offset(date.getFullYear()),date_offset=get_date_offset(date),is_west=base_offset<0,dst_offset=base_offset-date_offset;return is_west||is_southern?0!==dst_offset:dst_offset<0},lookup_key=function(){var january_offset=get_january_offset(),june_offset=get_june_offset(),diff=january_offset-june_offset;return diff<0?january_offset+",1":diff>0?june_offset+",1,"+HEMISPHERE_SOUTH:january_offset+",0"},determine=function(){var key=lookup_key();return new jstz.TimeZone(jstz.olson.timezones[key])},dst_start_for=function(tz_name){var ru_pre_dst_change=new Date(2010,6,15,1,0,0,0),dst_starts={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,2,10,7,0,0,0),"Europe/Helsinki":new Date(2013,2,31,5,0,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":ru_pre_dst_change,"Asia/Amman":new Date(2013,2,29,1,0,0,0),"Asia/Beirut":new Date(2013,2,31,2,0,0,0),"Asia/Damascus":new Date(2013,3,6,2,0,0,0),"Asia/Jerusalem":new Date(2013,2,29,5,0,0,0),"Asia/Yekaterinburg":ru_pre_dst_change,"Asia/Omsk":ru_pre_dst_change,"Asia/Krasnoyarsk":ru_pre_dst_change,"Asia/Irkutsk":ru_pre_dst_change,"Asia/Yakutsk":ru_pre_dst_change,"Asia/Vladivostok":ru_pre_dst_change,"Asia/Baku":new Date(2013,2,31,4,0,0),"Asia/Yerevan":new Date(2013,2,31,3,0,0),"Asia/Kamchatka":ru_pre_dst_change,"Asia/Gaza":new Date(2010,2,27,4,0,0),"Africa/Cairo":new Date(2010,4,1,3,0,0),"Europe/Minsk":ru_pre_dst_change,"Pacific/Apia":new Date(2010,10,1,1,0,0,0),"Pacific/Fiji":new Date(2010,11,1,0,0,0),"Australia/Perth":new Date(2008,10,1,1,0,0,0)};return dst_starts[tz_name]};return{determine:determine,date_is_dst:date_is_dst,dst_start_for:dst_start_for}}();jstz.TimeZone=function(tz_name){"use strict";var AMBIGUITIES={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Asia/Beirut","Europe/Helsinki","Asia/Damascus"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Tarawa":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk"],"Asia/Baku":["Asia/Yerevan","Asia/Baku"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]},timezone_name=tz_name,ambiguity_check=function(){for(var ambiguity_list=AMBIGUITIES[timezone_name],length=ambiguity_list.length,i=0,tz=ambiguity_list[0];i<length;i+=1)if(tz=ambiguity_list[i],jstz.date_is_dst(jstz.dst_start_for(tz)))return void(timezone_name=tz)},is_ambiguous=function(){return"undefined"!=typeof AMBIGUITIES[timezone_name]};return is_ambiguous()&&ambiguity_check(),{name:function(){return timezone_name}}},jstz.olson={},jstz.olson.timezones={"-720,0":"Pacific/Majuro","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},exports.jstz=jstz}(this)},1010:function(module,exports){module.exports='<div class="form-group">\n  <label>\n    Interval\n    <kbn-info\n      ng-show="agg.buckets.getInterval().scaled"\n      placement="right"\n      class="text-warning"\n      info="This interval creates {{ agg.buckets.getInterval().scale > 1 ? \'buckets that are too large\' : \'too many buckets\' }} to show in the selected time range, so it has been scaled to {{ agg.buckets.getInterval().description }}">\n    </kbn-info>\n  </label>\n  <select\n    ng-if="aggParam.options"\n    ng-model="agg.params.interval"\n    ng-change="agg.write()"\n    required\n    ng-options="opt as opt.display for opt in aggParam.options.raw | filter: optionEnabled"\n    class="form-control"\n    name="interval">\n    <option value="">-- select a valid interval --</option>\n  </select>\n  <input\n    type="text"\n    name="customInterval"\n    ng-model="agg.params.customInterval"\n    validate-date-interval\n    ng-change="aggForm.customInterval.$valid && agg.write()"\n    ng-if="agg.params.interval.val == \'custom\'"\n    class="form-control"\n    required />\n  <input\n    ng-if="!aggParam.options"\n    ng-model="agg.params.interval"\n    required\n    type="number"\n    class="form-control"\n    name="interval"\n    min="0"\n    input-number\n    >\n</div>\n'},1013:function(module,exports){module.exports='<div class="checkbox ng-scope">\n  <label>\n    <input ng-model="agg.params.min_doc_count" type="checkbox">\n    Show empty buckets&nbsp;\n    <kbn-info\n      info="Show all buckets, not only the buckets with results."\n      placement="right">\n      </kbn-info>\n  </label>\n</div>'},1014:function(module,exports){module.exports='<div ng-if="aggParam.shouldShow(agg)">\n  <div>\n    <label>Extended Bounds</label>\n    <kbn-info info="Min and Max do not filter the results, but rather extend the bounds of the result set."></kbn-info>\n  </div>\n  <div class="vis-editor-agg-form-row">\n    <div class="form-group">\n      <div>Min <small>(optional)</small></div>\n      <input\n        ng-model="agg.params.extended_bounds.min"\n        type="number"\n        class="form-control"\n        name="extended_bounds.min" />\n    </div>\n    <div class="form-group">\n      <div>Max <small>(optional)</small></div>\n      <input\n        ng-model="agg.params.extended_bounds.max"\n        type="number"\n        class="form-control"\n        name="extended_bounds.max" />\n    </div>\n  </div>\n</div>'},1018:function(module,exports){module.exports='<table class="vis-editor-agg-editor-ranges form-group" ng-show="agg.params.ranges.length">\n  <tr>\n    <th>\n      <label>From</label>\n    </th>\n    <th colspan="2">\n      <label>To</label>\n    </th>\n  </tr>\n\n  <tr\n    ng-repeat="range in agg.params.ranges track by $index">\n    <td>\n      <input\n        ng-model="range.from"\n        type="number"\n        class="form-control"\n        name="range.from"\n        step="any" />\n    </td>\n    <td>\n      <input\n        ng-model="range.to"\n        type="number"\n        class="form-control"\n        name="range.to"\n        step="any" />\n    </td>\n    <td>\n      <button\n        type="button"\n        ng-click="agg.params.ranges.splice($index, 1)"\n        class="btn btn-danger btn-xs">\n        <i class="fa fa-times"></i>\n      </button>\n    </td>\n  </tr>\n</table>\n\n<input ng-model="agg.params.ranges.length" name="rangeLength" required min="1" type="number" class="ng-hide" />\n<div class="hintbox" ng-show="aggForm.rangeLength.$invalid">\n  <p>\n    <i class="fa fa-danger text-danger"></i>\n    <strong>Required:</strong> You must specify at least one range.\n  </p>\n</div>\n\n<div\n  ng-click="agg.params.ranges.push({})"\n  class="sidebar-item-button primary">\n  Add Range\n</div>'},1022:function(module,exports){module.exports='<div>\n    <table class="vis-editor-agg-editor-ranges form-group" ng-show="agg.params.ranges.length">\n      <tr>\n        <th>\n          <label>From</label>\n        </th>\n        <th colspan="2">\n          <label>To</label>\n        </th>\n      </tr>\n\n      <tr\n        ng-repeat="range in agg.params.ranges track by $index">\n        <td class="kbn-timepicker">\n          <input\n            ng-model="range.from"\n            validate-date-math\n            type="text"\n            class="form-control"\n            name="range.from" />\n        </td>\n        <td class="kbn-timepicker">\n          <input\n            ng-model="range.to"\n            validate-date-math\n            class="form-control"\n            name="range.to" />\n        </td>\n        <td>\n          <button\n            type="button"\n            ng-click="agg.params.ranges.splice($index, 1)"\n            class="btn btn-danger btn-xs">\n            <i class="fa fa-times" ></i>\n          </button>\n        </td>\n      </tr>\n      <tr>\n        <td colspan="3">\n          <small>\n            <a target="_window" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-date-format.html#date-math">Accepted Date Formats <i class="fa-link fa"></i></a>\n          </small>\n        </td>\n      </tr>\n    </table>\n\n    <input ng-model="agg.params.ranges.length" name="rangeLength" required min="1" type="number" class="ng-hide" />\n    <div class="hintbox" ng-show="aggForm.rangeLength.$invalid">\n      <p>\n        <i class="fa fa-danger text-danger"></i>\n        <strong>Required:</strong> You must specify at least one date range.\n      </p>\n    </div>\n\n    <div\n      ng-click="agg.params.ranges.push({})"\n      class="sidebar-item-button primary">\n      Add Range\n    </div>\n  </div>\n</div>\n'},1025:function(module,exports){module.exports='<div>\n  <p>\n    <button type="button" class="btn btn-default" ng-show="agg.params.ipRangeType == \'mask\'" ng-click="agg.params.ipRangeType = \'fromTo\'">Use From/To</button>\n    <button type="button" class="btn btn-default" ng-show="agg.params.ipRangeType != \'mask\'" ng-click="agg.params.ipRangeType = \'mask\'">Use CIDR Masks</button>\n  </p>\n\n  <div ng-show="agg.params.ipRangeType != \'mask\'">\n    <table class="vis-editor-agg-editor-ranges form-group" ng-show="agg.params.ranges.fromTo.length">\n      <tr>\n        <th>\n          <label>From</label>\n        </th>\n        <th colspan="2">\n          <label>To</label>\n        </th>\n      </tr>\n\n      <tr\n        ng-repeat="range in agg.params.ranges.fromTo track by $index">\n        <td>\n          <input\n            validate-ip\n            ng-model="range.from"\n            type="text"\n            class="form-control"\n            name="range.from" />\n        </td>\n        <td>\n          <input\n            validate-ip\n            ng-model="range.to"\n            class="form-control"\n            name="range.to" />\n        </td>\n        <td>\n          <button\n            type="button"\n            ng-click="agg.params.ranges.fromTo.splice($index, 1)"\n            class="btn btn-danger btn-xs">\n            <i class="fa fa-times" ></i>\n          </button>\n        </td>\n      </tr>\n    </table>\n\n    <input ng-if="agg.params.ipRangeType != \'mask\'" ng-model="agg.params.ranges.fromTo.length" name="rangeLength" required min="1" type="number" class="ng-hide" />\n    <div class="hintbox" ng-show="aggForm.rangeLength.$invalid">\n      <p>\n        <i class="fa fa-danger text-danger"></i>\n        <strong>Required:</strong> You must specify at least one IP range.\n      </p>\n    </div>\n\n    <div\n      ng-click="agg.params.ranges.fromTo.push({})"\n      class="sidebar-item-button primary">\n      Add Range\n    </div>\n  </div>\n\n  <div ng-show="agg.params.ipRangeType == \'mask\'">\n    <table class="vis-editor-agg-editor-ranges form-group" ng-show="agg.params.ranges.mask.length">\n      <tr>\n        <th>\n          <label>Mask</label>\n        </th>\n      </tr>\n\n      <tr\n        ng-repeat="range in agg.params.ranges.mask track by $index">\n        <td>\n          <input\n            validate-cidr-mask\n            ng-model="range.mask"\n            type="text"\n            class="form-control"\n            name="range.from" />\n        </td>\n        <td>\n          <button\n            type="button"\n            ng-click="agg.params.ranges.mask.splice($index, 1)"\n            class="btn btn-danger btn-xs">\n            <i class="fa fa-times" ></i>\n          </button>\n        </td>\n      </tr>\n    </table>\n\n    <input ng-if="agg.params.ipRangeType == \'mask\'" ng-model="agg.params.ranges.mask.length" name="rangeLength" required min="1" type="number" class="ng-hide" />\n    <div class="hintbox" ng-show="aggForm.rangeLength.$invalid">\n      <p>\n        <i class="fa fa-danger text-danger"></i>\n        <strong>Required:</strong> You must specify at least one IP range.\n      </p>\n    </div>\n\n    <div\n      ng-click="agg.params.ranges.mask.push({})"\n      class="sidebar-item-button primary">\n      Add Range\n    </div>\n  </div>\n</div>\n'},1028:function(module,exports){module.exports='<div ng-controller="aggParam.controller">\n  <div class="form-group">\n    <label>Order By</label>\n    <select\n      name="orderBy"\n      ng-model="agg.params.orderBy"\n      required\n      class="form-control">\n      <option\n        ng-repeat="respAgg in responseValueAggs track by respAgg.id"\n        value="{{respAgg.id}}"\n        ng-disabled="rejectAgg(respAgg)"\n        ng-selected="agg.params.orderBy === respAgg.id">\n        metric: {{safeMakeLabel(respAgg)}}\n      </option>\n      <option value="custom" ng-selected="agg.params.orderBy === \'custom\'">\n        Custom Metric\n      </option>\n       <option value="_term" ng-selected="agg.params.orderBy === \'_term\'">\n        Term\n      </option>\n    </select>\n  </div>\n  <div ng-show="agg.params.orderAgg" class="vis-editor-agg-order-agg">\n    <vis-editor-agg-params\n      agg="agg.params.orderAgg"\n      ng-if="agg.params.orderAgg"\n      group-name="\'metrics\'">\n    </vis-editor-agg-params>\n  </div>\n</div>\n'},1029:function(module,exports){module.exports='<div class="vis-editor-agg-form-row">\n  <div ng-if="agg.type.params.byName.order" class="form-group">\n    <label>Order</label>\n    <select\n      name="order"\n      ng-model="agg.params.order"\n      required\n      ng-options="opt as opt.display for opt in aggParam.options"\n      class="form-control">\n    </select>\n  </div>\n  <div class="form-group">\n    <label>Size</label>\n    <input\n      name="size"\n      ng-model="agg.params.size"\n      required\n      class="form-control"\n      type="number"\n      min="1"\n    >\n  </div>\n</div>\n'},1034:function(module,exports){module.exports='<div class="form-group">\n  <div ng-repeat="filter in agg.params.filters">\n    <div class="vis-editor-agg-header">\n      <label>\n          Filter {{$index + 1}}\n          <span ng-if="filter.label">- {{ filter.label }}</span>\n      </label>\n\n      <div class="btn-group">\n        <button\n          ng-click="showConfig = !showConfig"\n          type="button"\n          class="btn btn-default btn-xs">\n          <i class="fa fa-tag"></i>\n        </button>\n        <button\n          type="button"\n          ng-click="agg.params.filters.splice($index, 1)"\n          class="btn btn-danger btn-xs">\n          <i class="fa fa-times"></i>\n        </button>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <input\n        parse-query\n        ng-model="filter.input.query"\n        type="text"\n        class="form-control"\n        name="filter{{$index}}">\n    </div>\n\n    <div class="form-group" ng-show="showConfig">\n      <label>Filter {{$index + 1}} label</label>\n      <input\n        ng-model="filter.label"\n        placeholder="Label"\n        type="text"\n        class="form-control"\n        name="label{{$index}}">\n    </div>\n  </div>\n</div>\n\n<input ng-model="agg.params.filters.length" name="filterLength" required min="1" type="number" class="ng-hide" />\n<div class="hintbox" ng-show="aggForm.filterLength.$invalid">\n  <p>\n    <i class="fa fa-danger text-danger"></i>\n    <strong>Required:</strong> You must specify at least one filter.\n  </p>\n</div>\n\n<div\n  click-focus="\'filter\'+(agg.params.filters.length-1)"\n  ng-click="agg.params.filters.push({input:{}})"\n  class="sidebar-item-button primary">\n  Add Filter\n</div>\n'},1037:function(module,exports){module.exports='<div class="vis-editor-agg-form-row" ng-controller="agg.type.params.byName.precision.controller">\n  <div ng-if="!agg.params.autoPrecision" class="form-group">\n    <label>Precision</label>\n    <div class="vis-editor-agg-form-row">\n      <input\n        name="precision"\n        ng-model="agg.params.precision"\n        required\n        class="form-control"\n        type="range"\n        min="1"\n        max="{{config.get(\'visualization:tileMap:maxPrecision\')}}"\n        >\n      <div class="form-group vis-editor-agg-form-value">\n        {{agg.params.precision}}\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="vis-option-item indented">\n  <label>\n    <input type="checkbox"\n    name="autoPrecision"\n    ng-model="agg.params.autoPrecision">\n    Change precision on map zoom\n  </label>\n</div>\n\n<div class="vis-option-item indented">\n  <label>\n    <input type="checkbox"\n           name="useGeocentroid"\n           ng-model="agg.params.useGeocentroid">\n    Place markers off grid (use geocentroid)\n  </label>\n</div>\n\n'},1043:function(module,exports){module.exports='<div ng-controller="aggParam.controller">\n  <div class="form-group" ng-if="agg.params[aggType]">\n    <label>{{aggTitle}}</label>\n    <div class="vis-editor-agg-order-agg">\n      <ng-form name="{{aggType}}Form">\n        <vis-editor-agg-params\n          agg="agg.params[aggType]"\n          group-name="\'{{aggGroup}}\'">\n        </vis-editor-agg-params>\n      </ng-form>\n    </div>\n  </div>\n\n</div>\n'},2546:function(module,exports,__webpack_require__){"use strict";__webpack_require__(2547),__webpack_require__(2732),__webpack_require__(2763),__webpack_require__(2774)},2547:function(module,exports,__webpack_require__){"use strict";__webpack_require__(11),__webpack_require__(2429),__webpack_require__(2471),__webpack_require__(2548),__webpack_require__(2554),__webpack_require__(2480),__webpack_require__(2555),__webpack_require__(2630),__webpack_require__(2631),__webpack_require__(2632),__webpack_require__(2556),__webpack_require__(2465),__webpack_require__(2633),__webpack_require__(2635),__webpack_require__(2660),__webpack_require__(2557),__webpack_require__(2662),__webpack_require__(2490),__webpack_require__(2663),__webpack_require__(2666),__webpack_require__(2495),__webpack_require__(2496),__webpack_require__(2667),__webpack_require__(2510),__webpack_require__(2440),__webpack_require__(2497),__webpack_require__(2671),__webpack_require__(2692),__webpack_require__(2439),__webpack_require__(2693),__webpack_require__(2704),__webpack_require__(2725),__webpack_require__(2506),__webpack_require__(2729),__webpack_require__(2500),__webpack_require__(2731)},2548:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular);__webpack_require__(2500),__webpack_require__(2549);var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_kbn_top_nav=__webpack_require__(503),_kbn_top_nav2=_interopRequireDefault(_kbn_top_nav),_kbn_top_nav_controller=__webpack_require__(2550),_kbn_top_nav_controller2=_interopRequireDefault(_kbn_top_nav_controller),_navbar_extensions=__webpack_require__(2551),_navbar_extensions2=_interopRequireDefault(_navbar_extensions);__webpack_require__(2552);var _module=_modules2["default"].get("kibana");_module.directive("kbnTopNav",function(Private){var KbnTopNavController=Private(_kbn_top_nav_controller2["default"]),navbarExtensions=Private(_navbar_extensions2["default"]),getNavbarExtensions=_lodash2["default"].memoize(function(name){if(!name)throw new Error("navbar directive requires a name attribute");return _lodash2["default"].sortBy(navbarExtensions.byAppName[name],"order")});return{restrict:"E",transclude:!0,template:_kbn_top_nav2["default"],controller:function($scope,$attrs,$element,$transclude){function initTopNav(newConfig,oldConfig){_lodash2["default"].isEqual(oldConfig,newConfig)||(newConfig instanceof KbnTopNavController?(newConfig.addItems(extensions),$scope.kbnTopNav=new KbnTopNavController(newConfig)):(newConfig=newConfig.concat(extensions),$scope.kbnTopNav=new KbnTopNavController(newConfig)),$scope.kbnTopNav._link($scope,$element))}$scope.transcludes={},$transclude(function(clone){var transcludedContentContainer=_lodash2["default"].find(clone,function(item){if(item.attributes)return _lodash2["default"].find(item.attributes,function(attr){return attr.name.indexOf("data-transclude-slots")!==-1})});if(transcludedContentContainer){var transcludedContent=transcludedContentContainer.children;_lodash2["default"].forEach(transcludedContent,function(transcludedItem){var transclusionSlot=transcludedItem.getAttribute("data-transclude-slot");$scope.transcludes[transclusionSlot]=transcludedItem})}});var extensions=getNavbarExtensions($attrs.name),getTopNavConfig=function(){return _lodash2["default"].get($scope,$attrs.config,[])},topNavConfig=getTopNavConfig();return topNavConfig instanceof KbnTopNavController||$scope.$watch(getTopNavConfig,initTopNav,!0),initTopNav(topNavConfig,null),$scope.kbnTopNav},link:function(scope){var transclusionSlotNames=["topLeftCorner","bottomRow"];transclusionSlotNames.forEach(function(name){var transcludedItem=scope.transcludes[name];if(transcludedItem){var transclusionSlot=document.querySelector('[data-transclude-slot="'+name+'"]');_angular2["default"].element(transclusionSlot).replaceWith(transcludedItem)}})}}})},2549:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("kibana");_module.directive("inputFocus",function($timeout){return{restrict:"A",link:function($scope,$elem,attrs){$timeout(function(){$elem.focus(),"select"===attrs.inputFocus&&$elem.select()})}}})},2550:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports["default"]=function($compile){return function(){function KbnTopNavController(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _classCallCheck(this,KbnTopNavController),opts instanceof KbnTopNavController?opts:(this.opts=[],this.menuItems=[],this.currentKey=null,this.templates={interval:_interval2["default"],filter:_filter2["default"]},this.locals=new Map,void this.addItems(opts))}return _createClass(KbnTopNavController,[{key:"isVisible",value:function(){return _chrome2["default"].getVisible()}},{key:"addItems",value:function(rawOpts){var _this=this;(0,_lodash.isArray)(rawOpts)||(rawOpts=[rawOpts]),rawOpts.forEach(function(rawOpt){var opt=_this._applyOptDefault(rawOpt);if(!opt.key)throw new TypeError("KbnTopNav: menu items must have a key");_this.opts.push(opt),opt.hideButton()||_this.menuItems.push(opt),opt.template&&(_this.templates[opt.key]=opt.template),opt.locals&&_this.locals.set(opt.key,opt.locals)})}},{key:"setCurrent",value:function(key){if(key&&!this.templates.hasOwnProperty(key))throw new TypeError('KbnTopNav: unknown template key "'+key+'"');this.currentKey=key||null,this._render()}},{key:"getCurrent",value:function(){return this.currentKey}},{key:"isCurrent",value:function(key){return this.getCurrent()===key}},{key:"open",value:function(key){this.setCurrent(key)}},{key:"close",value:function(key){(!key||this.isCurrent(key))&&this.setCurrent(null)}},{key:"toggle",value:function(key){this.setCurrent(this.isCurrent(key)?null:key)}},{key:"click",value:function(key){this.handleClick(this.getItem(key))}},{key:"getItem",value:function(key){return this.menuItems.find(function(i){return i.key===key})}},{key:"handleClick",value:function(menuItem){return!menuItem.disableButton()&&void menuItem.run(menuItem,this)}},{key:"_applyOptDefault",value:function(){var _this2=this,opt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},defaultedOpt=Object.assign({label:(0,_lodash.capitalize)(opt.key),hasFunction:!!opt.run,description:opt.run?opt.key:"Toggle "+opt.key+" view",run:function(item){return _this2.toggle(item.key)}},opt);return defaultedOpt.hideButton=(0,_lodash.isFunction)(opt.hideButton)?opt.hideButton:function(){return!!opt.hideButton},defaultedOpt.disableButton=(0,_lodash.isFunction)(opt.disableButton)?opt.disableButton:function(){return!!opt.disableButton},defaultedOpt.tooltip=(0,_lodash.isFunction)(opt.tooltip)?opt.tooltip:function(){return opt.tooltip},defaultedOpt}},{key:"_link",value:function($scope,$element){this.$scope=$scope,this.$element=$element,this._render()}},{key:"_render",value:function(){var $scope=this.$scope,$element=this.$element,rendered=this.rendered,currentKey=this.currentKey,templateToRender=currentKey&&this.templates[currentKey];if(rendered){if(rendered.key===currentKey)return;rendered.$childScope.$destroy(),rendered.$el.remove(),this.rendered=null}if(templateToRender&&$scope&&$element){var $childScope=$scope.$new();this.locals.has(currentKey)&&Object.assign($childScope,this.locals.get(currentKey));var $el=$element.find("#template_wrapper").html(templateToRender).contents();$compile($el)($childScope),this.rendered={$childScope:$childScope,$el:$el,key:currentKey}}}}]),KbnTopNavController}()};var _lodash=__webpack_require__(2),_chrome=__webpack_require__(2429),_chrome2=_interopRequireDefault(_chrome),_filter=__webpack_require__(505),_filter2=_interopRequireDefault(_filter),_interval=__webpack_require__(506),_interval2=_interopRequireDefault(_interval);module.exports=exports["default"]},2551:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _registry=__webpack_require__(2533),_registry2=_interopRequireDefault(_registry);exports["default"]=(0,_registry2["default"])({name:"navbarExtensions",index:["name"],group:["appName"],order:["order"]}),module.exports=exports["default"]},2552:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_chrome=__webpack_require__(2429),_chrome2=_interopRequireDefault(_chrome),_bread_crumbs=__webpack_require__(509),_bread_crumbs2=_interopRequireDefault(_bread_crumbs),_bread_crumb_urls=__webpack_require__(2553),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("kibana");_module.directive("breadCrumbs",function($location){return{restrict:"E",replace:!0,scope:{omitCurrentPage:"=",omitPages:"=",pageTitle:"=",useLinks:"="},template:_bread_crumbs2["default"],controller:function($scope){var breadcrumbs=_chrome2["default"].getBreadcrumbs();if($scope.useLinks){var url="#"+$location.path();$scope.breadcrumbs=(0,_bread_crumb_urls.getBreadCrumbUrls)(breadcrumbs,url)}else $scope.breadcrumbs=breadcrumbs.map(function(path){return{path:path,title:_lodash2["default"].startCase(path)}});$scope.omitCurrentPage===!0&&$scope.breadcrumbs.pop()}}})},2553:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function getBreadCrumbUrls(breadcrumbs,url){var urlBase=url.replace(/\/+$/,"").replace(breadcrumbs.join("/"),"");return breadcrumbs.map(function(path,index){return{path:path,title:_lodash2["default"].startCase(path),url:urlBase+breadcrumbs.slice(0,index+1).join("/")}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBreadCrumbUrls=getBreadCrumbUrls;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash)},2554:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function BoundToConfigObjProvider(config){function BoundToConfigObj(input){var self=this;_lodash2["default"].forOwn(input,function(value,prop){if(!_lodash2["default"].isString(value)||"="!==value.charAt(0))return void(self[prop]=value);var configKey=value.substr(1);config.watch(configKey,function(value){self[prop]=value})})}return BoundToConfigObj}Object.defineProperty(exports,"__esModule",{
value:!0}),exports["default"]=BoundToConfigObjProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);module.exports=exports["default"]},2555:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(2556),__webpack_require__(2496),__webpack_require__(2557);var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_notifier=__webpack_require__(2466),_notifier2=_interopRequireDefault(_notifier),_doc_source=__webpack_require__(2611),_doc_source2=_interopRequireDefault(_doc_source),_search_source=__webpack_require__(2614),_search_source2=_interopRequireDefault(_search_source),_search=__webpack_require__(2618),_search2=_interopRequireDefault(_search),_request_queue=__webpack_require__(2576),_request_queue2=_interopRequireDefault(_request_queue),_fetch=__webpack_require__(2577),_fetch2=_interopRequireDefault(_fetch),_doc_data=__webpack_require__(2622),_doc_data2=_interopRequireDefault(_doc_data),_doc_admin=__webpack_require__(2624),_doc_admin2=_interopRequireDefault(_doc_admin),_search3=__webpack_require__(2625),_search4=_interopRequireDefault(_search3),_root_search_source=__webpack_require__(2616),_root_search_source2=_interopRequireDefault(_root_search_source),_saved_object=__webpack_require__(2626),_saved_object2=_interopRequireDefault(_saved_object),_redirect_when_missing=__webpack_require__(2629),_redirect_when_missing2=_interopRequireDefault(_redirect_when_missing);_modules2["default"].get("kibana/courier").service("courier",function($rootScope,Private,Promise,indexPatterns){function Courier(){var self=this,DocSource=Private(_doc_source2["default"]),SearchSource=Private(_search_source2["default"]),searchStrategy=Private(_search2["default"]),requestQueue=Private(_request_queue2["default"]),fetch=Private(_fetch2["default"]),docDataLooper=self.docLooper=Private(_doc_data2["default"]),docAdminLooper=self.docLooper=Private(_doc_admin2["default"]),searchLooper=self.searchLooper=Private(_search4["default"]);self.setRootSearchSource=Private(_root_search_source2["default"]).set,self.SavedObject=Private(_saved_object2["default"]),self.indexPatterns=indexPatterns,self.redirectWhenMissing=Private(_redirect_when_missing2["default"]),self.DocSource=DocSource,self.SearchSource=SearchSource,self.fetchInterval=function(ms){return searchLooper.ms(ms),this},self.start=function(){return searchLooper.start(),docDataLooper.start(),docAdminLooper.start(),this},self.fetch=function(){fetch.fetchQueued(searchStrategy).then(function(){searchLooper.restart()})},self.started=function(){return searchLooper.started()},self.stop=function(){return searchLooper.stop(),this},self.createSource=function(type){switch(type){case"doc":return new DocSource;case"search":return new SearchSource}},self.close=function(){if(searchLooper.stop(),docAdminLooper.stop(),docDataLooper.stop(),_lodash2["default"].invoke(requestQueue,"abort"),requestQueue.length)throw new Error("Aborting all pending requests failed.")},$rootScope.$watchCollection("timefilter.refreshInterval",function(){var refreshValue=_lodash2["default"].get($rootScope,"timefilter.refreshInterval.value"),refreshPause=_lodash2["default"].get($rootScope,"timefilter.refreshInterval.pause");_lodash2["default"].isNumber(refreshValue)&&!refreshPause?self.fetchInterval(refreshValue):self.fetchInterval(0)});var onFatalDefer=Promise.defer();onFatalDefer.promise.then(self.close),_notifier2["default"].fatalCallbacks.push(onFatalDefer.resolve)}return new Courier})},2556:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}__webpack_require__(514);var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),plugins=[function(Client,config){var CustomAngularConnector=function(_config$connectionCla){function CustomAngularConnector(){var _ref,_temp,_this,_ret;_classCallCheck(this,CustomAngularConnector);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=CustomAngularConnector.__proto__||Object.getPrototypeOf(CustomAngularConnector)).call.apply(_ref,[this].concat(args))),_this.request=_lodash2["default"].wrap(_this.request,function(request,params,cb){return"GET"===String(params.method).toUpperCase()&&(params.query=_lodash2["default"].defaults({_:Date.now()},params.query)),request.call(this,params,cb)}),_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(CustomAngularConnector,_config$connectionCla),CustomAngularConnector}(config.connectionClass);config.connectionClass=CustomAngularConnector}];_modules2["default"].get("kibana",["elasticsearch","kibana/config"]).service("es",function(esFactory,esUrl,esApiVersion,esRequestTimeout){return esFactory({host:esUrl,log:"info",requestTimeout:esRequestTimeout,apiVersion:esApiVersion,plugins:plugins})}).service("esAdmin",function(esFactory,esAdminUrl,esApiVersion,esRequestTimeout){return esFactory({host:esAdminUrl,log:"info",requestTimeout:esRequestTimeout,apiVersion:esApiVersion,plugins:plugins})})},2557:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function IndexPatternsProvider(esAdmin,Notifier,Private,Promise,kbnIndex){var self=this,IndexPattern=Private(_index_pattern2["default"]),patternCache=Private(_pattern_cache2["default"]);self.get=function(id){if(!id)return self.make();var cache=patternCache.get(id);return cache||patternCache.set(id,self.make(id))},self.make=function(id){return new IndexPattern(id).init()},self["delete"]=function(pattern){return self.getIds.clearCache(),pattern.destroy(),esAdmin["delete"]({index:kbnIndex,type:"index-pattern",id:pattern.id})},self.errors={MissingIndices:_errors.IndexPatternMissingIndices},self.cache=patternCache,self.getIds=Private(_get_ids2["default"]),self.intervals=Private(_intervals2["default"]),self.mapper=Private(_mapper2["default"]),self.patternToWildcard=Private(_pattern_to_wildcard2["default"]),self.fieldFormats=Private(_field_formats2["default"]),self.IndexPattern=IndexPattern}Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(2558);var _errors=__webpack_require__(2513),_index_pattern=__webpack_require__(2559),_index_pattern2=_interopRequireDefault(_index_pattern),_pattern_cache=__webpack_require__(2610),_pattern_cache2=_interopRequireDefault(_pattern_cache),_get_ids=__webpack_require__(2563),_get_ids2=_interopRequireDefault(_get_ids),_intervals=__webpack_require__(2572),_intervals2=_interopRequireDefault(_intervals),_mapper=__webpack_require__(2564),_mapper2=_interopRequireDefault(_mapper),_pattern_to_wildcard=__webpack_require__(2570),_pattern_to_wildcard2=_interopRequireDefault(_pattern_to_wildcard),_field_formats=__webpack_require__(2562),_field_formats2=_interopRequireDefault(_field_formats),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("kibana/index_patterns");_module.service("indexPatterns",function(Private){return Private(IndexPatternsProvider)}),exports["default"]=IndexPatternsProvider,_module.exports=exports["default"]},2558:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function shortDotsFilterProvider(config){function updateFilter(enabled){filter=enabled?_lodash2["default"].shortenDottedString:_lodash2["default"].identity}function wrapper(str){return filter(str)}var filter=void 0;return config.watch("shortDots:enable",updateFilter),wrapper}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_modules2["default"].get("kibana").filter("shortDots",function(Private){return Private(shortDotsFilterProvider)}),exports["default"]=shortDotsFilterProvider,module.exports=exports["default"]},2559:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function IndexPatternFactory(Private,Notifier,config,kbnIndex,Promise,confirmModalPromise){function serialize(flat,format,field){format&&(flat[field]=format)}function deserialize(mapping){var FieldFormat=fieldformats.byId[mapping.id];return FieldFormat&&new FieldFormat(mapping.params)}function updateFromElasticSearch(indexPattern,response){if(!response.found)throw new _errors.SavedObjectNotFound(type,indexPattern.id);_lodash2["default"].forOwn(mapping,function(fieldMapping,name){fieldMapping._deserialize&&(response._source[name]=fieldMapping._deserialize(response._source[name],response,name,fieldMapping))}),_lodash2["default"].assign(indexPattern,response._source);var promise=indexFields(indexPattern);return docSources.get(indexPattern).onUpdate().then(function(response){return updateFromElasticSearch(indexPattern,response)},notify.fatal),promise}function containsFieldCapabilities(fields){return _lodash2["default"].any(fields,function(field){return _lodash2["default"].has(field,"aggregatable")&&_lodash2["default"].has(field,"searchable")})}function indexFields(indexPattern){var promise=Promise.resolve();return indexPattern.id?(indexPattern.fields&&containsFieldCapabilities(indexPattern.fields)||(promise=indexPattern.refreshFields()),promise.then(function(){initFields(indexPattern)})):promise}function setId(indexPattern,id){return indexPattern.id=id,id}function watch(indexPattern){if(!configWatchers.has(indexPattern)){var unwatch=config.watchAll(function(){indexPattern.fields&&initFields(indexPattern)});configWatchers.set(indexPattern,{unwatch:unwatch})}}function unwatch(indexPattern){configWatchers.has(indexPattern)&&(configWatchers.get(indexPattern).unwatch(),configWatchers["delete"](indexPattern))}function initFields(indexPattern,input){var oldValue=indexPattern.fields,newValue=input||oldValue||[];indexPattern.fields=new FieldList(indexPattern,newValue)}function fetchFields(indexPattern){return mapper.getFieldsForIndexPattern(indexPattern,{skipIndexPatternCache:!0}).then(function(fields){var scripted=indexPattern.getScriptedFields(),all=fields.concat(scripted);initFields(indexPattern,all)})}var fieldformats=Private(_field_formats2["default"]),getIds=Private(_get_ids2["default"]),mapper=Private(_mapper2["default"]),intervals=Private(_intervals2["default"]),DocSource=Private(_admin_doc_source2["default"]),mappingSetup=Private(_mapping_setup2["default"]),FieldList=Private(_field_list2["default"]),flattenHit=Private(_flatten_hit2["default"]),calculateIndices=Private(_calculate_indices2["default"]),patternCache=Private(_pattern_cache2["default"]),type="index-pattern",notify=new Notifier,configWatchers=new WeakMap,docSources=new WeakMap,getRoutes=function(){return{edit:"/management/kibana/indices/{{id}}",addField:"/management/kibana/indices/{{id}}/create-field",indexedFields:"/management/kibana/indices/{{id}}?_a=(tab:indexedFields)",scriptedFields:"/management/kibana/indices/{{id}}?_a=(tab:scriptedFields)",sourceFilters:"/management/kibana/indices/{{id}}?_a=(tab:sourceFilters)"}},mapping=mappingSetup.expandShorthand({title:"string",timeFieldName:"string",notExpandable:"boolean",intervalName:"string",fields:"json",sourceFilters:"json",fieldFormatMap:{type:"string",_serialize:function(){var map=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},serialized=_lodash2["default"].transform(map,serialize);return _lodash2["default"].isEmpty(serialized)?void 0:_angular2["default"].toJson(serialized)},_deserialize:function(){var map=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"{}";return _lodash2["default"].mapValues(_angular2["default"].fromJson(map),deserialize)}}}),IndexPattern=function(){function IndexPattern(id){_classCallCheck(this,IndexPattern),setId(this,id),docSources.set(this,new DocSource),this.metaFields=config.get("metaFields"),this.getComputedFields=_get_computed_fields2["default"].bind(this),this.flattenHit=flattenHit(this),this.formatHit=(0,_format_hit2["default"])(this,fieldformats.getDefaultInstance("string")),this.formatField=this.formatHit.formatField}return _createClass(IndexPattern,[{key:"init",value:function(){var _this=this;return docSources.get(this).index(kbnIndex).type(type).id(this.id),watch(this),mappingSetup.isDefined(type).then(function(defined){return!!defined||mappingSetup.setup(type,mapping)}).then(function(){if(_this.id)return docSources.get(_this).fetch().then(function(response){return updateFromElasticSearch(_this,response)})}).then(function(){return _this})}},{key:"getSourceFiltering",value:function(){return{excludes:this.sourceFilters&&this.sourceFilters.map(function(filter){return filter.value})||[]}}},{key:"addScriptedField",value:function(name,script){var type=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"string",lang=arguments[3],scriptedFields=this.getScriptedFields(),names=_lodash2["default"].pluck(scriptedFields,"name");if(_lodash2["default"].contains(names,name))throw new _errors.DuplicateField(name);this.fields.push({name:name,script:script,type:type,scripted:!0,lang:lang}),this.save()}},{key:"removeScriptedField",value:function(name){var fieldIndex=_lodash2["default"].findIndex(this.fields,{name:name,scripted:!0});this.fields.splice(fieldIndex,1),this.save()}},{key:"popularizeField",value:function(fieldName){var unit=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,field=_lodash2["default"].get(this,["fields","byName",fieldName]);if(field){var count=Math.max((field.count||0)+unit,0);field.count!==count&&(field.count=count,this.save())}}},{key:"getNonScriptedFields",value:function(){return _lodash2["default"].where(this.fields,{scripted:!1})}},{key:"getScriptedFields",value:function(){return _lodash2["default"].where(this.fields,{scripted:!0})}},{key:"getInterval",value:function(){return this.intervalName&&_lodash2["default"].find(intervals,{name:this.intervalName})}},{key:"toIndexList",value:function(start,stop,sortDirection){return this.toDetailedIndexList(start,stop,sortDirection).then(function(detailedIndices){return _lodash2["default"].isArray(detailedIndices)?_lodash2["default"].pluck(detailedIndices,"index"):detailedIndices.index})}},{key:"toDetailedIndexList",value:function(start,stop,sortDirection){var _this2=this;return Promise.resolve().then(function(){var interval=_this2.getInterval();return interval?intervals.toIndexList(_this2.id,interval,start,stop,sortDirection):_this2.isWildcard()&&_this2.hasTimeField()&&_this2.canExpandIndices()?calculateIndices(_this2.id,_this2.timeFieldName,start,stop,sortDirection):{index:_this2.id,min:-(1/0),max:1/0}})}},{key:"canExpandIndices",value:function(){return!this.notExpandable}},{key:"hasTimeField",value:function(){return!(!this.timeFieldName||!this.fields.byName[this.timeFieldName])}},{key:"isWildcard",value:function(){return _lodash2["default"].includes(this.id,"*")}},{key:"prepBody",value:function(){var _this3=this,body={};return _lodash2["default"].forOwn(mapping,function(fieldMapping,fieldName){null!=_this3[fieldName]&&(body[fieldName]=fieldMapping._serialize?fieldMapping._serialize(_this3[fieldName]):_this3[fieldName])}),docSources.get(this).id(this.id),getIds.clearCache(),body}},{key:"create",value:function(){var _this4=this,body=this.prepBody();return docSources.get(this).doCreate(body).then(function(id){return setId(_this4,id)})["catch"](function(err){if(409!==_lodash2["default"].get(err,"origError.status"))return Promise.resolve(!1);var confirmMessage="Are you sure you want to overwrite this?";return confirmModalPromise(confirmMessage,{confirmButtonText:"Overwrite"}).then(function(){return Promise["try"](function(){var cached=patternCache.get(_this4.id);if(cached)return cached.then(function(pattern){return pattern.destroy()})}).then(function(){return docSources.get(_this4).doIndex(body)}).then(function(id){return setId(_this4,id)})},_lodash2["default"].constant(!1))})}},{key:"save",value:function(){var _this5=this,body=this.prepBody();return docSources.get(this).doIndex(body).then(function(id){return setId(_this5,id)})}},{key:"refreshFields",value:function(){var _this6=this;return mapper.clearCache(this).then(function(){return fetchFields(_this6)}).then(function(){return _this6.save()})["catch"](function(err){return notify.error(err),Promise.reject(err)})}},{key:"toJSON",value:function(){return this.id}},{key:"toString",value:function(){return""+this.toJSON()}},{key:"destroy",value:function(){unwatch(this),patternCache.clear(this.id),docSources.get(this).destroy(),docSources["delete"](this)}},{key:"routes",get:function(){return getRoutes()}}]),IndexPattern}();return IndexPattern}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports["default"]=IndexPatternFactory;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_errors=__webpack_require__(2513),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_get_computed_fields=__webpack_require__(2560),_get_computed_fields2=_interopRequireDefault(_get_computed_fields),_format_hit=__webpack_require__(2561),_format_hit2=_interopRequireDefault(_format_hit),_field_formats=__webpack_require__(2562),_field_formats2=_interopRequireDefault(_field_formats),_get_ids=__webpack_require__(2563),_get_ids2=_interopRequireDefault(_get_ids),_mapper=__webpack_require__(2564),_mapper2=_interopRequireDefault(_mapper),_intervals=__webpack_require__(2572),_intervals2=_interopRequireDefault(_intervals),_admin_doc_source=__webpack_require__(2573),_admin_doc_source2=_interopRequireDefault(_admin_doc_source),_mapping_setup=__webpack_require__(2601),_mapping_setup2=_interopRequireDefault(_mapping_setup),_field_list=__webpack_require__(2602),_field_list2=_interopRequireDefault(_field_list),_flatten_hit=__webpack_require__(2608),_flatten_hit2=_interopRequireDefault(_flatten_hit),_calculate_indices=__webpack_require__(2609),_calculate_indices2=_interopRequireDefault(_calculate_indices),_pattern_cache=__webpack_require__(2610),_pattern_cache2=_interopRequireDefault(_pattern_cache);module.exports=exports["default"]},2560:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(){var self=this,scriptFields={},docvalueFields=[];return docvalueFields=_lodash2["default"].map(_lodash2["default"].reject(self.fields.byType.date,"scripted"),"name"),_lodash2["default"].each(self.getScriptedFields(),function(field){scriptFields[field.name]={script:{inline:field.script,lang:field.lang}}}),{storedFields:["*"],scriptFields:scriptFields,docvalueFields:docvalueFields}};var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);module.exports=exports["default"]},2561:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(indexPattern,defaultFormat){function convert(hit,val,fieldName){var field=indexPattern.fields.byName[fieldName];return field?field.format.getConverterFor("html")(val,field,hit):defaultFormat.convert(val,"html")}function formatHit(hit){if(hit.$$_formatted)return hit.$$_formatted;var partials=hit.$$_partialFormatted||(hit.$$_partialFormatted={}),cache=hit.$$_formatted={};return _lodash2["default"].forOwn(indexPattern.flattenHit(hit),function(val,fieldName){var formatted=null==partials[fieldName]?convert(hit,val,fieldName):partials[fieldName];cache[fieldName]=partials[fieldName]=formatted}),cache}return formatHit.formatField=function(hit,fieldName){var partials=hit.$$_partialFormatted;if(partials&&null!=partials[fieldName])return partials[fieldName];partials||(partials=hit.$$_partialFormatted={});var val="_source"===fieldName?hit._source:indexPattern.flattenHit(hit)[fieldName];return partials[fieldName]=convert(hit,val,fieldName)},formatHit};var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);module.exports=exports["default"]},2562:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_registry=__webpack_require__(2533),_registry2=_interopRequireDefault(_registry);exports["default"]=(0,_registry2["default"])({name:"fieldFormats",index:["id"],group:["fieldType"],constructor:function(config){function init(){config.watch("format:defaultTypeMap",parseDefaultTypeMap)}function parseDefaultTypeMap(value){defaultMap=value,_lodash2["default"].forOwn(self,function(fn){_lodash2["default"].isFunction(fn)&&fn.cache&&(fn.cache=new _lodash2["default"].memoize.Cache)})}var self=this,defaultMap=void 0;self.getDefaultConfig=function(fieldType){return defaultMap[fieldType]||defaultMap._default_},self.getType=function(formatId){return self.byId[formatId]},self.getDefaultType=function(fieldType){return self.byId[self.getDefaultConfig(fieldType).id]},self.getInstance=_lodash2["default"].memoize(function(formatId){var FieldFormat=self.byId[formatId];return new FieldFormat}),self.getDefaultInstance=_lodash2["default"].memoize(function(fieldType){var conf=self.getDefaultConfig(fieldType),FieldFormat=self.byId[conf.id];return new FieldFormat(conf.params)}),init()}}),module.exports=exports["default"]},2563:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function GetIndexPatternIdsFn(esAdmin,kbnIndex){var cachedPromise=void 0,getIds=function(){return cachedPromise?cachedPromise.then(function(cachedResp){return _lodash2["default"].clone(cachedResp)}):(cachedPromise=esAdmin.search({index:kbnIndex,type:"index-pattern",storedFields:[],body:{query:{match_all:{}},size:1e4}}).then(function(resp){return _lodash2["default"].pluck(resp.hits.hits,"_id")}),cachedPromise.then(function(resp){return _lodash2["default"].clone(resp)}))};return getIds.clearCache=function(){cachedPromise=null},getIds}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=GetIndexPatternIdsFn;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);module.exports=exports["default"]},2564:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function MapperService(Private,Promise,es,esAdmin,config,kbnIndex){function Mapper(){var self=this,fieldCache=self.cache=new LocalCache;self.getFieldsForIndexPattern=function(indexPattern,opts){var id=indexPattern.id,cache=fieldCache.get(id);if(cache)return Promise.resolve(cache);if(!opts.skipIndexPatternCache)return esAdmin.get({index:kbnIndex,type:"index-pattern",id:id,_sourceInclude:["fields"]}).then(function(resp){return resp.found&&resp._source.fields&&fieldCache.set(id,JSON.parse(resp._source.fields)),self.getFieldsForIndexPattern(indexPattern,{skipIndexPatternCache:!0})});var indexList=id,promise=Promise.resolve();return indexPattern.intervalName&&(promise=self.getIndicesForIndexPattern(indexPattern).then(function(existing){if(0===existing.matches.length)throw new _errors.IndexPatternMissingIndices;indexList=existing.matches.slice(-config.get("indexPattern:fieldMapping:lookBack"))})),promise.then(function(){return es.indices.getFieldMapping({index:indexList,fields:"*",ignoreUnavailable:_lodash2["default"].isArray(indexList),allowNoIndices:!1,includeDefaults:!0})})["catch"](handleMissingIndexPattern).then(transformMappingIntoFields).then(function(fields){return enhanceFieldsWithCapabilities(fields,indexList)}).then(function(fields){return fieldCache.set(id,fields),fieldCache.get(id)})},self.getIndicesForIndexPattern=function(indexPattern){return es.indices.getAlias({index:patternToWildcard(indexPattern.id)}).then(function(resp){var all=(0,_lodash2["default"])(resp).map(function(index,key){return index.aliases?[Object.keys(index.aliases),key]:key}).flattenDeep().sort().uniq(!0).value(),matches=all.filter(function(existingIndex){var parsed=(0,_moment2["default"])(existingIndex,indexPattern.id);return existingIndex===parsed.format(indexPattern.id)});return{all:all,matches:matches}})["catch"](handleMissingIndexPattern)},self.clearCache=function(indexPattern){return fieldCache.clear(indexPattern),Promise.resolve()}}function handleMissingIndexPattern(err){if(err.status>=400)return Promise.reject(new _errors.IndexPatternMissingIndices(err.message));throw err}var enhanceFieldsWithCapabilities=Private(_enhance_fields_with_capabilities2["default"]),transformMappingIntoFields=Private(_transform_mapping_into_fields2["default"]),patternToWildcard=Private(_pattern_to_wildcard2["default"]),LocalCache=Private(_local_cache2["default"]);return new Mapper}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=MapperService;var _errors=__webpack_require__(2513),_lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(318),_moment2=_interopRequireDefault(_moment),_enhance_fields_with_capabilities=__webpack_require__(2565),_enhance_fields_with_capabilities2=_interopRequireDefault(_enhance_fields_with_capabilities),_transform_mapping_into_fields=__webpack_require__(2566),_transform_mapping_into_fields2=_interopRequireDefault(_transform_mapping_into_fields),_pattern_to_wildcard=__webpack_require__(2570),_pattern_to_wildcard2=_interopRequireDefault(_pattern_to_wildcard),_local_cache=__webpack_require__(2571),_local_cache2=_interopRequireDefault(_local_cache);module.exports=exports["default"]},2565:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function($http){return function(fields,indices){return $http.get(_chrome2["default"].addBasePath("/api/kibana/"+indices+"/field_capabilities")).then(function(res){var stats=_lodash2["default"].get(res,"data.fields",{});return _lodash2["default"].map(fields,function(field){return"geo_point"!==field.type||stats[field.name]?_lodash2["default"].assign(field,stats[field.name]):_lodash2["default"].assign(field,{searchable:!0,aggregatable:!0})})})}};var _chrome=__webpack_require__(2429),_chrome2=_interopRequireDefault(_chrome),_lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);module.exports=exports["default"]},2566:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function transformMappingIntoFields(Private,kbnIndex,config){var mapField=Private(_map_field2["default"]);return function(response){var fields={},conflictTracker=new _conflict_tracker.ConflictTracker;return _lodash2["default"].each(response,function(index,indexName){indexName!==kbnIndex&&_lodash2["default"].each(index.mappings,function(mappings){_lodash2["default"].each(mappings,function(field,name){var keys=Object.keys(field.mapping);if(0!==keys.length&&("_"!==name[0]||_lodash2["default"].contains(config.get("metaFields"),name))){var mapping=mapField(field,name);conflictTracker.trackField(name,mapping.type,indexName),fields[name]?fields[name].type!==mapping.type&&(fields[name]={type:"conflict"}):fields[name]=_lodash2["default"].pick(mapping,"type","indexed","analyzed","doc_values")}})})}),config.get("metaFields").forEach(function(meta){if(!fields[meta]){var field={mapping:{}};field.mapping[meta]={},fields[meta]=mapField(field,meta)}}),_lodash2["default"].map(fields,function(mapping,name){return mapping.name=name,"conflict"===mapping.type&&(mapping.conflictDescriptions=conflictTracker.describeConflict(name)),mapping})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=transformMappingIntoFields;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_map_field=__webpack_require__(2567),_map_field2=_interopRequireDefault(_map_field),_conflict_tracker=__webpack_require__(2569);module.exports=exports["default"]},2567:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function MapFieldFn(Private,config){var castMappingType=Private(_cast_mapping_type2["default"]);return function(field,name){var keys=Object.keys(field.mapping);if(0!==keys.length&&("_"!==name[0]||_lodash2["default"].contains(config.get("metaFields"),name))){var mappingOverrides={_source:{type:"_source"},_index:{type:"string"},_type:{type:"string"},_id:{type:"string"},_timestamp:{type:"date",indexed:!0},_score:{type:"number",indexed:!1}},mapping=_lodash2["default"].cloneDeep(field.mapping[keys.shift()]);return mapping.index&&"no"!==mapping.index?mapping.indexed=!0:mapping.indexed=!1,mapping.analyzed="analyzed"===mapping.index||"text"===mapping.type,mapping.type=castMappingType(mapping.type),mappingOverrides[name]&&_lodash2["default"].merge(mapping,mappingOverrides[name]),mapping}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=MapFieldFn;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_cast_mapping_type=__webpack_require__(2568),_cast_mapping_type2=_interopRequireDefault(_cast_mapping_type);module.exports=exports["default"]},2568:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function CastMappingTypeFn(){function castMappingType(name){if(!name)return"unknown";var match=castMappingType.types.byName[name];return match?match.type:"string"}return castMappingType.types=new _indexed_array2["default"]({index:["name"],group:["type"],immutable:!0,initialSet:[{name:"string",type:"string",group:"base"},{name:"text",type:"string",group:"base"},{name:"keyword",type:"string",group:"base"},{name:"date",type:"date",group:"base"},{name:"boolean",type:"boolean",group:"base"},{name:"float",type:"number",group:"number"},{name:"half_float",type:"number",group:"number"},{name:"scaled_float",type:"number",group:"number"
},{name:"double",type:"number",group:"number"},{name:"integer",type:"number",group:"number"},{name:"long",type:"number",group:"number"},{name:"short",type:"number",group:"number"},{name:"byte",type:"number",group:"number"},{name:"token_count",type:"number",group:"number"},{name:"geo_point",type:"geo_point",group:"geo"},{name:"geo_shape",type:"geo_shape",group:"geo"},{name:"ip",type:"ip",group:"other"},{name:"attachment",type:"attachment",group:"other"},{name:"murmur3",type:"murmur3",group:"hash"}]}),castMappingType}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=CastMappingTypeFn;var _indexed_array=__webpack_require__(2534),_indexed_array2=_interopRequireDefault(_indexed_array);module.exports=exports["default"]},2569:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ConflictTracker=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(2);exports.ConflictTracker=function(){function ConflictTracker(){_classCallCheck(this,ConflictTracker),this._history=[]}return _createClass(ConflictTracker,[{key:"trackField",value:function(name,type,index){this._history.push({name:name,type:type,index:index})}},{key:"describeConflict",value:function(name){var fieldHistory=(0,_lodash.where)(this._history,{name:name}),entriesByType=(0,_lodash.groupBy)(fieldHistory,"type");return(0,_lodash.mapValues)(entriesByType,function(entries){var indices=(0,_lodash.uniq)((0,_lodash.pluck)(entries,"index"));if(indices.length>10){var total=indices.length;indices.length=9,indices.push("... and "+(total-indices.length)+" others")}return indices})}}]),ConflictTracker}()},2570:function(module,exports){"use strict";function PatternToWildcardFn(){return function(format){for(var wildcard="",inEscape=!1,inPattern=!1,i=0;i<format.length;i++){var ch=format.charAt(i);switch(ch){case"[":inPattern=!1,inEscape?wildcard+=ch:inEscape=!0;break;case"]":inEscape?inEscape=!1:inPattern||(wildcard+=ch);break;default:inEscape?wildcard+=ch:inPattern||(wildcard+="*",inPattern=!0)}}return wildcard}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=PatternToWildcardFn,module.exports=exports["default"]},2571:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function LocalCacheFactory(){function LocalCache(opts){opts=opts||{};var _id=opts.id||function(o){return""+o},_cache={};this.get=function(obj){var id=_id(obj);return _cache[id]?JSON.parse(_cache[id]):null},this.set=function(obj,val){var id=_id(obj),clean=!_cache.hasOwnProperty(id);return _cache[id]=_angular2["default"].toJson(val),clean},this.clear=function(obj){if(!obj)return void(_cache={});var id=_id(obj);delete _cache[id]}}return LocalCache}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=LocalCacheFactory;var _angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular);module.exports=exports["default"]},2572:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function IndexNameIntervalsService(timefilter){var intervals=new _indexed_array2["default"]({index:["name"],initialSet:[{name:"hours",startOf:"hour",display:"Hourly"},{name:"days",startOf:"day",display:"Daily"},{name:"weeks",startOf:"isoWeek",display:"Weekly"},{name:"months",startOf:"month",display:"Monthly"},{name:"years",startOf:"year",display:"Yearly"}]});return intervals.toIndexList=function(format,interval,a,b,sortDirection){var bounds=void 0,range=[[a,"min","startOf"],[b,"max","startOf"]].map(function(v){var val=v[0],bound=v[1],extend=v[2];return null==val&&(bounds=bounds||timefilter.getBounds(),val=bounds[bound]),_lodash2["default"].isNumeric(val)?val=(0,_moment2["default"])().add(val,interval.name):_moment2["default"].isMoment(val)||(val=(0,_moment2["default"])(val)),val.clone().utc()[extend](interval.startOf)}).sort(function(a,b){return a-b});if("string"==typeof interval&&(interval=_lodash2["default"].find(intervals,{name:interval}),!interval))throw new Error("Interval must be one of "+_lodash2["default"].pluck(intervals,"name"));for(var indexList=[],start=range.shift(),stop=range.shift().valueOf(),add="desc"===sortDirection?"unshift":"push";start<=stop;){var index=start.format(format),next=(0,_moment2["default"])(start).add(1,interval.name),bound=(0,_moment2["default"])(next).subtract(1,"ms"),min=start.valueOf(),max=bound.valueOf();indexList[add]({index:index,min:min,max:max}),start=next}return indexList},intervals}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=IndexNameIntervalsService;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(318),_moment2=_interopRequireDefault(_moment),_indexed_array=__webpack_require__(2534),_indexed_array2=_interopRequireDefault(_indexed_array);module.exports=exports["default"]},2573:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function DocSourceFactory(Private){var AbstractDocSource=Private(_abstract_doc_source2["default"]),docStrategy=Private(_doc_admin2["default"]),DocRequest=Private(_doc_admin4["default"]),AdminDocSource=function(_AbstractDocSource){function AdminDocSource(initialState){return _classCallCheck(this,AdminDocSource),_possibleConstructorReturn(this,(AdminDocSource.__proto__||Object.getPrototypeOf(AdminDocSource)).call(this,initialState,docStrategy))}return _inherits(AdminDocSource,_AbstractDocSource),_createClass(AdminDocSource,[{key:"_createRequest",value:function(defer){return new DocRequest(this,defer)}}]),AdminDocSource}(AbstractDocSource);return AdminDocSource}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports["default"]=DocSourceFactory;var _abstract_doc_source=__webpack_require__(2574),_abstract_doc_source2=_interopRequireDefault(_abstract_doc_source),_doc_admin=__webpack_require__(2599),_doc_admin2=_interopRequireDefault(_doc_admin),_doc_admin3=__webpack_require__(2600),_doc_admin4=_interopRequireDefault(_doc_admin3);module.exports=exports["default"]},2574:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function AbstractDocSourceFactory(Private,Promise,es,sessionStorage){function AbstractDocSource(initialState,strategy){AbstractDocSource.Super.call(this,initialState,strategy)}var sendToEs=Private(_doc_send_to_es2["default"]),SourceAbstract=Private(_abstract2["default"]),DocRequest=Private(_abstract_doc2["default"]);return _lodash2["default"]["class"](AbstractDocSource).inherits(SourceAbstract),AbstractDocSource.prototype.onUpdate=SourceAbstract.prototype.onResults,AbstractDocSource.prototype.onResults=void 0,AbstractDocSource.prototype._createRequest=function(defer){return new DocRequest(this,defer)},AbstractDocSource.prototype._methods=["index","type","id","sourceInclude","sourceExclude"],AbstractDocSource.prototype.doUpdate=function(fields){return this._state.id?sendToEs.call(this,"update",!1,{doc:fields}):this.doIndex(fields)},AbstractDocSource.prototype.doIndex=function(body){return sendToEs.call(this,"index",!1,body)},AbstractDocSource.prototype.doCreate=function(body){return sendToEs.call(this,"create",!1,body,[])},AbstractDocSource.prototype._getType=function(){return"doc"},AbstractDocSource.prototype._mergeProp=function(state,val,key){var flatKey="_"+key;null!=val&&null==state[flatKey]&&(state[flatKey]=val)},AbstractDocSource.prototype._versionKey=function(){var state=this._state;if(state.index&&state.type&&state.id)return"DocVersion:"+[state.index,state.type,state.id].map(encodeURIComponent).join("/")},AbstractDocSource.prototype._getVersion=function(){return this._version?this._version:this._getStoredVersion()},AbstractDocSource.prototype._getStoredVersion=function(){var key=this._versionKey();if(key){var v=sessionStorage.get(key);return this._version=v?_lodash2["default"].parseInt(v):void 0,this._version}},AbstractDocSource.prototype._storeVersion=function(version){if(!version)return this._clearVersion();var key=this._versionKey();key&&(this._version=version,sessionStorage.set(key,version))},AbstractDocSource.prototype._clearVersion=function(){var key=this._versionKey();key&&sessionStorage.remove(key)},AbstractDocSource}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AbstractDocSourceFactory;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(2556),__webpack_require__(2497);var _doc_send_to_es=__webpack_require__(2575),_doc_send_to_es2=_interopRequireDefault(_doc_send_to_es),_abstract=__webpack_require__(2590),_abstract2=_interopRequireDefault(_abstract),_abstract_doc=__webpack_require__(2598),_abstract_doc2=_interopRequireDefault(_abstract_doc);module.exports=exports["default"]},2575:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(Promise,Private,es,esAdmin,kbnIndex){var requestQueue=Private(_request_queue2["default"]),courierFetch=Private(_fetch2["default"]);return function(method,validateVersion,body,ignore){var doc=this,params=_lodash2["default"].pick(this._state,["id","type","index"]);params.body=body,params.ignore=ignore||[409],validateVersion&&params.id&&(params.version=doc._getVersion());var client=[].concat(params.index).includes(kbnIndex)?esAdmin:es;return client[method](params).then(function(resp){if(409===resp.status)throw new _errors.VersionConflict(resp);doc._storeVersion(resp._version),doc.id(resp._id);var docFetchProm=void 0;return docFetchProm="index"!==method?doc.fetch():Promise.resolve({_id:resp._id,_index:params.index,_source:body,_type:params.type,_version:doc._getVersion(),found:!0}),docFetchProm.then(function(fetchResp){var key=doc._versionKey(),respondTo=requestQueue.splice(0).filter(function(req){var isDoc="doc"===req.source._getType(),keyMatches=isDoc&&req.source._versionKey()===key;return!!keyMatches||(requestQueue.push(req),!1)});return courierFetch.fakeFetchThese(respondTo,respondTo.map(function(){return _lodash2["default"].cloneDeep(fetchResp)}))}),resp._id})["catch"](function(err){throw new _errors.RequestFailure(err)})}};var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_errors=__webpack_require__(2513),_request_queue=__webpack_require__(2576),_request_queue2=_interopRequireDefault(_request_queue),_fetch=__webpack_require__(2577),_fetch2=_interopRequireDefault(_fetch);module.exports=exports["default"]},2576:function(module,exports){"use strict";function PendingRequestList(){var queue=[];return queue.getInactive=function(){return queue.get.apply(queue,arguments).filter(function(req){return!req.started})},queue.getStartable=function(){return queue.get.apply(queue,arguments).filter(function(req){return req.canStart()})},queue.get=function(){for(var _len=arguments.length,strategies=Array(_len),_key=0;_key<_len;_key++)strategies[_key]=arguments[_key];return queue.filter(function(req){var strategyMatch=!strategies.length;return strategyMatch||(strategyMatch=strategies.some(function(strategy){return req.strategy===strategy})),strategyMatch})},queue}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=PendingRequestList,module.exports=exports["default"]},2577:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function fetchService(Private,Promise){function fetchASource(source){var defer=Promise.defer();return fetchTheseSoon([source._createRequest(defer)]),defer.promise}var requestQueue=Private(_request_queue2["default"]),immediatelyFetchThese=Private(_fetch_these2["default"]),callResponseHandlers=Private(_call_response_handlers2["default"]),INCOMPLETE=Private(_req_status2["default"]).INCOMPLETE,debouncedFetchThese=_lodash2["default"].debounce(function(){var requests=requestQueue.get().filter(function(req){return req.isFetchRequestedAndPending()});immediatelyFetchThese(requests)},{wait:10,maxWait:50}),fetchTheseSoon=function(requests){return requests.forEach(function(req){return req._setFetchRequested()}),debouncedFetchThese(),Promise.all(requests.map(function(req){return req.getCompletePromise()}))};this.fetchQueued=function(strategy){return fetchTheseSoon(requestQueue.getStartable(strategy))},this.doc=fetchASource,this.search=fetchASource,this.these=fetchTheseSoon,this.fakeFetchThese=function(requests,responses){return Promise.map(requests,function(req){return req.start()}).then(function(){return callResponseHandlers(requests,responses)}).then(function(requestStates){if(_lodash2["default"].contains(requestStates,INCOMPLETE))throw new Error("responding to requests did not complete!")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=fetchService;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_request_queue=__webpack_require__(2576),_request_queue2=_interopRequireDefault(_request_queue),_fetch_these=__webpack_require__(2578),_fetch_these2=_interopRequireDefault(_fetch_these),_call_response_handlers=__webpack_require__(2588),_call_response_handlers2=_interopRequireDefault(_call_response_handlers),_req_status=__webpack_require__(2587),_req_status2=_interopRequireDefault(_req_status);module.exports=exports["default"]},2578:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function FetchTheseProvider(Private,Promise){function fetchThese(requests){return forEachStrategy(requests,function(strategy,reqsForStrategy){return fetchWithStrategy(strategy,reqsForStrategy.map(function(req){return req.started?req.retry():req}))})["catch"](notify.fatal)}function fetchWithStrategy(strategy,requests){function replaceAbortedRequests(){requests=requests.map(function(r){return r.aborted?ABORTED:r})}return replaceAbortedRequests(),startRequests(requests).then(function(){return replaceAbortedRequests(),callClient(strategy,requests)}).then(function(responses){return replaceAbortedRequests(),callResponseHandlers(requests,responses)}).then(function(responses){return replaceAbortedRequests(),continueIncomplete(strategy,requests,responses,fetchWithStrategy)}).then(function(responses){return replaceAbortedRequests(),responses.map(function(resp){switch(resp){case ABORTED:return null;case DUPLICATE:case INCOMPLETE:throw new Error("Failed to clear incomplete or duplicate request from responses.");default:return resp}})})}function startRequests(requests){return Promise.map(requests,function(req){return req===ABORTED?req:new Promise(function(resolve){var action=req.started?req["continue"]:req.start;resolve(action.call(req))})["catch"](function(err){return req.handleFailure(err)})})}var notify=Private(_notifier2["default"]),forEachStrategy=Private(_for_each_strategy2["default"]),callClient=Private(_call_client2["default"]),callResponseHandlers=Private(_call_response_handlers2["default"]),continueIncomplete=Private(_continue_incomplete2["default"]),ABORTED=Private(_req_status2["default"]).ABORTED,DUPLICATE=Private(_req_status2["default"]).DUPLICATE,INCOMPLETE=Private(_req_status2["default"]).INCOMPLETE;return fetchThese}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=FetchTheseProvider;var _notifier=__webpack_require__(2579),_notifier2=_interopRequireDefault(_notifier),_for_each_strategy=__webpack_require__(2580),_for_each_strategy2=_interopRequireDefault(_for_each_strategy),_call_client=__webpack_require__(2581),_call_client2=_interopRequireDefault(_call_client),_call_response_handlers=__webpack_require__(2588),_call_response_handlers2=_interopRequireDefault(_call_response_handlers),_continue_incomplete=__webpack_require__(2589),_continue_incomplete2=_interopRequireDefault(_continue_incomplete),_req_status=__webpack_require__(2587),_req_status2=_interopRequireDefault(_req_status);module.exports=exports["default"]},2579:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function CourierFetchNotifier(){return new _notifier2["default"]({location:"Courier Fetch"})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=CourierFetchNotifier;var _notifier=__webpack_require__(2466),_notifier2=_interopRequireDefault(_notifier);module.exports=exports["default"]},2580:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function FetchForEachRequestStrategy(Private,Promise){function forEachStrategy(requests,block){block=Promise.method(block);var sets=[];return requests.forEach(function(req){var strategy=req.strategy,set=_lodash2["default"].find(sets,{0:strategy});set?set[1].push(req):sets.push([strategy,[req]])}),Promise.all(sets.map(function(set){return block(set[0],set[1])}))}return forEachStrategy}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=FetchForEachRequestStrategy;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);module.exports=exports["default"]},2581:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function CourierFetchCallClient(Private,Promise,esAdmin,es){function callClient(strategy,requests){var statuses=mergeDuplicateRequests(requests),executable=statuses.filter(isRequest),execCount=executable.length;if(!execCount)return Promise.resolve([]);var esPromise=void 0,defer=Promise.defer(),respond=function(responses){return responses=responses||[],Promise.map(requests,function(req,i){switch(statuses[i]){case ABORTED:return ABORTED;case DUPLICATE:return req._uniq.resp;default:return responses[_lodash2["default"].findIndex(executable,req)]}}).then(function(res){return defer.resolve(res)},function(err){return defer.reject(err)})},requestWasAborted=Promise.method(function(req,i){if(statuses[i]===ABORTED&&defer.reject(new Error("Request was aborted twice?")),execCount-=1,!(execCount>0))return esPromise&&_lodash2["default"].isFunction(esPromise.abort)&&esPromise.abort(),esPromise=ABORTED,respond()});return statuses.forEach(function(req,i){isRequest(req)&&req.whenAborted(function(){requestWasAborted(req,i)["catch"](defer.reject)})}),Promise.map(executable,function(req){return Promise["try"](req.getFetchParams,void 0,req).then(function(fetchParams){return req.fetchParams=fetchParams})}).then(function(reqsFetchParams){return strategy.reqsFetchParamsToBody(reqsFetchParams)}).then(function(body){if(esPromise===ABORTED)throw ABORTED;var id=strategy.id,client=id&&id.includes("admin")?esAdmin:es;return esPromise=client[strategy.clientMethod]({body:body})}).then(function(clientResp){return strategy.getResponses(clientResp)}).then(respond)["catch"](function(err){err===ABORTED?respond():defer.reject(err)}),defer.promise["catch"](function(err){requests.forEach(function(req,i){statuses[i]!==ABORTED&&req.handleFailure(err)})})}var isRequest=Private(_is_request2["default"]),mergeDuplicateRequests=Private(_merge_duplicate_requests2["default"]),ABORTED=Private(_req_status2["default"]).ABORTED,DUPLICATE=Private(_req_status2["default"]).DUPLICATE;return callClient}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=CourierFetchCallClient;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_is_request=__webpack_require__(2582),_is_request2=_interopRequireDefault(_is_request),_merge_duplicate_requests=__webpack_require__(2586),_merge_duplicate_requests2=_interopRequireDefault(_merge_duplicate_requests),_req_status=__webpack_require__(2587),_req_status2=_interopRequireDefault(_req_status);module.exports=exports["default"]},2582:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function IsRequestProvider(Private){var AbstractRequest=Private(_request2["default"]);return function(obj){return obj instanceof AbstractRequest}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=IsRequestProvider;var _request=__webpack_require__(2583),_request2=_interopRequireDefault(_request);module.exports=exports["default"]},2583:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function AbstractReqProvider(Private,Promise){var requestQueue=Private(_request_queue2["default"]),requestErrorHandler=Private(_error_handler2["default"]);return function(){function AbstractReq(source,defer){_classCallCheck(this,AbstractReq),this.source=source,this.defer=defer||Promise.defer(),this.abortedDefer=Promise.defer(),requestQueue.push(this)}return _createClass(AbstractReq,[{key:"canStart",value:function(){return!this._fetchRequested&&!this.stopped&&!this.source._fetchDisabled}},{key:"isFetchRequestedAndPending",value:function(){return this._fetchRequested&&!this.started}},{key:"_setFetchRequested",value:function(){this._fetchRequested=!0}},{key:"start",value:function(){if(this.started)throw new TypeError("Unable to start request because it has already started");this.started=!0,this.moment=(0,_moment2["default"])();var source=this.source;source.activeFetchCount?source.activeFetchCount+=1:source.activeFetchCount=1,source.history=[this]}},{key:"getFetchParams",value:function(){return this.source._flatten()}},{key:"transformResponse",value:function(resp){return resp}},{key:"filterError",value:function(){return!1}},{key:"handleResponse",value:function(resp){this.success=!0,this.resp=resp}},{key:"handleFailure",value:function(error){return this.success=!1,this.resp=error&&error.resp,this.retry(),requestErrorHandler(this,error)}},{key:"isIncomplete",value:function(){return!1}},{key:"continue",value:function(){throw new Error("Unable to continue "+this.type+" request")}},{key:"retry",value:function(){var clone=this.clone();return this.abort(),clone}},{key:"_markStopped",value:function(){this.stopped||(this.stopped=!0,this.source.activeFetchCount-=1,_lodash2["default"].pull(requestQueue,this))}},{key:"abort",value:function(){this._markStopped(),this.defer=null,this.aborted=!0,this.abortedDefer.resolve(),this.abortedDefer=null}},{key:"whenAborted",value:function(cb){this.abortedDefer.promise.then(cb)}},{key:"complete",value:function(){this._markStopped(),this.ms=this.moment.diff()*-1,this.defer.resolve(this.resp)}},{key:"getCompletePromise",value:function(){return this.defer.promise}},{key:"getCompleteOrAbortedPromise",value:function(){return Promise.race([this.defer.promise,this.abortedDefer.promise])}},{key:"clone",value:function(){return new this.constructor(this.source,this.defer)}}]),AbstractReq}()}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports["default"]=AbstractReqProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(318),_moment2=_interopRequireDefault(_moment),_request_queue=__webpack_require__(2576),_request_queue2=_interopRequireDefault(_request_queue),_error_handler=__webpack_require__(2584),_error_handler2=_interopRequireDefault(_error_handler);module.exports=exports["default"]},2584:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function RequestErrorHandlerFactory(Private){function handleError(req,error){var myHandlers=[];errHandlers.splice(0).forEach(function(handler){(handler.source===req.source?myHandlers:errHandlers).push(handler)}),myHandlers.length?myHandlers.forEach(function(handler){handler.defer.resolve(error)}):notify.fatal(new Error("unhandled courier request error: "+notify.describeError(error)))}var errHandlers=Private(_error_handlers2["default"]),notify=new _notifier2["default"]({location:"Courier Fetch Error"});return handleError}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=RequestErrorHandlerFactory;var _notifier=__webpack_require__(2466),_notifier2=_interopRequireDefault(_notifier),_error_handlers=__webpack_require__(2585),_error_handlers2=_interopRequireDefault(_error_handlers);module.exports=exports["default"]},2585:function(module,exports){"use strict";function ErrorHandlerList(){return[]}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=ErrorHandlerList,module.exports=exports["default"]},2586:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function FetchMergeDuplicateRequests(Private){function mergeDuplicateRequests(requests){var index={};return requests.map(function(req){if(!isRequest(req))return req;var iid=req.source._instanceid;return index[iid]?(req._uniq=index[iid],DUPLICATE):(index[iid]=req,req)})}var isRequest=Private(_is_request2["default"]),DUPLICATE=Private(_req_status2["default"]).DUPLICATE;return mergeDuplicateRequests}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=FetchMergeDuplicateRequests;var _is_request=__webpack_require__(2582),_is_request2=_interopRequireDefault(_is_request),_req_status=__webpack_require__(2587),_req_status2=_interopRequireDefault(_req_status);module.exports=exports["default"]},2587:function(module,exports){"use strict";function CourierFetchRequestStatus(){return{ABORTED:{CourierFetchRequestStatus:"aborted"},DUPLICATE:{CourierFetchRequestStatus:"duplicate"},INCOMPLETE:{CourierFetchRequestStatus:"incomplete"}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=CourierFetchRequestStatus,module.exports=exports["default"]},2588:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function CourierFetchCallResponseHandlers(Private,Promise){function callResponseHandlers(requests,responses){return Promise.map(requests,function(req,i){function progress(){return req.isIncomplete()?INCOMPLETE:(req.complete(),resp)}if(req===ABORTED||req.aborted)return ABORTED;var resp=responses[i];return resp.timed_out&&notify.warning(new _errors.SearchTimeout),resp._shards&&resp._shards.failed&&notify.warning(new _errors.ShardFailure(resp)),resp.error?req.filterError(resp)?progress():req.handleFailure(new _errors.RequestFailure(null,resp)):Promise["try"](function(){return req.transformResponse(resp)}).then(function(){return resp=arguments[0],req.handleResponse(resp)}).then(progress)})}var ABORTED=Private(_req_status2["default"]).ABORTED,INCOMPLETE=Private(_req_status2["default"]).INCOMPLETE,notify=Private(_notifier2["default"]);return callResponseHandlers}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=CourierFetchCallResponseHandlers;var _errors=__webpack_require__(2513),_req_status=__webpack_require__(2587),_req_status2=_interopRequireDefault(_req_status),_notifier=__webpack_require__(2579),_notifier2=_interopRequireDefault(_notifier);module.exports=exports["default"]},2589:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function CourierFetchContinueIncompleteRequests(Private){function continueIncompleteRequests(strategy,requests,responses,fetchWithStrategy){var incomplete=[];return responses.forEach(function(resp,i){resp===INCOMPLETE&&incomplete.push(requests[i])}),incomplete.length?fetchWithStrategy(strategy,incomplete).then(function(completedResponses){return responses.map(function(prevResponse){return prevResponse!==INCOMPLETE?prevResponse:completedResponses.shift()})}):responses}var INCOMPLETE=Private(_req_status2["default"]).INCOMPLETE;return continueIncompleteRequests}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=CourierFetchContinueIncompleteRequests;var _req_status=__webpack_require__(2587),_req_status2=_interopRequireDefault(_req_status);module.exports=exports["default"]},2590:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function SourceAbstractFactory(Private,Promise,PromiseEmitter){function SourceAbstract(initialState,strategy){var self=this;self._instanceid=_lodash2["default"].uniqueId("data_source"),self._state=function(){return initialState?"string"==typeof initialState?JSON.parse(initialState):_lodash2["default"].cloneDeep(initialState):{}}(),self._methods.forEach(function(name){self[name]=function(val){return null==val?delete self._state[name]:self._state[name]=val,self}}),self.history=[],self._fetchStrategy=strategy}var requestQueue=Private(_request_queue2["default"]),errorHandlers=Private(_error_handlers2["default"]),courierFetch=Private(_fetch2["default"]),_Private=Private(_field_wildcard2["default"]),fieldWildcardFilter=_Private.fieldWildcardFilter,getHighlightRequest=Private(_highlight.getHighlightRequestProvider);return SourceAbstract.prototype.get=function(name){for(var self=this;self;){if(void 0!==self._state[name])return self._state[name];self=self.getParent()}},SourceAbstract.prototype.getOwn=function(name){if(void 0!==this._state[name])return this._state[name];
},SourceAbstract.prototype.set=function(state,val){var self=this;return"string"==typeof state?(void 0===val&&(val=null),self[state](val)):self._state=state,self},SourceAbstract.prototype.extend=function(){return(new this.Class).inherits(this)},SourceAbstract.prototype.toJSON=function(){return _lodash2["default"].clone(this._state)},SourceAbstract.prototype.toString=function(){return _angular2["default"].toJson(this.toJSON())},SourceAbstract.prototype.onResults=function(handler){var self=this;return new PromiseEmitter(function(resolve,reject){var defer=Promise.defer();defer.promise.then(resolve,reject),self._createRequest(defer)},handler)},SourceAbstract.prototype.getParent=function(){return this._parent},SourceAbstract.prototype.onError=function(handler){var self=this;return new PromiseEmitter(function(resolve,reject){var defer=Promise.defer();defer.promise.then(resolve,reject),errorHandlers.push({source:self,defer:defer})},handler)},SourceAbstract.prototype.fetch=function(){var self=this,req=_lodash2["default"].first(self._myStartableQueued());return req||(req=self._createRequest()),courierFetch.these([req]),req.getCompletePromise()},SourceAbstract.prototype.fetchQueued=function(){return courierFetch.these(this._myStartableQueued())},SourceAbstract.prototype.cancelQueued=function(){var _this=this;requestQueue.get(this._fetchStrategy).filter(function(req){return req.source===_this}).forEach(function(req){return req.abort()})},SourceAbstract.prototype.destroy=function(){this.cancelQueued()},SourceAbstract.prototype._myStartableQueued=function(){var _this2=this;return requestQueue.getStartable(this._fetchStrategy).filter(function(req){return req.source===_this2})},SourceAbstract.prototype._createRequest=function(){throw new Error("_createRequest must be implemented by subclass")},SourceAbstract.prototype._flatten=function(){var type=this._getType(),flatState={},root=this,current=this;return function ittr(){return Promise.all(_lodash2["default"].map(current._state,function ittr(value,key){if(Promise.is(value))return value.then(function(value){return ittr(value,key)});var prom=root._mergeProp(flatState,value,key);return Promise.is(prom)?prom:null})).then(function(){var parent=current.getParent();if(parent)return current=parent,ittr()})}().then(function(){if("search"===type){var decorateQuery=Private(_decorate_query2["default"]);if(flatState.body=flatState.body||{},flatState.body.query||(flatState.body.query={match_all:{}}),flatState.body.size>0){var computedFields=flatState.index.getComputedFields();if(flatState.body.stored_fields=computedFields.storedFields,flatState.body.script_fields=flatState.body.script_fields||{},flatState.body.docvalue_fields=flatState.body.docvalue_fields||[],_lodash2["default"].extend(flatState.body.script_fields,computedFields.scriptFields),flatState.body.docvalue_fields=_lodash2["default"].union(flatState.body.docvalue_fields,computedFields.docvalueFields),flatState.body._source){var filter=fieldWildcardFilter(flatState.body._source.excludes);flatState.body.docvalue_fields=flatState.body.docvalue_fields.filter(filter)}}decorateQuery(flatState.body.query);var filterNegate=function(reverse){return function(filter){return _lodash2["default"].isUndefined(filter.meta)||_lodash2["default"].isUndefined(filter.meta.negate)?!reverse:filter.meta&&filter.meta.negate===reverse}},translateToQuery=function(filter){if(filter)return filter.query?filter.query:filter},cleanFilter=function(filter){return _lodash2["default"].omit(filter,["meta"])};flatState.filters&&(flatState.filters.length&&(_lodash2["default"].each(flatState.filters,function(filter){filter.query&&decorateQuery(filter.query)}),flatState.body.query={bool:{must:[flatState.body.query].concat((flatState.filters||[]).filter(filterNegate(!1)).map(translateToQuery).map(cleanFilter)),must_not:(flatState.filters||[]).filter(filterNegate(!0)).map(translateToQuery).map(cleanFilter)}}),delete flatState.filters),null!=flatState.highlightAll&&(flatState.highlightAll&&flatState.body.query&&(flatState.body.highlight=getHighlightRequest(flatState.body.query)),delete flatState.highlightAll),function recurse(aggBranch){aggBranch&&Object.keys(aggBranch).forEach(function(id){var agg=aggBranch[id];if(agg.filters){var filters=agg.filters.filters;Object.keys(filters).forEach(function(filterId){filters[filterId]=translateToQuery(filters[filterId])})}recurse(agg.aggs||agg.aggregations)})}(flatState.body.aggs||flatState.body.aggregations)}return flatState})},SourceAbstract}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=SourceAbstractFactory;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular);__webpack_require__(2496);var _request_queue=__webpack_require__(2576),_request_queue2=_interopRequireDefault(_request_queue),_error_handlers=__webpack_require__(2585),_error_handlers2=_interopRequireDefault(_error_handlers),_fetch=__webpack_require__(2577),_fetch2=_interopRequireDefault(_fetch),_decorate_query=__webpack_require__(2591),_decorate_query2=_interopRequireDefault(_decorate_query),_field_wildcard=__webpack_require__(2592),_field_wildcard2=_interopRequireDefault(_field_wildcard),_highlight=__webpack_require__(2593);module.exports=exports["default"]},2591:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function DecorateQuery(config){return function(query){var queryOptions=config.get("query:queryString:options");return _lodash2["default"].has(query,"query_string.query")&&_lodash2["default"].extend(query.query_string,queryOptions),query}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=DecorateQuery;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);module.exports=exports["default"]},2592:function(module,exports,__webpack_require__){"use strict";function fieldWildcard(config){function fieldWildcardMatcher(globs){return function(val){return metaFields.indexOf(val)===-1&&globs.some(function(p){return makeRegEx(p).test(val)})}}function fieldWildcardFilter(globs){var matcher=fieldWildcardMatcher(globs);return function(val){return!matcher(val)}}var metaFields=config.get("metaFields"),makeRegEx=(0,_lodash.memoize)(function(glob){return new RegExp("^"+glob.split("*").map(_lodash.escapeRegExp).join(".*")+"$")});return{makeRegEx:makeRegEx,fieldWildcardMatcher:fieldWildcardMatcher,fieldWildcardFilter:fieldWildcardFilter}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=fieldWildcard;var _lodash=__webpack_require__(2);module.exports=exports["default"]},2593:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _highlight_html=__webpack_require__(2594),_highlight_html2=_interopRequireDefault(_highlight_html),_highlight_request=__webpack_require__(2597),_highlight_request2=_interopRequireDefault(_highlight_request);exports["default"]={getHighlightHtml:_highlight_html2["default"],getHighlightRequestProvider:_highlight_request2["default"]},module.exports=exports["default"]},2594:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function getHighlightHtml(fieldValue,highlights){var highlightHtml="object"===("undefined"==typeof fieldValue?"undefined":_typeof(fieldValue))?_angular2["default"].toJson(fieldValue):fieldValue;return _lodash2["default"].each(highlights,function(highlight){var escapedHighlight=_lodash2["default"].escape(highlight),untaggedHighlight=escapedHighlight.split(_highlight_tags2["default"].pre).join("").split(_highlight_tags2["default"].post).join(""),taggedHighlight=escapedHighlight.split(_highlight_tags2["default"].pre).join(_html_tags2["default"].pre).split(_highlight_tags2["default"].post).join(_html_tags2["default"].post);highlightHtml=highlightHtml.split(untaggedHighlight).join(taggedHighlight)}),highlightHtml}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports["default"]=getHighlightHtml;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_highlight_tags=__webpack_require__(2595),_highlight_tags2=_interopRequireDefault(_highlight_tags),_html_tags=__webpack_require__(2596),_html_tags2=_interopRequireDefault(_html_tags);module.exports=exports["default"]},2595:function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]={pre:"@kibana-highlighted-field@",post:"@/kibana-highlighted-field@"},module.exports=exports["default"]},2596:function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]={pre:"<mark>",post:"</mark>"},module.exports=exports["default"]},2597:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function getHighlightQuery(query){var clone=_lodash2["default"].cloneDeep(query);return!_lodash2["default"].has(clone,"query_string")||_lodash2["default"].has(clone,["query_string","default_field"])||_lodash2["default"].has(clone,["query_string","fields"])?_lodash2["default"].has(clone,"bool.must")&&(Array.isArray(clone.bool.must)?clone.bool.must=clone.bool.must.map(getHighlightQuery):clone.bool.must=getHighlightQuery(clone.bool.must)):clone.query_string.all_fields=!0,clone}function getHighlightRequestProvider(config){return function(query){if(config.get("doc_table:highlight")){var fieldsParams=config.get("doc_table:highlight:all_fields")?{highlight_query:getHighlightQuery(query)}:{};return{pre_tags:[_highlight_tags2["default"].pre],post_tags:[_highlight_tags2["default"].post],fields:{"*":fieldsParams},fragment_size:FRAGMENT_SIZE}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=getHighlightRequestProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_highlight_tags=__webpack_require__(2595),_highlight_tags2=_interopRequireDefault(_highlight_tags),FRAGMENT_SIZE=Math.pow(2,31)-1;module.exports=exports["default"]},2598:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function DocRequestProvider(Private){var AbstractRequest=Private(_request2["default"]),AbstractDocRequest=function(_AbstractRequest){function AbstractDocRequest(){var _ref;_classCallCheck(this,AbstractDocRequest);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var _this=_possibleConstructorReturn(this,(_ref=AbstractDocRequest.__proto__||Object.getPrototypeOf(AbstractDocRequest)).call.apply(_ref,[this].concat(args)));return _this.type="doc",_this}return _inherits(AbstractDocRequest,_AbstractRequest),_createClass(AbstractDocRequest,[{key:"canStart",value:function(){var parent=_get(AbstractDocRequest.prototype.__proto__||Object.getPrototypeOf(AbstractDocRequest.prototype),"canStart",this).call(this);if(!parent)return!1;var version=this.source._version,storedVersion=this.source._getStoredVersion(),unknown=!version&&!storedVersion,mismatch=version!==storedVersion;return Boolean(mismatch||unknown&&!this.started)}},{key:"handleResponse",value:function(resp){return resp.found?this.source._storeVersion(resp._version):this.source._clearVersion(),_get(AbstractDocRequest.prototype.__proto__||Object.getPrototypeOf(AbstractDocRequest.prototype),"handleResponse",this).call(this,resp)}}]),AbstractDocRequest}(AbstractRequest);return AbstractDocRequest}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)};exports["default"]=DocRequestProvider;var _request=__webpack_require__(2583),_request2=_interopRequireDefault(_request);module.exports=exports["default"]},2599:function(module,exports){"use strict";function FetchStrategyForDoc(Promise){return{id:"doc_admin",clientMethod:"mget",reqsFetchParamsToBody:function(reqsFetchParams){return Promise.resolve({docs:reqsFetchParams})},getResponses:function(resp){return resp.docs}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=FetchStrategyForDoc,module.exports=exports["default"]},2600:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function DocRequestProvider(Private){var docStrategy=Private(_doc_admin2["default"]),AbstractDocRequest=Private(_abstract_doc2["default"]),AdminDocRequest=function(_AbstractDocRequest){function AdminDocRequest(){var _ref,_temp,_this,_ret;_classCallCheck(this,AdminDocRequest);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=AdminDocRequest.__proto__||Object.getPrototypeOf(AdminDocRequest)).call.apply(_ref,[this].concat(args))),_this.strategy=docStrategy,_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(AdminDocRequest,_AbstractDocRequest),AdminDocRequest}(AbstractDocRequest);return AdminDocRequest}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=DocRequestProvider;var _doc_admin=__webpack_require__(2599),_doc_admin2=_interopRequireDefault(_doc_admin),_abstract_doc=__webpack_require__(2598),_abstract_doc2=_interopRequireDefault(_abstract_doc);module.exports=exports["default"]},2601:function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var __WEBPACK_AMD_DEFINE_RESULT__;__webpack_require__(11),__webpack_require__(2);var _angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);__WEBPACK_AMD_DEFINE_RESULT__=function(){return function(kbnIndex,esAdmin){var mappingSetup=this,json={_serialize:function(val){if(null!=val)return _angular2["default"].toJson(val)},_deserialize:function(val){if(null!=val)return JSON.parse(val)}},activeTypeCreations={},getKnownKibanaTypes=_lodash2["default"].once(function(){return esAdmin.indices.getFieldMapping({index:kbnIndex,type:"*",fields:"_source"}).then(function(resp){var index=_lodash2["default"].keys(resp)[0];return _lodash2["default"].keys(resp[index].mappings)})});mappingSetup.expandShorthand=function(sh){return _lodash2["default"].mapValues(sh||{},function(val){return"string"==typeof val&&(val={type:val}),"json"===val.type&&(val.type="string",val._serialize=json._serialize,val._deserialize=json._deserialize),val})},mappingSetup.isDefined=function(type){return getKnownKibanaTypes().then(function(knownTypes){return!!~knownTypes.indexOf(type)})},mappingSetup.setup=function(type,mapping){if(activeTypeCreations[type])return activeTypeCreations[type].then(function(){return mappingSetup.setup(type,mapping)});var prom=getKnownKibanaTypes().then(function(knownTypes){if(~knownTypes.indexOf(type))return!1;var body={};return body[type]={properties:mapping},esAdmin.indices.putMapping({index:kbnIndex,type:type,body:body}).then(function(){return knownTypes.push(type),!0})})["finally"](function(){delete activeTypeCreations[type]});return activeTypeCreations[type]=prom,prom}}}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},2602:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function FieldListProvider(Private){function FieldList(indexPattern,specs){FieldList.Super.call(this,{index:["name"],group:["type"],initialSet:specs.map(function(field){return new Field(indexPattern,field)})})}var Field=Private(_field2["default"]);return _lodash2["default"]["class"](FieldList).inherits(_indexed_array2["default"]),FieldList}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=FieldListProvider;var _indexed_array=__webpack_require__(2534),_indexed_array2=_interopRequireDefault(_indexed_array),_lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_field=__webpack_require__(2603),_field2=_interopRequireDefault(_field);module.exports=exports["default"]},2603:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function FieldObjectProvider(Private,shortDotsFilter,$rootScope,Notifier){function Field(indexPattern,spec){spec instanceof Field&&(spec=spec.$$spec);var obj=new _obj_define2["default"](spec,Field.prototype);"_source"===spec.name&&(spec.type="_source");var type=fieldTypes.byName[spec.type];spec.type&&!type&&notify.error('Unknown field type "'+spec.type+'" for field "'+spec.name+'" in indexPattern "'+indexPattern.id+'"'),type||(type=fieldTypes.byName.unknown);var format=spec.format;format&&format instanceof FieldFormat||(format=indexPattern.fieldFormatMap[spec.name]||fieldFormats.getDefaultInstance(spec.type));var indexed=!!spec.indexed,scripted=!!spec.scripted,searchable=!!spec.searchable||scripted,aggregatable=!!spec.aggregatable||scripted,sortable="_score"===spec.name||(indexed||aggregatable)&&type.sortable,filterable="_id"===spec.name||scripted||(indexed||searchable)&&type.filterable,visualizable=aggregatable;return obj.fact("name"),obj.fact("type"),obj.writ("count",spec.count||0),obj.fact("scripted",scripted),obj.writ("script",scripted?spec.script:null),obj.writ("lang",scripted?spec.lang||"painless":null),obj.fact("indexed",indexed),obj.fact("analyzed",!!spec.analyzed),obj.fact("doc_values",!!spec.doc_values),obj.fact("searchable",searchable),obj.fact("aggregatable",aggregatable),obj.comp("format",format),obj.comp("sortable",sortable),obj.comp("filterable",filterable),obj.comp("visualizable",visualizable),obj.comp("indexPattern",indexPattern),obj.comp("displayName",shortDotsFilter(spec.name)),obj.comp("$$spec",spec),obj.writ("conflictDescriptions"),obj.create()}var notify=new Notifier({location:"IndexPattern Field"}),FieldFormat=Private(_field_format2["default"]),fieldTypes=Private(_field_types2["default"]),fieldFormats=Private(_field_formats2["default"]);return Field.prototype.routes={edit:"/management/kibana/indices/{{indexPattern.id}}/field/{{name}}"},Field}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=FieldObjectProvider;var _obj_define=__webpack_require__(2604),_obj_define2=_interopRequireDefault(_obj_define),_field_format=__webpack_require__(2605),_field_format2=_interopRequireDefault(_field_format),_field_types=__webpack_require__(2607),_field_types2=_interopRequireDefault(_field_types),_field_formats=__webpack_require__(2562),_field_formats2=_interopRequireDefault(_field_formats);module.exports=exports["default"]},2604:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function ObjDefine(defaults,prototype){this.obj,this.descs={},this.defaults=defaults||{},this.prototype=prototype||Object.prototype}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);ObjDefine.REDEFINE_SUPPORTED=function(){var a=Object.create(Object.prototype,{prop:{configurable:!0,value:1}});return Object.defineProperty(a,"prop",{configurable:!0,value:2}),2===a.prop}(),ObjDefine.prototype.writ=function(name,val){this._define(name,val,!0,!0)},ObjDefine.prototype.fact=function(name,val){this._define(name,val,!0)},ObjDefine.prototype.comp=function(name,val){this._define(name,val)},ObjDefine.prototype.create=function(){var self=this;return self.obj=Object.create(this.prototype,self.descs),ObjDefine.REDEFINE_SUPPORTED||self.prototype.toJSON||(self.obj.toJSON=function(){return _lodash2["default"].transform(self.obj,function(json,val,key){var desc=self.descs[key];desc&&desc.enumerable&&null==val||(json[key]=val)},{})}),self.obj},ObjDefine.prototype._define=function(name,val,exported,changeable){val=null!=val?val:this.defaults[name],this.descs[name]=this._describe(name,val,!!exported,!!changeable)},ObjDefine.prototype._describe=function(name,val,exported,changeable){var self=this,exists=null!=val;return exported&&ObjDefine.REDEFINE_SUPPORTED?{enumerable:exists,configurable:!0,get:_lodash2["default"].constant(val),set:function(update){return!!changeable&&(self.descs[name]=self._describe(name,update,exported,changeable),void Object.defineProperty(self.obj,name,self.descs[name]))}}:exported&&!ObjDefine.REDEFINE_SUPPORTED?{enumerable:!0,configurable:!0,writable:changeable,value:val}:{enumerable:!1,writable:changeable,configurable:!0,value:val}},exports["default"]=ObjDefine,module.exports=exports["default"]},2605:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function FieldFormatClassProvider(config,$rootScope,Private){function FieldFormat(params){var self=this;self.type=self.constructor,self._params=params||{},self._paramDefaults=self.type.paramDefaults||{},_lodash2["default"].isFunction(self._convert)&&(self._convert={text:self._convert}),contentTypes.setup(self)}var contentTypes=Private(_content_types2["default"]);return FieldFormat.from=function(converter){function FieldFormatFromConverter(params){FieldFormatFromConverter.Super.call(this,params)}return _lodash2["default"]["class"](FieldFormatFromConverter).inherits(FieldFormat),FieldFormatFromConverter.prototype._convert=converter,FieldFormatFromConverter},FieldFormat.prototype.convert=function(value,contentType){return this.getConverterFor(contentType)(value)},FieldFormat.prototype.getConverterFor=function(contentType){return this._convert[contentType||"text"]},FieldFormat.prototype.param=function(name){var val=this._params[name];return val||val===!1||0===val?val:this._paramDefaults[name]},FieldFormat.prototype.params=function(){return _lodash2["default"].cloneDeep(_lodash2["default"].defaults({},this._params,this._paramDefaults))},FieldFormat.prototype.toJSON=function(){var type=this.type,defaults=this._paramDefaults,params=_lodash2["default"].transform(this._params,function(uniqParams,val,param){val!==defaults[param]&&(uniqParams[param]=val)},{});return _lodash2["default"].size(params)||(params=void 0),{id:type.id,params:params}},FieldFormat}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=FieldFormatClassProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_content_types=__webpack_require__(2606),_content_types2=_interopRequireDefault(_content_types);module.exports=exports["default"]},2606:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function contentTypesProvider(){function fallbackText(value){return _lodash2["default"].asPrettyString(value)}function fallbackHtml(value,field,hit){var formatted=_lodash2["default"].escape(this.convert(value,"text"));return hit&&hit.highlight&&hit.highlight[field.name]?(0,_highlight.getHighlightHtml)(formatted,hit.highlight[field.name]):formatted}function setup(format){var src=format._convert||{},converters=format._convert={};return converters.text=types.text(format,src.text||fallbackText),converters.html=types.html(format,src.html||fallbackHtml),format._convert}var types={html:function(format,convert){return function recurse(value,field,hit){if(null==value)return _lodash2["default"].asPrettyString(value);if(!value||"function"!=typeof value.map)return convert.call(format,value,field,hit);var subVals=value.map(function(v){return recurse(v,field,hit)}),useMultiLine=subVals.some(function(sub){return sub.indexOf("\n")>-1});return subVals.join(","+(useMultiLine?"\n":" "))}},text:function(format,convert){return function recurse(value){return value&&"function"==typeof value.map?_angular2["default"].toJson(value.map(recurse),!0):convert.call(format,value)}}};return{types:types,setup:setup}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=contentTypesProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_highlight=__webpack_require__(2593);module.exports=exports["default"]},2607:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function IndexPatternFieldTypes(){return new _indexed_array2["default"]({index:["name"],group:["sortable","filterable"],immutable:!0,initialSet:[{name:"ip",sortable:!0,filterable:!0},{name:"date",sortable:!0,filterable:!0},{name:"string",sortable:!0,filterable:!0},{name:"number",sortable:!0,filterable:!0},{name:"boolean",sortable:!0,filterable:!0},{name:"conflict",sortable:!1,filterable:!1},{name:"geo_point",sortable:!1,filterable:!1},{name:"geo_shape",sortable:!1,filterable:!1},{name:"attachment",sortable:!1,filterable:!1},{name:"murmur3",sortable:!1,filterable:!1},{name:"unknown",sortable:!1,filterable:!1},{name:"_source",sortable:!1,filterable:!1}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=IndexPatternFieldTypes;var _indexed_array=__webpack_require__(2534),_indexed_array2=_interopRequireDefault(_indexed_array);module.exports=exports["default"]},2608:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function FlattenHitProvider(config){function flattenHit(indexPattern,hit,deep){var flat={},fields=indexPattern.fields.byName;return function flatten(obj,keyPrefix){keyPrefix=keyPrefix?keyPrefix+".":"",_lodash2["default"].forOwn(obj,function(val,key){if(key=keyPrefix+key,deep){var isNestedField=fields[key]&&"nested"===fields[key].type,isArrayOfObjects=_lodash2["default"].isArray(val)&&_lodash2["default"].isPlainObject(_lodash2["default"].first(val));if(isArrayOfObjects&&!isNestedField)return void _lodash2["default"].each(val,function(v){return flatten(v,key)})}else if(void 0!==flat[key])return;var hasValidMapping=fields[key]&&"conflict"!==fields[key].type,isValue=!_lodash2["default"].isPlainObject(val);return hasValidMapping||isValue?void(flat[key]?_lodash2["default"].isArray(flat[key])?flat[key].push(val):flat[key]=[flat[key],val]:flat[key]=val):void flatten(val,key)})}(hit._source),_lodash2["default"].each(metaFields,function(meta){"_source"!==meta&&(flat[meta]=hit[meta])}),_lodash2["default"].forOwn(hit.fields,function(val,key){("_"!==key[0]||_lodash2["default"].contains(metaFields,key))&&(flat[key]=_lodash2["default"].isArray(val)&&1===val.length?val[0]:val)}),flat}var metaFields=config.get("metaFields");return config.watch("metaFields",function(value){metaFields=value}),function(indexPattern){return function(hit){var deep=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return hit.$$_flattened||(hit.$$_flattened=flattenHit(indexPattern,hit,deep))}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=FlattenHitProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);module.exports=exports["default"]},2609:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function timeValue(val){return _moment2["default"].isMoment(val)?val.valueOf():val}function msConstraint(comparison,value){var _ref;return _ref={},_defineProperty(_ref,comparison,timeValue(value)),_defineProperty(_ref,"format","epoch_millis"),_ref}function omitIndicesWithoutTimeField(indices,timeFieldName){return _lodash2["default"].pick(indices,function(index){return index.fields[timeFieldName]})}function CalculateIndicesFactory(Promise,es){function calculateIndices(pattern,timeFieldName,start,stop,sortDirection){return getFieldStats(pattern,timeFieldName,start,stop).then(function(resp){return omitIndicesWithoutTimeField(resp.indices,timeFieldName)}).then(function(indices){return sortIndexStats(indices,timeFieldName,sortDirection)})}function getFieldStats(pattern,timeFieldName,start,stop){var constraints={};return start&&(constraints.max_value=msConstraint("gte",start)),stop&&(constraints.min_value=msConstraint("lte",stop)),es.fieldStats({index:pattern,level:"indices",body:{fields:[timeFieldName],index_constraints:_defineProperty({},timeFieldName,constraints)}})}function sortIndexStats(indices,timeFieldName,sortDirection){var desc="desc"===sortDirection,leader=desc?"max":"min",indexDetails=(0,_lodash2["default"])(indices).map(function(stats,index){var field=stats.fields[timeFieldName];return{index:index,min:field.min_value,max:field.max_value}});return sortDirection&&(indexDetails=indexDetails.sortByOrder([leader],[sortDirection])),indexDetails.value()}return calculateIndices}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=CalculateIndicesFactory;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(318),_moment2=_interopRequireDefault(_moment);
module.exports=exports["default"]},2610:function(module,exports){"use strict";function PatternCache(){var vals={},validId=function(id){return"object"!==("undefined"==typeof id?"undefined":_typeof(id))};this.get=function(id){if(validId(id))return vals[id]},this.set=function(id,prom){return validId(id)&&(vals[id]=prom),prom},this.clear=this["delete"]=function(id){validId(id)&&delete vals[id]}}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports["default"]=PatternCache,module.exports=exports["default"]},2611:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function DocSourceFactory(Private){var AbstractDocSource=Private(_abstract_doc_source2["default"]),docStrategy=Private(_doc_data2["default"]),DocRequest=Private(_doc_data4["default"]),DocSource=function(_AbstractDocSource){function DocSource(initialState){return _classCallCheck(this,DocSource),_possibleConstructorReturn(this,(DocSource.__proto__||Object.getPrototypeOf(DocSource)).call(this,initialState,docStrategy))}return _inherits(DocSource,_AbstractDocSource),_createClass(DocSource,[{key:"_createRequest",value:function(defer){return new DocRequest(this,defer)}}]),DocSource}(AbstractDocSource);return DocSource}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports["default"]=DocSourceFactory;var _abstract_doc_source=__webpack_require__(2574),_abstract_doc_source2=_interopRequireDefault(_abstract_doc_source),_doc_data=__webpack_require__(2612),_doc_data2=_interopRequireDefault(_doc_data),_doc_data3=__webpack_require__(2613),_doc_data4=_interopRequireDefault(_doc_data3);module.exports=exports["default"]},2612:function(module,exports){"use strict";function FetchStrategyForDoc(Promise){return{clientMethod:"mget",reqsFetchParamsToBody:function(reqsFetchParams){return Promise.resolve({docs:reqsFetchParams})},getResponses:function(resp){return resp.docs}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=FetchStrategyForDoc,module.exports=exports["default"]},2613:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function DocRequestProvider(Private){var docStrategy=Private(_doc_data2["default"]),AbstractDocRequest=Private(_abstract_doc2["default"]),DataDocRequest=function(_AbstractDocRequest){function DataDocRequest(){var _ref,_temp,_this,_ret;_classCallCheck(this,DataDocRequest);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=DataDocRequest.__proto__||Object.getPrototypeOf(DataDocRequest)).call.apply(_ref,[this].concat(args))),_this.strategy=docStrategy,_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(DataDocRequest,_AbstractDocRequest),DataDocRequest}(AbstractDocRequest);return DataDocRequest}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=DocRequestProvider;var _doc_data=__webpack_require__(2612),_doc_data2=_interopRequireDefault(_doc_data),_abstract_doc=__webpack_require__(2598),_abstract_doc2=_interopRequireDefault(_abstract_doc);module.exports=exports["default"]},2614:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function SearchSourceFactory(Promise,Private,config){function isIndexPattern(val){return Boolean(val&&"function"==typeof val.toIndexList)}function SearchSource(initialState){SearchSource.Super.call(this,initialState,searchStrategy)}var SourceAbstract=Private(_abstract2["default"]),SearchRequest=Private(_search2["default"]),SegmentedRequest=Private(_segmented2["default"]),searchStrategy=Private(_search4["default"]),normalizeSortRequest=Private(_normalize_sort_request2["default"]),forIp=Symbol("for which index pattern?");return _lodash2["default"]["class"](SearchSource).inherits(SourceAbstract),SearchSource.prototype._methods=["type","query","filter","sort","highlight","highlightAll","aggs","from","size","source","version"],SearchSource.prototype.index=function(indexPattern){var state=this._state,hasSource=state.source,sourceCameFromIp=hasSource&&state.source.hasOwnProperty(forIp),sourceIsForOurIp=sourceCameFromIp&&state.source[forIp]===state.index;if(sourceIsForOurIp&&delete state.source,void 0===indexPattern)return state.index;if(null===indexPattern)return delete state.index;if(!isIndexPattern(indexPattern))throw new TypeError("expected indexPattern to be an IndexPattern duck.");return state.index=indexPattern,state.source||(state.source=function(){return indexPattern.getSourceFiltering()},state.source[forIp]=indexPattern),this},SearchSource.prototype.extend=function(){return(new SearchSource).inherits(this)},SearchSource.prototype.inherits=function(parent){return this._parent=parent,this},SearchSource.prototype.getParent=function(onlyHardLinked){var self=this;if(self._parent!==!1)return self._parent?self._parent:onlyHardLinked?void 0:Private(_root_search_source2["default"]).get()},SearchSource.prototype.disable=function(){this._fetchDisabled=!0},SearchSource.prototype.enable=function(){this._fetchDisabled=!1},SearchSource.prototype.onBeginSegmentedFetch=function(initFunction){var self=this;return Promise["try"](function addRequest(){var req=new SegmentedRequest(self,Promise.defer(),initFunction);return req.getCompletePromise().then(addRequest)})},SearchSource.prototype._getType=function(){return"search"},SearchSource.prototype._createRequest=function(defer){return new SearchRequest(this,defer)},SearchSource.prototype._mergeProp=function(state,val,key){function addToBody(){state.body=state.body||{},null==state.body[key]&&("query"===key&&_lodash2["default"].isString(val)&&(val={query_string:{query:val}}),state.body[key]=val)}if("function"==typeof val){var source=this;return Promise.cast(val(this)).then(function(newVal){return source._mergeProp(state,newVal,key)})}if(null!=val&&key&&_lodash2["default"].isString(key))switch(key){case"filter":var verifiedFilters=val;return config.get("courier:ignoreFilterIfFieldNotInIndex")&&(_lodash2["default"].isArray(val)||(val=[val]),verifiedFilters=val.filter(function(el){if("meta"in el&&"index"in state){var field=state.index.fields.byName[el.meta.key];if(!field)return!1}return!0})),void(state.filters=(0,_lodash2["default"])([state.filters||[],verifiedFilters]).flatten().reject(function(filter){return!filter||_lodash2["default"].get(filter,"meta.disabled")}).value());case"index":case"type":case"id":case"highlightAll":return void(key&&null==state[key]&&(state[key]=val));case"source":key="_source",addToBody();break;case"sort":val=normalizeSortRequest(val,this.get("index")),addToBody();break;default:addToBody()}},SearchSource}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=SearchSourceFactory;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_normalize_sort_request=__webpack_require__(2615),_normalize_sort_request2=_interopRequireDefault(_normalize_sort_request),_root_search_source=__webpack_require__(2616),_root_search_source2=_interopRequireDefault(_root_search_source),_abstract=__webpack_require__(2590),_abstract2=_interopRequireDefault(_abstract),_search=__webpack_require__(2617),_search2=_interopRequireDefault(_search),_segmented=__webpack_require__(2620),_segmented2=_interopRequireDefault(_segmented),_search3=__webpack_require__(2618),_search4=_interopRequireDefault(_search3);module.exports=exports["default"]},2615:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function normalizeSortRequest(config){function normalize(sortable,indexPattern){var normalized={},sortField=_lodash2["default"].keys(sortable)[0],sortValue=sortable[sortField],indexField=indexPattern.fields.byName[sortField];if(indexField&&indexField.scripted&&indexField.sortable){var direction=void 0;_lodash2["default"].isString(sortValue)&&(direction=sortValue),_lodash2["default"].isObject(sortValue)&&sortValue.order&&(direction=sortValue.order),sortField="_script",sortValue={script:{inline:indexField.script,lang:indexField.lang},type:castSortType(indexField.type),order:direction}}else _lodash2["default"].isString(sortValue)&&(sortValue={order:sortValue}),sortValue=_lodash2["default"].defaults({},sortValue,defaultSortOptions),"_score"===sortField&&delete sortValue.unmapped_type;return normalized[sortField]=sortValue,normalized}var defaultSortOptions=config.get("sort:options");return function(sortObject,indexPattern){return[].concat(sortObject).map(function(sortable){return normalize(sortable,indexPattern)})}}function castSortType(type){var typeCastings={number:"number",string:"string",date:"number","boolean":"string"},castedType=typeCastings[type];if(!castedType)throw new Error("Unsupported script sort type: "+type);return castedType}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=normalizeSortRequest;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);module.exports=exports["default"]},2616:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function RootSearchSource(Private,$rootScope,timefilter){function getAppSource(){return appSource}function setAppSource(source){appSource=source;for(var literalRoot=source;literalRoot._parent&&literalRoot._parent!==globalSource;)literalRoot=literalRoot._parent;literalRoot.inherits(globalSource)}function resetAppSource(){setAppSource(new SearchSource)}var SearchSource=Private(_search_source2["default"]),globalSource=new SearchSource;globalSource.inherits(!1),globalSource.filter(function(globalSource){return timefilter.get(globalSource.get("index"))});var appSource=void 0;return resetAppSource(),$rootScope.$on("$routeChangeStart",resetAppSource),{get:getAppSource,set:setAppSource,getGlobalSource:function(){return globalSource}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=RootSearchSource;var _search_source=__webpack_require__(2614),_search_source2=_interopRequireDefault(_search_source);module.exports=exports["default"]},2617:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function SearchReqProvider(Private){var searchStrategy=Private(_search2["default"]),AbstractRequest=Private(_request2["default"]);return function(_AbstractRequest){function SearchReq(){var _ref;_classCallCheck(this,SearchReq);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var _this=_possibleConstructorReturn(this,(_ref=SearchReq.__proto__||Object.getPrototypeOf(SearchReq)).call.apply(_ref,[this].concat(args)));return _this.type="search",_this.strategy=searchStrategy,_this}return _inherits(SearchReq,_AbstractRequest),SearchReq}(AbstractRequest)}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=SearchReqProvider;var _search=__webpack_require__(2618),_search2=_interopRequireDefault(_search),_request=__webpack_require__(2583),_request2=_interopRequireDefault(_request);module.exports=exports["default"]},2618:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function FetchStrategyForSearch(Private,Promise,timefilter,kbnIndex,sessionId){return{clientMethod:"msearch",reqsFetchParamsToBody:function(reqsFetchParams){var indexToListMapping={};return Promise.map(reqsFetchParams,function(fetchParams){return Promise.resolve(fetchParams.index).then(function(indexList){if(!_lodash2["default"].isFunction(_lodash2["default"].get(indexList,"toIndexList")))return indexList;var timeBounds=timefilter.getBounds();return indexToListMapping[indexList.id]||(indexToListMapping[indexList.id]=indexList.toIndexList(timeBounds.min,timeBounds.max)),indexToListMapping[indexList.id].then(function(indexList){return _lodash2["default"].clone(indexList)})}).then(function(indexList){var body=fetchParams.body||{},index=[];return _lodash2["default"].isArray(indexList)&&0===indexList.length?(index.push(kbnIndex),body=emptySearch()):index=indexList,_angular2["default"].toJson({index:index,type:fetchParams.type,search_type:fetchParams.search_type,ignore_unavailable:!0,preference:sessionId})+"\n"+(0,_aggressive_parse.toJson)(body,_angular2["default"].toJson)})}).then(function(requests){return requests.join("\n")+"\n"})},getResponses:function(resp){return resp.responses}}}function emptySearch(){return{query:{bool:{must_not:[{match_all:{}}]}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=FetchStrategyForSearch;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_aggressive_parse=__webpack_require__(2619);module.exports=exports["default"]},2619:function(module,exports,__webpack_require__){"use strict";function toJson(object,jsonFn,space){return jsonFn&&(object=JSON.parse(jsonFn(object))),JSON.stringify(object,replacer,space)}function replacer(key,value){return(0,_lodash.isString)(key)&&(0,_lodash.startsWith)(key,"$")?void 0:value}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toJson=toJson,exports.replacer=replacer;var _lodash=__webpack_require__(2)},2620:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function SegmentedReqProvider(es,Private,Promise,timefilter,config){var SearchReq=Private(_search2["default"]),SegmentedHandle=Private(_segmented_handle2["default"]),notify=new _notifier2["default"]({location:"Segmented Fetch"}),SegmentedReq=function(_SearchReq){function SegmentedReq(source,defer,initFn){_classCallCheck(this,SegmentedReq);var _this=_possibleConstructorReturn(this,(SegmentedReq.__proto__||Object.getPrototypeOf(SegmentedReq)).call(this,source,defer));return _this.type="segmented",_this._initFn=initFn,_this._desiredSize=null,_this._maxSegments=config.get("courier:maxSegmentCount"),_this._direction="desc",_this._sortFn=null,_this._queueCreated=!1,_this._handle=new SegmentedHandle(_this),_this._hitWindow=null,_this._getFlattenedSource=_lodash2["default"].once(_this._getFlattenedSource),_this}return _inherits(SegmentedReq,_SearchReq),_createClass(SegmentedReq,[{key:"start",value:function(){var _this2=this;return _get(SegmentedReq.prototype.__proto__||Object.getPrototypeOf(SegmentedReq.prototype),"start",this).call(this),this._complete=[],this._active=null,this._segments=[],this._all=[],this._queue=[],this._mergedResp={took:0,hits:{hits:[],total:0,max_score:0}},_lodash2["default"].isFunction(this._initFn)&&this._initFn(this._handle),this._createQueue().then(function(queue){_this2.stopped||(_this2._all=queue.slice(0),_this2._reportStatus())})}},{key:"continue",value:function(){return this._reportStatus()}},{key:"getFetchParams",value:function(){var _this3=this;return this._getFlattenedSource().then(function(flatSource){var params=_lodash2["default"].cloneDeep(flatSource),remainingSegments=_this3._maxSegments-_this3._segments.length,indexCount=Math.max(1,Math.floor(_this3._queue.length/remainingSegments)),indices=_this3._active=_this3._queue.splice(0,indexCount);return params.index=_lodash2["default"].pluck(indices,"index"),(0,_lodash.isNumber)(_this3._desiredSize)&&(params.body.size=_this3._pickSizeForIndices(indices)),params})}},{key:"handleResponse",value:function(resp){return this._consumeSegment(resp)}},{key:"filterError",value:function(resp){if(/ClusterBlockException.*index\sclosed/.test(resp.error))return this._consumeSegment(!1),!0}},{key:"isIncomplete",value:function(){var queueNotCreated=!this._queueCreated,queueNotEmpty=this._queue.length>0;return queueNotCreated||queueNotEmpty}},{key:"clone",value:function(){return new SegmentedReq(this.source,this.defer,this._initFn)}},{key:"complete",value:function(){return this._reportStatus(),this._handle.emit("complete"),_get(SegmentedReq.prototype.__proto__||Object.getPrototypeOf(SegmentedReq.prototype),"complete",this).call(this)}},{key:"setMaxSegments",value:function(maxSegments){this._maxSegments=Math.max(_lodash2["default"].parseInt(maxSegments),1)}},{key:"setDirection",value:function(dir){switch(dir){case"asc":case"desc":return this._direction=dir;default:throw new TypeError('unknown sort direction "'+dir+'"')}}},{key:"setSortFn",value:function(sortFn){this._sortFn=sortFn}},{key:"setSize",value:function(totalSize){this._desiredSize=_lodash2["default"].parseInt(totalSize),isNaN(this._desiredSize)&&(this._desiredSize=null)}},{key:"_createQueue",value:function(){var _this4=this,timeBounds=timefilter.getBounds(),indexPattern=this.source.get("index");return this._queueCreated=!1,indexPattern.toDetailedIndexList(timeBounds.min,timeBounds.max,this._direction).then(function(queue){return _lodash2["default"].isArray(queue)||(queue=[queue]),_this4._queue=queue,_this4._queueCreated=!0,queue})}},{key:"_reportStatus",value:function(){return this._handle.emit("status",{total:this._queueCreated?this._all.length:NaN,complete:this._queueCreated?this._complete.length:NaN,remaining:this._queueCreated?this._queue.length:NaN,hitCount:this._queueCreated?this._mergedResp.hits.hits.length:NaN})}},{key:"_getFlattenedSource",value:function(){return this.source._flatten()}},{key:"_consumeSegment",value:function(seg){var index=this._active;if(this._complete.push(index),seg){var hadHits=_lodash2["default"].get(this._mergedResp,"hits.hits.length")>0,gotHits=_lodash2["default"].get(seg,"hits.hits.length")>0,firstHits=!hadHits&&gotHits,haveHits=hadHits||gotHits;this._mergeSegment(seg),this.resp=_lodash2["default"].omit(this._mergedResp,"_bucketIndex"),firstHits&&this._handle.emit("first",seg),gotHits&&this._handle.emit("segment",seg),haveHits&&this._handle.emit("mergedSegment",this.resp)}}},{key:"_mergeHits",value:function(hits){var mergedHits=this._mergedResp.hits.hits,desiredSize=this._desiredSize,sortFn=this._sortFn;_lodash2["default"].pushAll(hits,mergedHits),sortFn&&notify.event("resort rows",function(){mergedHits.sort(sortFn)}),(0,_lodash.isNumber)(desiredSize)&&(this._mergedResp.hits.hits=mergedHits.slice(0,desiredSize))}},{key:"_mergeSegment",value:function(seg){var merged=this._mergedResp;this._segments.push(seg),merged.took+=seg.took,merged.hits.total+=seg.hits.total,merged.hits.max_score=Math.max(merged.hits.max_score,seg.hits.max_score),_lodash2["default"].size(seg.hits.hits)&&(this._mergeHits(seg.hits.hits),this._detectHitsWindow(merged.hits.hits)),seg.aggregations&&Object.keys(seg.aggregations).forEach(function(aggKey){merged.aggregations||(merged.aggregations={},merged._bucketIndex={}),merged.aggregations[aggKey]||(merged.aggregations[aggKey]={buckets:[]}),seg.aggregations[aggKey].buckets.forEach(function(bucket){var mbucket=merged._bucketIndex[bucket.key];return mbucket?void(mbucket.doc_count+=bucket.doc_count):(mbucket=merged._bucketIndex[bucket.key]=bucket,void merged.aggregations[aggKey].buckets.push(mbucket))})})}},{key:"_detectHitsWindow",value:function(hits){hits=hits||[];var indexPattern=this.source.get("index"),desiredSize=this._desiredSize,size=_lodash2["default"].size(hits);if(!(0,_lodash.isNumber)(desiredSize)||size<desiredSize)return void(this._hitWindow={size:size,min:-(1/0),max:1/0});var min=void 0,max=void 0;hits.forEach(function(deepHit){var hit=indexPattern.flattenHit(deepHit),time=hit[indexPattern.timeFieldName];(null==min||time<min)&&(min=time),(null==max||time>max)&&(max=time)}),this._hitWindow={size:size,min:min,max:max}}},{key:"_pickSizeForIndices",value:function(indices){var hitWindow=this._hitWindow,desiredSize=this._desiredSize;if(!(0,_lodash.isNumber)(desiredSize))return null;if(!hitWindow)return desiredSize;if(!this._sortFn)return Math.max(desiredSize-hitWindow.size,0);var someOverlap=indices.some(function(index){return index.min<=hitWindow.max&&hitWindow.min<=index.max});return someOverlap?desiredSize:0}}]),SegmentedReq}(SearchReq);return SegmentedReq.prototype.mergedSegment=notify.timed("merge response segment",SegmentedReq.prototype.mergedSegment),SegmentedReq}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)};exports["default"]=SegmentedReqProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_notifier=__webpack_require__(2466),_notifier2=_interopRequireDefault(_notifier),_search=__webpack_require__(2617),_search2=_interopRequireDefault(_search),_segmented_handle=__webpack_require__(2621),_segmented_handle2=_interopRequireDefault(_segmented_handle);module.exports=exports["default"]},2621:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function CourierSegmentedReqHandle(Private){var Events=Private(_events2["default"]),segmentedRequest=Symbol("Actual Segmented Request");return function(_Events){function SegmentedHandle(req){_classCallCheck(this,SegmentedHandle);var _this=_possibleConstructorReturn(this,(SegmentedHandle.__proto__||Object.getPrototypeOf(SegmentedHandle)).call(this));return _this[segmentedRequest]=req,_this}return _inherits(SegmentedHandle,_Events),_createClass(SegmentedHandle,[{key:"setDirection",value:function(){var _segmentedRequest;(_segmentedRequest=this[segmentedRequest]).setDirection.apply(_segmentedRequest,arguments)}},{key:"setSize",value:function(){var _segmentedRequest2;(_segmentedRequest2=this[segmentedRequest]).setSize.apply(_segmentedRequest2,arguments)}},{key:"setMaxSegments",value:function(){var _segmentedRequest3;(_segmentedRequest3=this[segmentedRequest]).setMaxSegments.apply(_segmentedRequest3,arguments)}},{key:"setSortFn",value:function(){var _segmentedRequest4;(_segmentedRequest4=this[segmentedRequest]).setSortFn.apply(_segmentedRequest4,arguments)}}]),SegmentedHandle}(Events)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports["default"]=CourierSegmentedReqHandle;var _events=__webpack_require__(2465),_events2=_interopRequireDefault(_events);module.exports=exports["default"]},2622:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function DocLooperService(Private){var fetch=Private(_fetch2["default"]),Looper=Private(_looper2["default"]),DocStrategy=Private(_doc_data2["default"]),docLooper=new Looper(1500,function(){fetch.fetchQueued(DocStrategy)});return docLooper}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=DocLooperService;var _fetch=__webpack_require__(2577),_fetch2=_interopRequireDefault(_fetch),_looper=__webpack_require__(2623),_looper2=_interopRequireDefault(_looper),_doc_data=__webpack_require__(2612),_doc_data2=_interopRequireDefault(_doc_data);module.exports=exports["default"]},2623:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function LooperFactory($timeout,Promise){function Looper(ms,fn){this._fn=fn,this._ms=void 0===ms?1500:ms,this._timer=null,this._started=!1,this._loopTheLoop=_lodash2["default"].bind(this._loopTheLoop,this)}var notify=new _notifier2["default"];return Looper.prototype.ms=function(ms){if(this._ms=_lodash2["default"].parseInt(ms)||0,this._started)return this._ms?this.start(!1):this._unScheduleLoop(),this},Looper.prototype.pause=function(){return this._unScheduleLoop(),this},Looper.prototype.start=function(loopOver){return null==loopOver&&(loopOver=!0),this._started?this._unScheduleLoop():this._started=!0,loopOver?this._loopTheLoop():this._scheduleLoop(),this},Looper.prototype.stop=function(){return this._unScheduleLoop(),this._started=!1,this},Looper.prototype.restart=function(){return this.start(!1),this},Looper.prototype.started=function(){return!!this._started},Looper.prototype.loopInterval=function(){return this._ms},Looper.prototype.onHastyLoop=function(){},Looper.prototype._loopTheLoop=function(){var self=this;return self.active?void self.onHastyLoop():void(self.active=Promise["try"](this._fn).then(function(){self._scheduleLoop()})["catch"](function(err){self.stop(),notify.fatal(err)})["finally"](function(){self.active=null}))},Looper.prototype._scheduleLoop=function(){return this._unScheduleLoop(),this._timer=this._ms?$timeout(this._loopTheLoop,this._ms):null,this._timer},Looper.prototype._unScheduleLoop=function(){this._timer&&($timeout.cancel(this._timer),this._timer=null)},Looper.prototype.run=function(){this.start()},Looper}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=LooperFactory;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(2496);var _notifier=__webpack_require__(2466),_notifier2=_interopRequireDefault(_notifier);module.exports=exports["default"]},2624:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function DocLooperService(Private){var fetch=Private(_fetch2["default"]),Looper=Private(_looper2["default"]),DocStrategy=Private(_doc_admin2["default"]),docLooper=new Looper(1500,function(){fetch.fetchQueued(DocStrategy)});return docLooper}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=DocLooperService;var _fetch=__webpack_require__(2577),_fetch2=_interopRequireDefault(_fetch),_looper=__webpack_require__(2623),_looper2=_interopRequireDefault(_looper),_doc_admin=__webpack_require__(2599),_doc_admin2=_interopRequireDefault(_doc_admin);module.exports=exports["default"]},2625:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function SearchLooperService(Private,Promise,Notifier,$rootScope){var fetch=Private(_fetch2["default"]),searchStrategy=Private(_search2["default"]),requestQueue=Private(_request_queue2["default"]),Looper=Private(_looper2["default"]),searchLooper=new Looper(null,function(){
$rootScope.$broadcast("courier:searchRefresh");var requests=requestQueue.getInactive(searchStrategy);return fetch.these(requests),Promise.all(requests.map(function(request){return request.getCompleteOrAbortedPromise()}))});return searchLooper.onHastyLoop=function(){searchLooper.afterHastyQueued||(searchLooper.afterHastyQueued=Promise.resolve(searchLooper.active).then(function(){return searchLooper._loopTheLoop()})["finally"](function(){searchLooper.afterHastyQueued=null}))},searchLooper}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=SearchLooperService;var _fetch=__webpack_require__(2577),_fetch2=_interopRequireDefault(_fetch),_search=__webpack_require__(2618),_search2=_interopRequireDefault(_search),_request_queue=__webpack_require__(2576),_request_queue2=_interopRequireDefault(_request_queue),_looper=__webpack_require__(2623),_looper2=_interopRequireDefault(_looper);module.exports=exports["default"]},2626:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function isErrorNonFatal(error){return!!error&&(error.message===OVERWRITE_REJECTED||error.message===SAVE_DUPLICATE_REJECTED)}function SavedObjectFactory(esAdmin,kbnIndex,Promise,Private,Notifier,confirmModalPromise,indexPatterns){function SavedObject(config){function refreshIndex(){return esAdmin.indices.refresh({index:kbnIndex})}var _this=this;_lodash2["default"].isObject(config)||(config={});var docSource=new DocSource,esType=config.type;this.index=kbnIndex,this.getDisplayName=function(){return esType},this.getEsType=function(){return esType},this.isSaving=!1,this.defaults=config.defaults||{};var notify=new Notifier({location:"Saved "+this.getDisplayName()}),mapping=mappingSetup.expandShorthand(config.mapping),afterESResp=config.afterESResp||_lodash2["default"].noop,customInit=config.init||_lodash2["default"].noop;this.searchSource=config.searchSource?new SearchSource:void 0,this.id=config.id||void 0,this.copyOnSave=!1;var parseSearchSource=function(searchSourceJson){if(_this.searchSource){var state=void 0;try{state=JSON.parse(searchSourceJson)}catch(e){state={}}var oldState=_this.searchSource.toJSON(),fnProps=_lodash2["default"].transform(oldState,function(dynamic,val,name){_lodash2["default"].isFunction(val)&&(dynamic[name]=val)},{});_this.searchSource.set(_lodash2["default"].defaults(state,fnProps))}},hydrateIndexPattern=function(){if(!_this.searchSource)return Promise.resolve(null);if(config.clearSavedIndexPattern)return _this.searchSource.set("index",void 0),Promise.resolve(null);var index=config.indexPattern||_this.searchSource.getOwn("index");return index?(index instanceof indexPatterns.IndexPattern||(index=indexPatterns.get(index)),Promise.resolve(index).then(function(indexPattern){_this.searchSource.set("index",indexPattern)})):Promise.resolve(null)};this.init=_lodash2["default"].once(function(){if(!esType)throw new Error("You must define a type name to use SavedObject objects.");return docSource.index(kbnIndex).type(esType).id(_this.id),mappingSetup.isDefined(esType).then(function(defined){return!!defined||(mapping.kibanaSavedObjectMeta={properties:{searchSourceJSON:{type:"string"}}},mappingSetup.setup(esType,mapping))}).then(function(){return _this.id?docSource.fetch().then(_this.applyESResp):(_lodash2["default"].assign(_this,_this.defaults),hydrateIndexPattern().then(function(){return afterESResp.call(_this)}))}).then(function(){return customInit.call(_this)}).then(function(){return _this})}),this.applyESResp=function(resp){if(_this._source=_lodash2["default"].cloneDeep(resp._source),null!=resp.found&&!resp.found)throw new _errors.SavedObjectNotFound(esType,_this.id);var meta=resp._source.kibanaSavedObjectMeta||{};return delete resp._source.kibanaSavedObjectMeta,!config.indexPattern&&_this._source.indexPattern&&(config.indexPattern=_this._source.indexPattern,delete _this._source.indexPattern),_lodash2["default"].defaults(_this._source,_this.defaults),_lodash2["default"].forOwn(mapping,function(fieldMapping,fieldName){fieldMapping._deserialize&&(_this._source[fieldName]=fieldMapping._deserialize(_this._source[fieldName],resp,fieldName,fieldMapping))}),_lodash2["default"].assign(_this,_this._source),_this.lastSavedTitle=_this.title,Promise["try"](function(){return parseSearchSource(meta.searchSourceJSON),hydrateIndexPattern()}).then(function(){return Promise.cast(afterESResp.call(_this,resp))}).then(function(){docSource.onUpdate().then(_this.applyESResp,notify.fatal)})},this.serialize=function(){var body={};return _lodash2["default"].forOwn(mapping,function(fieldMapping,fieldName){null!=_this[fieldName]&&(body[fieldName]=fieldMapping._serialize?fieldMapping._serialize(_this[fieldName]):_this[fieldName])}),_this.searchSource&&(body.kibanaSavedObjectMeta={searchSourceJSON:_angular2["default"].toJson(_lodash2["default"].omit(_this.searchSource.toJSON(),["sort","size"]))}),body},this.isTitleChanged=function(){return _this._source&&_this._source.title!==_this.title};var createSource=function(source){return docSource.doCreate(source)["catch"](function(err){if(409===_lodash2["default"].get(err,"origError.status")){var confirmMessage="Are you sure you want to overwrite "+_this.title+"?";return confirmModalPromise(confirmMessage,{confirmButtonText:"Overwrite "+_this.getDisplayName()}).then(function(){return docSource.doIndex(source)})["catch"](function(){return Promise.reject(new Error(OVERWRITE_REJECTED))})}return Promise.reject(err)})},warnIfDuplicateTitle=function(){return _this.title!==_this.lastSavedTitle||_this.copyOnSave?(0,_get_title_already_exists.getTitleAlreadyExists)(_this,esAdmin).then(function(duplicateTitle){if(!duplicateTitle)return!0;var confirmMessage="A "+_this.getDisplayName()+" with the title '"+duplicateTitle+"' already exists. Would you like to save anyway?";return confirmModalPromise(confirmMessage,{confirmButtonText:"Save "+_this.getDisplayName()})["catch"](function(){return Promise.reject(new Error(SAVE_DUPLICATE_REJECTED))})}):Promise.resolve()};this.save=function(){var saveOptions=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},originalId=_this.id;_this.copyOnSave&&(_this.id=null),_this.id=_this.id||_nodeUuid2["default"].v1(),docSource.id(_this.id);var source=_this.serialize();return _this.isSaving=!0,warnIfDuplicateTitle().then(function(){return saveOptions.confirmOverwrite?createSource(source):docSource.doIndex(source)}).then(function(id){_this.id=id}).then(refreshIndex).then(function(){return _this.isSaving=!1,_this.lastSavedTitle=_this.title,_this.id})["catch"](function(err){if(_this.isSaving=!1,_this.id=originalId,!isErrorNonFatal(err))return Promise.reject(err)})},this.destroy=function(){docSource.cancelQueued(),_this.searchSource&&_this.searchSource.cancelQueued()},this["delete"]=function(){return esAdmin["delete"]({index:kbnIndex,type:esType,id:_this.id}).then(function(){return refreshIndex()})}}var DocSource=Private(_admin_doc_source2["default"]),SearchSource=Private(_search_source2["default"]),mappingSetup=Private(_mapping_setup2["default"]);return SavedObject}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=SavedObjectFactory;var _angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_errors=__webpack_require__(2513),_nodeUuid=__webpack_require__(586),_nodeUuid2=_interopRequireDefault(_nodeUuid),_mapping_setup=__webpack_require__(2601),_mapping_setup2=_interopRequireDefault(_mapping_setup),_admin_doc_source=__webpack_require__(2573),_admin_doc_source2=_interopRequireDefault(_admin_doc_source),_search_source=__webpack_require__(2614),_search_source2=_interopRequireDefault(_search_source),_get_title_already_exists=__webpack_require__(2628),OVERWRITE_REJECTED="Overwrite confirmation was rejected",SAVE_DUPLICATE_REJECTED="Save with duplicate title confirmation was rejected";module.exports=exports["default"]},2627:function(module,exports){},2628:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function getTitleAlreadyExists(savedObject,esAdmin){var index=savedObject.index,title=savedObject.title,id=savedObject.id,esType=savedObject.getEsType();if(!title)throw new Error("Title must be supplied");var body={query:{bool:{must:{match_phrase:{title:title}},must_not:{match:{id:id}}}}},size=10;return esAdmin.search({index:index,type:esType,body:body,size:size}).then(function(response){var match=_lodash2["default"].find(response.hits.hits,function(hit){return hit._source.title.toLowerCase()===title.toLowerCase()});return match?match._source.title:void 0})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTitleAlreadyExists=getTitleAlreadyExists;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash)},2629:function(module,exports,__webpack_require__){"use strict";function RedirectWhenMissingFn($location,kbnUrl,Notifier,Promise){var notify=new Notifier;return function(mapping){return"string"==typeof mapping&&(mapping={"*":mapping}),function(err){if(!(err instanceof _errors.SavedObjectNotFound))throw err;var url=mapping[err.savedObjectType]||mapping["*"];return url||(url="/"),url+=(url.indexOf("?")>=0?"&":"?")+("notFound="+err.savedObjectType),notify.error(err),kbnUrl.redirect(url),Promise.halt()}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=RedirectWhenMissingFn;var _errors=__webpack_require__(2513);module.exports=exports["default"]},2630:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("kibana");_module.service("debounce",["$timeout",function($timeout){return function(func,wait,options){function debounce(){self=this,args=arguments;var later=function(){timeout=null,options.leading&&!options.trailing||(result=func.apply(self,args))},callNow=options.leading&&!timeout;return timeout&&$timeout.cancel(timeout),timeout=$timeout(later,wait,options.invokeApply),callNow&&(result=func.apply(self,args)),result}var timeout=void 0,args=void 0,self=void 0,result=void 0;return options=_lodash2["default"].defaults(options||{},{leading:!1,trailing:!0,invokeApply:!0}),debounce.cancel=function(){$timeout.cancel(timeout),timeout=null},debounce}}])},2631:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function DoctitleProvider(docTitle){return docTitle}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=DoctitleProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_modules2["default"].get("kibana").run(function($rootScope,docTitle){$rootScope.$on("$routeChangeStart",docTitle.reset),$rootScope.$on("$routeChangeError",docTitle.update),$rootScope.$on("$routeChangeSuccess",docTitle.update)}).service("docTitle",function(){function render(){lastChange=lastChange||[];var parts=[lastChange[0]];return lastChange[1]||parts.push(baseTitle),(0,_lodash2["default"])(parts).flattenDeep().compact().join(" - ")}var baseTitle=document.title,self=this,lastChange=void 0;self.change=function(title,complete){lastChange=[title,complete],self.update()},self.reset=function(){lastChange=null},self.update=function(){document.title=render()}}),module.exports=exports["default"]},2632:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),NL_RE=/\n/g,events="keydown keypress keyup change";_modules2["default"].get("kibana").directive("elasticTextarea",function(){return{restrict:"A",link:function($scope,$el){function resize(){$el.attr("rows",_lodash2["default"].size($el.val().match(NL_RE))+1)}$el.on(events,resize),$scope.$evalAsync(resize),$scope.$on("$destroy",function(){$el.off(events,resize)})}}})},2633:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_kbn_form_controller=__webpack_require__(2634),_kbn_form_controller2=_interopRequireDefault(_kbn_form_controller),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_modules2["default"].get("kibana").config(function($provide){function decorateDirectiveController(DecorativeController){return function($delegate,$injector){return $delegate.forEach(function(directive){var chain=[directive.controller,DecorativeController].map(function(fn){var deps=$injector.annotate(fn);return{deps:deps,fn:_lodash2["default"].isArray(fn)?_lodash2["default"].last(fn):fn}});directive.controller=function(){var allDeps=_lodash2["default"].toArray(arguments);return chain.reduce(function(controller,link){var deps=allDeps.splice(0,link.deps.length);return link.fn.apply(controller,deps)||controller},this)},directive.controller.$inject=chain.reduce(function(deps,link){return deps.concat(link.deps)},[])}),$delegate}}$provide.decorator("formDirective",decorateDirectiveController(_kbn_form_controller2["default"])),$provide.decorator("ngFormDirective",decorateDirectiveController(_kbn_form_controller2["default"]))})},2634:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function KbnFormController($scope,$element){function filterSubmits(event){self.errorCount()&&(event.preventDefault(),event.stopImmediatePropagation(),self.$setTouched())}var self=this;self.errorCount=function(){return self.$$invalidModels().length},self.softErrorCount=function(){return self.$$invalidModels(function(model){return model.$touched||model.$dirty}).length},self.describeErrors=function(){var count=self.softErrorCount();return count+" Error"+(1===count?"":"s")},self.$$invalidModels=function(predicate){predicate=_lodash2["default"].callback(predicate);var invalid=[];return _lodash2["default"].forOwn(self.$error,function collect(models){models&&models.forEach(function(model){if(model.$$invalidModels)_lodash2["default"].forOwn(model.$error,collect);else if(predicate(model)){for(var len=invalid.length;len--;)if(invalid[len]===model)return;invalid.push(model)}})}),invalid},self.$setTouched=function(){self.$$invalidModels().forEach(function(model){model.$setTouched&&model.$setTouched()})},$element.on("submit",filterSubmits),$scope.$on("$destroy",function(){$element.off("submit",filterSubmits)})}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);exports["default"]=KbnFormController,module.exports=exports["default"]},2635:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_filter_bar=__webpack_require__(610),_filter_bar2=_interopRequireDefault(_filter_bar);__webpack_require__(2636);var _filter_applied_and_unwrap=__webpack_require__(2637),_filter_applied_and_unwrap2=_interopRequireDefault(_filter_applied_and_unwrap),_map_and_flatten_filters=__webpack_require__(2638),_map_and_flatten_filters2=_interopRequireDefault(_map_and_flatten_filters),_map_flatten_and_wrap_filters=__webpack_require__(2650),_map_flatten_and_wrap_filters2=_interopRequireDefault(_map_flatten_and_wrap_filters),_extract_time_filter=__webpack_require__(2651),_extract_time_filter2=_interopRequireDefault(_extract_time_filter),_filter_out_time_based_filter=__webpack_require__(2652),_filter_out_time_based_filter2=_interopRequireDefault(_filter_out_time_based_filter),_change_time_filter=__webpack_require__(2653),_change_time_filter2=_interopRequireDefault(_change_time_filter),_query_filter=__webpack_require__(2654),_query_filter2=_interopRequireDefault(_query_filter),_compare_filters=__webpack_require__(2657),_compare_filters2=_interopRequireDefault(_compare_filters),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("kibana");_module.directive("filterBar",function(Private,Promise,getAppState){var mapAndFlattenFilters=Private(_map_and_flatten_filters2["default"]),mapFlattenAndWrapFilters=Private(_map_flatten_and_wrap_filters2["default"]),extractTimeFilter=Private(_extract_time_filter2["default"]),filterOutTimeBasedFilter=Private(_filter_out_time_based_filter2["default"]),changeTimeFilter=Private(_change_time_filter2["default"]),queryFilter=Private(_query_filter2["default"]),privateFilterFieldRegex=/(^\$|meta)/;return{restrict:"E",template:_filter_bar2["default"],scope:{},link:function($scope){function addAndInvertFilters(filters){var existingFilters=queryFilter.getFilters(),inversionFilters=_lodash2["default"].filter(existingFilters,function(existingFilter){var newMatchingFilter=_lodash2["default"].find(filters,_lodash2["default"].partial(_compare_filters2["default"],existingFilter));return newMatchingFilter&&newMatchingFilter.meta&&existingFilter.meta&&existingFilter.meta.negate!==newMatchingFilter.meta.negate}),newFilters=_lodash2["default"].reject(filters,function(filter){return _lodash2["default"].find(inversionFilters,_lodash2["default"].partial(_compare_filters2["default"],filter))});_lodash2["default"].forEach(inversionFilters,$scope.invertFilter),$scope.addFilters(newFilters)}function convertToEditableFilter(filter){return _lodash2["default"].omit(_lodash2["default"].cloneDeep(filter),function(val,key){return key.match(privateFilterFieldRegex)})}function updateFilters(){var filters=queryFilter.getFilters();mapAndFlattenFilters(filters).then(function(results){$scope.filters=_lodash2["default"].sortBy(results,function(filter){return!filter.meta.pinned}),$scope.$emit("filterbar:updated")})}["addFilters","toggleFilter","toggleAll","pinFilter","pinAll","invertFilter","invertAll","removeFilter","removeAll","updateFilter"].forEach(function(method){$scope[method]=queryFilter[method]}),$scope.state=getAppState(),$scope.aceLoaded=function(editor){editor.$blockScrolling=1/0;var session=editor.getSession();session.setTabSize(2),session.setUseSoftTabs(!0)},$scope.applyFilters=function(filters){addAndInvertFilters((0,_filter_applied_and_unwrap2["default"])(filters)),$scope.newFilters=[],$scope.changeTimeFilter&&$scope.changeTimeFilter.meta&&$scope.changeTimeFilter.meta.apply&&changeTimeFilter($scope.changeTimeFilter)},$scope.startEditingFilter=function(source){return $scope.editingFilter={source:source,type:_lodash2["default"].findKey(source,function(val,key){return!key.match(privateFilterFieldRegex)}),model:convertToEditableFilter(source),alias:source.meta.alias}},$scope.stopEditingFilter=function(){$scope.editingFilter=null},$scope.editDone=function(){$scope.updateFilter($scope.editingFilter),$scope.stopEditingFilter()},$scope.clearFilterBar=function(){$scope.newFilters=[],$scope.changeTimeFilter=null},$scope.$listen(queryFilter,"update",function(){$scope.stopEditingFilter(),updateFilters()}),$scope.$watch(getAppState,function(appState){$scope.state=appState}),$scope.$watch("state.$newFilters",function(filters){if(filters)return filters.length>1?mapFlattenAndWrapFilters(filters).then(function(results){return extractTimeFilter(results).then(function(filter){$scope.changeTimeFilter=filter}),results}).then(filterOutTimeBasedFilter).then(function(results){$scope.newFilters=results}):void(1===filters.length&&Promise.resolve(filters).then(function(filters){return extractTimeFilter(filters).then(function(timeFilter){timeFilter&&changeTimeFilter(timeFilter)}),filters}).then(filterOutTimeBasedFilter).then(addAndInvertFilters))}),updateFilters()}}})},2636:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_modules2["default"].get("kibana").directive("jsonInput",function(){return{restrict:"A",require:"ngModel",link:function(scope,$el,attrs,ngModelCntrl){function fromJSON(value){try{value=JSON.parse(value);var validity=!scope.$eval(attrs.requireKeys)||_lodash2["default"].keys(value).length>0;ngModelCntrl.$setValidity("json",validity)}catch(e){ngModelCntrl.$setValidity("json",!1)}return value}function toJSON(value){return _angular2["default"].toJson(value,2)}ngModelCntrl.$formatters.push(toJSON),ngModelCntrl.$parsers.push(fromJSON)}}})},2637:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(filters){return _lodash2["default"].filter(filters,"meta.apply")};var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);module.exports=exports["default"]},2638:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function mapAndFlattenFiltersProvider(Private,Promise){var mapFilter=Private(_map_filter2["default"]);return function(filters){return(0,_lodash2["default"])(filters).flatten().compact().map(mapFilter).thru(Promise.all).value()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=mapAndFlattenFiltersProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_map_filter=__webpack_require__(2639),_map_filter2=_interopRequireDefault(_map_filter);module.exports=exports["default"]},2639:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function mapFilterProvider(Promise,Private){var generateMappingChain=Private(_generate_mapping_chain2["default"]),mappers=[Private(_map_match_all2["default"]),Private(_map_terms2["default"]),Private(_map_range2["default"]),Private(_map_exists2["default"]),Private(_map_missing2["default"]),Private(_map_query_string2["default"]),Private(_map_geo_bounding_box2["default"]),Private(_map_script2["default"]),Private(_map_default2["default"])],noop=function(){return Promise.reject(new Error("No mappings have been found for filter."))},mapFn=_lodash2["default"].reduceRight(mappers,function(memo,map){var filterChainFn=generateMappingChain(map);return filterChainFn(memo)},noop);return function(filter){return mapFn(filter).then(function(result){return filter.meta=filter.meta||{},filter.meta.key=result.key,filter.meta.value=result.value,filter.meta.disabled=!!filter.meta.disabled,filter.meta.negate=!!filter.meta.negate,filter.meta.alias=filter.meta.alias||null,filter})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=mapFilterProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_generate_mapping_chain=__webpack_require__(2640),_generate_mapping_chain2=_interopRequireDefault(_generate_mapping_chain),_map_match_all=__webpack_require__(2641),_map_match_all2=_interopRequireDefault(_map_match_all),_map_terms=__webpack_require__(2642),_map_terms2=_interopRequireDefault(_map_terms),_map_range=__webpack_require__(2643),_map_range2=_interopRequireDefault(_map_range),_map_exists=__webpack_require__(2644),_map_exists2=_interopRequireDefault(_map_exists),_map_missing=__webpack_require__(2645),_map_missing2=_interopRequireDefault(_map_missing),_map_query_string=__webpack_require__(2646),_map_query_string2=_interopRequireDefault(_map_query_string),_map_geo_bounding_box=__webpack_require__(2647),_map_geo_bounding_box2=_interopRequireDefault(_map_geo_bounding_box),_map_script=__webpack_require__(2648),_map_script2=_interopRequireDefault(_map_script),_map_default=__webpack_require__(2649),_map_default2=_interopRequireDefault(_map_default);module.exports=exports["default"]},2640:function(module,exports){"use strict";function generateMappingChainProvider(Promise){var noop=function(){return Promise.reject(new Error("No mappings have been found for filter."))};return function(fn){return function(next){return next=next||noop,function(filter){return fn(filter)["catch"](function(result){return result===filter?next(filter):Promise.reject(result)})}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=generateMappingChainProvider,module.exports=exports["default"]},2641:function(module,exports){"use strict";function mapMatchAllProvider(Promise){return function(filter){if(filter.match_all){var key=filter.meta.field,value=filter.meta.formattedValue||"all";return Promise.resolve({key:key,value:value})}return Promise.reject(filter)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=mapMatchAllProvider,module.exports=exports["default"]},2642:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function mapTermsProvider(Promise,courier){return function(filter){var key=void 0,value=void 0,field=void 0;return filter.query&&filter.query.match?courier.indexPatterns.get(filter.meta.index).then(function(indexPattern){return key=_lodash2["default"].keys(filter.query.match)[0],field=indexPattern.fields.byName[key],value=filter.query.match[key].query,value=field.format.convert(value),{key:key,value:value}}):Promise.reject(filter)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=mapTermsProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);module.exports=exports["default"]},2643:function(module,exports,__webpack_require__){"use strict";function mapRangeProvider(Promise,courier){return function(filter){return filter.range?courier.indexPatterns.get(filter.meta.index).then(function(indexPattern){var key=Object.keys(filter.range)[0],convert=indexPattern.fields.byName[key].format.getConverterFor("text"),range=filter.range[key],left=(0,_lodash.has)(range,"gte")?range.gte:range.gt;null==left&&(left=-(1/0));var right=(0,_lodash.has)(range,"lte")?range.lte:range.lt;return null==right&&(right=1/0),{key:key,value:convert(left)+" to "+convert(right)}}):Promise.reject(filter)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=mapRangeProvider;var _lodash=__webpack_require__(2);module.exports=exports["default"]},2644:function(module,exports){"use strict";function mapExistsProvider(Promise){return function(filter){var key=void 0,value=void 0;return filter.exists?(key="exists",value=filter.exists.field,Promise.resolve({key:key,value:value})):Promise.reject(filter)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=mapExistsProvider,module.exports=exports["default"]},2645:function(module,exports){"use strict";function mapMissingProvider(Promise){return function(filter){var key=void 0,value=void 0;return filter.missing?(key="missing",value=filter.missing.field,Promise.resolve({key:key,value:value})):Promise.reject(filter)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=mapMissingProvider,module.exports=exports["default"]},2646:function(module,exports){"use strict";function mapQueryStringProvider(Promise){return function(filter){var key=void 0,value=void 0;return filter.query&&filter.query.query_string?(key="query",value=filter.query.query_string.query,Promise.resolve({key:key,value:value})):Promise.reject(filter)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=mapQueryStringProvider,module.exports=exports["default"]},2647:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function mapGeoBoundBoxProvider(Promise,courier){return function(filter){var key=void 0,value=void 0,topLeft=void 0,bottomRight=void 0,field=void 0;return filter.geo_bounding_box?courier.indexPatterns.get(filter.meta.index).then(function(indexPattern){return key=_lodash2["default"].keys(filter.geo_bounding_box)[0],field=indexPattern.fields.byName[key],topLeft=field.format.convert(filter.geo_bounding_box[field.name].top_left),bottomRight=field.format.convert(filter.geo_bounding_box[field.name].bottom_right),value=topLeft+" to "+bottomRight,{key:key,value:value}}):Promise.reject(filter)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=mapGeoBoundBoxProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);module.exports=exports["default"]},2648:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_RESULT__=function(){return function(Promise,courier){return function(filter){var key=void 0,value=void 0,field=void 0;return filter.script?courier.indexPatterns.get(filter.meta.index).then(function(indexPattern){return key=filter.meta.field,field=indexPattern.fields.byName[key],filter.meta.formattedValue?value=filter.meta.formattedValue:(value=filter.script.script.params.value,value=field.format.convert(value)),{key:key,value:value}}):Promise.reject(filter)}}}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},2649:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function mapDefaultProvider(Promise){var metaProperty=/(^\$|meta)/;return function(filter){var key=_lodash2["default"].find(_lodash2["default"].keys(filter),function(key){return!key.match(metaProperty)});if(key){var value=_angular2["default"].toJson(filter[key]);return Promise.resolve({key:key,value:value})}return Promise.reject(filter)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=mapDefaultProvider;var _angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);module.exports=exports["default"]},2650:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function mapFlattenAndWrapFilters(Private){var mapAndFlattenFilters=Private(_map_and_flatten_filters2["default"]);return function(filters){return mapAndFlattenFilters(filters).then(function(filters){return _lodash2["default"].map(filters,function(filter){return filter.meta=filter.meta||{},filter.meta.apply=!0,filter})})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=mapFlattenAndWrapFilters;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_map_and_flatten_filters=__webpack_require__(2638),_map_and_flatten_filters2=_interopRequireDefault(_map_and_flatten_filters);module.exports=exports["default"]},2651:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function extractTimeFilterProvider(courier,Promise){return Promise.method(function(filters){var id=_lodash2["default"].get(filters,"[0].meta.index");if(null!=id)return courier.indexPatterns.get(id).then(function(indexPattern){var filter=_lodash2["default"].find(filters,function(obj){var key=_lodash2["default"].keys(obj.range)[0];return key===indexPattern.timeFieldName});if(filter&&filter.range)return filter})})}Object.defineProperty(exports,"__esModule",{value:!0}),
exports["default"]=extractTimeFilterProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);module.exports=exports["default"]},2652:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function filterOutTimeBaseFilter(courier,Promise){return Promise.method(function(filters){var id=_lodash2["default"].get(filters,"[0].meta.index");if(null!=id)return courier.indexPatterns.get(id).then(function(indexPattern){return _lodash2["default"].filter(filters,function(filter){return!(filter.range&&filter.range[indexPattern.timeFieldName])})})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=filterOutTimeBaseFilter;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);module.exports=exports["default"]},2653:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function changeTimeFilterProvider(timefilter){return function(filter){var key=_lodash2["default"].keys(filter.range)[0],values=filter.range[key];timefilter.time.from=(0,_moment2["default"])(values.gt||values.gte),timefilter.time.to=(0,_moment2["default"])(values.lt||values.lte),timefilter.time.mode="absolute"}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=changeTimeFilterProvider;var _moment=__webpack_require__(318),_moment2=_interopRequireDefault(_moment),_lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);module.exports=exports["default"]},2654:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(Private,$rootScope,getAppState,globalState,config){function validateStateFilters(state){var compacted=_lodash2["default"].compact(state.filters);return state.filters.length!==compacted.length&&(state.filters=compacted,state.replace()),state.filters}function saveState(){var appState=getAppState();appState&&appState.save(),globalState.save()}function appendStoreType(type){return function(filter){return filter.$state={store:type},filter}}function executeOnFilters(fn){var appState=getAppState(),globalFilters=[],appFilters=[];globalState.filters&&(globalFilters=globalState.filters),appState&&appState.filters&&(appFilters=appState.filters),globalFilters.concat(appFilters).forEach(fn)}function mergeStateFilters(gFilters,aFilters,compareOptions){var globalFilters=gFilters?_lodash2["default"].cloneDeep(gFilters):[],appFilters=aFilters?_lodash2["default"].cloneDeep(aFilters):[];return compareOptions=_lodash2["default"].defaults(compareOptions||{},{disabled:!0}),_lodash2["default"].each(appFilters,function(filter,i){var match=_lodash2["default"].find(globalFilters,function(globalFilter){return(0,_compare_filters2["default"])(globalFilter,filter,compareOptions)});match&&(_lodash2["default"].assign(match.meta,filter.meta),appFilters.splice(i,1))}),[(0,_uniq_filters2["default"])(globalFilters,{disabled:!0}),(0,_uniq_filters2["default"])(appFilters,{disabled:!0})]}function initWatchers(){function initAppStateWatchers(){var stateWatchers=[{fn:$rootScope.$watch,deep:!0,get:queryFilter.getGlobalFilters},{fn:$rootScope.$watch,deep:!0,get:queryFilter.getAppFilters}];return $rootScope.$watchMulti(stateWatchers,function(next,prev){function getActions(){var newFilters=[],oldFilters=[];stateWatchers.forEach(function(watcher,i){var nextVal=next[i],prevVal=prev[i];newFilters=newFilters.concat(nextVal),oldFilters=oldFilters.concat(prevVal),nextVal!==prevVal&&(nextVal&&(doUpdate=!0),(0,_only_disabled2["default"])(nextVal,prevVal)||(doFetch=!0))}),doFetch&&newFilters.length===oldFilters.length&&(0,_only_state_changed2["default"])(newFilters,oldFilters)&&(doFetch=!1)}if(!_lodash2["default"].isEqual(next,prev)){var doUpdate=!1,doFetch=!1,filters=mergeStateFilters(next[0],next[1]),globalFilters=filters[0],appFilters=filters[1],appState=getAppState(),globalChanged=!_lodash2["default"].isEqual(next[0],globalFilters),appChanged=!_lodash2["default"].isEqual(next[1],appFilters);if(globalChanged||appChanged)return globalState.filters=globalFilters,void(appState&&(appState.filters=appFilters));getActions(),doUpdate&&(saveState(),queryFilter.emit("update").then(function(){doFetch&&queryFilter.emit("fetch")}))}})}var removeAppStateWatchers=void 0;$rootScope.$watch(getAppState,function(){removeAppStateWatchers&&removeAppStateWatchers(),removeAppStateWatchers=initAppStateWatchers()})}var EventEmitter=Private(_events2["default"]),mapAndFlattenFilters=Private(_map_and_flatten_filters2["default"]),queryFilter=new EventEmitter;return queryFilter.getFilters=function(){var compareOptions={disabled:!0,negate:!0},appFilters=queryFilter.getAppFilters(),globalFilters=queryFilter.getGlobalFilters();return(0,_uniq_filters2["default"])(globalFilters.concat(appFilters),compareOptions)},queryFilter.getAppFilters=function(){var appState=getAppState();return appState&&appState.filters?(appState.filters=validateStateFilters(appState),appState.filters?_lodash2["default"].map(appState.filters,appendStoreType("appState")):[]):[]},queryFilter.getGlobalFilters=function(){return globalState.filters?(globalState.filters=validateStateFilters(globalState),_lodash2["default"].map(globalState.filters,appendStoreType("globalState"))):[]},queryFilter.addFilters=function(filters,global){if(void 0===global){var configDefault=config.get("filters:pinnedByDefault");configDefault!==!1&&configDefault!==!0||(global=configDefault)}var appState=getAppState(),filterState=global?globalState:appState;return _lodash2["default"].isArray(filters)||(filters=[filters]),mapAndFlattenFilters(filters).then(function(filters){filterState.filters||(filterState.filters=[]),filterState.filters=filterState.filters.concat(filters)})},queryFilter.removeFilter=function(matchFilter){var appState=getAppState(),filter=_lodash2["default"].omit(matchFilter,["$$hashKey"]),state=void 0,index=void 0;if(appState&&(index=_lodash2["default"].findIndex(appState.filters,filter),index!==-1&&(state=appState)),!state){if(index=_lodash2["default"].findIndex(globalState.filters,filter),index===-1)return;state=globalState}state.filters.splice(index,1)},queryFilter.updateFilter=function(filter){var mergedFilter=_lodash2["default"].assign({},filter.source,filter.model);mergedFilter.meta.alias=filter.alias;var filterTypeReplaced=filter.model[filter.type]!==mergedFilter[filter.type];return filterTypeReplaced&&delete mergedFilter[filter.type],_angular2["default"].copy(mergedFilter,filter.source)},queryFilter.removeAll=function(){var appState=getAppState();appState.filters=[],globalState.filters=[]},queryFilter.toggleFilter=function(filter,force){var disabled=_lodash2["default"].isUndefined(force)?!filter.meta.disabled:!!force;return filter.meta.disabled=disabled,filter},queryFilter.toggleAll=function(force){function doToggle(filter){queryFilter.toggleFilter(filter,force)}executeOnFilters(doToggle)},queryFilter.invertFilter=function(filter){return filter.meta.negate=!filter.meta.negate,filter},queryFilter.invertAll=function(){executeOnFilters(queryFilter.invertFilter)},queryFilter.pinFilter=function(filter,force){var appState=getAppState();if(!appState)return filter;_lodash2["default"].isArray(globalState.filters)||(globalState.filters=[]),_lodash2["default"].isArray(appState.filters)||(appState.filters=[]);var appIndex=_lodash2["default"].indexOf(appState.filters,filter);if(appIndex!==-1&&force!==!1)appState.filters.splice(appIndex,1),globalState.filters.push(filter);else{var globalIndex=_lodash2["default"].indexOf(globalState.filters,filter);if(globalIndex===-1||force===!0)return filter;globalState.filters.splice(globalIndex,1),appState.filters.push(filter)}return filter},queryFilter.pinAll=function(force){function pin(filter){queryFilter.pinFilter(filter,force)}executeOnFilters(pin)},initWatchers(),queryFilter};var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_only_disabled=__webpack_require__(2655),_only_disabled2=_interopRequireDefault(_only_disabled),_only_state_changed=__webpack_require__(2656),_only_state_changed2=_interopRequireDefault(_only_state_changed),_uniq_filters=__webpack_require__(2658),_uniq_filters2=_interopRequireDefault(_uniq_filters),_compare_filters=__webpack_require__(2657),_compare_filters2=_interopRequireDefault(_compare_filters),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_events=__webpack_require__(2465),_events2=_interopRequireDefault(_events),_map_and_flatten_filters=__webpack_require__(2638),_map_and_flatten_filters2=_interopRequireDefault(_map_and_flatten_filters);module.exports=exports["default"]},2655:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(newFilters,oldFilters){return _lodash2["default"].every(newFilters.concat(oldFilters),function(newFilter){return pluckDisabled(newFilter)})};var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),pluckDisabled=function(filter){return _lodash2["default"].get(filter,"meta.disabled")};module.exports=exports["default"]},2656:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(newFilters,oldFilters){return _lodash2["default"].every(newFilters,function(newFilter){var match=_lodash2["default"].find(oldFilters,function(oldFilter){return(0,_compare_filters2["default"])(newFilter,oldFilter,compareOptions)});return!!match})};var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_compare_filters=__webpack_require__(2657),_compare_filters2=_interopRequireDefault(_compare_filters),compareOptions={disabled:!0,negate:!0};module.exports=exports["default"]},2657:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function mapFilter(filter){var cleaned=_lodash2["default"].omit(filter,excludedAttributes);return comparators.negate&&(cleaned.negate=filter.meta&&!!filter.meta.negate),comparators.disabled&&(cleaned.disabled=filter.meta&&!!filter.meta.disabled),cleaned}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(first,second,comparatorOptions){return excludedAttributes=["$$hashKey","meta"],comparators=_lodash2["default"].defaults(comparatorOptions||{},{state:!1,negate:!1,disabled:!1}),comparators.state||excludedAttributes.push("$state"),_lodash2["default"].isEqual(mapFilter(first),mapFilter(second))};var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),excludedAttributes=void 0,comparators=void 0;module.exports=exports["default"]},2658:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(filters,comparatorOptions){var results=[];return _lodash2["default"].each(filters,function(filter){results=_lodash2["default"].union(results,(0,_dedup_filters2["default"])(results,[filter],comparatorOptions))}),results};var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_dedup_filters=__webpack_require__(2659),_dedup_filters2=_interopRequireDefault(_dedup_filters);module.exports=exports["default"]},2659:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(existingFilters,filters,comparatorOptions){return _lodash2["default"].isArray(filters)||(filters=[filters]),_lodash2["default"].filter(filters,function(filter){return!_lodash2["default"].find(existingFilters,function(existingFilter){return(0,_compare_filters2["default"])(existingFilter,filter,comparatorOptions)})})};var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_compare_filters=__webpack_require__(2657),_compare_filters2=_interopRequireDefault(_compare_filters);module.exports=exports["default"]},2660:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(Private){var queryFilter=Private(_query_filter2["default"]),filterManager={};return filterManager.add=function(field,values,operation,index){values=_lodash2["default"].isArray(values)?values:[values];var fieldName=_lodash2["default"].isObject(field)?field.name:field,filters=_lodash2["default"].flatten([queryFilter.getAppFilters()]),newFilters=[],negate="-"===operation;return _lodash2["default"].each(values,function(value){var filter=void 0,existing=_lodash2["default"].find(filters,function(filter){if(filter)return"_exists_"===fieldName&&filter.exists?filter.exists.field===value:_lodash2["default"].has(filter,"query.match")?filter.query.match[fieldName]&&filter.query.match[fieldName].query===value:filter.script?filter.meta.field===fieldName&&filter.script.script.params.value===value:void 0});if(existing)return existing.meta.disabled=!1,void(existing.meta.negate!==negate&&queryFilter.invertFilter(existing));switch(fieldName){case"_exists_":filter={meta:{negate:negate,index:index},exists:{field:value}};break;default:field.scripted?filter={meta:{negate:negate,index:index,field:fieldName},script:{script:{inline:(0,_phrase.buildInlineScriptForPhraseFilter)(field),lang:field.lang,params:{value:value}}}}:(filter={meta:{negate:negate,index:index},query:{match:{}}},filter.query.match[fieldName]={query:value,type:"phrase"})}newFilters.push(filter)}),queryFilter.addFilters(newFilters)},filterManager};var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_query_filter=__webpack_require__(2654),_query_filter2=_interopRequireDefault(_query_filter),_phrase=__webpack_require__(2661);module.exports=exports["default"]},2661:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function buildPhraseFilter(field,value,indexPattern){var filter={meta:{index:indexPattern.id}};if(field.scripted){var convertedValue=value;if("boolean"!=typeof value&&"boolean"===field.type){if(1!==value&&0!==value)throw new Error("Boolean scripted fields must return true or false");convertedValue=1===value}var script=buildInlineScriptForPhraseFilter(field);_lodash2["default"].set(filter,"script.script",{inline:script,lang:field.lang,params:{value:convertedValue}}),filter.meta.field=field.name}else filter.query={match:{}},filter.query.match[field.name]={query:value,type:"phrase"};return filter}function buildInlineScriptForPhraseFilter(scriptedField){return"painless"===scriptedField.lang?"boolean compare(Supplier s, def v) {return s.get() == v;}"+("compare(() -> { "+scriptedField.script+" }, params.value);"):"("+scriptedField.script+") == value"}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=buildPhraseFilter,exports.buildInlineScriptForPhraseFilter=buildInlineScriptForPhraseFilter;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash)},2662:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_modules2["default"].get("kibana").run(function($rootScope){$rootScope.constructor.prototype.$listen=function(emitter,eventName,handler){emitter.on(eventName,handler),this.$on("$destroy",function(){emitter.off(eventName,handler)})}})},2663:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _to_user=__webpack_require__(2664),_to_user2=_interopRequireDefault(_to_user),_from_user=__webpack_require__(2665),_from_user2=_interopRequireDefault(_from_user),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_modules2["default"].get("kibana").directive("parseQuery",function(Private){var fromUser=Private(_from_user2["default"]);return{restrict:"A",require:"ngModel",scope:{ngModel:"="},link:function($scope,elem,attr,ngModel){var init=function(){$scope.ngModel=fromUser($scope.ngModel)};ngModel.$parsers.push(fromUser),ngModel.$formatters.push(_to_user2["default"]),init()}}})},2664:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function toUser(text){return null==text?"":_lodash2["default"].isObject(text)?text.query_string?toUser(text.query_string.query):_angular2["default"].toJson(text):"*"===text?"":""+text}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=toUser;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular);module.exports=exports["default"]},2665:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function GetQueryFromUser(es,Private){var decorateQuery=Private(_decorate_query2["default"]);return function(text){function getQueryStringQuery(text){return decorateQuery({query_string:{query:text}})}var matchAll=getQueryStringQuery("*");if(_lodash2["default"].isObject(text))return Object.keys(text).length?text:matchAll;if(text=(text||"").trim(),0===text.length)return matchAll;if("{"!==text[0])return getQueryStringQuery(text);try{return JSON.parse(text)}catch(e){return getQueryStringQuery(text)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=GetQueryFromUser;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_decorate_query=__webpack_require__(2591),_decorate_query2=_interopRequireDefault(_decorate_query);module.exports=exports["default"]},2666:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);_modules2["default"].get("kibana/persisted_log").factory("PersistedLog",function($window,localStorage){function PersistedLog(name,options){options=options||{},this.name=name,this.maxLength=parseInt(options.maxLength,10),this.filterDuplicates=options.filterDuplicates||!1,this.items=localStorage.get(this.name)||[],isNaN(this.maxLength)||(this.items=_lodash2["default"].take(this.items,this.maxLength))}return PersistedLog.prototype.add=function(val){return null==val?this.items:(this.filterDuplicates&&_lodash2["default"].remove(this.items,function(item){return _lodash2["default"].isEqual(item,val)}),this.items.unshift(val),isNaN(this.maxLength)||(this.items=_lodash2["default"].take(this.items,this.maxLength)),localStorage.set(this.name,this.items),this.items)},PersistedLog.prototype.get=function(){return this.items},PersistedLog})},2667:function(module,exports,__webpack_require__){"use strict";__webpack_require__(2668),__webpack_require__(2670)},2668:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ConfirmationButtonTypes=void 0;var _angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_lodash=__webpack_require__(2),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_confirm_modal=__webpack_require__(644),_confirm_modal2=_interopRequireDefault(_confirm_modal),_modal_overlay=__webpack_require__(2669),_module=_modules2["default"].get("kibana"),ConfirmationButtonTypes=exports.ConfirmationButtonTypes={CONFIRM:"Confirm",CANCEL:"Cancel"};_module.factory("confirmModal",function($rootScope,$compile){var modalPopover=void 0,confirmQueue=[];return function(message,customOptions){function showModal(confirmScope){var modalInstance=$compile(_confirm_modal2["default"])(confirmScope);switch(modalPopover=new _modal_overlay.ModalOverlay(modalInstance),_angular2["default"].element(document.body).on("keydown",function(event){27===event.keyCode&&confirmScope.onCancel()}),options.defaultFocusedButton){case ConfirmationButtonTypes.CONFIRM:modalInstance.find("[data-test-subj=confirmModalConfirmButton]").focus();break;case ConfirmationButtonTypes.CANCEL:modalInstance.find("[data-test-subj=confirmModalCancelButton]").focus()}}function destroy(){modalPopover.destroy(),modalPopover=void 0,_angular2["default"].element(document.body).off("keydown"),confirmScope.$destroy(),confirmQueue.length>0&&showModal(confirmQueue.pop())}var defaultOptions={onCancel:_lodash.noop,cancelButtonText:"Cancel",showClose:!1,defaultFocusedButton:ConfirmationButtonTypes.CONFIRM};if(customOptions.showClose===!0&&!customOptions.title)throw new Error("A title must be supplied when a close icon is shown");if(!customOptions.confirmButtonText||!customOptions.onConfirm)throw new Error("Please specify confirmation button text and onConfirm action");var options=Object.assign(defaultOptions,customOptions);options.onClose=customOptions.onClose||options.onCancel;var confirmScope=$rootScope.$new();confirmScope.message=message,confirmScope.confirmButtonText=options.confirmButtonText,confirmScope.cancelButtonText=options.cancelButtonText,confirmScope.title=options.title,confirmScope.showClose=options.showClose,confirmScope.onConfirm=function(){destroy(),options.onConfirm()},confirmScope.onCancel=function(){destroy(),options.onCancel()},confirmScope.onClose=function(){destroy(),options.onClose()},modalPopover?confirmQueue.unshift(confirmScope):showModal(confirmScope)}})},2669:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ModalOverlay=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_modal_overlay=__webpack_require__(646),_modal_overlay2=_interopRequireDefault(_modal_overlay);exports.ModalOverlay=function(){function ModalOverlay(modalElement){_classCallCheck(this,ModalOverlay),this.overlayElement=_angular2["default"].element(_modal_overlay2["default"]),this.overlayElement.append(modalElement),_angular2["default"].element(document.body).append(this.overlayElement)}return _createClass(ModalOverlay,[{key:"destroy",value:function(){this.overlayElement.remove()}}]),ModalOverlay}()},2670:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);__webpack_require__(2667);var _module=_modules2["default"].get("kibana");_module.factory("confirmModalPromise",function(Promise,confirmModal){return function(message,customOptions){return new Promise(function(resolve,reject){var defaultOptions={onConfirm:resolve,onCancel:reject},confirmOptions=Object.assign(defaultOptions,customOptions);confirmModal(message,confirmOptions)})}})},2671:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _field_formats=__webpack_require__(2562),_field_formats2=_interopRequireDefault(_field_formats),_url=__webpack_require__(2672),_url2=_interopRequireDefault(_url),_bytes=__webpack_require__(2676),_bytes2=_interopRequireDefault(_bytes),_date=__webpack_require__(2679),_date2=_interopRequireDefault(_date),_duration=__webpack_require__(2680),_duration2=_interopRequireDefault(_duration),_ip=__webpack_require__(2682),_ip2=_interopRequireDefault(_ip),_number=__webpack_require__(2683),_number2=_interopRequireDefault(_number),_percent=__webpack_require__(2684),_percent2=_interopRequireDefault(_percent),_string=__webpack_require__(2685),_string2=_interopRequireDefault(_string),_source=__webpack_require__(2686),_source2=_interopRequireDefault(_source),_color=__webpack_require__(2688),_color2=_interopRequireDefault(_color),_truncate=__webpack_require__(2690),_truncate2=_interopRequireDefault(_truncate),_boolean=__webpack_require__(2691),_boolean2=_interopRequireDefault(_boolean);_field_formats2["default"].register(_url2["default"]),_field_formats2["default"].register(_bytes2["default"]),_field_formats2["default"].register(_date2["default"]),_field_formats2["default"].register(_duration2["default"]),_field_formats2["default"].register(_ip2["default"]),_field_formats2["default"].register(_number2["default"]),_field_formats2["default"].register(_percent2["default"]),_field_formats2["default"].register(_string2["default"]),_field_formats2["default"].register(_source2["default"]),_field_formats2["default"].register(_color2["default"]),_field_formats2["default"].register(_truncate2["default"]),_field_formats2["default"].register(_boolean2["default"])},2672:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function UrlFormatProvider(Private){function Url(params){Url.Super.call(this,params),this._compileTemplate=_lodash2["default"].memoize(this._compileTemplate)}var FieldFormat=Private(_field_format2["default"]);return _lodash2["default"]["class"](Url).inherits(FieldFormat),Url.id="url",Url.title="Url",Url.fieldType=["number","boolean","date","ip","string","murmur3","unknown","conflict"],Url.editor={template:_url2["default"],controllerAs:"url",controller:function($scope,chrome){var iconPattern=chrome.getBasePath()+"/bundles/src/ui/public/stringify/icons/{{value}}.png";this.samples={a:["john","/some/pathname/asset.png",1234],img:["go","stop",["de","ne","us","ni"],"cv"]},$scope.$watch("editor.formatParams.type",function(type,prev){var params=$scope.editor.formatParams;"img"!==type||type===prev||params.urlTemplate||(params.urlTemplate=iconPattern)})}},Url.templateMatchRE=/{{([\s\S]+?)}}/g,Url.paramDefaults={type:"a",urlTemplate:null,labelTemplate:null},Url.urlTypes=[{id:"a",name:"Link"},{id:"img",name:"Image"}],Url.prototype._formatUrl=function(value){var template=this.param("urlTemplate");return template?this._compileTemplate(template)({value:encodeURIComponent(value),rawValue:value}):value},Url.prototype._formatLabel=function(value,url){var template=this.param("labelTemplate");return null==url&&(url=this._formatUrl(value)),template?this._compileTemplate(template)({value:value,url:url}):url},Url.prototype._convert={text:function(value){return this._formatLabel(value)},html:function(rawValue,field,hit){var url=_lodash2["default"].escape(this._formatUrl(rawValue)),label=_lodash2["default"].escape(this._formatLabel(rawValue,url));switch(this.param("type")){case"img":return'<img src="'+url+'" alt="'+label+'" title="'+label+'">';default:return hit&&hit.highlight&&hit.highlight[field.name]&&(label=(0,_highlight.getHighlightHtml)(label,hit.highlight[field.name])),'<a href="'+url+'" target="_blank">'+label+"</a>"}}},Url.prototype._compileTemplate=function(template){var parts=template.split(Url.templateMatchRE).map(function(part,i){return i%2?part.trim():part});return function(locals){for(var output="",i=-1;++i<parts.length;)if(i%2){if(locals.hasOwnProperty(parts[i])){var local=locals[parts[i]];output+=null==local?"":local}}else output+=parts[i];return output}},Url}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=UrlFormatProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(2673),__webpack_require__(2675);var _field_format=__webpack_require__(2605),_field_format2=_interopRequireDefault(_field_format),_url=__webpack_require__(662),_url2=_interopRequireDefault(_url),_highlight=__webpack_require__(2593);module.exports=exports["default"]},2673:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}__webpack_require__(2674);var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_pattern=__webpack_require__(653),_pattern2=_interopRequireDefault(_pattern);_modules2["default"].get("kibana").directive("fieldFormatEditorPattern",function(){return{restrict:"E",template:_pattern2["default"],require:["ngModel","^fieldEditor"],scope:!0,link:function($scope,$el,attrs,cntrls){var ngModelCntrl=cntrls[0];$scope.$bind("inputs",attrs.inputs),$scope.$bind("placeholder",attrs.placeholder),$scope.$watch("model",ngModelCntrl.$setViewValue),ngModelCntrl.$render=function(){$scope.model=ngModelCntrl.$viewValue}}}})},2674:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_samples=__webpack_require__(652),_samples2=_interopRequireDefault(_samples);_modules2["default"].get("kibana").directive("fieldFormatEditorSamples",function($sce,Promise){return{restrict:"E",template:_samples2["default"],require:["?^ngModel","^fieldEditor"],scope:!0,link:function($scope,$el,attrs,cntrls){function validity(err){$scope.error=err,ngModelCntrl&&ngModelCntrl.$setValidity("patternExecutes",!err)}var ngModelCntrl=cntrls[0];$scope.samples=null,$scope.$bind("inputs",attrs.inputs),$scope.$watchMulti(["editor.field.format","[]inputs"],function(){$scope.samples=null;var field=$scope.editor.field;field&&field.format&&Promise["try"](function(){var converter=field.format.getConverterFor("html");$scope.samples=_lodash2["default"].map($scope.inputs,function(input){return[input,$sce.trustAsHtml(converter(input))]})}).then(validity,validity)})}}})},2675:function(module,exports,__webpack_require__){"use strict";__webpack_require__(655),__webpack_require__(656),__webpack_require__(657),__webpack_require__(658),__webpack_require__(659),__webpack_require__(660),__webpack_require__(661)},2676:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function BytesFormatProvider(Private){var Numeral=Private(_numeral2["default"]);return Numeral.factory({id:"bytes",title:"Bytes",sampleInputs:[1024,515e4,199e7]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=BytesFormatProvider;var _numeral=__webpack_require__(2677),_numeral2=_interopRequireDefault(_numeral);module.exports=exports["default"]},2677:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function AbstractNumeralFormatProvider(Private){function Numeral(params){Numeral.Super.call(this,params)}var FieldFormat=Private(_field_format2["default"]),BoundToConfigObj=Private(_bound_to_config_obj2["default"]),numeral=__webpack_require__(667)();
return _lodash2["default"]["class"](Numeral).inherits(FieldFormat),Numeral.prototype._convert=function(val){return val===-(1/0)?"-":val===+(1/0)?"+":("number"!=typeof val&&(val=parseFloat(val)),isNaN(val)?"":numeral.set(val).format(this.param("pattern")))},Numeral.factory=function(opts){function Class(params){Class.Super.call(this,params)}return _lodash2["default"]["class"](Class).inherits(Numeral),Class.id=opts.id,Class.title=opts.title,Class.fieldType="number",Class.paramDefaults=opts.paramDefaults||new BoundToConfigObj({pattern:"=format:"+opts.id+":defaultPattern"}),Class.editor={template:opts.editorTemplate||__webpack_require__(666),controllerAs:"cntrl",controller:opts.controller||function(){this.sampleInputs=opts.sampleInputs}},opts.prototype&&_lodash2["default"].assign(Class.prototype,opts.prototype),Class},Numeral}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AbstractNumeralFormatProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(2678);var _field_format=__webpack_require__(2605),_field_format2=_interopRequireDefault(_field_format),_bound_to_config_obj=__webpack_require__(2554),_bound_to_config_obj2=_interopRequireDefault(_bound_to_config_obj);module.exports=exports["default"]},2678:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}__webpack_require__(2673);var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_numeral=__webpack_require__(666),_numeral2=_interopRequireDefault(_numeral);_modules2["default"].get("kibana").directive("fieldEditorNumeral",function(){return{restrict:"E",template:_numeral2["default"]}})},2679:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function DateTimeFormatProvider(Private){function DateTime(params){DateTime.Super.call(this,params)}var FieldFormat=Private(_field_format2["default"]),BoundToConfigObj=Private(_bound_to_config_obj2["default"]);return _lodash2["default"]["class"](DateTime).inherits(FieldFormat),DateTime.id="date",DateTime.title="Date",DateTime.fieldType="date",DateTime.paramDefaults=new BoundToConfigObj({pattern:"=dateFormat",timezone:"=dateFormat:tz"}),DateTime.editor={template:_date2["default"],controllerAs:"cntrl",controller:function($interval,$scope){var self=this;self.sampleInputs=[Date.now(),+(0,_moment2["default"])().startOf("year"),+(0,_moment2["default"])().endOf("year")],$scope.$on("$destroy",$interval(function(){self.sampleInputs[0]=Date.now()},1e3))}},DateTime.prototype._convert=function(val){var pattern=this.param("pattern"),timezone=this.param("timezone"),timezoneChanged=this._timeZone!==timezone,datePatternChanged=this._memoizedPattern!==pattern;return(timezoneChanged||datePatternChanged)&&(this._timeZone=timezone,this._memoizedPattern=pattern,this._memoizedConverter=_lodash2["default"].memoize(function(val){return null===val||void 0===val?"-":(0,_moment2["default"])(val).format(pattern)})),this._memoizedConverter(val)},DateTime}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=DateTimeFormatProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(318),_moment2=_interopRequireDefault(_moment);__webpack_require__(2673);var _field_format=__webpack_require__(2605),_field_format2=_interopRequireDefault(_field_format),_bound_to_config_obj=__webpack_require__(2554),_bound_to_config_obj2=_interopRequireDefault(_bound_to_config_obj),_date=__webpack_require__(670),_date2=_interopRequireDefault(_date);module.exports=exports["default"]},2680:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function DurationFormatProvider(Private){function parseInputAsDuration(val,inputFormat){var ratio=ratioToSeconds[inputFormat]||1,kind=inputFormat in ratioToSeconds?"seconds":inputFormat;return _moment2["default"].duration(val*ratio,kind)}var ratioToSeconds={picoseconds:1e-12,nanoseconds:1e-9,microseconds:1e-6},FieldFormat=Private(_field_format2["default"]),HUMAN_FRIENDLY="humanize",DEFAULT_OUTPUT_PRECISION=2,DEFAULT_INPUT_FORMAT={text:"Seconds",kind:"seconds"},inputFormats=[{text:"Picoseconds",kind:"picoseconds"},{text:"Nanoseconds",kind:"nanoseconds"},{text:"Microseconds",kind:"microseconds"},{text:"Milliseconds",kind:"milliseconds"},DEFAULT_INPUT_FORMAT,{text:"Minutes",kind:"minutes"},{text:"Hours",kind:"hours"},{text:"Days",kind:"days"},{text:"Weeks",kind:"weeks"},{text:"Months",kind:"months"},{text:"Years",kind:"years"}],DEFAULT_OUTPUT_FORMAT={text:"Human Readable",method:"humanize"},outputFormats=[DEFAULT_OUTPUT_FORMAT,{text:"Milliseconds",method:"asMilliseconds"},{text:"Seconds",method:"asSeconds"},{text:"Minutes",method:"asMinutes"},{text:"Hours",method:"asHours"},{text:"Days",method:"asDays"},{text:"Weeks",method:"asWeeks"},{text:"Months",method:"asMonths"},{text:"Years",method:"asYears"}],Duration=function(_FieldFormat){function Duration(){return _classCallCheck(this,Duration),_possibleConstructorReturn(this,(Duration.__proto__||Object.getPrototypeOf(Duration)).apply(this,arguments))}return _inherits(Duration,_FieldFormat),_createClass(Duration,[{key:"isHuman",value:function(){return this.param("outputFormat")===HUMAN_FRIENDLY}},{key:"_convert",value:function(val){var inputFormat=this.param("inputFormat"),outputFormat=this.param("outputFormat"),outputPrecision=this.param("outputPrecision"),human=this.isHuman(),prefix=val<0&&human?"minus ":"",duration=parseInputAsDuration(val,inputFormat),formatted=duration[outputFormat](),precise=human?formatted:formatted.toFixed(outputPrecision);return prefix+precise}}]),Duration}(FieldFormat);return Duration.id="duration",Duration.title="Duration",Duration.fieldType="number",Duration.inputFormats=inputFormats,Duration.outputFormats=outputFormats,Duration.editor={template:_duration2["default"],controllerAs:"cntrl",controller:function(){this.sampleInputs=[-123,1,12,123,658,1988,3857,123292,923528271]}},Duration.paramDefaults={inputFormat:DEFAULT_INPUT_FORMAT.kind,outputFormat:DEFAULT_OUTPUT_FORMAT.method,outputPrecision:DEFAULT_OUTPUT_PRECISION},Duration}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports["default"]=DurationFormatProvider,__webpack_require__(2681);var _moment=__webpack_require__(318),_moment2=_interopRequireDefault(_moment),_field_format=__webpack_require__(2605),_field_format2=_interopRequireDefault(_field_format),_duration=__webpack_require__(673),_duration2=_interopRequireDefault(_duration);module.exports=exports["default"]},2681:function(module,exports){},2682:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function IpFormatProvider(Private){function Ip(params){Ip.Super.call(this,params)}var FieldFormat=Private(_field_format2["default"]);return _lodash2["default"]["class"](Ip).inherits(FieldFormat),Ip.id="ip",Ip.title="IP Address",Ip.fieldType="ip",Ip.prototype._convert=function(val){return void 0===val||null===val?"-":isFinite(val)?[val>>>24,val>>>16&255,val>>>8&255,255&val].join("."):val},Ip}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=IpFormatProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_field_format=__webpack_require__(2605),_field_format2=_interopRequireDefault(_field_format);module.exports=exports["default"]},2683:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function NumberFormatProvider(Private){var Numeral=Private(_numeral2["default"]);return Numeral.factory({id:"number",title:"Number",sampleInputs:[1e4,12.345678,-1,-999,.52]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=NumberFormatProvider;var _numeral=__webpack_require__(2677),_numeral2=_interopRequireDefault(_numeral);module.exports=exports["default"]},2684:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function PercentFormatProvider(Private){var BoundToConfigObj=Private(_bound_to_config_obj2["default"]),Numeral=Private(_numeral2["default"]);return Numeral.factory({id:"percent",title:"Percentage",paramDefaults:new BoundToConfigObj({pattern:"=format:percent:defaultPattern",fractional:!0}),sampleInputs:[.1,.99999,1,100,1e3],prototype:{_convert:_lodash2["default"].compose(Numeral.prototype._convert,function(val){return this.param("fractional")?val:val/100})}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=PercentFormatProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_bound_to_config_obj=__webpack_require__(2554),_bound_to_config_obj2=_interopRequireDefault(_bound_to_config_obj),_numeral=__webpack_require__(2677),_numeral2=_interopRequireDefault(_numeral);module.exports=exports["default"]},2685:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function StringFormatProvider(Private){function _String(params){_String.Super.call(this,params)}var FieldFormat=Private(_field_format2["default"]);return _lodash2["default"]["class"](_String).inherits(FieldFormat),_String.id="string",_String.title="String",_String.fieldType=["number","boolean","date","ip","attachment","geo_point","geo_shape","string","murmur3","unknown","conflict"],_String.paramDefaults={transform:!1},_String.editor=__webpack_require__(678),_String.transformOpts=[{id:!1,name:"- none -"},{id:"lower",name:"Lower Case"},{id:"upper",name:"Upper Case"},{id:"title",name:"Title Case"},{id:"short",name:"Short Dots"},{id:"base64",name:"Base64 Decode"}],_String.sampleInputs=["A Quick Brown Fox.","STAY CALM!","com.organizations.project.ClassName","hostname.net","SGVsbG8gd29ybGQ="],_String.prototype._base64Decode=function(val){try{return window.atob(val)}catch(e){return _lodash2["default"].asPrettyString(val)}},_String.prototype._toTitleCase=function(val){return val.replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase()})},_String.prototype._convert=function(val){switch(this.param("transform")){case"lower":return String(val).toLowerCase();case"upper":return String(val).toUpperCase();case"title":return this._toTitleCase(val);case"short":return _lodash2["default"].shortenDottedString(val);case"base64":return this._base64Decode(val);default:return _lodash2["default"].asPrettyString(val)}},_String}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=StringFormatProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(2674);var _field_format=__webpack_require__(2605),_field_format2=_interopRequireDefault(_field_format);module.exports=exports["default"]},2686:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _SourceFormatProvider(Private,shortDotsFilter){function Source(params){Source.Super.call(this,params)}var FieldFormat=Private(_field_format2["default"]),template=_lodash2["default"].template((0,_no_white_space2["default"])(__webpack_require__(681)));return _lodash2["default"]["class"](Source).inherits(FieldFormat),Source.id="_source",Source.title="_source",Source.fieldType="_source",Source.prototype._convert={text:_angular2["default"].toJson,html:function(source,field,hit){if(!field)return this.getConverterFor("text")(source,field,hit);var highlights=hit&&hit.highlight||{},formatted=field.indexPattern.formatHit(hit),highlightPairs=[],sourcePairs=[];return _lodash2["default"].keys(formatted).forEach(function(key){var pairs=highlights[key]?highlightPairs:sourcePairs,field=shortDotsFilter(key),val=formatted[key];pairs.push([field,val])},[]),template({defPairs:highlightPairs.concat(sourcePairs)})}},Source}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=_SourceFormatProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_no_white_space=__webpack_require__(2687),_no_white_space2=_interopRequireDefault(_no_white_space),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_field_format=__webpack_require__(2605),_field_format2=_interopRequireDefault(_field_format);module.exports=exports["default"]},2687:function(module,exports){"use strict";function noWhiteSpace(html){return html.replace(TAGS_WITH_WS,"><")}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=noWhiteSpace;var TAGS_WITH_WS=/>\s+</g;module.exports=exports["default"]},2688:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function ColorFormatProvider(Private){function _Color(params){_Color.Super.call(this,params)}var FieldFormat=Private(_field_format2["default"]),convertTemplate=_lodash2["default"].template('<span style="<%- style %>"><%- val %></span>'),DEFAULT_COLOR={range:Number.NEGATIVE_INFINITY+":"+Number.POSITIVE_INFINITY,regex:"<insert regex>",text:"#000000",background:"#ffffff"};return _lodash2["default"]["class"](_Color).inherits(FieldFormat),_Color.id="color",_Color.title="Color",_Color.fieldType=["number","string"],_Color.editor={template:_color2["default"],controller:function($scope){$scope.$watch("editor.field.type",function(type){$scope.editor.formatParams.fieldType=type}),$scope.addColor=function(){$scope.editor.formatParams.colors.push(_lodash2["default"].cloneDeep(DEFAULT_COLOR))},$scope.removeColor=function(index){$scope.editor.formatParams.colors.splice(index,1)}}},_Color.paramDefaults={fieldType:null,colors:[_lodash2["default"].cloneDeep(DEFAULT_COLOR)]},_Color.prototype.findColorRuleForVal=function(val){switch(this.param("fieldType")){case"string":return _lodash2["default"].findLast(this.param("colors"),function(colorParam){return new RegExp(colorParam.regex).test(val)});case"number":return _lodash2["default"].findLast(this.param("colors"),function(_ref){var range=_ref.range;if(range){var _range$split=range.split(":"),_range$split2=_slicedToArray(_range$split,2),start=_range$split2[0],end=_range$split2[1];return val>=Number(start)&&val<=Number(end)}});default:return null}},_Color.prototype._convert={html:function(val){var color=this.findColorRuleForVal(val);if(!color)return _lodash2["default"].asPrettyString(val);var style="";return color.text&&(style+="color: "+color.text+";"),color.background&&(style+="background-color: "+color.background+";"),convertTemplate({val:val,style:style})}},_Color}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports["default"]=ColorFormatProvider,__webpack_require__(2689);var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_field_format=__webpack_require__(2605),_field_format2=_interopRequireDefault(_field_format),_color=__webpack_require__(684),_color2=_interopRequireDefault(_color);module.exports=exports["default"]},2689:function(module,exports){},2690:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function TruncateFormatProvider(Private){function Truncate(params){Truncate.Super.call(this,params)}var FieldFormat=Private(_field_format2["default"]),omission="...";return _lodash2["default"]["class"](Truncate).inherits(FieldFormat),Truncate.id="truncate",Truncate.title="Truncated String",Truncate.fieldType=["string"],Truncate.prototype._convert=function(val){var length=this.param("fieldLength");return length>0?_lodash2["default"].trunc(val,{length:length+omission.length,omission:omission}):val},Truncate.editor=__webpack_require__(686),Truncate.sampleInput=[__webpack_require__(687)],Truncate}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=TruncateFormatProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_field_format=__webpack_require__(2605),_field_format2=_interopRequireDefault(_field_format);module.exports=exports["default"]},2691:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function TruncateFormatProvider(Private){var FieldFormat=Private(_field_format2["default"]),Bool=function(_FieldFormat){function Bool(params){return _classCallCheck(this,Bool),_possibleConstructorReturn(this,(Bool.__proto__||Object.getPrototypeOf(Bool)).call(this,params))}return _inherits(Bool,_FieldFormat),_createClass(Bool,[{key:"_convert",value:function(value){switch("string"==typeof value&&(value=value.trim().toLowerCase()),value){case!1:case 0:case"false":case"no":return"false";case!0:case 1:case"true":case"yes":return"true";default:return _lodash2["default"].asPrettyString(value)}}}]),Bool}(FieldFormat);return Bool.id="boolean",Bool.title="Boolean",Bool.fieldType=["boolean","number","string"],Bool}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports["default"]=TruncateFormatProvider;var _field_format=__webpack_require__(2605),_field_format2=_interopRequireDefault(_field_format),_lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);module.exports=exports["default"]},2692:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery);__webpack_require__(2480);var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),$style=(0,_jquery2["default"])("<style>").appendTo("head").attr("id","style-compile");_modules2["default"].get("kibana").run(function($rootScope,$compile,config){var truncateGradientHeight=15,template=_lodash2["default"].template(__webpack_require__(690)),locals={};$rootScope.$watch(function(){return config.get("truncate:maxHeight")},function(maxHeight){maxHeight>0?(locals.truncateMaxHeight=maxHeight+"px !important",locals.truncateGradientTop=maxHeight-truncateGradientHeight+"px"):(locals.truncateMaxHeight="none",locals.truncateGradientTop="-"+truncateGradientHeight+"px"),$style.html(template(locals))})})},2693:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _timepicker=__webpack_require__(692),_timepicker2=_interopRequireDefault(_timepicker),_lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_relative_options=__webpack_require__(2694),_parse_relative_parts=__webpack_require__(2695),_datemath=__webpack_require__(320),_datemath2=_interopRequireDefault(_datemath),_moment=__webpack_require__(318),_moment2=_interopRequireDefault(_moment),_notifier=__webpack_require__(2466),_notifier2=_interopRequireDefault(_notifier);__webpack_require__(2696),__webpack_require__(2697),__webpack_require__(2698),__webpack_require__(2699),__webpack_require__(2700),__webpack_require__(2701),__webpack_require__(2702);var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("ui/timepicker"),notify=new _notifier2["default"]({location:"timepicker"});_module.directive("kbnTimepicker",function(quickRanges,timeUnits,refreshIntervals){return{restrict:"E",scope:{from:"=",to:"=",mode:"=",interval:"=",activeTab:"=",onFilterSelect:"&",onIntervalSelect:"&"},template:_timepicker2["default"],controller:function($scope){function getRelativeString(key){var count=_lodash2["default"].get($scope,"relative."+key+".count",0),round=_lodash2["default"].get($scope,"relative."+key+".round",!1),matches=_lodash2["default"].get($scope,"relative."+key+".unit","s").match(/([smhdwMy])(\+)?/),unit=void 0,operator="-";if(matches&&matches[1]&&(unit=matches[1]),matches&&matches[2]&&(operator=matches[2]),0===count&&!round)return"now";var result="now"+operator+count+unit;return result+=round?"/"+unit:""}$scope.format="MMMM Do YYYY, HH:mm:ss.SSS",$scope.modes=["quick","relative","absolute"],$scope.activeTab=$scope.activeTab||"filter",_lodash2["default"].isUndefined($scope.mode)&&($scope.mode="quick"),$scope.quickLists=(0,_lodash2["default"])(quickRanges).groupBy("section").values().value(),$scope.refreshLists=(0,_lodash2["default"])(refreshIntervals).groupBy("section").values().value(),$scope.relative={from:{count:1,unit:"m",preview:void 0,round:!1},to:{count:0,unit:"s",preview:void 0,round:!1}},$scope.absolute={from:(0,_moment2["default"])(),to:(0,_moment2["default"])()},$scope.units=timeUnits,$scope.relativeOptions=_relative_options.relativeOptions,$scope.$watch("from",function(date){_moment2["default"].isMoment(date)&&"absolute"===$scope.mode&&($scope.absolute.from=date)}),$scope.$watch("to",function(date){_moment2["default"].isMoment(date)&&"absolute"===$scope.mode&&($scope.absolute.to=date)}),$scope.pickFromDate=function(date){return date?(date.setHours(0,0,0,0),$scope.absolute.from=(0,_moment2["default"])(date)):$scope.absolute.from},$scope.pickToDate=function(date){return date?(date.setHours(23,59,59,999),$scope.absolute.to=(0,_moment2["default"])(date)):$scope.absolute.to},$scope.setMode=function(thisMode){switch(thisMode){case"quick":break;case"relative":$scope.relative=(0,_parse_relative_parts.parseRelativeParts)($scope.from,$scope.to),$scope.formatRelative("from"),$scope.formatRelative("to");break;case"absolute":$scope.absolute.from=_datemath2["default"].parse($scope.from||(0,_moment2["default"])().subtract(15,"minutes")),$scope.absolute.to=_datemath2["default"].parse($scope.to||(0,_moment2["default"])(),!0)}$scope.mode=thisMode},$scope.setQuick=function(from,to){$scope.onFilterSelect({from:from,to:to})},$scope.setToNow=function(key){$scope.absolute[key]=(0,_moment2["default"])()},$scope.setRelativeToNow=function(key){$scope.relative[key].count=0,$scope.relative[key].round=!1,$scope.formatRelative(key)},$scope.checkRelative=function(){if(null!=$scope.relative.from.count&&null!=$scope.relative.to.count){var from=_datemath2["default"].parse(getRelativeString("from")),to=_datemath2["default"].parse(getRelativeString("to"),!0);return!to||!from||to.isBefore(from)}},$scope.formatRelative=function(key){var relativeString=getRelativeString(key),parsed=_datemath2["default"].parse(relativeString,"to"===key),preview=void 0;return preview="now"===relativeString?"Now":parsed?parsed.format($scope.format):void 0,_lodash2["default"].set($scope,"relative."+key+".preview",preview),parsed},$scope.applyRelative=function(){$scope.onFilterSelect({from:getRelativeString("from"),to:getRelativeString("to")})},$scope.applyAbsolute=function(){$scope.onFilterSelect({from:(0,_moment2["default"])($scope.absolute.from),to:(0,_moment2["default"])($scope.absolute.to)})},$scope.setRefreshInterval=function(interval){interval=_lodash2["default"].clone(interval||{}),notify.log("before: "+interval.pause),interval.pause=null!=interval.pause&&interval.pause!==!1,notify.log("after: "+interval.pause),$scope.onIntervalSelect({interval:interval})},$scope.setMode($scope.mode)}}})},2694:function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.relativeOptions=[{text:"Seconds ago",value:"s"},{text:"Minutes ago",value:"m"},{text:"Hours ago",value:"h"},{text:"Days ago",value:"d"},{text:"Weeks ago",value:"w"},{text:"Months ago",value:"M"},{text:"Years ago",value:"y"},{text:"Seconds from now",value:"s+"},{text:"Minutes from now",value:"m+"},{text:"Hours from now",value:"h+"},{text:"Days from now",value:"d+"},{text:"Weeks from now",value:"w+"},{text:"Months from now",value:"M+"},{text:"Years from now",value:"y+"}]},2695:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function parseRelativeString(part){var results={},matches=_lodash2["default"].isString(part)&&part.match(/now(([\-\+])([0-9]+)([smhdwMy])(\/[smhdwMy])?)?/),isNow=matches&&!matches[1],opperator=matches&&matches[2],count=matches&&matches[3],unit=matches&&matches[4],roundBy=matches&&matches[5];if(isNow)return{count:0,unit:"s",round:!1};if(count&&unit)return results.count=parseInt(count,10),results.unit=unit,"+"===opperator&&(results.unit+="+"),results.round=!!roundBy,results;results={count:0,unit:"s",round:!1};for(var duration=_moment2["default"].duration((0,_moment2["default"])().diff(_datemath2["default"].parse(part))),units=_lodash2["default"].pluck(_lodash2["default"].clone(_relative_options.relativeOptions).reverse(),"value").filter(function(s){return/^[smhdwMy]$/.test(s)}),unitOp="",i=0;i<units.length;i++){var as=duration.as(units[i]);if(as<0&&(unitOp="+"),Math.abs(as)>1){results.count=Math.round(Math.abs(as)),results.unit=units[i]+unitOp,results.round=!1;break}}return results}function parseRelativeParts(from,to){var results={};if(results.from=parseRelativeString(from),results.to=parseRelativeString(to),results.from&&results.to)return results}Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseRelativeString=parseRelativeString,exports.parseRelativeParts=parseRelativeParts;var _datemath=__webpack_require__(320),_datemath2=_interopRequireDefault(_datemath),_moment=__webpack_require__(318),_moment2=_interopRequireDefault(_moment),_lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_relative_options=__webpack_require__(2694)},2696:function(module,exports){},2697:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _moment=__webpack_require__(318),_moment2=_interopRequireDefault(_moment),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("kibana");_module.directive("inputDatetime",function(){return{restrict:"A",require:"ngModel",link:function($scope,$elem,attrs,ngModel){var format="YYYY-MM-DD HH:mm:ss.SSS";$elem.after('<div class="input-datetime-format">'+format+"</div>");var fromUser=function(text){var parsed=(0,_moment2["default"])(text,format);return parsed.isValid()?parsed:void 0},toUser=function(datetime){return(0,_moment2["default"])(datetime).format(format)};ngModel.$parsers.push(fromUser),ngModel.$formatters.push(toUser)}}})},2698:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function makeDirectiveDef(id,compare){return function($parse){return{require:"ngModel",link:function($scope,$el,$attr,ngModel){function validate(val){var bound=isNaN(getBound())?defaultVal:+getBound(),valid=!isNaN(bound)&&!isNaN(val)&&compare(val,bound);return ngModel.$setValidity(id,valid),val}var getBound=function(){return $parse($attr[id])()},defaultVal={greaterThan:-(1/0),greaterOrEqualThan:-(1/0),lessThan:1/0}[id];ngModel.$parsers.push(validate),ngModel.$formatters.push(validate),$scope.$watch(getBound,function(){validate(ngModel.$viewValue)})}}}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_modules2["default"].get("kibana").directive("greaterThan",makeDirectiveDef("greaterThan",function(a,b){return a>b})).directive("lessThan",makeDirectiveDef("lessThan",function(a,b){return a<b})).directive("greaterOrEqualThan",makeDirectiveDef("greaterOrEqualThan",function(a,b){return a>=b}))},2699:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("kibana");_module.constant("quickRanges",[{from:"now/d",to:"now/d",display:"Today",section:0},{from:"now/w",to:"now/w",display:"This week",section:0},{from:"now/M",to:"now/M",display:"This month",section:0},{from:"now/y",to:"now/y",display:"This year",section:0},{from:"now/d",to:"now",display:"The day so far",section:0},{from:"now/w",to:"now",display:"Week to date",section:0},{from:"now/M",to:"now",display:"Month to date",section:0},{from:"now/y",to:"now",display:"Year to date",section:0},{from:"now-1d/d",to:"now-1d/d",display:"Yesterday",section:1},{from:"now-2d/d",to:"now-2d/d",display:"Day before yesterday",section:1},{from:"now-7d/d",to:"now-7d/d",display:"This day last week",section:1},{from:"now-1w/w",to:"now-1w/w",display:"Previous week",section:1},{from:"now-1M/M",to:"now-1M/M",display:"Previous month",section:1},{from:"now-1y/y",to:"now-1y/y",display:"Previous year",section:1},{from:"now-15m",to:"now",display:"Last 15 minutes",section:2},{from:"now-30m",to:"now",display:"Last 30 minutes",section:2
},{from:"now-1h",to:"now",display:"Last 1 hour",section:2},{from:"now-4h",to:"now",display:"Last 4 hours",section:2},{from:"now-12h",to:"now",display:"Last 12 hours",section:2},{from:"now-24h",to:"now",display:"Last 24 hours",section:2},{from:"now-7d",to:"now",display:"Last 7 days",section:2},{from:"now-30d",to:"now",display:"Last 30 days",section:3},{from:"now-60d",to:"now",display:"Last 60 days",section:3},{from:"now-90d",to:"now",display:"Last 90 days",section:3},{from:"now-6M",to:"now",display:"Last 6 months",section:3},{from:"now-1y",to:"now",display:"Last 1 year",section:3},{from:"now-2y",to:"now",display:"Last 2 years",section:3},{from:"now-5y",to:"now",display:"Last 5 years",section:3}])},2700:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("kibana");_module.constant("refreshIntervals",[{value:0,display:"Off",section:0},{value:5e3,display:"5 seconds",section:1},{value:1e4,display:"10 seconds",section:1},{value:3e4,display:"30 seconds",section:1},{value:45e3,display:"45 seconds",section:1},{value:6e4,display:"1 minute",section:2},{value:3e5,display:"5 minutes",section:2},{value:9e5,display:"15 minutes",section:2},{value:18e5,display:"30 minutes",section:2},{value:36e5,display:"1 hour",section:3},{value:72e5,display:"2 hour",section:3},{value:432e5,display:"12 hour",section:3},{value:864e5,display:"1 day",section:3}])},2701:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("kibana");_module.constant("timeUnits",{s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"})},2702:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_lodash=__webpack_require__(2),_kbn_global_timepicker=__webpack_require__(702),_kbn_global_timepicker2=_interopRequireDefault(_kbn_global_timepicker),_time_navigation=__webpack_require__(2703),_time_navigation2=_interopRequireDefault(_time_navigation);_modules2["default"].get("kibana").directive("kbnGlobalTimepicker",function(timefilter,globalState,$rootScope){var listenForUpdates=(0,_lodash.once)(function($scope){$scope.$listen(timefilter,"update",function(){globalState.time=(0,_lodash.clone)(timefilter.time),globalState.refreshInterval=(0,_lodash.clone)(timefilter.refreshInterval),globalState.save()})});return{template:_kbn_global_timepicker2["default"],replace:!0,require:"^kbnTopNav",link:function($scope,element,attributes,kbnTopNav){listenForUpdates($rootScope),$rootScope.timefilter=timefilter,$rootScope.toggleRefresh=function(){timefilter.refreshInterval.pause=!timefilter.refreshInterval.pause},$scope.forward=function(){timefilter.time=_time_navigation2["default"].stepForward(timefilter.getBounds())},$scope.back=function(){timefilter.time=_time_navigation2["default"].stepBackward(timefilter.getBounds())},$scope.updateFilter=function(from,to){timefilter.time.from=from,timefilter.time.to=to,kbnTopNav.close("filter")},$scope.updateInterval=function(interval){timefilter.refreshInterval=interval,kbnTopNav.close("interval")}}}})},2703:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _moment=__webpack_require__(318),_moment2=_interopRequireDefault(_moment);exports["default"]={stepForward:function(_ref){var min=_ref.min,max=_ref.max,diff=max.diff(min);return{from:(0,_moment2["default"])(max).add(1,"ms").toISOString(),to:(0,_moment2["default"])(max).add(diff+1,"ms").toISOString(),mode:"absolute"}},stepBackward:function(_ref2){var min=_ref2.min,max=_ref2.max,diff=max.diff(min);return{from:(0,_moment2["default"])(min).subtract(diff+1,"ms").toISOString(),to:(0,_moment2["default"])(min).subtract(1,"ms").toISOString(),mode:"absolute"}},zoomOut:function(_ref3){var min=_ref3.min,max=_ref3.max,diff=max.diff(min);return{from:(0,_moment2["default"])(min).subtract(diff/2,"ms").toISOString(),to:(0,_moment2["default"])(max).add(diff/2,"ms").toISOString(),mode:"absolute"}},zoomIn:function(_ref4){var min=_ref4.min,max=_ref4.max,diff=max.diff(min);return{from:(0,_moment2["default"])(min).add(diff/4,"ms").toISOString(),to:(0,_moment2["default"])(max).subtract(diff/4,"ms").toISOString(),mode:"absolute"}}},module.exports=exports["default"]},2704:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _tooltip=__webpack_require__(705),_tooltip2=_interopRequireDefault(_tooltip);__webpack_require__(706).config(function($tooltipProvider){$tooltipProvider.options({placement:"bottom",animation:!0,popupDelay:150,appendToBody:!1})}).directive("kbnTooltip",function(){return{restrict:"E",template:_tooltip2["default"],transclude:!0,replace:!0,scope:!0,link:function($scope,$el,attr){$scope.text=attr.text,$scope.placement=attr.placement||"top",$scope.delay=attr.delay||400,$scope.appendToBody=attr.appendToBody||0}}})},2705:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}__webpack_require__(2706),__webpack_require__(2707),__webpack_require__(2708),__webpack_require__(2709),__webpack_require__(2710),__webpack_require__(2711),__webpack_require__(2712),__webpack_require__(2713),__webpack_require__(2714),__webpack_require__(2715),__webpack_require__(2716),__webpack_require__(2717),__webpack_require__(2718),__webpack_require__(2719),__webpack_require__(2720),__webpack_require__(2721),__webpack_require__(2722),__webpack_require__(2723),__webpack_require__(2724);var _alert=__webpack_require__(727),_alert2=_interopRequireDefault(_alert),_datepicker=__webpack_require__(728),_datepicker2=_interopRequireDefault(_datepicker),_day=__webpack_require__(729),_day2=_interopRequireDefault(_day),_month=__webpack_require__(730),_month2=_interopRequireDefault(_month),_popup=__webpack_require__(731),_popup2=_interopRequireDefault(_popup),_year=__webpack_require__(732),_year2=_interopRequireDefault(_year),_backdrop=__webpack_require__(733),_backdrop2=_interopRequireDefault(_backdrop),_window=__webpack_require__(734),_window2=_interopRequireDefault(_window),_pager=__webpack_require__(735),_pager2=_interopRequireDefault(_pager),_pagination=__webpack_require__(736),_pagination2=_interopRequireDefault(_pagination),_tooltipHtmlUnsafePopup=__webpack_require__(737),_tooltipHtmlUnsafePopup2=_interopRequireDefault(_tooltipHtmlUnsafePopup),_tooltipPopup=__webpack_require__(738),_tooltipPopup2=_interopRequireDefault(_tooltipPopup),_popover=__webpack_require__(739),_popover2=_interopRequireDefault(_popover),_bar=__webpack_require__(740),_bar2=_interopRequireDefault(_bar),_progress=__webpack_require__(741),_progress2=_interopRequireDefault(_progress),_progressbar=__webpack_require__(742),_progressbar2=_interopRequireDefault(_progressbar),_rating=__webpack_require__(743),_rating2=_interopRequireDefault(_rating),_tab=__webpack_require__(744),_tab2=_interopRequireDefault(_tab),_tabset=__webpack_require__(745),_tabset2=_interopRequireDefault(_tabset),_timepicker=__webpack_require__(746),_timepicker2=_interopRequireDefault(_timepicker),_typeaheadMatch=__webpack_require__(747),_typeaheadMatch2=_interopRequireDefault(_typeaheadMatch),_typeaheadPopup=__webpack_require__(748),_typeaheadPopup2=_interopRequireDefault(_typeaheadPopup);angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/alert/alert.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/alert/alert.html",_alert2["default"])}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/datepicker.html",_datepicker2["default"])}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/day.html",_day2["default"])}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/month.html",_month2["default"])}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/popup.html",_popup2["default"])}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/year.html",_year2["default"])}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/modal/backdrop.html",_backdrop2["default"])}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/modal/window.html",_window2["default"])}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/pagination/pager.html",_pager2["default"])}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/pagination/pagination.html",_pagination2["default"])}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-html-unsafe-popup.html",_tooltipHtmlUnsafePopup2["default"])}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-popup.html",_tooltipPopup2["default"])}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/popover/popover.html",_popover2["default"])}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/bar.html",_bar2["default"])}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/progress.html",_progress2["default"])}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/progressbar.html",_progressbar2["default"])}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/rating/rating.html",_rating2["default"])}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tabs/tab.html",_tab2["default"])}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tabs/tabset.html",_tabset2["default"])}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/timepicker/timepicker.html",_timepicker2["default"])}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/typeahead/typeahead-match.html",_typeaheadMatch2["default"])}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/typeahead/typeahead-popup.html",_typeaheadPopup2["default"])}])},2706:function(module,exports){"use strict";angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function($scope,$attrs,accordionConfig){this.groups=[],this.closeOthers=function(openGroup){var closeOthers=angular.isDefined($attrs.closeOthers)?$scope.$eval($attrs.closeOthers):accordionConfig.closeOthers;closeOthers&&angular.forEach(this.groups,function(group){group!==openGroup&&(group.isOpen=!1)})},this.addGroup=function(groupScope){var that=this;this.groups.push(groupScope),groupScope.$on("$destroy",function(event){that.removeGroup(groupScope)})},this.removeGroup=function(group){var index=this.groups.indexOf(group);index!==-1&&this.groups.splice(index,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(element){this.heading=element}},link:function(scope,element,attrs,accordionCtrl){accordionCtrl.addGroup(scope),scope.$watch("isOpen",function(value){value&&accordionCtrl.closeOthers(scope)}),scope.toggleOpen=function(){scope.isDisabled||(scope.isOpen=!scope.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(scope,element,attr,accordionGroupCtrl,transclude){accordionGroupCtrl.setHeading(transclude(scope,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(scope,element,attr,controller){scope.$watch(function(){return controller[attr.accordionTransclude]},function(heading){heading&&(element.html(""),element.append(heading))})}}})},2707:function(module,exports){"use strict";angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function($scope,$attrs){$scope.closeable="close"in $attrs,this.close=$scope.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function($timeout){return{require:"alert",link:function(scope,element,attrs,alertCtrl){$timeout(function(){alertCtrl.close()},parseInt(attrs.dismissOnTimeout,10))}}}])},2708:function(module,exports){"use strict";angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(scope,element,attr){element.addClass("ng-binding").data("$binding",attr.bindHtmlUnsafe),scope.$watch(attr.bindHtmlUnsafe,function(value){element.html(value||"")})}})},2709:function(module,exports){"use strict";angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(buttonConfig){this.activeClass=buttonConfig.activeClass||"active",this.toggleEvent=buttonConfig.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(scope,element,attrs,ctrls){var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,scope.$eval(attrs.btnRadio)))},element.bind(buttonsCtrl.toggleEvent,function(){var isActive=element.hasClass(buttonsCtrl.activeClass);isActive&&!angular.isDefined(attrs.uncheckable)||scope.$apply(function(){ngModelCtrl.$setViewValue(isActive?null:scope.$eval(attrs.btnRadio)),ngModelCtrl.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(scope,element,attrs,ctrls){function getTrueValue(){return getCheckboxValue(attrs.btnCheckboxTrue,!0)}function getFalseValue(){return getCheckboxValue(attrs.btnCheckboxFalse,!1)}function getCheckboxValue(attributeValue,defaultValue){var val=scope.$eval(attributeValue);return angular.isDefined(val)?val:defaultValue}var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,getTrueValue()))},element.bind(buttonsCtrl.toggleEvent,function(){scope.$apply(function(){ngModelCtrl.$setViewValue(element.hasClass(buttonsCtrl.activeClass)?getFalseValue():getTrueValue()),ngModelCtrl.$render()})})}}})},2710:function(module,exports){"use strict";angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function($transition){return{link:function(scope,element,attrs){function doTransition(change){function newTransitionDone(){currentTransition===newTransition&&(currentTransition=void 0)}var newTransition=$transition(element,change);return currentTransition&&currentTransition.cancel(),currentTransition=newTransition,newTransition.then(newTransitionDone,newTransitionDone),newTransition}function expand(){initialAnimSkip?(initialAnimSkip=!1,expandDone()):(element.removeClass("collapse").addClass("collapsing"),doTransition({height:element[0].scrollHeight+"px"}).then(expandDone))}function expandDone(){element.removeClass("collapsing"),element.addClass("collapse in"),element.css({height:"auto"})}function collapse(){if(initialAnimSkip)initialAnimSkip=!1,collapseDone(),element.css({height:0});else{element.css({height:element[0].scrollHeight+"px"});element[0].offsetWidth;element.removeClass("collapse in").addClass("collapsing"),doTransition({height:0}).then(collapseDone)}}function collapseDone(){element.removeClass("collapsing"),element.addClass("collapse")}var currentTransition,initialAnimSkip=!0;scope.$watch(attrs.collapse,function(shouldCollapse){shouldCollapse?collapse():expand()})}}}])},2711:function(module,exports){"use strict";angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function($locale,orderByFilter){function createParser(format){var map=[],regex=format.split("");return angular.forEach(formatCodeToRegex,function(data,code){var index=format.indexOf(code);if(index>-1){format=format.split(""),regex[index]="("+data.regex+")",format[index]="$";for(var i=index+1,n=index+code.length;i<n;i++)regex[i]="",format[i]="$";format=format.join(""),map.push({index:index,apply:data.apply})}}),{regex:new RegExp("^"+regex.join("")+"$"),map:orderByFilter(map,"index")}}function isValid(year,month,date){return 1===month&&date>28?29===date&&(year%4===0&&year%100!==0||year%400===0):3!==month&&5!==month&&8!==month&&10!==month||date<31}this.parsers={};var formatCodeToRegex={yyyy:{regex:"\\d{4}",apply:function(value){this.year=+value}},yy:{regex:"\\d{2}",apply:function(value){this.year=+value+2e3}},y:{regex:"\\d{1,4}",apply:function(value){this.year=+value}},MMMM:{regex:$locale.DATETIME_FORMATS.MONTH.join("|"),apply:function(value){this.month=$locale.DATETIME_FORMATS.MONTH.indexOf(value)}},MMM:{regex:$locale.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(value){this.month=$locale.DATETIME_FORMATS.SHORTMONTH.indexOf(value)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(value){this.month=value-1}},M:{regex:"[1-9]|1[0-2]",apply:function(value){this.month=value-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(value){this.date=+value}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(value){this.date=+value}},EEEE:{regex:$locale.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:$locale.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(input,format){if(!angular.isString(input)||!format)return input;format=$locale.DATETIME_FORMATS[format]||format,this.parsers[format]||(this.parsers[format]=createParser(format));var parser=this.parsers[format],regex=parser.regex,map=parser.map,results=input.match(regex);if(results&&results.length){for(var dt,fields={year:1900,month:0,date:1,hours:0},i=1,n=results.length;i<n;i++){var mapper=map[i-1];mapper.apply&&mapper.apply.call(fields,results[i])}return isValid(fields.year,fields.month,fields.date)&&(dt=new Date(fields.year,fields.month,fields.date,fields.hours)),dt}}}])},2712:function(module,exports){"use strict";angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function($scope,$attrs,$parse,$interpolate,$timeout,$log,dateFilter,datepickerConfig){var self=this,ngModelCtrl={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(key,index){self[key]=angular.isDefined($attrs[key])?index<8?$interpolate($attrs[key])($scope.$parent):$scope.$parent.$eval($attrs[key]):datepickerConfig[key]}),angular.forEach(["minDate","maxDate"],function(key){$attrs[key]?$scope.$parent.$watch($parse($attrs[key]),function(value){self[key]=value?new Date(value):null,self.refreshView()}):self[key]=datepickerConfig[key]?new Date(datepickerConfig[key]):null}),$scope.datepickerMode=$scope.datepickerMode||datepickerConfig.datepickerMode,$scope.uniqueId="datepicker-"+$scope.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined($attrs.initDate)?$scope.$parent.$eval($attrs.initDate):new Date,$scope.isActive=function(dateObject){return 0===self.compare(dateObject.date,self.activeDate)&&($scope.activeDateId=dateObject.uid,!0)},this.init=function(ngModelCtrl_){ngModelCtrl=ngModelCtrl_,ngModelCtrl.$render=function(){self.render()}},this.render=function(){if(ngModelCtrl.$modelValue){var date=new Date(ngModelCtrl.$modelValue),isValid=!isNaN(date);isValid?this.activeDate=date:$log.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),ngModelCtrl.$setValidity("date",isValid)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var date=ngModelCtrl.$modelValue?new Date(ngModelCtrl.$modelValue):null;ngModelCtrl.$setValidity("date-disabled",!date||this.element&&!this.isDisabled(date))}},this.createDateObject=function(date,format){var model=ngModelCtrl.$modelValue?new Date(ngModelCtrl.$modelValue):null;return{date:date,label:dateFilter(date,format),selected:model&&0===this.compare(date,model),disabled:this.isDisabled(date),current:0===this.compare(date,new Date)}},this.isDisabled=function(date){return this.minDate&&this.compare(date,this.minDate)<0||this.maxDate&&this.compare(date,this.maxDate)>0||$attrs.dateDisabled&&$scope.dateDisabled({date:date,mode:$scope.datepickerMode})},this.split=function(arr,size){for(var arrays=[];arr.length>0;)arrays.push(arr.splice(0,size));return arrays},$scope.select=function(date){if($scope.datepickerMode===self.minMode){var dt=ngModelCtrl.$modelValue?new Date(ngModelCtrl.$modelValue):new Date(0,0,0,0,0,0,0);dt.setFullYear(date.getFullYear(),date.getMonth(),date.getDate()),ngModelCtrl.$setViewValue(dt),ngModelCtrl.$render()}else self.activeDate=date,$scope.datepickerMode=self.modes[self.modes.indexOf($scope.datepickerMode)-1]},$scope.move=function(direction){var year=self.activeDate.getFullYear()+direction*(self.step.years||0),month=self.activeDate.getMonth()+direction*(self.step.months||0);self.activeDate.setFullYear(year,month,1),self.refreshView()},$scope.toggleMode=function(direction){direction=direction||1,$scope.datepickerMode===self.maxMode&&1===direction||$scope.datepickerMode===self.minMode&&direction===-1||($scope.datepickerMode=self.modes[self.modes.indexOf($scope.datepickerMode)+direction])},$scope.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var focusElement=function(){$timeout(function(){self.element[0].focus()},0,!1)};$scope.$on("datepicker.focus",focusElement),$scope.keydown=function(evt){var key=$scope.keys[evt.which];if(key&&!evt.shiftKey&&!evt.altKey)if(evt.preventDefault(),evt.stopPropagation(),"enter"===key||"space"===key){if(self.isDisabled(self.activeDate))return;$scope.select(self.activeDate),focusElement()}else!evt.ctrlKey||"up"!==key&&"down"!==key?(self.handleKeyDown(key,evt),self.refreshView()):($scope.toggleMode("up"===key?1:-1),focusElement())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(scope,element,attrs,ctrls){var datepickerCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl&&datepickerCtrl.init(ngModelCtrl)}}}).directive("daypicker",["dateFilter",function(dateFilter){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(scope,element,attrs,ctrl){function getDaysInMonth(year,month){return 1!==month||year%4!==0||year%100===0&&year%400!==0?DAYS_IN_MONTH[month]:29}function getDates(startDate,n){var dates=new Array(n),current=new Date(startDate),i=0;for(current.setHours(12);i<n;)dates[i++]=new Date(current),current.setDate(current.getDate()+1);return dates}function getISO8601WeekNumber(date){var checkDate=new Date(date);checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));var time=checkDate.getTime();return checkDate.setMonth(0),checkDate.setDate(1),Math.floor(Math.round((time-checkDate)/864e5)/7)+1}scope.showWeeks=ctrl.showWeeks,ctrl.step={months:1},ctrl.element=element;var DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31];ctrl._refreshView=function(){var year=ctrl.activeDate.getFullYear(),month=ctrl.activeDate.getMonth(),firstDayOfMonth=new Date(year,month,1),difference=ctrl.startingDay-firstDayOfMonth.getDay(),numDisplayedFromPreviousMonth=difference>0?7-difference:-difference,firstDate=new Date(firstDayOfMonth);numDisplayedFromPreviousMonth>0&&firstDate.setDate(-numDisplayedFromPreviousMonth+1);for(var days=getDates(firstDate,42),i=0;i<42;i++)days[i]=angular.extend(ctrl.createDateObject(days[i],ctrl.formatDay),{secondary:days[i].getMonth()!==month,uid:scope.uniqueId+"-"+i});scope.labels=new Array(7);for(var j=0;j<7;j++)scope.labels[j]={abbr:dateFilter(days[j].date,ctrl.formatDayHeader),full:dateFilter(days[j].date,"EEEE")};if(scope.title=dateFilter(ctrl.activeDate,ctrl.formatDayTitle),scope.rows=ctrl.split(days,7),scope.showWeeks){scope.weekNumbers=[];for(var weekNumber=getISO8601WeekNumber(scope.rows[0][0].date),numWeeks=scope.rows.length;scope.weekNumbers.push(weekNumber++)<numWeeks;);}},ctrl.compare=function(date1,date2){return new Date(date1.getFullYear(),date1.getMonth(),date1.getDate())-new Date(date2.getFullYear(),date2.getMonth(),date2.getDate())},ctrl.handleKeyDown=function(key,evt){var date=ctrl.activeDate.getDate();if("left"===key)date-=1;else if("up"===key)date-=7;else if("right"===key)date+=1;else if("down"===key)date+=7;else if("pageup"===key||"pagedown"===key){var month=ctrl.activeDate.getMonth()+("pageup"===key?-1:1);ctrl.activeDate.setMonth(month,1),date=Math.min(getDaysInMonth(ctrl.activeDate.getFullYear(),ctrl.activeDate.getMonth()),date)}else"home"===key?date=1:"end"===key&&(date=getDaysInMonth(ctrl.activeDate.getFullYear(),ctrl.activeDate.getMonth()));ctrl.activeDate.setDate(date)},ctrl.refreshView()}}}]).directive("monthpicker",["dateFilter",function(dateFilter){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(scope,element,attrs,ctrl){ctrl.step={years:1},ctrl.element=element,ctrl._refreshView=function(){for(var months=new Array(12),year=ctrl.activeDate.getFullYear(),i=0;i<12;i++)months[i]=angular.extend(ctrl.createDateObject(new Date(year,i,1),ctrl.formatMonth),{uid:scope.uniqueId+"-"+i});scope.title=dateFilter(ctrl.activeDate,ctrl.formatMonthTitle),scope.rows=ctrl.split(months,3)},ctrl.compare=function(date1,date2){return new Date(date1.getFullYear(),date1.getMonth())-new Date(date2.getFullYear(),date2.getMonth())},ctrl.handleKeyDown=function(key,evt){var date=ctrl.activeDate.getMonth();if("left"===key)date-=1;else if("up"===key)date-=3;else if("right"===key)date+=1;else if("down"===key)date+=3;else if("pageup"===key||"pagedown"===key){var year=ctrl.activeDate.getFullYear()+("pageup"===key?-1:1);ctrl.activeDate.setFullYear(year)}else"home"===key?date=0:"end"===key&&(date=11);ctrl.activeDate.setMonth(date)},ctrl.refreshView()}}}]).directive("yearpicker",["dateFilter",function(dateFilter){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(scope,element,attrs,ctrl){function getStartingYear(year){return parseInt((year-1)/range,10)*range+1}var range=ctrl.yearRange;ctrl.step={years:range},ctrl.element=element,ctrl._refreshView=function(){for(var years=new Array(range),i=0,start=getStartingYear(ctrl.activeDate.getFullYear());i<range;i++)years[i]=angular.extend(ctrl.createDateObject(new Date(start+i,0,1),ctrl.formatYear),{uid:scope.uniqueId+"-"+i});scope.title=[years[0].label,years[range-1].label].join(" - "),scope.rows=ctrl.split(years,5)},ctrl.compare=function(date1,date2){return date1.getFullYear()-date2.getFullYear()},ctrl.handleKeyDown=function(key,evt){var date=ctrl.activeDate.getFullYear();"left"===key?date-=1:"up"===key?date-=5:"right"===key?date+=1:"down"===key?date+=5:"pageup"===key||"pagedown"===key?date+=("pageup"===key?-1:1)*ctrl.step.years:"home"===key?date=getStartingYear(ctrl.activeDate.getFullYear()):"end"===key&&(date=getStartingYear(ctrl.activeDate.getFullYear())+range-1),ctrl.activeDate.setFullYear(date)},ctrl.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function($compile,$parse,$document,$position,dateFilter,dateParser,datepickerPopupConfig){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(scope,element,attrs,ngModel){function cameltoDash(string){return string.replace(/([A-Z])/g,function($1){return"-"+$1.toLowerCase()})}function parseDate(viewValue){if(viewValue){if(angular.isDate(viewValue)&&!isNaN(viewValue))return ngModel.$setValidity("date",!0),
viewValue;if(angular.isString(viewValue)){var date=dateParser.parse(viewValue,dateFormat)||new Date(viewValue);return isNaN(date)?void ngModel.$setValidity("date",!1):(ngModel.$setValidity("date",!0),date)}return void ngModel.$setValidity("date",!1)}return ngModel.$setValidity("date",!0),null}var dateFormat,closeOnDateSelection=angular.isDefined(attrs.closeOnDateSelection)?scope.$parent.$eval(attrs.closeOnDateSelection):datepickerPopupConfig.closeOnDateSelection,appendToBody=angular.isDefined(attrs.datepickerAppendToBody)?scope.$parent.$eval(attrs.datepickerAppendToBody):datepickerPopupConfig.appendToBody;scope.showButtonBar=angular.isDefined(attrs.showButtonBar)?scope.$parent.$eval(attrs.showButtonBar):datepickerPopupConfig.showButtonBar,scope.getText=function(key){return scope[key+"Text"]||datepickerPopupConfig[key+"Text"]},attrs.$observe("datepickerPopup",function(value){dateFormat=value||datepickerPopupConfig.datepickerPopup,ngModel.$render()});var popupEl=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");popupEl.attr({"ng-model":"date","ng-change":"dateSelection()"});var datepickerEl=angular.element(popupEl.children()[0]);attrs.datepickerOptions&&angular.forEach(scope.$parent.$eval(attrs.datepickerOptions),function(value,option){datepickerEl.attr(cameltoDash(option),value)}),scope.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(key){if(attrs[key]){var getAttribute=$parse(attrs[key]);if(scope.$parent.$watch(getAttribute,function(value){scope.watchData[key]=value}),datepickerEl.attr(cameltoDash(key),"watchData."+key),"datepickerMode"===key){var setAttribute=getAttribute.assign;scope.$watch("watchData."+key,function(value,oldvalue){value!==oldvalue&&setAttribute(scope.$parent,value)})}}}),attrs.dateDisabled&&datepickerEl.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),ngModel.$parsers.unshift(parseDate),scope.dateSelection=function(dt){angular.isDefined(dt)&&(scope.date=dt),ngModel.$setViewValue(scope.date),ngModel.$render(),closeOnDateSelection&&(scope.isOpen=!1,element[0].focus())},element.bind("input change keyup",function(){scope.$apply(function(){scope.date=ngModel.$modelValue})}),ngModel.$render=function(){var date=ngModel.$viewValue?dateFilter(ngModel.$viewValue,dateFormat):"";element.val(date),scope.date=parseDate(ngModel.$modelValue)};var documentClickBind=function(event){scope.isOpen&&event.target!==element[0]&&scope.$apply(function(){scope.isOpen=!1})},keydown=function(evt,noApply){scope.keydown(evt)};element.bind("keydown",keydown),scope.keydown=function(evt){27===evt.which?(evt.preventDefault(),evt.stopPropagation(),scope.close()):40!==evt.which||scope.isOpen||(scope.isOpen=!0)},scope.$watch("isOpen",function(value){value?(scope.$broadcast("datepicker.focus"),scope.position=appendToBody?$position.offset(element):$position.position(element),scope.position.top=scope.position.top+element.prop("offsetHeight"),$document.bind("click",documentClickBind)):$document.unbind("click",documentClickBind)}),scope.select=function(date){if("today"===date){var today=new Date;angular.isDate(ngModel.$modelValue)?(date=new Date(ngModel.$modelValue),date.setFullYear(today.getFullYear(),today.getMonth(),today.getDate())):date=new Date(today.setHours(0,0,0,0))}scope.dateSelection(date)},scope.close=function(){scope.isOpen=!1,element[0].focus()};var $popup=$compile(popupEl)(scope);popupEl.remove(),appendToBody?$document.find("body").append($popup):element.after($popup),scope.$on("$destroy",function(){$popup.remove(),element.unbind("keydown",keydown),$document.unbind("click",documentClickBind)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(scope,element,attrs){element.bind("click",function(event){event.preventDefault(),event.stopPropagation()})}}})},2713:function(module,exports){"use strict";angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function($document){var openScope=null;this.open=function(dropdownScope){openScope||($document.bind("click",closeDropdown),$document.bind("keydown",escapeKeyBind)),openScope&&openScope!==dropdownScope&&(openScope.isOpen=!1),openScope=dropdownScope},this.close=function(dropdownScope){openScope===dropdownScope&&(openScope=null,$document.unbind("click",closeDropdown),$document.unbind("keydown",escapeKeyBind))};var closeDropdown=function(evt){if(openScope){var toggleElement=openScope.getToggleElement();evt&&toggleElement&&toggleElement[0].contains(evt.target)||openScope.$apply(function(){openScope.isOpen=!1})}},escapeKeyBind=function(evt){27===evt.which&&(openScope.focusToggleElement(),closeDropdown())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function($scope,$attrs,$parse,dropdownConfig,dropdownService,$animate){var getIsOpen,self=this,scope=$scope.$new(),openClass=dropdownConfig.openClass,setIsOpen=angular.noop,toggleInvoker=$attrs.onToggle?$parse($attrs.onToggle):angular.noop;this.init=function(element){self.$element=element,$attrs.isOpen&&(getIsOpen=$parse($attrs.isOpen),setIsOpen=getIsOpen.assign,$scope.$watch(getIsOpen,function(value){scope.isOpen=!!value}))},this.toggle=function(open){return scope.isOpen=arguments.length?!!open:!scope.isOpen},this.isOpen=function(){return scope.isOpen},scope.getToggleElement=function(){return self.toggleElement},scope.focusToggleElement=function(){self.toggleElement&&self.toggleElement[0].focus()},scope.$watch("isOpen",function(isOpen,wasOpen){$animate[isOpen?"addClass":"removeClass"](self.$element,openClass),isOpen?(scope.focusToggleElement(),dropdownService.open(scope)):dropdownService.close(scope),setIsOpen($scope,isOpen),angular.isDefined(isOpen)&&isOpen!==wasOpen&&toggleInvoker($scope,{open:!!isOpen})}),$scope.$on("$locationChangeSuccess",function(){scope.isOpen=!1}),$scope.$on("$destroy",function(){scope.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(scope,element,attrs,dropdownCtrl){dropdownCtrl.init(element)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(scope,element,attrs,dropdownCtrl){if(dropdownCtrl){dropdownCtrl.toggleElement=element;var toggleDropdown=function(event){event.preventDefault(),element.hasClass("disabled")||attrs.disabled||scope.$apply(function(){dropdownCtrl.toggle()})};element.bind("click",toggleDropdown),element.attr({"aria-haspopup":!0,"aria-expanded":!1}),scope.$watch(dropdownCtrl.isOpen,function(isOpen){element.attr("aria-expanded",!!isOpen)}),scope.$on("$destroy",function(){element.unbind("click",toggleDropdown)})}}}})},2714:function(module,exports){"use strict";angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var stack=[];return{add:function(key,value){stack.push({key:key,value:value})},get:function(key){for(var i=0;i<stack.length;i++)if(key==stack[i].key)return stack[i]},keys:function keys(){for(var keys=[],i=0;i<stack.length;i++)keys.push(stack[i].key);return keys},top:function(){return stack[stack.length-1]},remove:function(key){for(var idx=-1,i=0;i<stack.length;i++)if(key==stack[i].key){idx=i;break}return stack.splice(idx,1)[0]},removeTop:function(){return stack.splice(stack.length-1,1)[0]},length:function(){return stack.length}}}}}).directive("modalBackdrop",["$timeout",function($timeout){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(scope,element,attrs){scope.backdropClass=attrs.backdropClass||"",scope.animate=!1,$timeout(function(){scope.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function($modalStack,$timeout){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(tElement,tAttrs){return tAttrs.templateUrl||"template/modal/window.html"},link:function(scope,element,attrs){element.addClass(attrs.windowClass||""),scope.size=attrs.size,$timeout(function(){scope.animate=!0,element[0].querySelectorAll("[autofocus]").length||element[0].focus()}),scope.close=function(evt){var modal=$modalStack.getTop();modal&&modal.value.backdrop&&"static"!=modal.value.backdrop&&evt.target===evt.currentTarget&&(evt.preventDefault(),evt.stopPropagation(),$modalStack.dismiss(modal.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function($scope,$element,$attrs,controller,$transclude){$transclude($scope.$parent,function(clone){$element.empty(),$element.append(clone)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function($transition,$timeout,$document,$compile,$rootScope,$$stackedMap){function backdropIndex(){for(var topBackdropIndex=-1,opened=openedWindows.keys(),i=0;i<opened.length;i++)openedWindows.get(opened[i]).value.backdrop&&(topBackdropIndex=i);return topBackdropIndex}function removeModalWindow(modalInstance){var body=$document.find("body").eq(0),modalWindow=openedWindows.get(modalInstance).value;openedWindows.remove(modalInstance),removeAfterAnimate(modalWindow.modalDomEl,modalWindow.modalScope,300,function(){modalWindow.modalScope.$destroy(),body.toggleClass(OPENED_MODAL_CLASS,openedWindows.length()>0),checkRemoveBackdrop()})}function checkRemoveBackdrop(){if(backdropDomEl&&backdropIndex()==-1){var backdropScopeRef=backdropScope;removeAfterAnimate(backdropDomEl,backdropScope,150,function(){backdropScopeRef.$destroy(),backdropScopeRef=null}),backdropDomEl=void 0,backdropScope=void 0}}function removeAfterAnimate(domEl,scope,emulateTime,done){function afterAnimating(){afterAnimating.done||(afterAnimating.done=!0,domEl.remove(),done&&done())}scope.animate=!1;var transitionEndEventName=$transition.transitionEndEventName;if(transitionEndEventName){var timeout=$timeout(afterAnimating,emulateTime);domEl.bind(transitionEndEventName,function(){$timeout.cancel(timeout),afterAnimating(),scope.$apply()})}else $timeout(afterAnimating)}var backdropDomEl,backdropScope,OPENED_MODAL_CLASS="modal-open",openedWindows=$$stackedMap.createNew(),$modalStack={};return $rootScope.$watch(backdropIndex,function(newBackdropIndex){backdropScope&&(backdropScope.index=newBackdropIndex)}),$document.bind("keydown",function(evt){var modal;27===evt.which&&(modal=openedWindows.top(),modal&&modal.value.keyboard&&(evt.preventDefault(),$rootScope.$apply(function(){$modalStack.dismiss(modal.key,"escape key press")})))}),$modalStack.open=function(modalInstance,modal){openedWindows.add(modalInstance,{deferred:modal.deferred,modalScope:modal.scope,backdrop:modal.backdrop,keyboard:modal.keyboard});var body=$document.find("body").eq(0),currBackdropIndex=backdropIndex();if(currBackdropIndex>=0&&!backdropDomEl){backdropScope=$rootScope.$new(!0),backdropScope.index=currBackdropIndex;var angularBackgroundDomEl=angular.element("<div modal-backdrop></div>");angularBackgroundDomEl.attr("backdrop-class",modal.backdropClass),backdropDomEl=$compile(angularBackgroundDomEl)(backdropScope),body.append(backdropDomEl)}var angularDomEl=angular.element("<div modal-window></div>");angularDomEl.attr({"template-url":modal.windowTemplateUrl,"window-class":modal.windowClass,size:modal.size,index:openedWindows.length()-1,animate:"animate"}).html(modal.content);var modalDomEl=$compile(angularDomEl)(modal.scope);openedWindows.top().value.modalDomEl=modalDomEl,body.append(modalDomEl),body.addClass(OPENED_MODAL_CLASS)},$modalStack.close=function(modalInstance,result){var modalWindow=openedWindows.get(modalInstance);modalWindow&&(modalWindow.value.deferred.resolve(result),removeModalWindow(modalInstance))},$modalStack.dismiss=function(modalInstance,reason){var modalWindow=openedWindows.get(modalInstance);modalWindow&&(modalWindow.value.deferred.reject(reason),removeModalWindow(modalInstance))},$modalStack.dismissAll=function(reason){for(var topModal=this.getTop();topModal;)this.dismiss(topModal.key,reason),topModal=this.getTop()},$modalStack.getTop=function(){return openedWindows.top()},$modalStack}]).provider("$modal",function(){var $modalProvider={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function($injector,$rootScope,$q,$http,$templateCache,$controller,$modalStack){function getTemplatePromise(options){return options.template?$q.when(options.template):$http.get(angular.isFunction(options.templateUrl)?options.templateUrl():options.templateUrl,{cache:$templateCache}).then(function(result){return result.data})}function getResolvePromises(resolves){var promisesArr=[];return angular.forEach(resolves,function(value){(angular.isFunction(value)||angular.isArray(value))&&promisesArr.push($q.when($injector.invoke(value)))}),promisesArr}var $modal={};return $modal.open=function(modalOptions){var modalResultDeferred=$q.defer(),modalOpenedDeferred=$q.defer(),modalInstance={result:modalResultDeferred.promise,opened:modalOpenedDeferred.promise,close:function(result){$modalStack.close(modalInstance,result)},dismiss:function(reason){$modalStack.dismiss(modalInstance,reason)}};if(modalOptions=angular.extend({},$modalProvider.options,modalOptions),modalOptions.resolve=modalOptions.resolve||{},!modalOptions.template&&!modalOptions.templateUrl)throw new Error("One of template or templateUrl options is required.");var templateAndResolvePromise=$q.all([getTemplatePromise(modalOptions)].concat(getResolvePromises(modalOptions.resolve)));return templateAndResolvePromise.then(function(tplAndVars){var modalScope=(modalOptions.scope||$rootScope).$new();modalScope.$close=modalInstance.close,modalScope.$dismiss=modalInstance.dismiss;var ctrlInstance,ctrlLocals={},resolveIter=1;modalOptions.controller&&(ctrlLocals.$scope=modalScope,ctrlLocals.$modalInstance=modalInstance,angular.forEach(modalOptions.resolve,function(value,key){ctrlLocals[key]=tplAndVars[resolveIter++]}),ctrlInstance=$controller(modalOptions.controller,ctrlLocals),modalOptions.controllerAs&&(modalScope[modalOptions.controllerAs]=ctrlInstance)),$modalStack.open(modalInstance,{scope:modalScope,deferred:modalResultDeferred,content:tplAndVars[0],backdrop:modalOptions.backdrop,keyboard:modalOptions.keyboard,backdropClass:modalOptions.backdropClass,windowClass:modalOptions.windowClass,windowTemplateUrl:modalOptions.windowTemplateUrl,size:modalOptions.size})},function(reason){modalResultDeferred.reject(reason)}),templateAndResolvePromise.then(function(){modalOpenedDeferred.resolve(!0)},function(){modalOpenedDeferred.reject(!1)}),modalInstance},$modal}]};return $modalProvider})},2715:function(module,exports){"use strict";angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function($scope,$attrs,$parse){var self=this,ngModelCtrl={$setViewValue:angular.noop},setNumPages=$attrs.numPages?$parse($attrs.numPages).assign:angular.noop;this.init=function(ngModelCtrl_,config){ngModelCtrl=ngModelCtrl_,this.config=config,ngModelCtrl.$render=function(){self.render()},$attrs.itemsPerPage?$scope.$parent.$watch($parse($attrs.itemsPerPage),function(value){self.itemsPerPage=parseInt(value,10),$scope.totalPages=self.calculateTotalPages()}):this.itemsPerPage=config.itemsPerPage},this.calculateTotalPages=function(){var totalPages=this.itemsPerPage<1?1:Math.ceil($scope.totalItems/this.itemsPerPage);return Math.max(totalPages||0,1)},this.render=function(){$scope.page=parseInt(ngModelCtrl.$viewValue,10)||1},$scope.selectPage=function(page){$scope.page!==page&&page>0&&page<=$scope.totalPages&&(ngModelCtrl.$setViewValue(page),ngModelCtrl.$render())},$scope.getText=function(key){return $scope[key+"Text"]||self.config[key+"Text"]},$scope.noPrevious=function(){return 1===$scope.page},$scope.noNext=function(){return $scope.page===$scope.totalPages},$scope.$watch("totalItems",function(){$scope.totalPages=self.calculateTotalPages()}),$scope.$watch("totalPages",function(value){setNumPages($scope.$parent,value),$scope.page>value?$scope.selectPage(value):ngModelCtrl.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function($parse,paginationConfig){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(scope,element,attrs,ctrls){function makePage(number,text,isActive){return{number:number,text:text,active:isActive}}function getPages(currentPage,totalPages){var pages=[],startPage=1,endPage=totalPages,isMaxSized=angular.isDefined(maxSize)&&maxSize<totalPages;isMaxSized&&(rotate?(startPage=Math.max(currentPage-Math.floor(maxSize/2),1),endPage=startPage+maxSize-1,endPage>totalPages&&(endPage=totalPages,startPage=endPage-maxSize+1)):(startPage=(Math.ceil(currentPage/maxSize)-1)*maxSize+1,endPage=Math.min(startPage+maxSize-1,totalPages)));for(var number=startPage;number<=endPage;number++){var page=makePage(number,number,number===currentPage);pages.push(page)}if(isMaxSized&&!rotate){if(startPage>1){var previousPageSet=makePage(startPage-1,"...",!1);pages.unshift(previousPageSet)}if(endPage<totalPages){var nextPageSet=makePage(endPage+1,"...",!1);pages.push(nextPageSet)}}return pages}var paginationCtrl=ctrls[0],ngModelCtrl=ctrls[1];if(ngModelCtrl){var maxSize=angular.isDefined(attrs.maxSize)?scope.$parent.$eval(attrs.maxSize):paginationConfig.maxSize,rotate=angular.isDefined(attrs.rotate)?scope.$parent.$eval(attrs.rotate):paginationConfig.rotate;scope.boundaryLinks=angular.isDefined(attrs.boundaryLinks)?scope.$parent.$eval(attrs.boundaryLinks):paginationConfig.boundaryLinks,scope.directionLinks=angular.isDefined(attrs.directionLinks)?scope.$parent.$eval(attrs.directionLinks):paginationConfig.directionLinks,paginationCtrl.init(ngModelCtrl,paginationConfig),attrs.maxSize&&scope.$parent.$watch($parse(attrs.maxSize),function(value){maxSize=parseInt(value,10),paginationCtrl.render()});var originalRender=paginationCtrl.render;paginationCtrl.render=function(){originalRender(),scope.page>0&&scope.page<=scope.totalPages&&(scope.pages=getPages(scope.page,scope.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(pagerConfig){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(scope,element,attrs,ctrls){var paginationCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl&&(scope.align=angular.isDefined(attrs.align)?scope.$parent.$eval(attrs.align):pagerConfig.align,paginationCtrl.init(ngModelCtrl,pagerConfig))}}}])},2716:function(module,exports){"use strict";angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function($tooltip){return $tooltip("popover","popover","click")}])},2717:function(module,exports){"use strict";angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function($document,$window){function getStyle(el,cssprop){return el.currentStyle?el.currentStyle[cssprop]:$window.getComputedStyle?$window.getComputedStyle(el)[cssprop]:el.style[cssprop]}function isStaticPositioned(element){return"static"===(getStyle(element,"position")||"static")}var parentOffsetEl=function(element){for(var docDomEl=$document[0],offsetParent=element.offsetParent||docDomEl;offsetParent&&offsetParent!==docDomEl&&isStaticPositioned(offsetParent);)offsetParent=offsetParent.offsetParent;return offsetParent||docDomEl};return{position:function(element){var elBCR=this.offset(element),offsetParentBCR={top:0,left:0},offsetParentEl=parentOffsetEl(element[0]);offsetParentEl!=$document[0]&&(offsetParentBCR=this.offset(angular.element(offsetParentEl)),offsetParentBCR.top+=offsetParentEl.clientTop-offsetParentEl.scrollTop,offsetParentBCR.left+=offsetParentEl.clientLeft-offsetParentEl.scrollLeft);var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:elBCR.top-offsetParentBCR.top,left:elBCR.left-offsetParentBCR.left}},offset:function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)}},positionElements:function(hostEl,targetEl,positionStr,appendToBody){var hostElPos,targetElWidth,targetElHeight,targetElPos,positionStrParts=positionStr.split("-"),pos0=positionStrParts[0],pos1=positionStrParts[1]||"center";hostElPos=appendToBody?this.offset(hostEl):this.position(hostEl),targetElWidth=targetEl.prop("offsetWidth"),targetElHeight=targetEl.prop("offsetHeight");var shiftWidth={center:function(){return hostElPos.left+hostElPos.width/2-targetElWidth/2},left:function(){return hostElPos.left},right:function(){return hostElPos.left+hostElPos.width}},shiftHeight={center:function(){return hostElPos.top+hostElPos.height/2-targetElHeight/2},top:function(){return hostElPos.top},bottom:function(){return hostElPos.top+hostElPos.height}};switch(pos0){case"right":targetElPos={top:shiftHeight[pos1](),left:shiftWidth[pos0]()};break;case"left":targetElPos={top:shiftHeight[pos1](),left:hostElPos.left-targetElWidth};break;case"bottom":targetElPos={top:shiftHeight[pos0](),left:shiftWidth[pos1]()};break;default:targetElPos={top:hostElPos.top-targetElHeight,left:shiftWidth[pos1]()}}return targetElPos}}}])},2718:function(module,exports){"use strict";angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function($scope,$attrs,progressConfig){var self=this,animate=angular.isDefined($attrs.animate)?$scope.$parent.$eval($attrs.animate):progressConfig.animate;this.bars=[],$scope.max=angular.isDefined($attrs.max)?$scope.$parent.$eval($attrs.max):progressConfig.max,this.addBar=function(bar,element){animate||element.css({transition:"none"}),this.bars.push(bar),bar.$watch("value",function(value){bar.percent=+(100*value/$scope.max).toFixed(2)}),bar.$on("$destroy",function(){element=null,self.removeBar(bar)})},this.removeBar=function(bar){this.bars.splice(this.bars.indexOf(bar),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(scope,element,attrs,progressCtrl){progressCtrl.addBar(scope,element)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(scope,element,attrs,progressCtrl){progressCtrl.addBar(scope,angular.element(element.children()[0]))}}})},2719:function(module,exports){"use strict";angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function($scope,$attrs,ratingConfig){var ngModelCtrl={$setViewValue:angular.noop};this.init=function(ngModelCtrl_){ngModelCtrl=ngModelCtrl_,ngModelCtrl.$render=this.render,this.stateOn=angular.isDefined($attrs.stateOn)?$scope.$parent.$eval($attrs.stateOn):ratingConfig.stateOn,this.stateOff=angular.isDefined($attrs.stateOff)?$scope.$parent.$eval($attrs.stateOff):ratingConfig.stateOff;var ratingStates=angular.isDefined($attrs.ratingStates)?$scope.$parent.$eval($attrs.ratingStates):new Array(angular.isDefined($attrs.max)?$scope.$parent.$eval($attrs.max):ratingConfig.max);$scope.range=this.buildTemplateObjects(ratingStates)},this.buildTemplateObjects=function(states){for(var i=0,n=states.length;i<n;i++)states[i]=angular.extend({index:i},{stateOn:this.stateOn,stateOff:this.stateOff},states[i]);return states},$scope.rate=function(value){!$scope.readonly&&value>=0&&value<=$scope.range.length&&(ngModelCtrl.$setViewValue(value),ngModelCtrl.$render())},$scope.enter=function(value){$scope.readonly||($scope.value=value),$scope.onHover({value:value})},$scope.reset=function(){$scope.value=ngModelCtrl.$viewValue,$scope.onLeave()},$scope.onKeydown=function(evt){/(37|38|39|40)/.test(evt.which)&&(evt.preventDefault(),evt.stopPropagation(),$scope.rate($scope.value+(38===evt.which||39===evt.which?1:-1)))},this.render=function(){$scope.value=ngModelCtrl.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(scope,element,attrs,ctrls){var ratingCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl&&ratingCtrl.init(ngModelCtrl)}}})},2720:function(module,exports){"use strict";angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function($scope){var ctrl=this,tabs=ctrl.tabs=$scope.tabs=[];ctrl.select=function(selectedTab){angular.forEach(tabs,function(tab){tab.active&&tab!==selectedTab&&(tab.active=!1,tab.onDeselect())}),selectedTab.active=!0,selectedTab.onSelect()},ctrl.addTab=function(tab){tabs.push(tab),1===tabs.length?tab.active=!0:tab.active&&ctrl.select(tab)},ctrl.removeTab=function(tab){var index=tabs.indexOf(tab);if(tab.active&&tabs.length>1&&!destroyed){var newActiveIndex=index==tabs.length-1?index-1:index+1;ctrl.select(tabs[newActiveIndex])}tabs.splice(index,1)};var destroyed;$scope.$on("$destroy",function(){destroyed=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(scope,element,attrs){scope.vertical=!!angular.isDefined(attrs.vertical)&&scope.$parent.$eval(attrs.vertical),scope.justified=!!angular.isDefined(attrs.justified)&&scope.$parent.$eval(attrs.justified)}}}).directive("tab",["$parse",function($parse){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(elm,attrs,transclude){return function(scope,elm,attrs,tabsetCtrl){scope.$watch("active",function(active){active&&tabsetCtrl.select(scope)}),scope.disabled=!1,attrs.disabled&&scope.$parent.$watch($parse(attrs.disabled),function(value){scope.disabled=!!value}),scope.select=function(){scope.disabled||(scope.active=!0)},tabsetCtrl.addTab(scope),scope.$on("$destroy",function(){tabsetCtrl.removeTab(scope)}),scope.$transcludeFn=transclude}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(scope,elm,attrs,tabCtrl){scope.$watch("headingElement",function(heading){heading&&(elm.html(""),elm.append(heading))})}}}]).directive("tabContentTransclude",function(){function isTabHeading(node){return node.tagName&&(node.hasAttribute("tab-heading")||node.hasAttribute("data-tab-heading")||"tab-heading"===node.tagName.toLowerCase()||"data-tab-heading"===node.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(scope,elm,attrs){var tab=scope.$eval(attrs.tabContentTransclude);tab.$transcludeFn(tab.$parent,function(contents){angular.forEach(contents,function(node){isTabHeading(node)?tab.headingElement=node:elm.append(node)})})}}})},2721:function(module,exports){"use strict";angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function($scope,$attrs,$parse,$log,$locale,timepickerConfig){function getHoursFromTemplate(){var hours=parseInt($scope.hours,10),valid=$scope.showMeridian?hours>0&&hours<13:hours>=0&&hours<24;if(valid)return $scope.showMeridian&&(12===hours&&(hours=0),$scope.meridian===meridians[1]&&(hours+=12)),hours}function getMinutesFromTemplate(){var minutes=parseInt($scope.minutes,10);return minutes>=0&&minutes<60?minutes:void 0}function pad(value){return angular.isDefined(value)&&value.toString().length<2?"0"+value:value}function refresh(keyboardChange){makeValid(),ngModelCtrl.$setViewValue(new Date(selected)),updateTemplate(keyboardChange)}function makeValid(){ngModelCtrl.$setValidity("time",!0),$scope.invalidHours=!1,$scope.invalidMinutes=!1}function updateTemplate(keyboardChange){var hours=selected.getHours(),minutes=selected.getMinutes();$scope.showMeridian&&(hours=0===hours||12===hours?12:hours%12),$scope.hours="h"===keyboardChange?hours:pad(hours),$scope.minutes="m"===keyboardChange?minutes:pad(minutes),$scope.meridian=selected.getHours()<12?meridians[0]:meridians[1]}function addMinutes(minutes){var dt=new Date(selected.getTime()+6e4*minutes);selected.setHours(dt.getHours(),dt.getMinutes()),refresh()}var selected=new Date,ngModelCtrl={$setViewValue:angular.noop},meridians=angular.isDefined($attrs.meridians)?$scope.$parent.$eval($attrs.meridians):timepickerConfig.meridians||$locale.DATETIME_FORMATS.AMPMS;this.init=function(ngModelCtrl_,inputs){ngModelCtrl=ngModelCtrl_,ngModelCtrl.$render=this.render;var hoursInputEl=inputs.eq(0),minutesInputEl=inputs.eq(1),mousewheel=angular.isDefined($attrs.mousewheel)?$scope.$parent.$eval($attrs.mousewheel):timepickerConfig.mousewheel;mousewheel&&this.setupMousewheelEvents(hoursInputEl,minutesInputEl),$scope.readonlyInput=angular.isDefined($attrs.readonlyInput)?$scope.$parent.$eval($attrs.readonlyInput):timepickerConfig.readonlyInput,this.setupInputEvents(hoursInputEl,minutesInputEl)};var hourStep=timepickerConfig.hourStep;$attrs.hourStep&&$scope.$parent.$watch($parse($attrs.hourStep),function(value){hourStep=parseInt(value,10)});var minuteStep=timepickerConfig.minuteStep;$attrs.minuteStep&&$scope.$parent.$watch($parse($attrs.minuteStep),function(value){minuteStep=parseInt(value,10)}),$scope.showMeridian=timepickerConfig.showMeridian,$attrs.showMeridian&&$scope.$parent.$watch($parse($attrs.showMeridian),function(value){if($scope.showMeridian=!!value,ngModelCtrl.$error.time){var hours=getHoursFromTemplate(),minutes=getMinutesFromTemplate();angular.isDefined(hours)&&angular.isDefined(minutes)&&(selected.setHours(hours),refresh())}else updateTemplate()}),this.setupMousewheelEvents=function(hoursInputEl,minutesInputEl){var isScrollingUp=function(e){e.originalEvent&&(e=e.originalEvent);var delta=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||delta>0};hoursInputEl.bind("mousewheel wheel",function(e){$scope.$apply(isScrollingUp(e)?$scope.incrementHours():$scope.decrementHours()),e.preventDefault()}),minutesInputEl.bind("mousewheel wheel",function(e){$scope.$apply(isScrollingUp(e)?$scope.incrementMinutes():$scope.decrementMinutes()),e.preventDefault()})},this.setupInputEvents=function(hoursInputEl,minutesInputEl){if($scope.readonlyInput)return $scope.updateHours=angular.noop,void($scope.updateMinutes=angular.noop);var invalidate=function(invalidHours,invalidMinutes){ngModelCtrl.$setViewValue(null),ngModelCtrl.$setValidity("time",!1),angular.isDefined(invalidHours)&&($scope.invalidHours=invalidHours),
angular.isDefined(invalidMinutes)&&($scope.invalidMinutes=invalidMinutes)};$scope.updateHours=function(){var hours=getHoursFromTemplate();angular.isDefined(hours)?(selected.setHours(hours),refresh("h")):invalidate(!0)},hoursInputEl.bind("blur",function(e){!$scope.invalidHours&&$scope.hours<10&&$scope.$apply(function(){$scope.hours=pad($scope.hours)})}),$scope.updateMinutes=function(){var minutes=getMinutesFromTemplate();angular.isDefined(minutes)?(selected.setMinutes(minutes),refresh("m")):invalidate(void 0,!0)},minutesInputEl.bind("blur",function(e){!$scope.invalidMinutes&&$scope.minutes<10&&$scope.$apply(function(){$scope.minutes=pad($scope.minutes)})})},this.render=function(){var date=ngModelCtrl.$modelValue?new Date(ngModelCtrl.$modelValue):null;isNaN(date)?(ngModelCtrl.$setValidity("time",!1),$log.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(date&&(selected=date),makeValid(),updateTemplate())},$scope.incrementHours=function(){addMinutes(60*hourStep)},$scope.decrementHours=function(){addMinutes(60*-hourStep)},$scope.incrementMinutes=function(){addMinutes(minuteStep)},$scope.decrementMinutes=function(){addMinutes(-minuteStep)},$scope.toggleMeridian=function(){addMinutes(720*(selected.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(scope,element,attrs,ctrls){var timepickerCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl&&timepickerCtrl.init(ngModelCtrl,element.find("input"))}}})},2722:function(module,exports){"use strict";angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function snake_case(name){var regexp=/[A-Z]/g,separator="-";return name.replace(regexp,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}var defaultOptions={placement:"top",animation:!0,popupDelay:0},triggerMap={mouseenter:"mouseleave",click:"click",focus:"blur"},globalOptions={};this.options=function(value){angular.extend(globalOptions,value)},this.setTriggers=function(triggers){angular.extend(triggerMap,triggers)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function($window,$compile,$timeout,$document,$position,$interpolate){return function(type,prefix,defaultTriggerShow){function getTriggers(trigger){var show=trigger||options.trigger||defaultTriggerShow,hide=triggerMap[show]||show;return{show:show,hide:hide}}var options=angular.extend({},defaultOptions,globalOptions),directiveName=snake_case(type),startSym=$interpolate.startSymbol(),endSym=$interpolate.endSymbol(),template="<div "+directiveName+'-popup title="'+startSym+"title"+endSym+'" content="'+startSym+"content"+endSym+'" placement="'+startSym+"placement"+endSym+'" animation="animation" is-open="isOpen"></div>';return{restrict:"EA",compile:function(tElem,tAttrs){var tooltipLinker=$compile(template);return function(scope,element,attrs){function toggleTooltipBind(){ttScope.isOpen?hideTooltipBind():showTooltipBind()}function showTooltipBind(){hasEnableExp&&!scope.$eval(attrs[prefix+"Enable"])||(prepareTooltip(),ttScope.popupDelay?popupTimeout||(popupTimeout=$timeout(show,ttScope.popupDelay,!1),popupTimeout.then(function(reposition){reposition()})):show()())}function hideTooltipBind(){scope.$apply(function(){hide()})}function show(){return popupTimeout=null,transitionTimeout&&($timeout.cancel(transitionTimeout),transitionTimeout=null),ttScope.content?(createTooltip(),tooltip.css({top:0,left:0,display:"block"}),ttScope.$digest(),positionTooltip(),ttScope.isOpen=!0,ttScope.$digest(),positionTooltip):angular.noop}function hide(){ttScope.isOpen=!1,$timeout.cancel(popupTimeout),popupTimeout=null,ttScope.animation?transitionTimeout||(transitionTimeout=$timeout(removeTooltip,500)):removeTooltip()}function createTooltip(){tooltip&&removeTooltip(),tooltipLinkedScope=ttScope.$new(),tooltip=tooltipLinker(tooltipLinkedScope,function(tooltip){appendToBody?$document.find("body").append(tooltip):element.after(tooltip)})}function removeTooltip(){transitionTimeout=null,tooltip&&(tooltip.remove(),tooltip=null),tooltipLinkedScope&&(tooltipLinkedScope.$destroy(),tooltipLinkedScope=null)}function prepareTooltip(){prepPlacement(),prepPopupDelay()}function prepPlacement(){var val=attrs[prefix+"Placement"];ttScope.placement=angular.isDefined(val)?val:options.placement}function prepPopupDelay(){var val=attrs[prefix+"PopupDelay"],delay=parseInt(val,10);ttScope.popupDelay=isNaN(delay)?options.popupDelay:delay}function prepTriggers(){var val=attrs[prefix+"Trigger"];unregisterTriggers(),triggers=getTriggers(val),triggers.show===triggers.hide?element.bind(triggers.show,toggleTooltipBind):(element.bind(triggers.show,showTooltipBind),element.bind(triggers.hide,hideTooltipBind))}var tooltip,tooltipLinkedScope,transitionTimeout,popupTimeout,appendToBody=!!angular.isDefined(options.appendToBody)&&options.appendToBody,triggers=getTriggers(void 0),hasEnableExp=angular.isDefined(attrs[prefix+"Enable"]),ttScope=scope.$new(!0),positionTooltip=function(){var ttPosition=$position.positionElements(element,tooltip,ttScope.placement,appendToBody);ttPosition.top+="px",ttPosition.left+="px",tooltip.css(ttPosition)};ttScope.isOpen=!1,attrs.$observe(type,function(val){ttScope.content=val,!val&&ttScope.isOpen&&hide()}),attrs.$observe(prefix+"Title",function(val){ttScope.title=val});var unregisterTriggers=function(){element.unbind(triggers.show,showTooltipBind),element.unbind(triggers.hide,hideTooltipBind)};prepTriggers();var animation=scope.$eval(attrs[prefix+"Animation"]);ttScope.animation=angular.isDefined(animation)?!!animation:options.animation;var appendToBodyVal=scope.$eval(attrs[prefix+"AppendToBody"]);appendToBody=angular.isDefined(appendToBodyVal)?appendToBodyVal:appendToBody,appendToBody&&scope.$on("$locationChangeSuccess",function(){ttScope.isOpen&&hide()}),scope.$on("$destroy",function(){$timeout.cancel(transitionTimeout),$timeout.cancel(popupTimeout),unregisterTriggers(),removeTooltip(),ttScope=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function($tooltip){return $tooltip("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function($tooltip){return $tooltip("tooltipHtmlUnsafe","tooltip","mouseenter")}])},2723:function(module,exports){"use strict";angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function($q,$timeout,$rootScope){function findEndEventName(endEventNames){for(var name in endEventNames)if(void 0!==transElement.style[name])return endEventNames[name]}var $transition=function $transition(element,trigger,options){options=options||{};var deferred=$q.defer(),endEventName=$transition[options.animation?"animationEndEventName":"transitionEndEventName"],transitionEndHandler=function transitionEndHandler(event){$rootScope.$apply(function(){element.unbind(endEventName,transitionEndHandler),deferred.resolve(element)})};return endEventName&&element.bind(endEventName,transitionEndHandler),$timeout(function(){angular.isString(trigger)?element.addClass(trigger):angular.isFunction(trigger)?trigger(element):angular.isObject(trigger)&&element.css(trigger),endEventName||deferred.resolve(element)}),deferred.promise.cancel=function(){endEventName&&element.unbind(endEventName,transitionEndHandler),deferred.reject("Transition cancelled")},deferred.promise},transElement=document.createElement("trans"),transitionEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},animationEndEventNames={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return $transition.transitionEndEventName=findEndEventName(transitionEndEventNames),$transition.animationEndEventName=findEndEventName(animationEndEventNames),$transition}])},2724:function(module,exports){"use strict";angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function($parse){var TYPEAHEAD_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(input){var match=input.match(TYPEAHEAD_REGEXP);if(!match)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+input+'".');return{itemName:match[3],source:$parse(match[4]),viewMapper:$parse(match[2]||match[1]),modelMapper:$parse(match[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function($compile,$parse,$q,$timeout,$document,$position,typeaheadParser){var HOT_KEYS=[9,13,27,38,40];return{require:"ngModel",link:function(originalScope,element,attrs,modelCtrl){var hasFocus,minSearch=originalScope.$eval(attrs.typeaheadMinLength)||1,waitTime=originalScope.$eval(attrs.typeaheadWaitMs)||0,isEditable=originalScope.$eval(attrs.typeaheadEditable)!==!1,isLoadingSetter=$parse(attrs.typeaheadLoading).assign||angular.noop,onSelectCallback=$parse(attrs.typeaheadOnSelect),inputFormatter=attrs.typeaheadInputFormatter?$parse(attrs.typeaheadInputFormatter):void 0,appendToBody=!!attrs.typeaheadAppendToBody&&originalScope.$eval(attrs.typeaheadAppendToBody),focusFirst=originalScope.$eval(attrs.typeaheadFocusFirst)!==!1,$setModelValue=$parse(attrs.ngModel).assign,parserResult=typeaheadParser.parse(attrs.typeahead),scope=originalScope.$new();originalScope.$on("$destroy",function(){scope.$destroy()});var popupId="typeahead-"+scope.$id+"-"+Math.floor(1e4*Math.random());element.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":popupId});var popUpEl=angular.element("<div typeahead-popup></div>");popUpEl.attr({id:popupId,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(attrs.typeaheadTemplateUrl)&&popUpEl.attr("template-url",attrs.typeaheadTemplateUrl);var resetMatches=function(){scope.matches=[],scope.activeIdx=-1,element.attr("aria-expanded",!1)},getMatchId=function(index){return popupId+"-option-"+index};scope.$watch("activeIdx",function(index){index<0?element.removeAttr("aria-activedescendant"):element.attr("aria-activedescendant",getMatchId(index))});var getMatchesAsync=function(inputValue){var locals={$viewValue:inputValue};isLoadingSetter(originalScope,!0),$q.when(parserResult.source(originalScope,locals)).then(function(matches){var onCurrentRequest=inputValue===modelCtrl.$viewValue;if(onCurrentRequest&&hasFocus)if(matches.length>0){scope.activeIdx=focusFirst?0:-1,scope.matches.length=0;for(var i=0;i<matches.length;i++)locals[parserResult.itemName]=matches[i],scope.matches.push({id:getMatchId(i),label:parserResult.viewMapper(scope,locals),model:matches[i]});scope.query=inputValue,scope.position=appendToBody?$position.offset(element):$position.position(element),scope.position.top=scope.position.top+element.prop("offsetHeight"),element.attr("aria-expanded",!0)}else resetMatches();onCurrentRequest&&isLoadingSetter(originalScope,!1)},function(){resetMatches(),isLoadingSetter(originalScope,!1)})};resetMatches(),scope.query=void 0;var timeoutPromise,scheduleSearchWithTimeout=function(inputValue){timeoutPromise=$timeout(function(){getMatchesAsync(inputValue)},waitTime)},cancelPreviousTimeout=function(){timeoutPromise&&$timeout.cancel(timeoutPromise)};modelCtrl.$parsers.unshift(function(inputValue){return hasFocus=!0,inputValue&&inputValue.length>=minSearch?waitTime>0?(cancelPreviousTimeout(),scheduleSearchWithTimeout(inputValue)):getMatchesAsync(inputValue):(isLoadingSetter(originalScope,!1),cancelPreviousTimeout(),resetMatches()),isEditable?inputValue:inputValue?void modelCtrl.$setValidity("editable",!1):(modelCtrl.$setValidity("editable",!0),inputValue)}),modelCtrl.$formatters.push(function(modelValue){var candidateViewValue,emptyViewValue,locals={};return inputFormatter?(locals.$model=modelValue,inputFormatter(originalScope,locals)):(locals[parserResult.itemName]=modelValue,candidateViewValue=parserResult.viewMapper(originalScope,locals),locals[parserResult.itemName]=void 0,emptyViewValue=parserResult.viewMapper(originalScope,locals),candidateViewValue!==emptyViewValue?candidateViewValue:modelValue)}),scope.select=function(activeIdx){var model,item,locals={};locals[parserResult.itemName]=item=scope.matches[activeIdx].model,model=parserResult.modelMapper(originalScope,locals),$setModelValue(originalScope,model),modelCtrl.$setValidity("editable",!0),onSelectCallback(originalScope,{$item:item,$model:model,$label:parserResult.viewMapper(originalScope,locals)}),resetMatches(),$timeout(function(){element[0].focus()},0,!1)},element.bind("keydown",function(evt){0!==scope.matches.length&&HOT_KEYS.indexOf(evt.which)!==-1&&(scope.activeIdx!=-1||13!==evt.which&&9!==evt.which)&&(evt.preventDefault(),40===evt.which?(scope.activeIdx=(scope.activeIdx+1)%scope.matches.length,scope.$digest()):38===evt.which?(scope.activeIdx=(scope.activeIdx>0?scope.activeIdx:scope.matches.length)-1,scope.$digest()):13===evt.which||9===evt.which?scope.$apply(function(){scope.select(scope.activeIdx)}):27===evt.which&&(evt.stopPropagation(),resetMatches(),scope.$digest()))}),element.bind("blur",function(evt){hasFocus=!1});var dismissClickHandler=function(evt){element[0]!==evt.target&&(resetMatches(),scope.$digest())};$document.bind("click",dismissClickHandler),originalScope.$on("$destroy",function(){$document.unbind("click",dismissClickHandler),appendToBody&&$popup.remove()});var $popup=$compile(popUpEl)(scope);appendToBody?$document.find("body").append($popup):element.after($popup)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(scope,element,attrs){scope.templateUrl=attrs.templateUrl,scope.isOpen=function(){return scope.matches.length>0},scope.isActive=function(matchIdx){return scope.active==matchIdx},scope.selectActive=function(matchIdx){scope.active=matchIdx},scope.selectMatch=function(activeIdx){scope.select({activeIdx:activeIdx})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function($http,$templateCache,$compile,$parse){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(scope,element,attrs){var tplUrl=$parse(attrs.templateUrl)(scope.$parent)||"template/typeahead/typeahead-match.html";$http.get(tplUrl,{cache:$templateCache}).success(function(tplContent){element.replaceWith($compile(tplContent.trim())(scope))})}}}]).filter("typeaheadHighlight",function(){function escapeRegexp(queryToEscape){return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(matchItem,query){return query?(""+matchItem).replace(new RegExp(escapeRegexp(query),"gi"),"<strong>$&</strong>"):matchItem}})},2725:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(2726),__webpack_require__(2727),__webpack_require__(2728);var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),typeahead=_modules2["default"].get("kibana/typeahead");typeahead.directive("kbnTypeahead",function(){var keyMap={ESC:27,UP:38,DOWN:40,TAB:9,ENTER:13};return{restrict:"A",scope:{historyKey:"@kbnTypeahead",onSelect:"&"},controllerAs:"typeahead",controller:function($scope,PersistedLog,config){var self=this;self.query="",self.hidden=!0,self.focused=!1,self.mousedOver=!1,self.history=new PersistedLog("typeahead:"+$scope.historyKey,{maxLength:config.get("history:limit"),filterDuplicates:!0}),$scope.items=self.history.get(),$scope.filteredItems=[],self.setInputModel=function(model){$scope.inputModel=model,$scope.$watch("inputModel.$viewValue",self.filterItemsByQuery)},self.setHidden=function(hidden){self.hidden=!!hidden},self.setFocused=function(focused){self.focused=!!focused},self.setMouseover=function(mousedOver){self.mousedOver=!!mousedOver},self.activateItem=function(item){self.active=item},self.getActiveIndex=function(){if(self.active)return $scope.filteredItems.indexOf(self.active)},self.getItems=function(){return $scope.filteredItems},self.activateNext=function(){var index=self.getActiveIndex();null==index?index=0:index<$scope.filteredItems.length-1&&++index,self.activateItem($scope.filteredItems[index])},self.activatePrev=function(){var index=self.getActiveIndex();if(index>0&&null!=index)--index;else if(0===index)return void(self.active=!1);self.activateItem($scope.filteredItems[index])},self.isActive=function(item){return item===self.active},self.selectItem=function(item,ev){self.hidden=!0,self.active=!1,$scope.inputModel.$setViewValue(item),$scope.inputModel.$render(),self.persistEntry(),ev&&"click"===ev.type&&$scope.onSelect()},self.persistEntry=function(){$scope.inputModel.$viewValue.length&&($scope.items=self.history.add($scope.inputModel.$viewValue))},self.selectActive=function(){self.active&&self.selectItem(self.active)},self.keypressHandler=function(ev){var keyCode=ev.which||ev.keyCode;self.focused&&(self.hidden=!1),_lodash2["default"].contains([keyMap.ESC],keyCode)&&(self.hidden=!0,self.active=!1),_lodash2["default"].contains([keyMap.DOWN],keyCode)&&0===$scope.filteredItems.length?($scope.filteredItems=$scope.items,$scope.$digest()):_lodash2["default"].contains([keyMap.UP,keyMap.DOWN],keyCode)&&self.isVisible()&&$scope.filteredItems.length&&(ev.preventDefault(),keyCode===keyMap.DOWN?self.activateNext():self.activatePrev()),_lodash2["default"].contains([keyMap.ENTER],keyCode)&&(self.active||self.persistEntry()),_lodash2["default"].contains([keyMap.ENTER,keyMap.TAB],keyCode)&&(self.selectActive(),self.hidden=!0)},self.filterItemsByQuery=function(query){if(query&&(self.query=query),!self.query.length)return void($scope.filteredItems=[]);var beginningMatches=$scope.items.filter(function(item){return 0===item.indexOf(query)}),otherMatches=$scope.items.filter(function(item){return item.indexOf(query)>0});$scope.filteredItems=beginningMatches.concat(otherMatches)},self.isVisible=function(){return!self.hidden&&$scope.filteredItems.length>0&&(self.focused||self.mousedOver)},$scope.$watch("items",function(){self.query&&self.filterItemsByQuery(self.query)}),$scope.$watch("filteredItems",function(filteredItems){filteredItems.length&&_lodash2["default"].contains(filteredItems,self.active)||(self.active=!1)})},link:function($scope,$el,attrs){if(!_lodash2["default"].has(attrs,"onSelect"))throw new Error("on-select must be defined");if(!$scope.inputModel)throw new Error("kbn-typeahead-input must be defined");$scope.$watch("typeahead.isVisible()",function(vis){$el.toggleClass("visible",vis)})}}})},2726:function(module,exports){},2727:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}__webpack_require__(2491);var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),typeahead=_modules2["default"].get("kibana/typeahead");typeahead.directive("kbnTypeaheadInput",function($rootScope){return{restrict:"A",require:["^ngModel","^kbnTypeahead"],link:function($scope,$el,$attr,deps){function digest(){$rootScope.$$phase||$scope.$digest()}var model=deps[0],typeaheadCtrl=deps[1];typeaheadCtrl.setInputModel(model),$el.attr("autocomplete","off"),$el.on("keydown",function(ev){typeaheadCtrl.keypressHandler(ev),digest()}),$el.on("focus",function(){typeaheadCtrl.setFocused(!0),digest()}),$el.on("blur",function(){typeaheadCtrl.setFocused(!1),digest()}),$scope.$on("$destroy",function(){$el.off()})}}})},2728:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _typeaheadItems=__webpack_require__(753),_typeaheadItems2=_interopRequireDefault(_typeaheadItems);__webpack_require__(2491);var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),typeahead=_modules2["default"].get("kibana/typeahead");typeahead.directive("kbnTypeaheadItems",function(){return{restrict:"E",require:"^kbnTypeahead",replace:!0,template:_typeaheadItems2["default"],link:function($scope,$el,attr,typeaheadCtrl){$scope.typeahead=typeaheadCtrl}}})},2729:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _parse_interval=__webpack_require__(2730),_parse_interval2=_interopRequireDefault(_parse_interval),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_modules2["default"].get("kibana").directive("validateDateInterval",function(){return{restrict:"A",require:"ngModel",link:function($scope,$el,attrs,ngModelCntrl){function check(value){return ngModelCntrl.$setValidity("dateInterval",null!=(0,_parse_interval2["default"])(value)),value}ngModelCntrl.$parsers.push(check),ngModelCntrl.$formatters.push(check)}}})},2730:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function parseInterval(interval){var matches=String(interval).trim().match(INTERVAL_STRING_RE);if(!matches)return null;try{var value=parseFloat(matches[1])||1,unit=matches[2],duration=_moment2["default"].duration(value,unit),selectedUnit=_lodash2["default"].find(_datemath2["default"].units,function(unit){return Math.abs(duration.as(unit))>=1});return _moment2["default"].duration(duration.as(selectedUnit),selectedUnit)}catch(e){return null}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=parseInterval;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(318),_moment2=_interopRequireDefault(_moment),_datemath=__webpack_require__(320),_datemath2=_interopRequireDefault(_datemath),INTERVAL_STRING_RE=new RegExp("^([0-9\\.]*)\\s*("+_datemath2["default"].units.join("|")+")$");module.exports=exports["default"]},2731:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_saved_object_save_as_checkbox=__webpack_require__(757),_saved_object_save_as_checkbox2=_interopRequireDefault(_saved_object_save_as_checkbox);_modules2["default"].get("kibana").directive("savedObjectSaveAsCheckBox",function(){return{restrict:"E",template:_saved_object_save_as_checkbox2["default"],scope:{savedObject:"="}}})},2732:function(module,exports,__webpack_require__){"use strict";var context=__webpack_require__(2733);context.keys().forEach(function(key){return context(key)})},2733:function(module,exports,__webpack_require__){function webpackContext(req){return __webpack_require__(webpackContextResolve(req))}function webpackContextResolve(req){return map[req]||function(){throw new Error("Cannot find module '"+req+"'.")}()}var map={"./auto_select_if_only_one.js":2734,"./click_focus.js":2735,"./confirm_click.js":2736,"./css_truncate.js":2737,"./field_name.js":2738,"./file_upload.js":2739,"./inequality.js":2698,"./infinite_scroll.js":2740,"./info.js":2741,"./input_datetime.js":2697,"./input_focus.js":2549,"./input_number.js":2742,"./json_input.js":2636,"./kbn_href.js":2499,"./kbn_src.js":2498,"./paginate.js":2743,"./paginated_selectable_list.js":2744,"./pretty_duration.js":2745,"./render_counter.js":2746,"./rows.js":2747,"./saved_object_finder.js":2751,"./truncated.js":2494,"./validate_agg.js":2754,"./validate_cidr_mask.js":2755,"./validate_date_math.js":2758,"./validate_index_name.js":2759,"./validate_ip.js":2760,"./validate_json.js":2761,"./validate_lowercase.js":2762};webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=2733},2734:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("kibana");_module.directive("autoSelectIfOnlyOne",function(){return{restrict:"A",require:"ngModel",link:function(scope,element,attributes,ngModelCtrl){scope.$watchCollection(attributes.autoSelectIfOnlyOne,function(options){options&&1===options.length&&(ngModelCtrl.$setViewValue(options[0]),ngModelCtrl.$render())})}}})},2735:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("kibana");_module.directive("clickFocus",function(){return{scope:{clickFocus:"="},restrict:"A",link:function($scope,$elem){function handler(){var focusElem=_jquery2["default"].find("input[name="+$scope.clickFocus+"]");focusElem[0]&&focusElem[0].focus()}$elem.bind("click",handler),$scope.$on("$destroy",_lodash2["default"].bindKey($elem,"unbind","click",handler))}}})},2736:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_modules2["default"].get("kibana").directive("confirmClick",function($window){return{restrict:"A",link:function($scope,$elem,attrs){$elem.bind("click",function(){var message=attrs.confirmation||"Are you sure?";if($window.confirm(message)){var action=attrs.confirmClick;action&&$scope.$apply($scope.$eval(action))}}),$scope.$on("$destroy",function(){$elem.unbind("click")})}}})},2737:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("kibana");_module.directive("cssTruncate",function(){return{restrict:"A",scope:{},link:function($scope,$elem,attrs){$elem.css({overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis","word-break":"break-all"}),null!=attrs.cssTruncateExpandable&&$scope.$watch(function(){return $elem.html()},function(){$elem[0].offsetWidth<$elem[0].scrollWidth&&($elem.css({cursor:"pointer"}),$elem.bind("click",function(){$scope.toggle()}))}),$scope.toggle=function(){"normal"!==$elem.css("white-space")?$elem.css({"white-space":"normal"}):$elem.css({"white-space":"nowrap"})},$scope.$on("$destroy",function(){$elem.unbind("click"),$elem.unbind("mouseenter")})}}})},2738:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery);__webpack_require__(2558);var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("kibana");_module.directive("fieldName",function($compile,$rootScope,$filter){return{restrict:"AE",scope:{field:"=",fieldName:"=",fieldType:"="},link:function($scope,$el){var typeIcon=function(fieldType){switch(fieldType){case"source":return'<i title="source" class="fa fa-file-text-o "></i>';case"string":return'<i title="string"><strong>t</strong></i>';case"murmur3":return'<i title="murmur3"><strong>h</strong></i>';case"number":return'<i title="number"><strong>#</strong></i>';case"date":return'<i title="date" class="fa fa-clock-o"></i>';case"ip":return'<i title="ip" class="fa fa-laptop"></i>';case"geo_point":return'<i title="geo_point" class="fa fa-globe"></i>';case"boolean":return'<i title="boolean" class="fa fa-adjust"></i>';case"conflict":return'<i title="conflict" class="fa fa-warning"></i>';default:return'<i title="unknown"><strong>?</strong></i>'}};$rootScope.$watchMulti.call($scope,["field","fieldName","fieldType","field.rowCount"],function(){var type=$scope.field?$scope.field.type:$scope.fieldType,name=$scope.field?$scope.field.name:$scope.fieldName,results=!!$scope.field&&(!$scope.field.rowCount&&!$scope.field.scripted),scripted=!!$scope.field&&$scope.field.scripted,displayName=$filter("shortDots")(name);$el.attr("title",name).toggleClass("no-results",results).toggleClass("scripted",scripted).prepend(typeIcon(type)).append((0,_jquery2["default"])("<span>").text(displayName).addClass("discover-field-name"))})}}})},2739:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("kibana"),html='<span class="dropzone" ng-transclude></span>';_module.directive("fileUpload",function(){return{restrict:"E",transclude:!0,scope:{onRead:"&",onLocate:"&",uploadSelector:"@"},template:html,link:function($scope,$elem,attrs){var $button=$elem.find($scope.uploadSelector),$dropzone=$elem.find(".dropzone"),handleFile=function(file){if(!_lodash2["default"].isUndefined(file)){if(_lodash2["default"].has(attrs,"onRead")){var reader=new FileReader;reader.onload=function(e){$scope.$apply(function(){$scope.onRead({fileContents:e.target.result})})},reader.readAsText(file)}_lodash2["default"].has(attrs,"onLocate")&&$scope.$apply(function(){$scope.onLocate({file:file})})}};if($dropzone.on("dragover",function(e){e.preventDefault(),e.stopPropagation()}),$dropzone.on("dragenter",function(e){e.preventDefault(),e.stopPropagation()}),$dropzone.on("drop",function(e){e.stopPropagation(),e.preventDefault();var file=_lodash2["default"].get(e,"originalEvent.dataTransfer.files[0]");file&&handleFile(file)}),$button){var $fileInput=(0,_jquery2["default"])('<input type="file" style="opacity: 0; position:absolute; right: -999999999px" id="testfile" />');$elem.append($fileInput),$fileInput.on("change",function(e){var target=e.srcElement||e.target;_lodash2["default"].get(target,"files.length")&&handleFile(target.files[0])}),$button.on("click",function(){$fileInput.val(null),$fileInput.trigger("click")})}}}})},2740:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("kibana");_module.directive("kbnInfiniteScroll",function(){return{restrict:"E",scope:{more:"="},link:function($scope,$element){function onScroll(){if($scope.more){var winHeight=$window.height(),winBottom=winHeight+$window.scrollTop(),elTop=$element.offset().top,remaining=elTop-winBottom;remaining<=.5*winHeight&&$scope[$scope.$$phase?"$eval":"$apply"](function(){$scope.more()})}}function scheduleCheck(){checkTimer||(checkTimer=setTimeout(function(){checkTimer=null,onScroll()},50))}var $window=(0,_jquery2["default"])(window),checkTimer=void 0;$window.on("scroll",scheduleCheck),
$scope.$on("$destroy",function(){clearTimeout(checkTimer),$window.off("scroll",scheduleCheck)}),scheduleCheck()}}})},2741:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _info=__webpack_require__(768),_info2=_interopRequireDefault(_info),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_modules2["default"].get("kibana").directive("kbnInfo",function(){return{restrict:"E",scope:{info:"@",placement:"@"},template:_info2["default"],link:function($scope){$scope.placement=$scope.placement||"top"}}})},2742:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("kibana");_module.directive("inputNumber",function(){return{restrict:"A",require:"ngModel",link:function($scope,$elem,attrs,ngModel){function checkNumber(value){return ngModel.$setValidity("number",!isNaN(parseFloat(value))),value}ngModel.$parsers.push(checkNumber),ngModel.$formatters.push(checkNumber)}}})},2743:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_paginate_controls=__webpack_require__(771),_paginate_controls2=_interopRequireDefault(_paginate_controls);_modules2["default"].get("kibana").directive("paginate",function($parse,$compile){return{restrict:"E",scope:!0,link:{pre:function($scope,$el,attrs){_lodash2["default"].isUndefined(attrs.bottomControls)&&(attrs.bottomControls=!0),0===$el.find("paginate-controls.paginate-bottom").size()&&attrs.bottomControls&&$el.append($compile('<paginate-controls class="paginate-bottom">')($scope))},post:function($scope,$el,attrs){_lodash2["default"].isUndefined(attrs.topControls)&&(attrs.topControls=!1),0===$el.find("paginate-controls.paginate-top").size()&&attrs.topControls&&$el.prepend($compile('<paginate-controls class="paginate-top">')($scope));var paginate=$scope.paginate;paginate.getList=$parse(attrs.list),paginate.perPageProp=attrs.perPageProp,attrs.perPage?(paginate.perPage=attrs.perPage,$scope.showSelector=!1):$scope.showSelector=!0,paginate.otherWidthGetter=$parse(attrs.otherWidth),paginate.init()}},controllerAs:"paginate",controller:function($scope,$document){function setPerPage(val){for(var $ppParent=$scope;$ppParent&&!_lodash2["default"].has($ppParent,self.perPageProp);)$ppParent=$ppParent.$parent;if($ppParent)return $ppParent[self.perPageProp]=val,!0}var self=this,ALL=0;self.sizeOptions=[{title:"10",value:10},{title:"25",value:25},{title:"100",value:100},{title:"All",value:ALL}],self.init=function(){self.perPage=_lodash2["default"].parseInt(self.perPage)||$scope[self.perPageProp],$scope.$watchMulti(["paginate.perPage",self.perPageProp,self.otherWidthGetter],function(vals,oldVals){var intChanges=vals[0]!==oldVals[0];return intChanges?void(setPerPage(self.perPage)||self.renderList()):(self.perPage=_lodash2["default"].parseInt(self.perPage)||$scope[self.perPageProp],null==self.perPage?void(self.perPage=ALL):void self.renderList())}),$scope.$watch("page",self.changePage),$scope.$watchCollection(self.getList,function(list){$scope.list=list,self.renderList()})},self.goToPage=function(number){number&&(number.hasOwnProperty("number")&&(number=number.number),$scope.page=$scope.pages[number-1]||$scope.pages[0])},self.goToTop=function(){$document.scrollTop(0)},self.renderList=function(){if($scope.pages=[],$scope.list){var perPage=_lodash2["default"].parseInt(self.perPage),count=perPage?Math.ceil($scope.list.length/perPage):1;_lodash2["default"].times(count,function(i){var page=void 0;if(perPage){var start=perPage*i;page=$scope.list.slice(start,start+perPage)}else page=$scope.list.slice(0);page.number=i+1,page.i=i,page.count=count,page.first=1===page.number,page.last=page.number===count,page.prev=$scope.pages[i-1],page.prev&&(page.prev.next=page),$scope.pages.push(page)}),$scope.page&&$scope.page.i<$scope.pages.length?$scope.page=$scope.pages[$scope.page.i]:$scope.page=$scope.pages[0]}},self.changePage=function(page){if(!page)return void($scope.otherPages=null);$scope.otherPages=[];var width=+self.otherWidthGetter($scope)||5,left=page.i-Math.round((width-1)/2),right=left+width-1;left<0&&(right+=0-left,left=0);var lastI=page.count-1;right>lastI&&(right=lastI,left=right-width+1);for(var i=left;i<=right;i++){var other=$scope.pages[i];other&&($scope.otherPages.push(other),other.last&&($scope.otherPages.containsLast=!0),other.first&&($scope.otherPages.containsFirst=!0))}}}}}).directive("paginateControls",function(){return{restrict:"E",template:_paginate_controls2["default"]}})},2744:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function throwError(message){throw new Error(message)}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_paginated_selectable_list=__webpack_require__(773),_paginated_selectable_list2=_interopRequireDefault(_paginated_selectable_list),_module=_modules2["default"].get("kibana");_module.directive("paginatedSelectableList",function(){return{restrict:"E",scope:{perPage:"=?",list:"=",listProperty:"=",userMakeUrl:"=?",userOnSelect:"=?"},template:_paginated_selectable_list2["default"],controller:function($scope){function accessor(val){var prop=$scope.listProperty;return prop?val[prop]:val}$scope.userMakeUrl||$scope.userOnSelect||throwError("paginatedSelectableList directive expects a makeUrl or onSelect function"),$scope.userMakeUrl&&$scope.userOnSelect&&throwError("paginatedSelectableList directive expects a makeUrl or onSelect attribute but not both"),$scope.perPage=$scope.perPage||10,$scope.hits=$scope.list=_lodash2["default"].sortBy($scope.list,accessor),$scope.hitCount=$scope.hits.length,$scope.isAscending=!0,$scope.sortHits=function(hits){var sortedList=_lodash2["default"].sortBy(hits,accessor);$scope.isAscending=!$scope.isAscending,$scope.hits=$scope.isAscending?sortedList:sortedList.reverse()},$scope.makeUrl=function(hit){return $scope.userMakeUrl(hit)},$scope.onSelect=function(hit,$event){return $scope.userOnSelect(hit,$event)}}}})},2745:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_datemath=__webpack_require__(320),_datemath2=_interopRequireDefault(_datemath),_moment=__webpack_require__(318),_moment2=_interopRequireDefault(_moment);__webpack_require__(2699),__webpack_require__(2701);var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("kibana");_module.directive("prettyDuration",function(config,quickRanges,timeUnits){return{restrict:"E",scope:{from:"=",to:"="},link:function($scope,$elem){function stringify(){var text=void 0;if($scope.from&&$scope.to&&!_moment2["default"].isMoment($scope.from)&&!_moment2["default"].isMoment($scope.to)){var tryLookup=lookupByRange[$scope.from.toString()+" to "+$scope.to.toString()];if(tryLookup)$elem.text(tryLookup.display);else{var fromParts=$scope.from.toString().split("-");if("now"===$scope.to.toString()&&"now"===fromParts[0]&&fromParts[1]){var rounded=fromParts[1].split("/");text="Last "+rounded[0],rounded[1]&&(text=text+" rounded to the "+timeUnits[rounded[1]]),$elem.text(text)}else cantLookup()}}else cantLookup()}function cantLookup(){var display={};_lodash2["default"].each(["from","to"],function(time){if((0,_moment2["default"])($scope[time]).isValid())display[time]=(0,_moment2["default"])($scope[time]).format(dateFormat);else if("now"===$scope[time])display[time]="now";else{var tryParse=_datemath2["default"].parse($scope[time],"to"===time);display[time]=_moment2["default"].isMoment(tryParse)?"~ "+tryParse.fromNow():$scope[time]}}),$elem.text(display.from+" to "+display.to)}var dateFormat=config.get("dateFormat"),lookupByRange={};_lodash2["default"].each(quickRanges,function(frame){lookupByRange[frame.from+" to "+frame.to]=frame}),$scope.$watch("from",stringify),$scope.$watch("to",stringify)}}})},2746:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_modules2["default"].get("kibana").directive("renderCounter",function(){return{controller:function($scope,$element){var counter=0,increment=function(){counter+=1,$element.attr("render-counter",counter)},teardown=function(){$element.off("renderComplete",increment)},setup=function(){$element.attr("render-counter",counter),$element.on("renderComplete",increment),$scope.$on("$destroy",teardown)};this.disable=function(){$element.attr("render-counter","disabled"),teardown()},setup()}}})},2747:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_agg_config_result=__webpack_require__(2748),_agg_config_result2=_interopRequireDefault(_agg_config_result),_filter_bar_click_handler=__webpack_require__(2749),_filter_bar_click_handler2=_interopRequireDefault(_filter_bar_click_handler),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_table_cell_filter=__webpack_require__(780),_table_cell_filter2=_interopRequireDefault(_table_cell_filter),_module=_modules2["default"].get("kibana");_module.directive("kbnRows",function($compile,$rootScope,getAppState,Private){var filterBarClickHandler=Private(_filter_bar_click_handler2["default"]);return{restrict:"A",link:function($scope,$el,attr){function addCell($tr,contents){function createCell(){return(0,_jquery2["default"])(document.createElement("td"))}function createFilterableCell(aggConfigResult){var $template=(0,_jquery2["default"])(_table_cell_filter2["default"]);$template.addClass("cell-hover");var scope=$scope.$new(),$state=getAppState(),addFilter=filterBarClickHandler($state);return scope.onFilterClick=function(event,negate){(0,_jquery2["default"])(event.target).is("a")||addFilter({point:{aggConfigResult:aggConfigResult},negate:negate})},$compile($template)(scope)}var $cell=void 0,$cellContent=void 0;if(contents instanceof _agg_config_result2["default"]){var isCellContentFilterable="bucket"===contents.type&&contents.aggConfig.getField()&&contents.aggConfig.getField().filterable;isCellContentFilterable?($cell=createFilterableCell(contents),$cellContent=$cell.find("[data-cell-content]")):$cell=$cellContent=createCell(),contents=contents.toString("html")}else $cell=$cellContent=createCell(),_lodash2["default"].isNumeric(contents)&&$cell.addClass("numeric-value");_lodash2["default"].isObject(contents)?(contents.attr&&$cellContent.attr(contents.attr),contents["class"]&&$cellContent.addClass(contents["class"]),contents.scope?$cellContent=$compile($cellContent.prepend(contents.markup))(contents.scope):$cellContent.prepend(contents.markup),contents.attr&&$cellContent.attr(contents.attr)):""===contents?$cellContent.prepend("&nbsp;"):$cellContent.prepend(contents),$tr.append($cell)}function maxRowSize(max,row){return Math.max(max,row.length)}$scope.$watchMulti([attr.kbnRows,attr.kbnRowsMin],function(vals){var rows=vals[0],min=vals[1];$el.empty(),_lodash2["default"].isArray(rows)||(rows=[]);var width=rows.reduce(maxRowSize,0);if(isFinite(min)&&rows.length<min){rows=_lodash2["default"].clone(rows);var emptyRow=new Array(width);_lodash2["default"].times(width,function(i){emptyRow[i]=""}),_lodash2["default"].times(min-rows.length,function(){rows.push(emptyRow)})}rows.forEach(function(row){var $tr=(0,_jquery2["default"])(document.createElement("tr")).appendTo($el);row.forEach(function(cell){addCell($tr,cell)})})})}}})},2748:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_RESULT__=function(){function AggConfigResult(aggConfig,parent,value,key){this.key=key,this.value=value,this.aggConfig=aggConfig,this.$parent=parent,this.$order=++i,"buckets"===aggConfig.schema.group?this.type="bucket":this.type="metric"}var i=0;return AggConfigResult.prototype.getPath=function(){return function walk(result,path){return path.unshift(result),result.$parent?walk(result.$parent,path):path}(this,[])},AggConfigResult.prototype.createFilter=function(){return this.aggConfig.createFilter(this.key)},AggConfigResult.prototype.toString=function(contentType){return this.aggConfig.fieldFormatter(contentType)(this.value)},AggConfigResult.prototype.valueOf=function(){return this.value},AggConfigResult}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},2749:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(Notifier){return function($state){return function(event,simulate){var notify=new Notifier({location:"Filter bar"}),aggConfigResult=void 0;if(aggConfigResult=event.point.orig?event.point.orig.aggConfigResult:event.point.values?(0,_find_by_param2["default"])(event.point.values,"aggConfigResult"):event.point.aggConfigResult){var isLegendLabel=!!event.point.values,aggBuckets=_lodash2["default"].filter(aggConfigResult.getPath(),{type:"bucket"});if(isLegendLabel){var aggConfig=(0,_find_by_param2["default"])(event.point.values,"aggConfig");aggBuckets=aggBuckets.filter(function(result){return result.aggConfig&&result.aggConfig===aggConfig})}var filters=(0,_lodash2["default"])(aggBuckets).map(function(result){try{return result.createFilter()}catch(e){simulate||notify.warning(e.message)}}).filter(Boolean).value();if(!filters.length)return;return event.negate&&_lodash2["default"].each(filters,function(filter){filter.meta=filter.meta||{},filter.meta.negate=!0}),filters=(0,_dedup_filters2["default"])($state.filters,(0,_uniq_filters2["default"])(filters),{negate:!0}),simulate||($state.$newFilters=filters),filters}}}};var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_dedup_filters=__webpack_require__(2659),_dedup_filters2=_interopRequireDefault(_dedup_filters),_uniq_filters=__webpack_require__(2658),_uniq_filters2=_interopRequireDefault(_uniq_filters),_find_by_param=__webpack_require__(2750),_find_by_param2=_interopRequireDefault(_find_by_param);module.exports=exports["default"]},2750:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function findByParam(values,param){if(_lodash2["default"].isArray(values)){var index=_lodash2["default"].findIndex(values,param);if(index===-1)return;return values[index][param]}return values[param]}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=findByParam;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);module.exports=exports["default"]},2751:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_risonNode=__webpack_require__(385),_risonNode2=_interopRequireDefault(_risonNode),_key_map=__webpack_require__(2752),_key_map2=_interopRequireDefault(_key_map),_saved_object_registry=__webpack_require__(2753),_saved_object_registry2=_interopRequireDefault(_saved_object_registry),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_saved_object_finder=__webpack_require__(784),_saved_object_finder2=_interopRequireDefault(_saved_object_finder),_module=_modules2["default"].get("kibana");_module.directive("savedObjectFinder",function($location,$injector,kbnUrl,Private,config){var services=Private(_saved_object_registry2["default"]).byLoaderPropertiesName;return{restrict:"E",scope:{type:"@",title:"@?",userMakeUrl:"=?makeUrl",userOnChoose:"=?onChoose",useLocalManagement:"=?useLocalManagement",onAddNew:"="},template:_saved_object_finder2["default"],controllerAs:"finder",controller:function($scope,$element){function selectTopHit(){setTimeout(function(){$list.find("a:first").focus()},0)}function filterResults(){if(self.service&&self.properties){var filter=currentFilter;prevSearch!==filter&&(prevSearch=filter,self.service.find(filter).then(function(hits){currentFilter===filter&&(self.hitCount=hits.total,self.hits=_lodash2["default"].sortBy(hits.hits,"title"))}))}}var self=this,$input=$element.find("input[ng-model=filter]");$scope.perPage=config.get("savedObjects:perPage");var $list=$element.find("ul"),currentFilter=$scope.filter,prevSearch=void 0;self.hits=[],self.service=services[$scope.type],self.properties=self.service.loaderProperties,filterResults(),self.isAscending=!0,self.sortHits=function(hits){self.isAscending=!self.isAscending,self.hits=self.isAscending?_lodash2["default"].sortBy(hits,"title"):_lodash2["default"].sortBy(hits,"title").reverse()},self.makeUrl=function(hit){return $scope.userMakeUrl?$scope.userMakeUrl(hit):$scope.userOnChoose?"#":hit.url},self.preventClick=function($event){$event.preventDefault()},self.onChoose=function(hit,$event){$scope.userOnChoose&&$scope.userOnChoose(hit,$event);var url=self.makeUrl(hit);url&&"#"!==url&&"#"===url.charAt(0)&&($event.preventDefault(),kbnUrl.change(url.substr(1)))},$scope.$watch("filter",function(newFilter){currentFilter=newFilter||"",filterResults()}),self.selector={enabled:!1,index:-1},self.filterKeyDown=function($event){switch(_key_map2["default"][$event.keyCode]){case"tab":if(0===self.hitCount)return;self.selector.index=0,self.selector.enabled=!0,selectTopHit(),$event.preventDefault();break;case"enter":if(1!==self.hitCount)return;var hit=self.hits[0];if(!hit)return;self.onChoose(hit,$event),$event.preventDefault()}},self.hitKeyDown=function($event,page,paginate){switch(_key_map2["default"][$event.keyCode]){case"tab":if(!self.selector.enabled)break;self.selector.index=-1,self.selector.enabled=!1,$event.shiftKey?$input.focus():$list.find("li.active a").focus(),$event.preventDefault();break;case"down":if(!self.selector.enabled)break;self.selector.index+1<page.length&&(self.selector.index+=1),$event.preventDefault();break;case"up":if(!self.selector.enabled)break;self.selector.index>0&&(self.selector.index-=1),$event.preventDefault();break;case"right":if(!self.selector.enabled)break;page.number<page.count&&(paginate.goToPage(page.number+1),self.selector.index=0,selectTopHit()),$event.preventDefault();break;case"left":if(!self.selector.enabled)break;page.number>1&&(paginate.goToPage(page.number-1),self.selector.index=0,selectTopHit()),$event.preventDefault();break;case"escape":if(!self.selector.enabled)break;$input.focus(),$event.preventDefault();break;case"enter":if(!self.selector.enabled)break;var hitIndex=(page.number-1)*paginate.perPage+self.selector.index,hit=self.hits[hitIndex];if(!hit)break;self.onChoose(hit,$event),$event.preventDefault();break;case"shift":break;default:$input.focus()}},self.hitBlur=function(){self.selector.index=-1,self.selector.enabled=!1},self.manageObjects=function(type){$location.url("/management/kibana/objects?_a="+_risonNode2["default"].encode({tab:type}))},self.hitCountNoun=function(){return(1===self.hitCount?self.properties.noun:self.properties.nouns).toLowerCase()}}}})},2752:function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capsLock",27:"escape",32:"space",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"leftWindowKey",92:"rightWindowKey",93:"selectKey",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"multiply",107:"add",109:"subtract",110:"period",111:"divide",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numLock",145:"scrollLock",186:"semiColon",187:"equalSign",188:"comma",189:"dash",190:"period",191:"forwardSlash",192:"graveAccent",219:"openBracket",220:"backSlash",221:"closeBraket",222:"singleQuote",224:"meta"},module.exports=exports["default"]},2753:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _registry=__webpack_require__(2533),_registry2=_interopRequireDefault(_registry);exports["default"]=(0,_registry2["default"])({name:"savedObjects",index:["loaderProperties.name"],order:["loaderProperties.name"]}),module.exports=exports["default"]},2754:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_modules2["default"].get("kibana").directive("validateAgg",function(){return{restrict:"A",require:"ngModel",scope:{ngModel:"=",agg:"="},link:function($scope,elem,attr,ngModel){function validateAgg(aggValue){if(null==aggValue||"custom"===aggValue)return ngModel.$setValidity("aggInput",!0),aggValue;try{$scope.agg.params.customMetric=null,$scope.agg.params.metricAgg=aggValue,$scope.agg.makeLabel(),ngModel.$setValidity("aggInput",!0)}catch(e){ngModel.$setValidity("aggInput",!1)}return aggValue}ngModel.$parsers.unshift(validateAgg),ngModel.$formatters.unshift(validateAgg)}}})},2755:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _cidr_mask=__webpack_require__(2756),_cidr_mask2=_interopRequireDefault(_cidr_mask),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_modules2["default"].get("kibana").directive("validateCidrMask",function(){return{restrict:"A",require:"ngModel",scope:{ngModel:"="},link:function($scope,elem,attr,ngModel){function validateCidrMask(mask){if(null==mask||""===mask)return ngModel.$setValidity("cidrMaskInput",!0),null;try{return mask=new _cidr_mask2["default"](mask),ngModel.$setValidity("cidrMaskInput",!0),mask.toString()}catch(e){ngModel.$setValidity("cidrMaskInput",!1)}}ngModel.$parsers.unshift(validateCidrMask),ngModel.$formatters.unshift(validateCidrMask)}}})},2756:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function throwError(mask){throw Error("Invalid CIDR mask: "+mask)}function CidrMask(mask){var splits=mask.split("/");2!==splits.length&&throwError(mask),this.initialAddress=new _ipv4_address2["default"](splits[0]),this.prefixLength=Number(splits[1]),(this.prefixLength<1||this.prefixLength>NUM_BITS)&&throwError(mask)}Object.defineProperty(exports,"__esModule",{value:!0});var _ipv4_address=__webpack_require__(2757),_ipv4_address2=_interopRequireDefault(_ipv4_address),NUM_BITS=32;CidrMask.prototype.getRange=function(){var variableBits=NUM_BITS-this.prefixLength,fromAddress=this.initialAddress.valueOf()>>variableBits<<variableBits>>>0,numAddresses=Math.pow(2,variableBits);return{from:new _ipv4_address2["default"](fromAddress).toString(),to:new _ipv4_address2["default"](fromAddress+numAddresses-1).toString()}},CidrMask.prototype.toString=function(){return this.initialAddress.toString()+"/"+this.prefixLength},exports["default"]=CidrMask,module.exports=exports["default"]},2757:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_RESULT__=function(){function throwError(ipAddress){throw Error("Invalid IPv4 address: "+ipAddress)}function isIntegerInRange(integer,min,max){return!isNaN(integer)&&integer>=min&&integer<max&&integer%1===0}function Ipv4Address(ipAddress){if(this.value=ipAddress,"string"==typeof ipAddress){this.value=0;var bytes=ipAddress.split(".");bytes.length!==NUM_BYTES&&throwError(ipAddress);for(var i=0;i<bytes.length;i++){var byte=Number(bytes[i]);isIntegerInRange(byte,0,BYTE_SIZE)||throwError(ipAddress),this.value+=Math.pow(BYTE_SIZE,NUM_BYTES-1-i)*byte}}isIntegerInRange(this.value,0,Math.pow(BYTE_SIZE,NUM_BYTES))||throwError(ipAddress)}var NUM_BYTES=4,BYTE_SIZE=256;return Ipv4Address.prototype.toString=function(){for(var value=this.value,bytes=[],i=0;i<NUM_BYTES;i++)bytes.unshift(value%256),value=Math.floor(value/256);return bytes.join(".")},Ipv4Address.prototype.valueOf=function(){return this.value},Ipv4Address}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},2758:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _datemath=__webpack_require__(320),_datemath2=_interopRequireDefault(_datemath),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_modules2["default"].get("kibana").directive("validateDateMath",function(){return{restrict:"A",require:"ngModel",scope:{ngModel:"="},link:function($scope,elem,attr,ngModel){function validateDateMath(input){if(null==input||""===input)return ngModel.$setValidity("validDateMath",!0),null;var moment=_datemath2["default"].parse(input);return ngModel.$setValidity("validDateMath",null!=moment&&moment.isValid()),input}ngModel.$parsers.unshift(validateDateMath),ngModel.$formatters.unshift(validateDateMath)}}})},2759:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_modules2["default"].get("kibana").directive("validateIndexName",function(){return{restrict:"A",require:"ngModel",link:function($scope,elem,attr,ngModel){var illegalCharacters=["\\","/","?",'"',"<",">","|"," ",","],allowWildcard=!_lodash2["default"].isUndefined(attr.allowWildcard)&&"false"!==attr.allowWildcard;allowWildcard||illegalCharacters.push("*");var isValid=function(input){if(null==input||""===input||"."===input||".."===input)return!1;var match=_lodash2["default"].find(illegalCharacters,function(character){return input.indexOf(character)>=0});return!match};ngModel.$validators.indexNameInput=function(modelValue,viewValue){return isValid(viewValue)}}}})},2760:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _ipv4_address=__webpack_require__(2757),_ipv4_address2=_interopRequireDefault(_ipv4_address),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_modules2["default"].get("kibana").directive("validateIp",function(){return{restrict:"A",require:"ngModel",scope:{ngModel:"="},link:function($scope,elem,attr,ngModel){function validateIp(ipAddress){if(null==ipAddress||""===ipAddress)return ngModel.$setValidity("ipInput",!0),null;try{return ipAddress=new _ipv4_address2["default"](ipAddress),ngModel.$setValidity("ipInput",!0),ipAddress.toString()}catch(e){ngModel.$setValidity("ipInput",!1)}}ngModel.$parsers.unshift(validateIp),ngModel.$formatters.unshift(validateIp)}}})},2761:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("kibana");_module.directive("validateJson",function(){return{restrict:"A",require:"ngModel",scope:{ngModel:"=",queryInput:"=?"},link:function($scope,$elem,attr,ngModel){function validator(newValue){if(!newValue||0===newValue.length)return void setValid();if(newValue=(newValue||"").trim(),"{"===newValue[0],0)setInvalid();else try{JSON.parse(newValue),setValid()}catch(e){setInvalid()}}function setValid(){ngModel.$setValidity("jsonInput",!0)}function setInvalid(){ngModel.$setValidity("jsonInput",!1)}$scope.$watch("ngModel",validator)}}})},2762:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_modules2["default"].get("kibana").directive("validateLowercase",function(){return{restrict:"A",require:"ngModel",link:function($scope,elem,attr,ctrl){ctrl.$validators.lowercase=function(modelValue,viewValue){return!!ctrl.$isEmpty(modelValue)||viewValue.toLowerCase()===viewValue}}}})},2763:function(module,exports,__webpack_require__){"use strict";var context=__webpack_require__(2764);context.keys().forEach(function(key){return context(key)})},2764:function(module,exports,__webpack_require__){function webpackContext(req){return __webpack_require__(webpackContextResolve(req))}function webpackContextResolve(req){return map[req]||function(){throw new Error("Cannot find module '"+req+"'.")}()}var map={"./comma_list.js":2765,"./field_type.js":2766,"./label.js":2768,"./markdown.js":2493,"./match_any.js":2769,"./moment.js":2770,"./rison.js":2509,"./short_dots.js":2558,"./start_from.js":2771,"./trust_as_html.js":2772,"./unique.js":2773,"./uriescape.js":2508};webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=2764},2765:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_modules2["default"].get("kibana").filter("commaList",function(){return function(input,inclusive){var list=_lodash2["default"].commaSeperatedList(input);if(list.length<2)return list.join("");var conj=inclusive?" and ":" or ";return list.slice(0,-1).join(", ")+conj+_lodash2["default"].last(list)}})},2766:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _prop_filter=__webpack_require__(2767),_prop_filter2=_interopRequireDefault(_prop_filter),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_modules2["default"].get("kibana").filter("fieldType",function(){return(0,_prop_filter2["default"])("type")})},2767:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function propFilter(prop){return function(list,filters){if(!filters)return filters;if(_lodash2["default"].isFunction(filters))return list.filter(function(item){return filters(item[prop])});if(_lodash2["default"].isArray(filters)||(filters=filters.split(",")),_lodash2["default"].contains(filters,"*"))return list;var options=filters.reduce(function(options,filter){var type="include",value=filter;return"!"===filter.charAt(0)&&(type="exclude",value=filter.substr(1)),options[type]||(options[type]=[]),options[type].push(value),options},{});return list.filter(function(item){
var value=item[prop],excluded=options.exclude&&_lodash2["default"].contains(options.exclude,value);if(excluded)return!1;var included=!options.include||_lodash2["default"].contains(options.include,value);return!!included})}}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);exports["default"]=propFilter,module.exports=exports["default"]},2768:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_lodash=__webpack_require__(2);_modules2["default"].get("kibana").filter("label",function(){return function(str){return(0,_lodash.words)(str).map(_lodash.capitalize).join(" ")}})},2769:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_modules2["default"].get("kibana").filter("matchAny",function(){return function(items,rules){return _lodash2["default"].isArray(rules)||(rules=[rules]),_lodash2["default"].filter(items,function(item){for(var i=0;i<rules.length;i++)if(_lodash2["default"].some([item],rules[i]))return!0;return!1})}})},2770:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _moment=__webpack_require__(318),_moment2=_interopRequireDefault(_moment),_lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_modules2["default"].get("kibana").filter("moment",function(config){return function(datetime){var format=config.get("dateFormat");return _moment2["default"].isMoment(datetime)?datetime.format(format):_lodash2["default"].isDate(datetime)?(0,_moment2["default"])(datetime).format(format):datetime}})},2771:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_modules2["default"].get("kibana").filter("startFrom",function(){return function(input,start){return input?(start=+start,input.slice(start)):[]}})},2772:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("kibana");_module.filter("trustAsHtml",function($sce){return $sce.trustAsHtml})},2773:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_modules2["default"].get("kibana").filter("unique",function(){return function(arr){var list=_lodash2["default"].unique(arr);return list}})},2774:function(module,exports,__webpack_require__){"use strict";__webpack_require__(2775);var context=__webpack_require__(2776);context.keys().forEach(function(key){return context(key)})},2775:function(module,exports){},2776:function(module,exports,__webpack_require__){function webpackContext(req){return __webpack_require__(webpackContextResolve(req))}function webpackContextResolve(req){return map[req]||function(){throw new Error("Cannot find module '"+req+"'.")}()}var map={"./base.less":2777,"./callout.less":2778,"./config.less":2779,"./control_group.less":2780,"./dark-theme.less":2781,"./dark-variables.less":2782,"./hintbox.less":2783,"./input.less":2784,"./list-group-menu.less":2785,"./navbar.less":2786,"./pagination.less":2787,"./sidebar.less":2788,"./spinner.less":2789,"./table.less":2790,"./theme.less":2791,"./truncate.less":2792};webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=2776},2777:function(module,exports){},2778:function(module,exports){},2779:function(module,exports){},2780:function(module,exports){},2781:function(module,exports){},2782:function(module,exports){},2783:function(module,exports){},2784:function(module,exports){},2785:function(module,exports){},2786:function(module,exports){},2787:function(module,exports){},2788:function(module,exports){},2789:function(module,exports){},2790:function(module,exports){},2791:function(module,exports){},2792:function(module,exports){},2794:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(){function d3_documentElement(node){return node&&(node.ownerDocument||node.document||node).documentElement}function d3_window(node){return node&&(node.ownerDocument&&node.ownerDocument.defaultView||node.document&&node||node.defaultView)}function d3_ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function d3_number(x){return null===x?NaN:+x}function d3_numeric(x){return!isNaN(x)}function d3_bisector(compare){return{left:function(a,x,lo,hi){for(arguments.length<3&&(lo=0),arguments.length<4&&(hi=a.length);lo<hi;){var mid=lo+hi>>>1;compare(a[mid],x)<0?lo=mid+1:hi=mid}return lo},right:function(a,x,lo,hi){for(arguments.length<3&&(lo=0),arguments.length<4&&(hi=a.length);lo<hi;){var mid=lo+hi>>>1;compare(a[mid],x)>0?hi=mid:lo=mid+1}return lo}}}function d3_zipLength(d){return d.length}function d3_range_integerScale(x){for(var k=1;x*k%1;)k*=10;return k}function d3_class(ctor,properties){for(var key in properties)Object.defineProperty(ctor.prototype,key,{value:properties[key],enumerable:!1})}function d3_Map(){this._=Object.create(null)}function d3_map_escape(key){return(key+="")===d3_map_proto||key[0]===d3_map_zero?d3_map_zero+key:key}function d3_map_unescape(key){return(key+="")[0]===d3_map_zero?key.slice(1):key}function d3_map_has(key){return d3_map_escape(key)in this._}function d3_map_remove(key){return(key=d3_map_escape(key))in this._&&delete this._[key]}function d3_map_keys(){var keys=[];for(var key in this._)keys.push(d3_map_unescape(key));return keys}function d3_map_size(){var size=0;for(var key in this._)++size;return size}function d3_map_empty(){for(var key in this._)return!1;return!0}function d3_Set(){this._=Object.create(null)}function d3_identity(d){return d}function d3_rebind(target,source,method){return function(){var value=method.apply(source,arguments);return value===source?target:value}}function d3_vendorSymbol(object,name){if(name in object)return name;name=name.charAt(0).toUpperCase()+name.slice(1);for(var i=0,n=d3_vendorPrefixes.length;i<n;++i){var prefixName=d3_vendorPrefixes[i]+name;if(prefixName in object)return prefixName}}function d3_noop(){}function d3_dispatch(){}function d3_dispatch_event(dispatch){function event(){for(var l,z=listeners,i=-1,n=z.length;++i<n;)(l=z[i].on)&&l.apply(this,arguments);return dispatch}var listeners=[],listenerByName=new d3_Map;return event.on=function(name,listener){var i,l=listenerByName.get(name);return arguments.length<2?l&&l.on:(l&&(l.on=null,listeners=listeners.slice(0,i=listeners.indexOf(l)).concat(listeners.slice(i+1)),listenerByName.remove(name)),listener&&listeners.push(listenerByName.set(name,{on:listener})),dispatch)},event}function d3_eventPreventDefault(){d3.event.preventDefault()}function d3_eventSource(){for(var s,e=d3.event;s=e.sourceEvent;)e=s;return e}function d3_eventDispatch(target){for(var dispatch=new d3_dispatch,i=0,n=arguments.length;++i<n;)dispatch[arguments[i]]=d3_dispatch_event(dispatch);return dispatch.of=function(thiz,argumentz){return function(e1){try{var e0=e1.sourceEvent=d3.event;e1.target=target,d3.event=e1,dispatch[e1.type].apply(thiz,argumentz)}finally{d3.event=e0}}},dispatch}function d3_selection(groups){return d3_subclass(groups,d3_selectionPrototype),groups}function d3_selection_selector(selector){return"function"==typeof selector?selector:function(){return d3_select(selector,this)}}function d3_selection_selectorAll(selector){return"function"==typeof selector?selector:function(){return d3_selectAll(selector,this)}}function d3_selection_attr(name,value){function attrNull(){this.removeAttribute(name)}function attrNullNS(){this.removeAttributeNS(name.space,name.local)}function attrConstant(){this.setAttribute(name,value)}function attrConstantNS(){this.setAttributeNS(name.space,name.local,value)}function attrFunction(){var x=value.apply(this,arguments);null==x?this.removeAttribute(name):this.setAttribute(name,x)}function attrFunctionNS(){var x=value.apply(this,arguments);null==x?this.removeAttributeNS(name.space,name.local):this.setAttributeNS(name.space,name.local,x)}return name=d3.ns.qualify(name),null==value?name.local?attrNullNS:attrNull:"function"==typeof value?name.local?attrFunctionNS:attrFunction:name.local?attrConstantNS:attrConstant}function d3_collapse(s){return s.trim().replace(/\s+/g," ")}function d3_selection_classedRe(name){return new RegExp("(?:^|\\s+)"+d3.requote(name)+"(?:\\s+|$)","g")}function d3_selection_classes(name){return(name+"").trim().split(/^|\s+/)}function d3_selection_classed(name,value){function classedConstant(){for(var i=-1;++i<n;)name[i](this,value)}function classedFunction(){for(var i=-1,x=value.apply(this,arguments);++i<n;)name[i](this,x)}name=d3_selection_classes(name).map(d3_selection_classedName);var n=name.length;return"function"==typeof value?classedFunction:classedConstant}function d3_selection_classedName(name){var re=d3_selection_classedRe(name);return function(node,value){if(c=node.classList)return value?c.add(name):c.remove(name);var c=node.getAttribute("class")||"";value?(re.lastIndex=0,re.test(c)||node.setAttribute("class",d3_collapse(c+" "+name))):node.setAttribute("class",d3_collapse(c.replace(re," ")))}}function d3_selection_style(name,value,priority){function styleNull(){this.style.removeProperty(name)}function styleConstant(){this.style.setProperty(name,value,priority)}function styleFunction(){var x=value.apply(this,arguments);null==x?this.style.removeProperty(name):this.style.setProperty(name,x,priority)}return null==value?styleNull:"function"==typeof value?styleFunction:styleConstant}function d3_selection_property(name,value){function propertyNull(){delete this[name]}function propertyConstant(){this[name]=value}function propertyFunction(){var x=value.apply(this,arguments);null==x?delete this[name]:this[name]=x}return null==value?propertyNull:"function"==typeof value?propertyFunction:propertyConstant}function d3_selection_creator(name){function create(){var document=this.ownerDocument,namespace=this.namespaceURI;return namespace?document.createElementNS(namespace,name):document.createElement(name)}function createNS(){return this.ownerDocument.createElementNS(name.space,name.local)}return"function"==typeof name?name:(name=d3.ns.qualify(name)).local?createNS:create}function d3_selectionRemove(){var parent=this.parentNode;parent&&parent.removeChild(this)}function d3_selection_dataNode(data){return{__data__:data}}function d3_selection_filter(selector){return function(){return d3_selectMatches(this,selector)}}function d3_selection_sortComparator(comparator){return arguments.length||(comparator=d3_ascending),function(a,b){return a&&b?comparator(a.__data__,b.__data__):!a-!b}}function d3_selection_each(groups,callback){for(var j=0,m=groups.length;j<m;j++)for(var node,group=groups[j],i=0,n=group.length;i<n;i++)(node=group[i])&&callback(node,i,j);return groups}function d3_selection_enter(selection){return d3_subclass(selection,d3_selection_enterPrototype),selection}function d3_selection_enterInsertBefore(enter){var i0,j0;return function(d,i,j){var node,group=enter[j].update,n=group.length;for(j!=j0&&(j0=j,i0=0),i>=i0&&(i0=i+1);!(node=group[i0])&&++i0<n;);return node}}function d3_selection_on(type,listener,capture){function onRemove(){var l=this[name];l&&(this.removeEventListener(type,l,l.$),delete this[name])}function onAdd(){var l=wrap(listener,d3_array(arguments));onRemove.call(this),this.addEventListener(type,this[name]=l,l.$=capture),l._=listener}function removeAll(){var match,re=new RegExp("^__on([^.]+)"+d3.requote(type)+"$");for(var name in this)if(match=name.match(re)){var l=this[name];this.removeEventListener(match[1],l,l.$),delete this[name]}}var name="__on"+type,i=type.indexOf("."),wrap=d3_selection_onListener;i>0&&(type=type.slice(0,i));var filter=d3_selection_onFilters.get(type);return filter&&(type=filter,wrap=d3_selection_onFilter),i?listener?onAdd:onRemove:listener?d3_noop:removeAll}function d3_selection_onListener(listener,argumentz){return function(e){var o=d3.event;d3.event=e,argumentz[0]=this.__data__;try{listener.apply(this,argumentz)}finally{d3.event=o}}}function d3_selection_onFilter(listener,argumentz){var l=d3_selection_onListener(listener,argumentz);return function(e){var target=this,related=e.relatedTarget;related&&(related===target||8&related.compareDocumentPosition(target))||l.call(target,e)}}function d3_event_dragSuppress(node){var name=".dragsuppress-"+ ++d3_event_dragId,click="click"+name,w=d3.select(d3_window(node)).on("touchmove"+name,d3_eventPreventDefault).on("dragstart"+name,d3_eventPreventDefault).on("selectstart"+name,d3_eventPreventDefault);if(null==d3_event_dragSelect&&(d3_event_dragSelect=!("onselectstart"in node)&&d3_vendorSymbol(node.style,"userSelect")),d3_event_dragSelect){var style=d3_documentElement(node).style,select=style[d3_event_dragSelect];style[d3_event_dragSelect]="none"}return function(suppressClick){if(w.on(name,null),d3_event_dragSelect&&(style[d3_event_dragSelect]=select),suppressClick){var off=function(){w.on(click,null)};w.on(click,function(){d3_eventPreventDefault(),off()},!0),setTimeout(off,0)}}}function d3_mousePoint(container,e){e.changedTouches&&(e=e.changedTouches[0]);var svg=container.ownerSVGElement||container;if(svg.createSVGPoint){var point=svg.createSVGPoint();if(d3_mouse_bug44083<0){var window=d3_window(container);if(window.scrollX||window.scrollY){svg=d3.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ctm=svg[0][0].getScreenCTM();d3_mouse_bug44083=!(ctm.f||ctm.e),svg.remove()}}return d3_mouse_bug44083?(point.x=e.pageX,point.y=e.pageY):(point.x=e.clientX,point.y=e.clientY),point=point.matrixTransform(container.getScreenCTM().inverse()),[point.x,point.y]}var rect=container.getBoundingClientRect();return[e.clientX-rect.left-container.clientLeft,e.clientY-rect.top-container.clientTop]}function d3_behavior_dragTouchId(){return d3.event.changedTouches[0].identifier}function d3_sgn(x){return x>0?1:x<0?-1:0}function d3_cross2d(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function d3_acos(x){return x>1?0:x<-1?:Math.acos(x)}function d3_asin(x){return x>1?half:x<-1?-half:Math.asin(x)}function d3_sinh(x){return((x=Math.exp(x))-1/x)/2}function d3_cosh(x){return((x=Math.exp(x))+1/x)/2}function d3_tanh(x){return((x=Math.exp(2*x))-1)/(x+1)}function d3_haversin(x){return(x=Math.sin(x/2))*x}function d3_color(){}function d3_hsl(h,s,l){return this instanceof d3_hsl?(this.h=+h,this.s=+s,void(this.l=+l)):arguments.length<2?h instanceof d3_hsl?new d3_hsl(h.h,h.s,h.l):d3_rgb_parse(""+h,d3_rgb_hsl,d3_hsl):new d3_hsl(h,s,l)}function d3_hsl_rgb(h,s,l){function v(h){return h>360?h-=360:h<0&&(h+=360),h<60?m1+(m2-m1)*h/60:h<180?m2:h<240?m1+(m2-m1)*(240-h)/60:m1}function vv(h){return Math.round(255*v(h))}var m1,m2;return h=isNaN(h)?0:(h%=360)<0?h+360:h,s=isNaN(s)?0:s<0?0:s>1?1:s,l=l<0?0:l>1?1:l,m2=l<=.5?l*(1+s):l+s-l*s,m1=2*l-m2,new d3_rgb(vv(h+120),vv(h),vv(h-120))}function d3_hcl(h,c,l){return this instanceof d3_hcl?(this.h=+h,this.c=+c,void(this.l=+l)):arguments.length<2?h instanceof d3_hcl?new d3_hcl(h.h,h.c,h.l):h instanceof d3_lab?d3_lab_hcl(h.l,h.a,h.b):d3_lab_hcl((h=d3_rgb_lab((h=d3.rgb(h)).r,h.g,h.b)).l,h.a,h.b):new d3_hcl(h,c,l)}function d3_hcl_lab(h,c,l){return isNaN(h)&&(h=0),isNaN(c)&&(c=0),new d3_lab(l,Math.cos(h*=d3_radians)*c,Math.sin(h)*c)}function d3_lab(l,a,b){return this instanceof d3_lab?(this.l=+l,this.a=+a,void(this.b=+b)):arguments.length<2?l instanceof d3_lab?new d3_lab(l.l,l.a,l.b):l instanceof d3_hcl?d3_hcl_lab(l.h,l.c,l.l):d3_rgb_lab((l=d3_rgb(l)).r,l.g,l.b):new d3_lab(l,a,b)}function d3_lab_rgb(l,a,b){var y=(l+16)/116,x=y+a/500,z=y-b/200;return x=d3_lab_xyz(x)*d3_lab_X,y=d3_lab_xyz(y)*d3_lab_Y,z=d3_lab_xyz(z)*d3_lab_Z,new d3_rgb(d3_xyz_rgb(3.2404542*x-1.5371385*y-.4985314*z),d3_xyz_rgb(-.969266*x+1.8760108*y+.041556*z),d3_xyz_rgb(.0556434*x-.2040259*y+1.0572252*z))}function d3_lab_hcl(l,a,b){return l>0?new d3_hcl(Math.atan2(b,a)*d3_degrees,Math.sqrt(a*a+b*b),l):new d3_hcl(NaN,NaN,l)}function d3_lab_xyz(x){return x>.206893034?x*x*x:(x-4/29)/7.787037}function d3_xyz_lab(x){return x>.008856?Math.pow(x,1/3):7.787037*x+4/29}function d3_xyz_rgb(r){return Math.round(255*(r<=.00304?12.92*r:1.055*Math.pow(r,1/2.4)-.055))}function d3_rgb(r,g,b){return this instanceof d3_rgb?(this.r=~~r,this.g=~~g,void(this.b=~~b)):arguments.length<2?r instanceof d3_rgb?new d3_rgb(r.r,r.g,r.b):d3_rgb_parse(""+r,d3_rgb,d3_hsl_rgb):new d3_rgb(r,g,b)}function d3_rgbNumber(value){return new d3_rgb(value>>16,value>>8&255,255&value)}function d3_rgbString(value){return d3_rgbNumber(value)+""}function d3_rgb_hex(v){return v<16?"0"+Math.max(0,v).toString(16):Math.min(255,v).toString(16)}function d3_rgb_parse(format,rgb,hsl){format=format.toLowerCase();var m1,m2,color,r=0,g=0,b=0;if(m1=/([a-z]+)\((.*)\)/.exec(format))switch(m2=m1[2].split(","),m1[1]){case"hsl":return hsl(parseFloat(m2[0]),parseFloat(m2[1])/100,parseFloat(m2[2])/100);case"rgb":return rgb(d3_rgb_parseNumber(m2[0]),d3_rgb_parseNumber(m2[1]),d3_rgb_parseNumber(m2[2]))}return(color=d3_rgb_names.get(format))?rgb(color.r,color.g,color.b):(null==format||"#"!==format.charAt(0)||isNaN(color=parseInt(format.slice(1),16))||(4===format.length?(r=(3840&color)>>4,r=r>>4|r,g=240&color,g=g>>4|g,b=15&color,b=b<<4|b):7===format.length&&(r=(16711680&color)>>16,g=(65280&color)>>8,b=255&color)),rgb(r,g,b))}function d3_rgb_hsl(r,g,b){var h,s,min=Math.min(r/=255,g/=255,b/=255),max=Math.max(r,g,b),d=max-min,l=(max+min)/2;return d?(s=l<.5?d/(max+min):d/(2-max-min),h=r==max?(g-b)/d+(g<b?6:0):g==max?(b-r)/d+2:(r-g)/d+4,h*=60):(h=NaN,s=l>0&&l<1?0:h),new d3_hsl(h,s,l)}function d3_rgb_lab(r,g,b){r=d3_rgb_xyz(r),g=d3_rgb_xyz(g),b=d3_rgb_xyz(b);var x=d3_xyz_lab((.4124564*r+.3575761*g+.1804375*b)/d3_lab_X),y=d3_xyz_lab((.2126729*r+.7151522*g+.072175*b)/d3_lab_Y),z=d3_xyz_lab((.0193339*r+.119192*g+.9503041*b)/d3_lab_Z);return d3_lab(116*y-16,500*(x-y),200*(y-z))}function d3_rgb_xyz(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function d3_rgb_parseNumber(c){var f=parseFloat(c);return"%"===c.charAt(c.length-1)?Math.round(2.55*f):f}function d3_functor(v){return"function"==typeof v?v:function(){return v}}function d3_xhrType(response){return function(url,mimeType,callback){return 2===arguments.length&&"function"==typeof mimeType&&(callback=mimeType,mimeType=null),d3_xhr(url,mimeType,response,callback)}}function d3_xhr(url,mimeType,response,callback){function respond(){var result,status=request.status;if(!status&&d3_xhrHasResponse(request)||status>=200&&status<300||304===status){try{result=response.call(xhr,request)}catch(e){return void dispatch.error.call(xhr,e)}dispatch.load.call(xhr,result)}else dispatch.error.call(xhr,request)}var xhr={},dispatch=d3.dispatch("beforesend","progress","load","error"),headers={},request=new XMLHttpRequest,responseType=null;return!this.XDomainRequest||"withCredentials"in request||!/^(http(s)?:)?\/\//.test(url)||(request=new XDomainRequest),"onload"in request?request.onload=request.onerror=respond:request.onreadystatechange=function(){request.readyState>3&&respond()},request.onprogress=function(event){var o=d3.event;d3.event=event;try{dispatch.progress.call(xhr,request)}finally{d3.event=o}},xhr.header=function(name,value){return name=(name+"").toLowerCase(),arguments.length<2?headers[name]:(null==value?delete headers[name]:headers[name]=value+"",xhr)},xhr.mimeType=function(value){return arguments.length?(mimeType=null==value?null:value+"",xhr):mimeType},xhr.responseType=function(value){return arguments.length?(responseType=value,xhr):responseType},xhr.response=function(value){return response=value,xhr},["get","post"].forEach(function(method){xhr[method]=function(){return xhr.send.apply(xhr,[method].concat(d3_array(arguments)))}}),xhr.send=function(method,data,callback){if(2===arguments.length&&"function"==typeof data&&(callback=data,data=null),request.open(method,url,!0),null==mimeType||"accept"in headers||(headers.accept=mimeType+",*/*"),request.setRequestHeader)for(var name in headers)request.setRequestHeader(name,headers[name]);return null!=mimeType&&request.overrideMimeType&&request.overrideMimeType(mimeType),null!=responseType&&(request.responseType=responseType),null!=callback&&xhr.on("error",callback).on("load",function(request){callback(null,request)}),dispatch.beforesend.call(xhr,request),request.send(null==data?null:data),xhr},xhr.abort=function(){return request.abort(),xhr},d3.rebind(xhr,dispatch,"on"),null==callback?xhr:xhr.get(d3_xhr_fixCallback(callback))}function d3_xhr_fixCallback(callback){return 1===callback.length?function(error,request){callback(null==error?request:null)}:callback}function d3_xhrHasResponse(request){var type=request.responseType;return type&&"text"!==type?request.response:request.responseText}function d3_timer_step(){var now=d3_timer_mark(),delay=d3_timer_sweep()-now;delay>24?(isFinite(delay)&&(clearTimeout(d3_timer_timeout),d3_timer_timeout=setTimeout(d3_timer_step,delay)),d3_timer_interval=0):(d3_timer_interval=1,d3_timer_frame(d3_timer_step))}function d3_timer_mark(){var now=Date.now();for(d3_timer_active=d3_timer_queueHead;d3_timer_active;)now>=d3_timer_active.t&&(d3_timer_active.f=d3_timer_active.c(now-d3_timer_active.t)),d3_timer_active=d3_timer_active.n;return now}function d3_timer_sweep(){for(var t0,t1=d3_timer_queueHead,time=1/0;t1;)t1.f?t1=t0?t0.n=t1.n:d3_timer_queueHead=t1.n:(t1.t<time&&(time=t1.t),t1=(t0=t1).n);return d3_timer_queueTail=t0,time}function d3_format_precision(x,p){return p-(x?Math.ceil(Math.log(x)/Math.LN10):1)}function d3_formatPrefix(d,i){var k=Math.pow(10,3*abs(8-i));return{scale:i>8?function(d){return d/k}:function(d){return d*k},symbol:d}}function d3_locale_numberFormat(locale){var locale_decimal=locale.decimal,locale_thousands=locale.thousands,locale_grouping=locale.grouping,locale_currency=locale.currency,formatGroup=locale_grouping&&locale_thousands?function(value,width){for(var i=value.length,t=[],j=0,g=locale_grouping[0],length=0;i>0&&g>0&&(length+g+1>width&&(g=Math.max(1,width-length)),t.push(value.substring(i-=g,i+g)),!((length+=g+1)>width));)g=locale_grouping[j=(j+1)%locale_grouping.length];return t.reverse().join(locale_thousands)}:d3_identity;return function(specifier){var match=d3_format_re.exec(specifier),fill=match[1]||" ",align=match[2]||">",sign=match[3]||"-",symbol=match[4]||"",zfill=match[5],width=+match[6],comma=match[7],precision=match[8],type=match[9],scale=1,prefix="",suffix="",integer=!1,exponent=!0;switch(precision&&(precision=+precision.substring(1)),(zfill||"0"===fill&&"="===align)&&(zfill=fill="0",align="="),type){case"n":comma=!0,type="g";break;case"%":scale=100,suffix="%",type="f";break;case"p":scale=100,suffix="%",type="r";break;case"b":case"o":case"x":case"X":"#"===symbol&&(prefix="0"+type.toLowerCase());case"c":exponent=!1;case"d":integer=!0,precision=0;break;case"s":scale=-1,type="r"}"$"===symbol&&(prefix=locale_currency[0],suffix=locale_currency[1]),"r"!=type||precision||(type="g"),null!=precision&&("g"==type?precision=Math.max(1,Math.min(21,precision)):"e"!=type&&"f"!=type||(precision=Math.max(0,Math.min(20,precision)))),type=d3_format_types.get(type)||d3_format_typeDefault;var zcomma=zfill&&comma;return function(value){var fullSuffix=suffix;if(integer&&value%1)return"";var negative=value<0||0===value&&1/value<0?(value=-value,"-"):"-"===sign?"":sign;if(scale<0){var unit=d3.formatPrefix(value,precision);value=unit.scale(value),fullSuffix=unit.symbol+suffix}else value*=scale;value=type(value,precision);var before,after,i=value.lastIndexOf(".");if(i<0){var j=exponent?value.lastIndexOf("e"):-1;j<0?(before=value,after=""):(before=value.substring(0,j),after=value.substring(j))}else before=value.substring(0,i),after=locale_decimal+value.substring(i+1);!zfill&&comma&&(before=formatGroup(before,1/0));var length=prefix.length+before.length+after.length+(zcomma?0:negative.length),padding=length<width?new Array(length=width-length+1).join(fill):"";return zcomma&&(before=formatGroup(padding+before,padding.length?width-after.length:1/0)),negative+=prefix,value=before+after,("<"===align?negative+value+padding:">"===align?padding+negative+value:"^"===align?padding.substring(0,length>>=1)+negative+value+padding.substring(length):negative+(zcomma?value:padding+value))+fullSuffix}}}function d3_format_typeDefault(x){return x+""}function d3_date_utc(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function d3_time_interval(local,step,number){function round(date){var d0=local(date),d1=offset(d0,1);return date-d0<d1-date?d0:d1}function ceil(date){return step(date=local(new d3_date(date-1)),1),date}function offset(date,k){return step(date=new d3_date((+date)),k),date}function range(t0,t1,dt){var time=ceil(t0),times=[];if(dt>1)for(;time<t1;)number(time)%dt||times.push(new Date((+time))),step(time,1);else for(;time<t1;)times.push(new Date((+time))),step(time,1);return times}function range_utc(t0,t1,dt){try{d3_date=d3_date_utc;var utc=new d3_date_utc;return utc._=t0,range(utc,t1,dt)}finally{d3_date=Date}}local.floor=local,local.round=round,local.ceil=ceil,local.offset=offset,local.range=range;var utc=local.utc=d3_time_interval_utc(local);return utc.floor=utc,utc.round=d3_time_interval_utc(round),utc.ceil=d3_time_interval_utc(ceil),utc.offset=d3_time_interval_utc(offset),utc.range=range_utc,local}function d3_time_interval_utc(method){return function(date,k){try{d3_date=d3_date_utc;var utc=new d3_date_utc;return utc._=date,method(utc,k)._}finally{d3_date=Date}}}function d3_locale_timeFormat(locale){function d3_time_format(template){function format(date){for(var c,p,f,string=[],i=-1,j=0;++i<n;)37===template.charCodeAt(i)&&(string.push(template.slice(j,i)),null!=(p=d3_time_formatPads[c=template.charAt(++i)])&&(c=template.charAt(++i)),(f=d3_time_formats[c])&&(c=f(date,null==p?"e"===c?" ":"0":p)),string.push(c),j=i+1);return string.push(template.slice(j,i)),string.join("")}var n=template.length;return format.parse=function(string){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=d3_time_parse(d,template,string,0);if(i!=string.length)return null;"p"in d&&(d.H=d.H%12+12*d.p);var localZ=null!=d.Z&&d3_date!==d3_date_utc,date=new(localZ?d3_date_utc:d3_date);return"j"in d?date.setFullYear(d.y,0,d.j):"w"in d&&("W"in d||"U"in d)?(date.setFullYear(d.y,0,1),date.setFullYear(d.y,0,"W"in d?(d.w+6)%7+7*d.W-(date.getDay()+5)%7:d.w+7*d.U-(date.getDay()+6)%7)):date.setFullYear(d.y,d.m,d.d),date.setHours(d.H+(d.Z/100|0),d.M+d.Z%100,d.S,d.L),localZ?date._:date},format.toString=function(){return template},format}function d3_time_parse(date,template,string,j){for(var c,p,t,i=0,n=template.length,m=string.length;i<n;){if(j>=m)return-1;if(c=template.charCodeAt(i++),37===c){if(t=template.charAt(i++),p=d3_time_parsers[t in d3_time_formatPads?template.charAt(i++):t],!p||(j=p(date,string,j))<0)return-1}else if(c!=string.charCodeAt(j++))return-1}return j}function d3_time_parseWeekdayAbbrev(date,string,i){d3_time_dayAbbrevRe.lastIndex=0;var n=d3_time_dayAbbrevRe.exec(string.slice(i));return n?(date.w=d3_time_dayAbbrevLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseWeekday(date,string,i){d3_time_dayRe.lastIndex=0;var n=d3_time_dayRe.exec(string.slice(i));return n?(date.w=d3_time_dayLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseMonthAbbrev(date,string,i){d3_time_monthAbbrevRe.lastIndex=0;var n=d3_time_monthAbbrevRe.exec(string.slice(i));return n?(date.m=d3_time_monthAbbrevLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseMonth(date,string,i){d3_time_monthRe.lastIndex=0;var n=d3_time_monthRe.exec(string.slice(i));return n?(date.m=d3_time_monthLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseLocaleFull(date,string,i){return d3_time_parse(date,d3_time_formats.c.toString(),string,i)}function d3_time_parseLocaleDate(date,string,i){return d3_time_parse(date,d3_time_formats.x.toString(),string,i)}function d3_time_parseLocaleTime(date,string,i){return d3_time_parse(date,d3_time_formats.X.toString(),string,i)}function d3_time_parseAmPm(date,string,i){var n=d3_time_periodLookup.get(string.slice(i,i+=2).toLowerCase());return null==n?-1:(date.p=n,i)}var locale_dateTime=locale.dateTime,locale_date=locale.date,locale_time=locale.time,locale_periods=locale.periods,locale_days=locale.days,locale_shortDays=locale.shortDays,locale_months=locale.months,locale_shortMonths=locale.shortMonths;d3_time_format.utc=function(template){function format(date){try{d3_date=d3_date_utc;var utc=new d3_date;return utc._=date,local(utc)}finally{d3_date=Date}}var local=d3_time_format(template);return format.parse=function(string){try{d3_date=d3_date_utc;var date=local.parse(string);return date&&date._}finally{d3_date=Date}},format.toString=local.toString,format},d3_time_format.multi=d3_time_format.utc.multi=d3_time_formatMulti;var d3_time_periodLookup=d3.map(),d3_time_dayRe=d3_time_formatRe(locale_days),d3_time_dayLookup=d3_time_formatLookup(locale_days),d3_time_dayAbbrevRe=d3_time_formatRe(locale_shortDays),d3_time_dayAbbrevLookup=d3_time_formatLookup(locale_shortDays),d3_time_monthRe=d3_time_formatRe(locale_months),d3_time_monthLookup=d3_time_formatLookup(locale_months),d3_time_monthAbbrevRe=d3_time_formatRe(locale_shortMonths),d3_time_monthAbbrevLookup=d3_time_formatLookup(locale_shortMonths);locale_periods.forEach(function(p,i){d3_time_periodLookup.set(p.toLowerCase(),i)});var d3_time_formats={a:function(d){return locale_shortDays[d.getDay()]},A:function(d){return locale_days[d.getDay()]},b:function(d){return locale_shortMonths[d.getMonth()]},B:function(d){return locale_months[d.getMonth()]},c:d3_time_format(locale_dateTime),d:function(d,p){return d3_time_formatPad(d.getDate(),p,2)},e:function(d,p){return d3_time_formatPad(d.getDate(),p,2)},H:function(d,p){return d3_time_formatPad(d.getHours(),p,2)},I:function(d,p){return d3_time_formatPad(d.getHours()%12||12,p,2)},j:function(d,p){return d3_time_formatPad(1+d3_time.dayOfYear(d),p,3)},L:function(d,p){return d3_time_formatPad(d.getMilliseconds(),p,3)},m:function(d,p){return d3_time_formatPad(d.getMonth()+1,p,2)},M:function(d,p){return d3_time_formatPad(d.getMinutes(),p,2)},p:function(d){return locale_periods[+(d.getHours()>=12)]},S:function(d,p){return d3_time_formatPad(d.getSeconds(),p,2)},U:function(d,p){return d3_time_formatPad(d3_time.sundayOfYear(d),p,2)},w:function(d){return d.getDay()},W:function(d,p){return d3_time_formatPad(d3_time.mondayOfYear(d),p,2)},x:d3_time_format(locale_date),X:d3_time_format(locale_time),y:function(d,p){return d3_time_formatPad(d.getFullYear()%100,p,2)},Y:function(d,p){return d3_time_formatPad(d.getFullYear()%1e4,p,4)},Z:d3_time_zone,"%":function(){return"%"}},d3_time_parsers={a:d3_time_parseWeekdayAbbrev,A:d3_time_parseWeekday,b:d3_time_parseMonthAbbrev,B:d3_time_parseMonth,c:d3_time_parseLocaleFull,d:d3_time_parseDay,e:d3_time_parseDay,H:d3_time_parseHour24,I:d3_time_parseHour24,j:d3_time_parseDayOfYear,L:d3_time_parseMilliseconds,m:d3_time_parseMonthNumber,M:d3_time_parseMinutes,p:d3_time_parseAmPm,S:d3_time_parseSeconds,U:d3_time_parseWeekNumberSunday,
w:d3_time_parseWeekdayNumber,W:d3_time_parseWeekNumberMonday,x:d3_time_parseLocaleDate,X:d3_time_parseLocaleTime,y:d3_time_parseYear,Y:d3_time_parseFullYear,Z:d3_time_parseZone,"%":d3_time_parseLiteralPercent};return d3_time_format}function d3_time_formatPad(value,fill,width){var sign=value<0?"-":"",string=(sign?-value:value)+"",length=string.length;return sign+(length<width?new Array(width-length+1).join(fill)+string:string)}function d3_time_formatRe(names){return new RegExp("^(?:"+names.map(d3.requote).join("|")+")","i")}function d3_time_formatLookup(names){for(var map=new d3_Map,i=-1,n=names.length;++i<n;)map.set(names[i].toLowerCase(),i);return map}function d3_time_parseWeekdayNumber(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+1));return n?(date.w=+n[0],i+n[0].length):-1}function d3_time_parseWeekNumberSunday(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i));return n?(date.U=+n[0],i+n[0].length):-1}function d3_time_parseWeekNumberMonday(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i));return n?(date.W=+n[0],i+n[0].length):-1}function d3_time_parseFullYear(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+4));return n?(date.y=+n[0],i+n[0].length):-1}function d3_time_parseYear(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.y=d3_time_expandYear(+n[0]),i+n[0].length):-1}function d3_time_parseZone(date,string,i){return/^[+-]\d{4}$/.test(string=string.slice(i,i+5))?(date.Z=-string,i+5):-1}function d3_time_expandYear(d){return d+(d>68?1900:2e3)}function d3_time_parseMonthNumber(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.m=n[0]-1,i+n[0].length):-1}function d3_time_parseDay(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.d=+n[0],i+n[0].length):-1}function d3_time_parseDayOfYear(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+3));return n?(date.j=+n[0],i+n[0].length):-1}function d3_time_parseHour24(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.H=+n[0],i+n[0].length):-1}function d3_time_parseMinutes(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.M=+n[0],i+n[0].length):-1}function d3_time_parseSeconds(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.S=+n[0],i+n[0].length):-1}function d3_time_parseMilliseconds(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+3));return n?(date.L=+n[0],i+n[0].length):-1}function d3_time_zone(d){var z=d.getTimezoneOffset(),zs=z>0?"-":"+",zh=abs(z)/60|0,zm=abs(z)%60;return zs+d3_time_formatPad(zh,"0",2)+d3_time_formatPad(zm,"0",2)}function d3_time_parseLiteralPercent(date,string,i){d3_time_percentRe.lastIndex=0;var n=d3_time_percentRe.exec(string.slice(i,i+1));return n?i+n[0].length:-1}function d3_time_formatMulti(formats){for(var n=formats.length,i=-1;++i<n;)formats[i][0]=this(formats[i][0]);return function(date){for(var i=0,f=formats[i];!f[1](date);)f=formats[++i];return f[0](date)}}function d3_adder(){}function d3_adderSum(a,b,o){var x=o.s=a+b,bv=x-a,av=x-bv;o.t=a-av+(b-bv)}function d3_geo_streamGeometry(geometry,listener){geometry&&d3_geo_streamGeometryType.hasOwnProperty(geometry.type)&&d3_geo_streamGeometryType[geometry.type](geometry,listener)}function d3_geo_streamLine(coordinates,listener,closed){var coordinate,i=-1,n=coordinates.length-closed;for(listener.lineStart();++i<n;)coordinate=coordinates[i],listener.point(coordinate[0],coordinate[1],coordinate[2]);listener.lineEnd()}function d3_geo_streamPolygon(coordinates,listener){var i=-1,n=coordinates.length;for(listener.polygonStart();++i<n;)d3_geo_streamLine(coordinates[i],listener,1);listener.polygonEnd()}function d3_geo_areaRingStart(){function nextPoint(,){*=d3_radians,=*d3_radians/2+/4;var d=-0,sd=d>=0?1:-1,ad=sd*d,cos=Math.cos(),sin=Math.sin(),k=sin0*sin,u=cos0*cos+k*Math.cos(ad),v=k*sd*Math.sin(ad);d3_geo_areaRingSum.add(Math.atan2(v,u)),0=,cos0=cos,sin0=sin}var 00,00,0,cos0,sin0;d3_geo_area.point=function(,){d3_geo_area.point=nextPoint,0=(00=)*d3_radians,cos0=Math.cos(=(00=)*d3_radians/2+/4),sin0=Math.sin()},d3_geo_area.lineEnd=function(){nextPoint(00,00)}}function d3_geo_cartesian(spherical){var =spherical[0],=spherical[1],cos=Math.cos();return[cos*Math.cos(),cos*Math.sin(),Math.sin()]}function d3_geo_cartesianDot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function d3_geo_cartesianCross(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function d3_geo_cartesianAdd(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function d3_geo_cartesianScale(vector,k){return[vector[0]*k,vector[1]*k,vector[2]*k]}function d3_geo_cartesianNormalize(d){var l=Math.sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);d[0]/=l,d[1]/=l,d[2]/=l}function d3_geo_spherical(cartesian){return[Math.atan2(cartesian[1],cartesian[0]),d3_asin(cartesian[2])]}function d3_geo_sphericalEqual(a,b){return abs(a[0]-b[0])<&&abs(a[1]-b[1])<}function d3_geo_centroidPoint(,){*=d3_radians;var cos=Math.cos(*=d3_radians);d3_geo_centroidPointXYZ(cos*Math.cos(),cos*Math.sin(),Math.sin())}function d3_geo_centroidPointXYZ(x,y,z){++d3_geo_centroidW0,d3_geo_centroidX0+=(x-d3_geo_centroidX0)/d3_geo_centroidW0,d3_geo_centroidY0+=(y-d3_geo_centroidY0)/d3_geo_centroidW0,d3_geo_centroidZ0+=(z-d3_geo_centroidZ0)/d3_geo_centroidW0}function d3_geo_centroidLineStart(){function nextPoint(,){*=d3_radians;var cos=Math.cos(*=d3_radians),x=cos*Math.cos(),y=cos*Math.sin(),z=Math.sin(),w=Math.atan2(Math.sqrt((w=y0*z-z0*y)*w+(w=z0*x-x0*z)*w+(w=x0*y-y0*x)*w),x0*x+y0*y+z0*z);d3_geo_centroidW1+=w,d3_geo_centroidX1+=w*(x0+(x0=x)),d3_geo_centroidY1+=w*(y0+(y0=y)),d3_geo_centroidZ1+=w*(z0+(z0=z)),d3_geo_centroidPointXYZ(x0,y0,z0)}var x0,y0,z0;d3_geo_centroid.point=function(,){*=d3_radians;var cos=Math.cos(*=d3_radians);x0=cos*Math.cos(),y0=cos*Math.sin(),z0=Math.sin(),d3_geo_centroid.point=nextPoint,d3_geo_centroidPointXYZ(x0,y0,z0)}}function d3_geo_centroidLineEnd(){d3_geo_centroid.point=d3_geo_centroidPoint}function d3_geo_centroidRingStart(){function nextPoint(,){*=d3_radians;var cos=Math.cos(*=d3_radians),x=cos*Math.cos(),y=cos*Math.sin(),z=Math.sin(),cx=y0*z-z0*y,cy=z0*x-x0*z,cz=x0*y-y0*x,m=Math.sqrt(cx*cx+cy*cy+cz*cz),u=x0*x+y0*y+z0*z,v=m&&-d3_acos(u)/m,w=Math.atan2(m,u);d3_geo_centroidX2+=v*cx,d3_geo_centroidY2+=v*cy,d3_geo_centroidZ2+=v*cz,d3_geo_centroidW1+=w,d3_geo_centroidX1+=w*(x0+(x0=x)),d3_geo_centroidY1+=w*(y0+(y0=y)),d3_geo_centroidZ1+=w*(z0+(z0=z)),d3_geo_centroidPointXYZ(x0,y0,z0)}var 00,00,x0,y0,z0;d3_geo_centroid.point=function(,){00=,00=,d3_geo_centroid.point=nextPoint,*=d3_radians;var cos=Math.cos(*=d3_radians);x0=cos*Math.cos(),y0=cos*Math.sin(),z0=Math.sin(),d3_geo_centroidPointXYZ(x0,y0,z0)},d3_geo_centroid.lineEnd=function(){nextPoint(00,00),d3_geo_centroid.lineEnd=d3_geo_centroidLineEnd,d3_geo_centroid.point=d3_geo_centroidPoint}}function d3_geo_compose(a,b){function compose(x,y){return x=a(x,y),b(x[0],x[1])}return a.invert&&b.invert&&(compose.invert=function(x,y){return x=b.invert(x,y),x&&a.invert(x[0],x[1])}),compose}function d3_true(){return!0}function d3_geo_clipPolygon(segments,compare,clipStartInside,interpolate,listener){var subject=[],clip=[];if(segments.forEach(function(segment){if(!((n=segment.length-1)<=0)){var n,p0=segment[0],p1=segment[n];if(d3_geo_sphericalEqual(p0,p1)){listener.lineStart();for(var i=0;i<n;++i)listener.point((p0=segment[i])[0],p0[1]);return void listener.lineEnd()}var a=new d3_geo_clipPolygonIntersection(p0,segment,null,(!0)),b=new d3_geo_clipPolygonIntersection(p0,null,a,(!1));a.o=b,subject.push(a),clip.push(b),a=new d3_geo_clipPolygonIntersection(p1,segment,null,(!1)),b=new d3_geo_clipPolygonIntersection(p1,null,a,(!0)),a.o=b,subject.push(a),clip.push(b)}}),clip.sort(compare),d3_geo_clipPolygonLinkCircular(subject),d3_geo_clipPolygonLinkCircular(clip),subject.length){for(var i=0,entry=clipStartInside,n=clip.length;i<n;++i)clip[i].e=entry=!entry;for(var points,point,start=subject[0];;){for(var current=start,isSubject=!0;current.v;)if((current=current.n)===start)return;points=current.z,listener.lineStart();do{if(current.v=current.o.v=!0,current.e){if(isSubject)for(var i=0,n=points.length;i<n;++i)listener.point((point=points[i])[0],point[1]);else interpolate(current.x,current.n.x,1,listener);current=current.n}else{if(isSubject){points=current.p.z;for(var i=points.length-1;i>=0;--i)listener.point((point=points[i])[0],point[1])}else interpolate(current.x,current.p.x,-1,listener);current=current.p}current=current.o,points=current.z,isSubject=!isSubject}while(!current.v);listener.lineEnd()}}}function d3_geo_clipPolygonLinkCircular(array){if(n=array.length){for(var n,b,i=0,a=array[0];++i<n;)a.n=b=array[i],b.p=a,a=b;a.n=b=array[0],b.p=a}}function d3_geo_clipPolygonIntersection(point,points,other,entry){this.x=point,this.z=points,this.o=other,this.e=entry,this.v=!1,this.n=this.p=null}function d3_geo_clip(pointVisible,clipLine,interpolate,clipStart){return function(rotate,listener){function point(,){var point=rotate(,);pointVisible(=point[0],=point[1])&&listener.point(,)}function pointLine(,){var point=rotate(,);line.point(point[0],point[1])}function lineStart(){clip.point=pointLine,line.lineStart()}function lineEnd(){clip.point=point,line.lineEnd()}function pointRing(,){ring.push([,]);var point=rotate(,);ringListener.point(point[0],point[1])}function ringStart(){ringListener.lineStart(),ring=[]}function ringEnd(){pointRing(ring[0][0],ring[0][1]),ringListener.lineEnd();var segment,clean=ringListener.clean(),ringSegments=buffer.buffer(),n=ringSegments.length;if(ring.pop(),polygon.push(ring),ring=null,n)if(1&clean){segment=ringSegments[0];var point,n=segment.length-1,i=-1;if(n>0){for(polygonStarted||(listener.polygonStart(),polygonStarted=!0),listener.lineStart();++i<n;)listener.point((point=segment[i])[0],point[1]);listener.lineEnd()}}else n>1&&2&clean&&ringSegments.push(ringSegments.pop().concat(ringSegments.shift())),segments.push(ringSegments.filter(d3_geo_clipSegmentLength1))}var segments,polygon,ring,line=clipLine(listener),rotatedClipStart=rotate.invert(clipStart[0],clipStart[1]),clip={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){clip.point=pointRing,clip.lineStart=ringStart,clip.lineEnd=ringEnd,segments=[],polygon=[]},polygonEnd:function(){clip.point=point,clip.lineStart=lineStart,clip.lineEnd=lineEnd,segments=d3.merge(segments);var clipStartInside=d3_geo_pointInPolygon(rotatedClipStart,polygon);segments.length?(polygonStarted||(listener.polygonStart(),polygonStarted=!0),d3_geo_clipPolygon(segments,d3_geo_clipSort,clipStartInside,interpolate,listener)):clipStartInside&&(polygonStarted||(listener.polygonStart(),polygonStarted=!0),listener.lineStart(),interpolate(null,null,1,listener),listener.lineEnd()),polygonStarted&&(listener.polygonEnd(),polygonStarted=!1),segments=polygon=null},sphere:function(){listener.polygonStart(),listener.lineStart(),interpolate(null,null,1,listener),listener.lineEnd(),listener.polygonEnd()}},buffer=d3_geo_clipBufferListener(),ringListener=clipLine(buffer),polygonStarted=!1;return clip}}function d3_geo_clipSegmentLength1(segment){return segment.length>1}function d3_geo_clipBufferListener(){var line,lines=[];return{lineStart:function(){lines.push(line=[])},point:function(,){line.push([,])},lineEnd:d3_noop,buffer:function(){var buffer=lines;return lines=[],line=null,buffer},rejoin:function(){lines.length>1&&lines.push(lines.pop().concat(lines.shift()))}}}function d3_geo_clipSort(a,b){return((a=a.x)[0]<0?a[1]-half-:half-a[1])-((b=b.x)[0]<0?b[1]-half-:half-b[1])}function d3_geo_clipAntimeridianLine(listener){var clean,0=NaN,0=NaN,s0=NaN;return{lineStart:function(){listener.lineStart(),clean=1},point:function(1,1){var s1=1>0?:-,d=abs(1-0);abs(d-)<?(listener.point(0,0=(0+1)/2>0?half:-half),listener.point(s0,0),listener.lineEnd(),listener.lineStart(),listener.point(s1,0),listener.point(1,0),clean=0):s0!==s1&&d>=&&(abs(0-s0)<&&(0-=s0*),abs(1-s1)<&&(1-=s1*),0=d3_geo_clipAntimeridianIntersect(0,0,1,1),listener.point(s0,0),listener.lineEnd(),listener.lineStart(),listener.point(s1,0),clean=0),listener.point(0=1,0=1),s0=s1},lineEnd:function(){listener.lineEnd(),0=0=NaN},clean:function(){return 2-clean}}}function d3_geo_clipAntimeridianIntersect(0,0,1,1){var cos0,cos1,sin0_1=Math.sin(0-1);return abs(sin0_1)>?Math.atan((Math.sin(0)*(cos1=Math.cos(1))*Math.sin(1)-Math.sin(1)*(cos0=Math.cos(0))*Math.sin(0))/(cos0*cos1*sin0_1)):(0+1)/2}function d3_geo_clipAntimeridianInterpolate(from,to,direction,listener){var ;if(null==from)=direction*half,listener.point(-,),listener.point(0,),listener.point(,),listener.point(,0),listener.point(,-),listener.point(0,-),listener.point(-,-),listener.point(-,0),listener.point(-,);else if(abs(from[0]-to[0])>){var s=from[0]<to[0]?:-;=direction*s/2,listener.point(-s,),listener.point(0,),listener.point(s,)}else listener.point(to[0],to[1])}function d3_geo_pointInPolygon(point,polygon){var meridian=point[0],parallel=point[1],meridianNormal=[Math.sin(meridian),-Math.cos(meridian),0],polarAngle=0,winding=0;d3_geo_areaRingSum.reset();for(var i=0,n=polygon.length;i<n;++i){var ring=polygon[i],m=ring.length;if(m)for(var point0=ring[0],0=point0[0],0=point0[1]/2+/4,sin0=Math.sin(0),cos0=Math.cos(0),j=1;;){j===m&&(j=0),point=ring[j];var =point[0],=point[1]/2+/4,sin=Math.sin(),cos=Math.cos(),d=-0,sd=d>=0?1:-1,ad=sd*d,antimeridian=ad>,k=sin0*sin;if(d3_geo_areaRingSum.add(Math.atan2(k*sd*Math.sin(ad),cos0*cos+k*Math.cos(ad))),polarAngle+=antimeridian?d+sd*:d,antimeridian^0>=meridian^>=meridian){var arc=d3_geo_cartesianCross(d3_geo_cartesian(point0),d3_geo_cartesian(point));d3_geo_cartesianNormalize(arc);var intersection=d3_geo_cartesianCross(meridianNormal,arc);d3_geo_cartesianNormalize(intersection);var arc=(antimeridian^d>=0?-1:1)*d3_asin(intersection[2]);(parallel>arc||parallel===arc&&(arc[0]||arc[1]))&&(winding+=antimeridian^d>=0?1:-1)}if(!j++)break;0=,sin0=sin,cos0=cos,point0=point}}return(polarAngle<-||polarAngle<&&d3_geo_areaRingSum<0)^1&winding}function d3_geo_clipCircle(radius){function visible(,){return Math.cos()*Math.cos()>cr}function clipLine(listener){var point0,c0,v0,v00,clean;return{lineStart:function(){v00=v0=!1,clean=1},point:function(,){var point2,point1=[,],v=visible(,),c=smallRadius?v?0:code(,):v?code(+(<0?:-),):0;if(!point0&&(v00=v0=v)&&listener.lineStart(),v!==v0&&(point2=intersect(point0,point1),(d3_geo_sphericalEqual(point0,point2)||d3_geo_sphericalEqual(point1,point2))&&(point1[0]+=,point1[1]+=,v=visible(point1[0],point1[1]))),v!==v0)clean=0,v?(listener.lineStart(),point2=intersect(point1,point0),listener.point(point2[0],point2[1])):(point2=intersect(point0,point1),listener.point(point2[0],point2[1]),listener.lineEnd()),point0=point2;else if(notHemisphere&&point0&&smallRadius^v){var t;c&c0||!(t=intersect(point1,point0,!0))||(clean=0,smallRadius?(listener.lineStart(),listener.point(t[0][0],t[0][1]),listener.point(t[1][0],t[1][1]),listener.lineEnd()):(listener.point(t[1][0],t[1][1]),listener.lineEnd(),listener.lineStart(),listener.point(t[0][0],t[0][1])))}!v||point0&&d3_geo_sphericalEqual(point0,point1)||listener.point(point1[0],point1[1]),point0=point1,v0=v,c0=c},lineEnd:function(){v0&&listener.lineEnd(),point0=null},clean:function(){return clean|(v00&&v0)<<1}}}function intersect(a,b,two){var pa=d3_geo_cartesian(a),pb=d3_geo_cartesian(b),n1=[1,0,0],n2=d3_geo_cartesianCross(pa,pb),n2n2=d3_geo_cartesianDot(n2,n2),n1n2=n2[0],determinant=n2n2-n1n2*n1n2;if(!determinant)return!two&&a;var c1=cr*n2n2/determinant,c2=-cr*n1n2/determinant,n1xn2=d3_geo_cartesianCross(n1,n2),A=d3_geo_cartesianScale(n1,c1),B=d3_geo_cartesianScale(n2,c2);d3_geo_cartesianAdd(A,B);var u=n1xn2,w=d3_geo_cartesianDot(A,u),uu=d3_geo_cartesianDot(u,u),t2=w*w-uu*(d3_geo_cartesianDot(A,A)-1);if(!(t2<0)){var t=Math.sqrt(t2),q=d3_geo_cartesianScale(u,(-w-t)/uu);if(d3_geo_cartesianAdd(q,A),q=d3_geo_spherical(q),!two)return q;var z,0=a[0],1=b[0],0=a[1],1=b[1];1<0&&(z=0,0=1,1=z);var =1-0,polar=abs(-)<,meridian=polar||<;if(!polar&&1<0&&(z=0,0=1,1=z),meridian?polar?0+1>0^q[1]<(abs(q[0]-0)<?0:1):0<=q[1]&&q[1]<=1:>^(0<=q[0]&&q[0]<=1)){var q1=d3_geo_cartesianScale(u,(-w+t)/uu);return d3_geo_cartesianAdd(q1,A),[q,d3_geo_spherical(q1)]}}}function code(,){var r=smallRadius?radius:-radius,code=0;return <-r?code|=1:>r&&(code|=2),<-r?code|=4:>r&&(code|=8),code}var cr=Math.cos(radius),smallRadius=cr>0,notHemisphere=abs(cr)>,interpolate=d3_geo_circleInterpolate(radius,6*d3_radians);return d3_geo_clip(visible,clipLine,interpolate,smallRadius?[0,-radius]:[-,radius-])}function d3_geom_clipLine(x0,y0,x1,y1){return function(line){var r,a=line.a,b=line.b,ax=a.x,ay=a.y,bx=b.x,by=b.y,t0=0,t1=1,dx=bx-ax,dy=by-ay;if(r=x0-ax,dx||!(r>0)){if(r/=dx,dx<0){if(r<t0)return;r<t1&&(t1=r)}else if(dx>0){if(r>t1)return;r>t0&&(t0=r)}if(r=x1-ax,dx||!(r<0)){if(r/=dx,dx<0){if(r>t1)return;r>t0&&(t0=r)}else if(dx>0){if(r<t0)return;r<t1&&(t1=r)}if(r=y0-ay,dy||!(r>0)){if(r/=dy,dy<0){if(r<t0)return;r<t1&&(t1=r)}else if(dy>0){if(r>t1)return;r>t0&&(t0=r)}if(r=y1-ay,dy||!(r<0)){if(r/=dy,dy<0){if(r>t1)return;r>t0&&(t0=r)}else if(dy>0){if(r<t0)return;r<t1&&(t1=r)}return t0>0&&(line.a={x:ax+t0*dx,y:ay+t0*dy}),t1<1&&(line.b={x:ax+t1*dx,y:ay+t1*dy}),line}}}}}}function d3_geo_clipExtent(x0,y0,x1,y1){function corner(p,direction){return abs(p[0]-x0)<?direction>0?0:3:abs(p[0]-x1)<?direction>0?2:1:abs(p[1]-y0)<?direction>0?1:0:direction>0?3:2}function compare(a,b){return comparePoints(a.x,b.x)}function comparePoints(a,b){var ca=corner(a,1),cb=corner(b,1);return ca!==cb?ca-cb:0===ca?b[1]-a[1]:1===ca?a[0]-b[0]:2===ca?a[1]-b[1]:b[0]-a[0]}return function(listener){function insidePolygon(p){for(var wn=0,n=polygon.length,y=p[1],i=0;i<n;++i)for(var b,j=1,v=polygon[i],m=v.length,a=v[0];j<m;++j)b=v[j],a[1]<=y?b[1]>y&&d3_cross2d(a,b,p)>0&&++wn:b[1]<=y&&d3_cross2d(a,b,p)<0&&--wn,a=b;return 0!==wn}function interpolate(from,to,direction,listener){var a=0,a1=0;if(null==from||(a=corner(from,direction))!==(a1=corner(to,direction))||comparePoints(from,to)<0^direction>0){do listener.point(0===a||3===a?x0:x1,a>1?y1:y0);while((a=(a+direction+4)%4)!==a1)}else listener.point(to[0],to[1])}function pointVisible(x,y){return x0<=x&&x<=x1&&y0<=y&&y<=y1}function point(x,y){pointVisible(x,y)&&listener.point(x,y)}function lineStart(){clip.point=linePoint,polygon&&polygon.push(ring=[]),first=!0,v_=!1,x_=y_=NaN}function lineEnd(){segments&&(linePoint(x__,y__),v__&&v_&&bufferListener.rejoin(),segments.push(bufferListener.buffer())),clip.point=point,v_&&listener.lineEnd()}function linePoint(x,y){x=Math.max(-d3_geo_clipExtentMAX,Math.min(d3_geo_clipExtentMAX,x)),y=Math.max(-d3_geo_clipExtentMAX,Math.min(d3_geo_clipExtentMAX,y));var v=pointVisible(x,y);if(polygon&&ring.push([x,y]),first)x__=x,y__=y,v__=v,first=!1,v&&(listener.lineStart(),listener.point(x,y));else if(v&&v_)listener.point(x,y);else{var l={a:{x:x_,y:y_},b:{x:x,y:y}};clipLine(l)?(v_||(listener.lineStart(),listener.point(l.a.x,l.a.y)),listener.point(l.b.x,l.b.y),v||listener.lineEnd(),clean=!1):v&&(listener.lineStart(),listener.point(x,y),clean=!1)}x_=x,y_=y,v_=v}var segments,polygon,ring,x__,y__,v__,x_,y_,v_,first,clean,listener_=listener,bufferListener=d3_geo_clipBufferListener(),clipLine=d3_geom_clipLine(x0,y0,x1,y1),clip={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){listener=bufferListener,segments=[],polygon=[],clean=!0},polygonEnd:function(){listener=listener_,segments=d3.merge(segments);var clipStartInside=insidePolygon([x0,y1]),inside=clean&&clipStartInside,visible=segments.length;(inside||visible)&&(listener.polygonStart(),inside&&(listener.lineStart(),interpolate(null,null,1,listener),listener.lineEnd()),visible&&d3_geo_clipPolygon(segments,compare,clipStartInside,interpolate,listener),listener.polygonEnd()),segments=polygon=ring=null}};return clip}}function d3_geo_conic(projectAt){var 0=0,1=/3,m=d3_geo_projectionMutator(projectAt),p=m(0,1);return p.parallels=function(_){return arguments.length?m(0=_[0]*/180,1=_[1]*/180):[0/*180,1/*180]},p}function d3_geo_conicEqualArea(0,1){function forward(,){var =Math.sqrt(C-2*n*Math.sin())/n;return[*Math.sin(*=n),0-*Math.cos()]}var sin0=Math.sin(0),n=(sin0+Math.sin(1))/2,C=1+sin0*(2*n-sin0),0=Math.sqrt(C)/n;return forward.invert=function(x,y){var 0_y=0-y;return[Math.atan2(x,0_y)/n,d3_asin((C-(x*x+0_y*0_y)*n*n)/(2*n))]},forward}function d3_geo_pathAreaRingStart(){function nextPoint(x,y){d3_geo_pathAreaPolygon+=y0*x-x0*y,x0=x,y0=y}var x00,y00,x0,y0;d3_geo_pathArea.point=function(x,y){d3_geo_pathArea.point=nextPoint,x00=x0=x,y00=y0=y},d3_geo_pathArea.lineEnd=function(){nextPoint(x00,y00)}}function d3_geo_pathBoundsPoint(x,y){x<d3_geo_pathBoundsX0&&(d3_geo_pathBoundsX0=x),x>d3_geo_pathBoundsX1&&(d3_geo_pathBoundsX1=x),y<d3_geo_pathBoundsY0&&(d3_geo_pathBoundsY0=y),y>d3_geo_pathBoundsY1&&(d3_geo_pathBoundsY1=y)}function d3_geo_pathBuffer(){function point(x,y){buffer.push("M",x,",",y,pointCircle)}function pointLineStart(x,y){buffer.push("M",x,",",y),stream.point=pointLine}function pointLine(x,y){buffer.push("L",x,",",y)}function lineEnd(){stream.point=point}function lineEndPolygon(){buffer.push("Z")}var pointCircle=d3_geo_pathBufferCircle(4.5),buffer=[],stream={point:point,lineStart:function(){stream.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){stream.lineEnd=lineEndPolygon},polygonEnd:function(){stream.lineEnd=lineEnd,stream.point=point},pointRadius:function(_){return pointCircle=d3_geo_pathBufferCircle(_),stream},result:function(){if(buffer.length){var result=buffer.join("");return buffer=[],result}}};return stream}function d3_geo_pathBufferCircle(radius){return"m0,"+radius+"a"+radius+","+radius+" 0 1,1 0,"+-2*radius+"a"+radius+","+radius+" 0 1,1 0,"+2*radius+"z"}function d3_geo_pathCentroidPoint(x,y){d3_geo_centroidX0+=x,d3_geo_centroidY0+=y,++d3_geo_centroidZ0}function d3_geo_pathCentroidLineStart(){function nextPoint(x,y){var dx=x-x0,dy=y-y0,z=Math.sqrt(dx*dx+dy*dy);d3_geo_centroidX1+=z*(x0+x)/2,d3_geo_centroidY1+=z*(y0+y)/2,d3_geo_centroidZ1+=z,d3_geo_pathCentroidPoint(x0=x,y0=y)}var x0,y0;d3_geo_pathCentroid.point=function(x,y){d3_geo_pathCentroid.point=nextPoint,d3_geo_pathCentroidPoint(x0=x,y0=y)}}function d3_geo_pathCentroidLineEnd(){d3_geo_pathCentroid.point=d3_geo_pathCentroidPoint}function d3_geo_pathCentroidRingStart(){function nextPoint(x,y){var dx=x-x0,dy=y-y0,z=Math.sqrt(dx*dx+dy*dy);d3_geo_centroidX1+=z*(x0+x)/2,d3_geo_centroidY1+=z*(y0+y)/2,d3_geo_centroidZ1+=z,z=y0*x-x0*y,d3_geo_centroidX2+=z*(x0+x),d3_geo_centroidY2+=z*(y0+y),d3_geo_centroidZ2+=3*z,d3_geo_pathCentroidPoint(x0=x,y0=y)}var x00,y00,x0,y0;d3_geo_pathCentroid.point=function(x,y){d3_geo_pathCentroid.point=nextPoint,d3_geo_pathCentroidPoint(x00=x0=x,y00=y0=y)},d3_geo_pathCentroid.lineEnd=function(){nextPoint(x00,y00)}}function d3_geo_pathContext(context){function point(x,y){context.moveTo(x+pointRadius,y),context.arc(x,y,pointRadius,0,)}function pointLineStart(x,y){context.moveTo(x,y),stream.point=pointLine}function pointLine(x,y){context.lineTo(x,y)}function lineEnd(){stream.point=point}function lineEndPolygon(){context.closePath()}var pointRadius=4.5,stream={point:point,lineStart:function(){stream.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){stream.lineEnd=lineEndPolygon},polygonEnd:function(){stream.lineEnd=lineEnd,stream.point=point},pointRadius:function(_){return pointRadius=_,stream},result:d3_noop};return stream}function d3_geo_resample(project){function resample(stream){return(maxDepth?resampleRecursive:resampleNone)(stream)}function resampleNone(stream){return d3_geo_transformPoint(stream,function(x,y){x=project(x,y),stream.point(x[0],x[1])})}function resampleRecursive(stream){function point(x,y){x=project(x,y),stream.point(x[0],x[1])}function lineStart(){x0=NaN,resample.point=linePoint,stream.lineStart()}function linePoint(,){var c=d3_geo_cartesian([,]),p=project(,);resampleLineTo(x0,y0,0,a0,b0,c0,x0=p[0],y0=p[1],0=,a0=c[0],b0=c[1],c0=c[2],maxDepth,stream),stream.point(x0,y0)}function lineEnd(){resample.point=point,stream.lineEnd()}function ringStart(){lineStart(),resample.point=ringPoint,resample.lineEnd=ringEnd}function ringPoint(,){linePoint(00=,00=),x00=x0,y00=y0,a00=a0,b00=b0,c00=c0,resample.point=linePoint}function ringEnd(){resampleLineTo(x0,y0,0,a0,b0,c0,x00,y00,00,a00,b00,c00,maxDepth,stream),resample.lineEnd=lineEnd,lineEnd()}var 00,00,x00,y00,a00,b00,c00,0,x0,y0,a0,b0,c0,resample={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){stream.polygonStart(),resample.lineStart=ringStart},polygonEnd:function(){stream.polygonEnd(),resample.lineStart=lineStart}};return resample}function resampleLineTo(x0,y0,0,a0,b0,c0,x1,y1,1,a1,b1,c1,depth,stream){var dx=x1-x0,dy=y1-y0,d2=dx*dx+dy*dy;if(d2>4*2&&depth--){var a=a0+a1,b=b0+b1,c=c0+c1,m=Math.sqrt(a*a+b*b+c*c),2=Math.asin(c/=m),2=abs(abs(c)-1)<||abs(0-1)<?(0+1)/2:Math.atan2(b,a),p=project(2,2),x2=p[0],y2=p[1],dx2=x2-x0,dy2=y2-y0,dz=dy*dx2-dx*dy2;(dz*dz/d2>2||abs((dx*dx2+dy*dy2)/d2-.5)>.3||a0*a1+b0*b1+c0*c1<cosMinDistance)&&(resampleLineTo(x0,y0,0,a0,b0,c0,x2,y2,2,a/=m,b/=m,c,depth,stream),stream.point(x2,y2),resampleLineTo(x2,y2,2,a,b,c,x1,y1,1,a1,b1,c1,depth,stream))}}var 2=.5,cosMinDistance=Math.cos(30*d3_radians),maxDepth=16;return resample.precision=function(_){return arguments.length?(maxDepth=(2=_*_)>0&&16,resample):Math.sqrt(2)},resample}function d3_geo_pathProjectStream(project){var resample=d3_geo_resample(function(x,y){return project([x*d3_degrees,y*d3_degrees])});return function(stream){return d3_geo_projectionRadians(resample(stream))}}function d3_geo_transform(stream){this.stream=stream}function d3_geo_transformPoint(stream,point){return{point:point,sphere:function(){stream.sphere()},lineStart:function(){stream.lineStart()},lineEnd:function(){stream.lineEnd()},polygonStart:function(){stream.polygonStart()},polygonEnd:function(){stream.polygonEnd()}}}function d3_geo_projection(project){return d3_geo_projectionMutator(function(){return project})()}function d3_geo_projectionMutator(projectAt){function projection(point){return point=projectRotate(point[0]*d3_radians,point[1]*d3_radians),[point[0]*k+x,y-point[1]*k]}function invert(point){return point=projectRotate.invert((point[0]-x)/k,(y-point[1])/k),point&&[point[0]*d3_degrees,point[1]*d3_degrees]}function reset(){projectRotate=d3_geo_compose(rotate=d3_geo_rotation(,,),project);var center=project(,);return x=x-center[0]*k,y=y+center[1]*k,invalidate()}function invalidate(){return stream&&(stream.valid=!1,stream=null),projection}var project,rotate,projectRotate,x,y,stream,projectResample=d3_geo_resample(function(x,y){return x=project(x,y),[x[0]*k+x,y-x[1]*k]}),k=150,x=480,y=250,=0,=0,=0,=0,=0,preclip=d3_geo_clipAntimeridian,postclip=d3_identity,clipAngle=null,clipExtent=null;return projection.stream=function(output){return stream&&(stream.valid=!1),stream=d3_geo_projectionRadians(preclip(rotate,projectResample(postclip(output)))),stream.valid=!0,stream},projection.clipAngle=function(_){return arguments.length?(preclip=null==_?(clipAngle=_,d3_geo_clipAntimeridian):d3_geo_clipCircle((clipAngle=+_)*d3_radians),invalidate()):clipAngle},projection.clipExtent=function(_){return arguments.length?(clipExtent=_,postclip=_?d3_geo_clipExtent(_[0][0],_[0][1],_[1][0],_[1][1]):d3_identity,invalidate()):clipExtent},projection.scale=function(_){return arguments.length?(k=+_,reset()):k},projection.translate=function(_){return arguments.length?(x=+_[0],y=+_[1],reset()):[x,y]},projection.center=function(_){return arguments.length?(=_[0]%360*d3_radians,=_[1]%360*d3_radians,reset()):[*d3_degrees,*d3_degrees]},projection.rotate=function(_){return arguments.length?(=_[0]%360*d3_radians,=_[1]%360*d3_radians,=_.length>2?_[2]%360*d3_radians:0,reset()):[*d3_degrees,*d3_degrees,*d3_degrees]},d3.rebind(projection,projectResample,"precision"),function(){return project=projectAt.apply(this,arguments),projection.invert=project.invert&&invert,reset()}}function d3_geo_projectionRadians(stream){return d3_geo_transformPoint(stream,function(x,y){stream.point(x*d3_radians,y*d3_radians)})}function d3_geo_equirectangular(,){return[,]}function d3_geo_identityRotation(,){return[>?-:<-?+:,]}function d3_geo_rotation(,,){return ?||?d3_geo_compose(d3_geo_rotation(),d3_geo_rotation(,)):d3_geo_rotation():||?d3_geo_rotation(,):d3_geo_identityRotation}function d3_geo_forwardRotation(){return function(,){return +=,[>?-:<-?+:,]}}function d3_geo_rotation(){var rotation=d3_geo_forwardRotation();return rotation.invert=d3_geo_forwardRotation(-),rotation}function d3_geo_rotation(,){function rotation(,){var cos=Math.cos(),x=Math.cos()*cos,y=Math.sin()*cos,z=Math.sin(),k=z*cos+x*sin;return[Math.atan2(y*cos-k*sin,x*cos-z*sin),d3_asin(k*cos+y*sin)]}var cos=Math.cos(),sin=Math.sin(),cos=Math.cos(),sin=Math.sin();return rotation.invert=function(,){var cos=Math.cos(),x=Math.cos()*cos,y=Math.sin()*cos,z=Math.sin(),k=z*cos-y*sin;return[Math.atan2(y*cos+z*sin,x*cos+k*sin),d3_asin(k*cos-x*sin)]},rotation}function d3_geo_circleInterpolate(radius,precision){var cr=Math.cos(radius),sr=Math.sin(radius);return function(from,to,direction,listener){var step=direction*precision;null!=from?(from=d3_geo_circleAngle(cr,from),to=d3_geo_circleAngle(cr,to),(direction>0?from<to:from>to)&&(from+=direction*)):(from=radius+direction*,to=radius-.5*step);for(var point,t=from;direction>0?t>to:t<to;t-=step)listener.point((point=d3_geo_spherical([cr,-sr*Math.cos(t),-sr*Math.sin(t)]))[0],point[1])}}function d3_geo_circleAngle(cr,point){var a=d3_geo_cartesian(point);a[0]-=cr,d3_geo_cartesianNormalize(a);var angle=d3_acos(-a[1]);return((-a[2]<0?-angle:angle)+2*Math.PI-)%(2*Math.PI)}function d3_geo_graticuleX(y0,y1,dy){var y=d3.range(y0,y1-,dy).concat(y1);return function(x){return y.map(function(y){return[x,y]})}}function d3_geo_graticuleY(x0,x1,dx){var x=d3.range(x0,x1-,dx).concat(x1);return function(y){return x.map(function(x){return[x,y]})}}function d3_source(d){return d.source}function d3_target(d){return d.target}function d3_geo_interpolate(x0,y0,x1,y1){var cy0=Math.cos(y0),sy0=Math.sin(y0),cy1=Math.cos(y1),sy1=Math.sin(y1),kx0=cy0*Math.cos(x0),ky0=cy0*Math.sin(x0),kx1=cy1*Math.cos(x1),ky1=cy1*Math.sin(x1),d=2*Math.asin(Math.sqrt(d3_haversin(y1-y0)+cy0*cy1*d3_haversin(x1-x0))),k=1/Math.sin(d),interpolate=d?function(t){var B=Math.sin(t*=d)*k,A=Math.sin(d-t)*k,x=A*kx0+B*kx1,y=A*ky0+B*ky1,z=A*sy0+B*sy1;return[Math.atan2(y,x)*d3_degrees,Math.atan2(z,Math.sqrt(x*x+y*y))*d3_degrees]}:function(){return[x0*d3_degrees,y0*d3_degrees]};return interpolate.distance=d,interpolate}function d3_geo_lengthLineStart(){function nextPoint(,){var sin=Math.sin(*=d3_radians),cos=Math.cos(),t=abs((*=d3_radians)-0),cos=Math.cos(t);d3_geo_lengthSum+=Math.atan2(Math.sqrt((t=cos*Math.sin(t))*t+(t=cos0*sin-sin0*cos*cos)*t),sin0*sin+cos0*cos*cos),0=,sin0=sin,cos0=cos}var 0,sin0,cos0;d3_geo_length.point=function(,){0=*d3_radians,sin0=Math.sin(*=d3_radians),cos0=Math.cos(),d3_geo_length.point=nextPoint},d3_geo_length.lineEnd=function(){d3_geo_length.point=d3_geo_length.lineEnd=d3_noop;
}}function d3_geo_azimuthal(scale,angle){function azimuthal(,){var cos=Math.cos(),cos=Math.cos(),k=scale(cos*cos);return[k*cos*Math.sin(),k*Math.sin()]}return azimuthal.invert=function(x,y){var =Math.sqrt(x*x+y*y),c=angle(),sinc=Math.sin(c),cosc=Math.cos(c);return[Math.atan2(x*sinc,*cosc),Math.asin(&&y*sinc/)]},azimuthal}function d3_geo_conicConformal(0,1){function forward(,){F>0?<-half+&&(=-half+):>half-&&(=half-);var =F/Math.pow(t(),n);return[*Math.sin(n*),F-*Math.cos(n*)]}var cos0=Math.cos(0),t=function(){return Math.tan(/4+/2)},n=0===1?Math.sin(0):Math.log(cos0/Math.cos(1))/Math.log(t(1)/t(0)),F=cos0*Math.pow(t(0),n)/n;return n?(forward.invert=function(x,y){var 0_y=F-y,=d3_sgn(n)*Math.sqrt(x*x+0_y*0_y);return[Math.atan2(x,0_y)/n,2*Math.atan(Math.pow(F/,1/n))-half]},forward):d3_geo_mercator}function d3_geo_conicEquidistant(0,1){function forward(,){var =G-;return[*Math.sin(n*),G-*Math.cos(n*)]}var cos0=Math.cos(0),n=0===1?Math.sin(0):(cos0-Math.cos(1))/(1-0),G=cos0/n+0;return abs(n)<?d3_geo_equirectangular:(forward.invert=function(x,y){var 0_y=G-y;return[Math.atan2(x,0_y)/n,G-d3_sgn(n)*Math.sqrt(x*x+0_y*0_y)]},forward)}function d3_geo_mercator(,){return[,Math.log(Math.tan(/4+/2))]}function d3_geo_mercatorProjection(project){var clipAuto,m=d3_geo_projection(project),scale=m.scale,translate=m.translate,clipExtent=m.clipExtent;return m.scale=function(){var v=scale.apply(m,arguments);return v===m?clipAuto?m.clipExtent(null):m:v},m.translate=function(){var v=translate.apply(m,arguments);return v===m?clipAuto?m.clipExtent(null):m:v},m.clipExtent=function(_){var v=clipExtent.apply(m,arguments);if(v===m){if(clipAuto=null==_){var k=*scale(),t=translate();clipExtent([[t[0]-k,t[1]-k],[t[0]+k,t[1]+k]])}}else clipAuto&&(v=null);return v},m.clipExtent(null)}function d3_geo_transverseMercator(,){return[Math.log(Math.tan(/4+/2)),-]}function d3_geom_pointX(d){return d[0]}function d3_geom_pointY(d){return d[1]}function d3_geom_hullUpper(points){for(var n=points.length,hull=[0,1],hs=2,i=2;i<n;i++){for(;hs>1&&d3_cross2d(points[hull[hs-2]],points[hull[hs-1]],points[i])<=0;)--hs;hull[hs++]=i}return hull.slice(0,hs)}function d3_geom_hullOrder(a,b){return a[0]-b[0]||a[1]-b[1]}function d3_geom_polygonInside(p,a,b){return(b[0]-a[0])*(p[1]-a[1])<(b[1]-a[1])*(p[0]-a[0])}function d3_geom_polygonIntersect(c,d,a,b){var x1=c[0],x3=a[0],x21=d[0]-x1,x43=b[0]-x3,y1=c[1],y3=a[1],y21=d[1]-y1,y43=b[1]-y3,ua=(x43*(y1-y3)-y43*(x1-x3))/(y43*x21-x43*y21);return[x1+ua*x21,y1+ua*y21]}function d3_geom_polygonClosed(coordinates){var a=coordinates[0],b=coordinates[coordinates.length-1];return!(a[0]-b[0]||a[1]-b[1])}function d3_geom_voronoiBeach(){d3_geom_voronoiRedBlackNode(this),this.edge=this.site=this.circle=null}function d3_geom_voronoiCreateBeach(site){var beach=d3_geom_voronoiBeachPool.pop()||new d3_geom_voronoiBeach;return beach.site=site,beach}function d3_geom_voronoiDetachBeach(beach){d3_geom_voronoiDetachCircle(beach),d3_geom_voronoiBeaches.remove(beach),d3_geom_voronoiBeachPool.push(beach),d3_geom_voronoiRedBlackNode(beach)}function d3_geom_voronoiRemoveBeach(beach){var circle=beach.circle,x=circle.x,y=circle.cy,vertex={x:x,y:y},previous=beach.P,next=beach.N,disappearing=[beach];d3_geom_voronoiDetachBeach(beach);for(var lArc=previous;lArc.circle&&abs(x-lArc.circle.x)<&&abs(y-lArc.circle.cy)<;)previous=lArc.P,disappearing.unshift(lArc),d3_geom_voronoiDetachBeach(lArc),lArc=previous;disappearing.unshift(lArc),d3_geom_voronoiDetachCircle(lArc);for(var rArc=next;rArc.circle&&abs(x-rArc.circle.x)<&&abs(y-rArc.circle.cy)<;)next=rArc.N,disappearing.push(rArc),d3_geom_voronoiDetachBeach(rArc),rArc=next;disappearing.push(rArc),d3_geom_voronoiDetachCircle(rArc);var iArc,nArcs=disappearing.length;for(iArc=1;iArc<nArcs;++iArc)rArc=disappearing[iArc],lArc=disappearing[iArc-1],d3_geom_voronoiSetEdgeEnd(rArc.edge,lArc.site,rArc.site,vertex);lArc=disappearing[0],rArc=disappearing[nArcs-1],rArc.edge=d3_geom_voronoiCreateEdge(lArc.site,rArc.site,null,vertex),d3_geom_voronoiAttachCircle(lArc),d3_geom_voronoiAttachCircle(rArc)}function d3_geom_voronoiAddBeach(site){for(var lArc,rArc,dxl,dxr,x=site.x,directrix=site.y,node=d3_geom_voronoiBeaches._;node;)if(dxl=d3_geom_voronoiLeftBreakPoint(node,directrix)-x,dxl>)node=node.L;else{if(dxr=x-d3_geom_voronoiRightBreakPoint(node,directrix),!(dxr>)){dxl>-?(lArc=node.P,rArc=node):dxr>-?(lArc=node,rArc=node.N):lArc=rArc=node;break}if(!node.R){lArc=node;break}node=node.R}var newArc=d3_geom_voronoiCreateBeach(site);if(d3_geom_voronoiBeaches.insert(lArc,newArc),lArc||rArc){if(lArc===rArc)return d3_geom_voronoiDetachCircle(lArc),rArc=d3_geom_voronoiCreateBeach(lArc.site),d3_geom_voronoiBeaches.insert(newArc,rArc),newArc.edge=rArc.edge=d3_geom_voronoiCreateEdge(lArc.site,newArc.site),d3_geom_voronoiAttachCircle(lArc),void d3_geom_voronoiAttachCircle(rArc);if(!rArc)return void(newArc.edge=d3_geom_voronoiCreateEdge(lArc.site,newArc.site));d3_geom_voronoiDetachCircle(lArc),d3_geom_voronoiDetachCircle(rArc);var lSite=lArc.site,ax=lSite.x,ay=lSite.y,bx=site.x-ax,by=site.y-ay,rSite=rArc.site,cx=rSite.x-ax,cy=rSite.y-ay,d=2*(bx*cy-by*cx),hb=bx*bx+by*by,hc=cx*cx+cy*cy,vertex={x:(cy*hb-by*hc)/d+ax,y:(bx*hc-cx*hb)/d+ay};d3_geom_voronoiSetEdgeEnd(rArc.edge,lSite,rSite,vertex),newArc.edge=d3_geom_voronoiCreateEdge(lSite,site,null,vertex),rArc.edge=d3_geom_voronoiCreateEdge(site,rSite,null,vertex),d3_geom_voronoiAttachCircle(lArc),d3_geom_voronoiAttachCircle(rArc)}}function d3_geom_voronoiLeftBreakPoint(arc,directrix){var site=arc.site,rfocx=site.x,rfocy=site.y,pby2=rfocy-directrix;if(!pby2)return rfocx;var lArc=arc.P;if(!lArc)return-(1/0);site=lArc.site;var lfocx=site.x,lfocy=site.y,plby2=lfocy-directrix;if(!plby2)return lfocx;var hl=lfocx-rfocx,aby2=1/pby2-1/plby2,b=hl/plby2;return aby2?(-b+Math.sqrt(b*b-2*aby2*(hl*hl/(-2*plby2)-lfocy+plby2/2+rfocy-pby2/2)))/aby2+rfocx:(rfocx+lfocx)/2}function d3_geom_voronoiRightBreakPoint(arc,directrix){var rArc=arc.N;if(rArc)return d3_geom_voronoiLeftBreakPoint(rArc,directrix);var site=arc.site;return site.y===directrix?site.x:1/0}function d3_geom_voronoiCell(site){this.site=site,this.edges=[]}function d3_geom_voronoiCloseCells(extent){for(var x2,y2,x3,y3,cell,iHalfEdge,halfEdges,nHalfEdges,start,end,x0=extent[0][0],x1=extent[1][0],y0=extent[0][1],y1=extent[1][1],cells=d3_geom_voronoiCells,iCell=cells.length;iCell--;)if(cell=cells[iCell],cell&&cell.prepare())for(halfEdges=cell.edges,nHalfEdges=halfEdges.length,iHalfEdge=0;iHalfEdge<nHalfEdges;)end=halfEdges[iHalfEdge].end(),x3=end.x,y3=end.y,start=halfEdges[++iHalfEdge%nHalfEdges].start(),x2=start.x,y2=start.y,(abs(x3-x2)>||abs(y3-y2)>)&&(halfEdges.splice(iHalfEdge,0,new d3_geom_voronoiHalfEdge(d3_geom_voronoiCreateBorderEdge(cell.site,end,abs(x3-x0)<&&y1-y3>?{x:x0,y:abs(x2-x0)<?y2:y1}:abs(y3-y1)<&&x1-x3>?{x:abs(y2-y1)<?x2:x1,y:y1}:abs(x3-x1)<&&y3-y0>?{x:x1,y:abs(x2-x1)<?y2:y0}:abs(y3-y0)<&&x3-x0>?{x:abs(y2-y0)<?x2:x0,y:y0}:null),cell.site,null)),++nHalfEdges)}function d3_geom_voronoiHalfEdgeOrder(a,b){return b.angle-a.angle}function d3_geom_voronoiCircle(){d3_geom_voronoiRedBlackNode(this),this.x=this.y=this.arc=this.site=this.cy=null}function d3_geom_voronoiAttachCircle(arc){var lArc=arc.P,rArc=arc.N;if(lArc&&rArc){var lSite=lArc.site,cSite=arc.site,rSite=rArc.site;if(lSite!==rSite){var bx=cSite.x,by=cSite.y,ax=lSite.x-bx,ay=lSite.y-by,cx=rSite.x-bx,cy=rSite.y-by,d=2*(ax*cy-ay*cx);if(!(d>=-2)){var ha=ax*ax+ay*ay,hc=cx*cx+cy*cy,x=(cy*ha-ay*hc)/d,y=(ax*hc-cx*ha)/d,cy=y+by,circle=d3_geom_voronoiCirclePool.pop()||new d3_geom_voronoiCircle;circle.arc=arc,circle.site=cSite,circle.x=x+bx,circle.y=cy+Math.sqrt(x*x+y*y),circle.cy=cy,arc.circle=circle;for(var before=null,node=d3_geom_voronoiCircles._;node;)if(circle.y<node.y||circle.y===node.y&&circle.x<=node.x){if(!node.L){before=node.P;break}node=node.L}else{if(!node.R){before=node;break}node=node.R}d3_geom_voronoiCircles.insert(before,circle),before||(d3_geom_voronoiFirstCircle=circle)}}}}function d3_geom_voronoiDetachCircle(arc){var circle=arc.circle;circle&&(circle.P||(d3_geom_voronoiFirstCircle=circle.N),d3_geom_voronoiCircles.remove(circle),d3_geom_voronoiCirclePool.push(circle),d3_geom_voronoiRedBlackNode(circle),arc.circle=null)}function d3_geom_voronoiClipEdges(extent){for(var e,edges=d3_geom_voronoiEdges,clip=d3_geom_clipLine(extent[0][0],extent[0][1],extent[1][0],extent[1][1]),i=edges.length;i--;)e=edges[i],(!d3_geom_voronoiConnectEdge(e,extent)||!clip(e)||abs(e.a.x-e.b.x)<&&abs(e.a.y-e.b.y)<)&&(e.a=e.b=null,edges.splice(i,1))}function d3_geom_voronoiConnectEdge(edge,extent){var vb=edge.b;if(vb)return!0;var fm,fb,va=edge.a,x0=extent[0][0],x1=extent[1][0],y0=extent[0][1],y1=extent[1][1],lSite=edge.l,rSite=edge.r,lx=lSite.x,ly=lSite.y,rx=rSite.x,ry=rSite.y,fx=(lx+rx)/2,fy=(ly+ry)/2;if(ry===ly){if(fx<x0||fx>=x1)return;if(lx>rx){if(va){if(va.y>=y1)return}else va={x:fx,y:y0};vb={x:fx,y:y1}}else{if(va){if(va.y<y0)return}else va={x:fx,y:y1};vb={x:fx,y:y0}}}else if(fm=(lx-rx)/(ry-ly),fb=fy-fm*fx,fm<-1||fm>1)if(lx>rx){if(va){if(va.y>=y1)return}else va={x:(y0-fb)/fm,y:y0};vb={x:(y1-fb)/fm,y:y1}}else{if(va){if(va.y<y0)return}else va={x:(y1-fb)/fm,y:y1};vb={x:(y0-fb)/fm,y:y0}}else if(ly<ry){if(va){if(va.x>=x1)return}else va={x:x0,y:fm*x0+fb};vb={x:x1,y:fm*x1+fb}}else{if(va){if(va.x<x0)return}else va={x:x1,y:fm*x1+fb};vb={x:x0,y:fm*x0+fb}}return edge.a=va,edge.b=vb,!0}function d3_geom_voronoiEdge(lSite,rSite){this.l=lSite,this.r=rSite,this.a=this.b=null}function d3_geom_voronoiCreateEdge(lSite,rSite,va,vb){var edge=new d3_geom_voronoiEdge(lSite,rSite);return d3_geom_voronoiEdges.push(edge),va&&d3_geom_voronoiSetEdgeEnd(edge,lSite,rSite,va),vb&&d3_geom_voronoiSetEdgeEnd(edge,rSite,lSite,vb),d3_geom_voronoiCells[lSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge,lSite,rSite)),d3_geom_voronoiCells[rSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge,rSite,lSite)),edge}function d3_geom_voronoiCreateBorderEdge(lSite,va,vb){var edge=new d3_geom_voronoiEdge(lSite,null);return edge.a=va,edge.b=vb,d3_geom_voronoiEdges.push(edge),edge}function d3_geom_voronoiSetEdgeEnd(edge,lSite,rSite,vertex){edge.a||edge.b?edge.l===rSite?edge.b=vertex:edge.a=vertex:(edge.a=vertex,edge.l=lSite,edge.r=rSite)}function d3_geom_voronoiHalfEdge(edge,lSite,rSite){var va=edge.a,vb=edge.b;this.edge=edge,this.site=lSite,this.angle=rSite?Math.atan2(rSite.y-lSite.y,rSite.x-lSite.x):edge.l===lSite?Math.atan2(vb.x-va.x,va.y-vb.y):Math.atan2(va.x-vb.x,vb.y-va.y)}function d3_geom_voronoiRedBlackTree(){this._=null}function d3_geom_voronoiRedBlackNode(node){node.U=node.C=node.L=node.R=node.P=node.N=null}function d3_geom_voronoiRedBlackRotateLeft(tree,node){var p=node,q=node.R,parent=p.U;parent?parent.L===p?parent.L=q:parent.R=q:tree._=q,q.U=parent,p.U=q,p.R=q.L,p.R&&(p.R.U=p),q.L=p}function d3_geom_voronoiRedBlackRotateRight(tree,node){var p=node,q=node.L,parent=p.U;parent?parent.L===p?parent.L=q:parent.R=q:tree._=q,q.U=parent,p.U=q,p.L=q.R,p.L&&(p.L.U=p),q.R=p}function d3_geom_voronoiRedBlackFirst(node){for(;node.L;)node=node.L;return node}function d3_geom_voronoi(sites,bbox){var x0,y0,circle,site=sites.sort(d3_geom_voronoiVertexOrder).pop();for(d3_geom_voronoiEdges=[],d3_geom_voronoiCells=new Array(sites.length),d3_geom_voronoiBeaches=new d3_geom_voronoiRedBlackTree,d3_geom_voronoiCircles=new d3_geom_voronoiRedBlackTree;;)if(circle=d3_geom_voronoiFirstCircle,site&&(!circle||site.y<circle.y||site.y===circle.y&&site.x<circle.x))site.x===x0&&site.y===y0||(d3_geom_voronoiCells[site.i]=new d3_geom_voronoiCell(site),d3_geom_voronoiAddBeach(site),x0=site.x,y0=site.y),site=sites.pop();else{if(!circle)break;d3_geom_voronoiRemoveBeach(circle.arc)}bbox&&(d3_geom_voronoiClipEdges(bbox),d3_geom_voronoiCloseCells(bbox));var diagram={cells:d3_geom_voronoiCells,edges:d3_geom_voronoiEdges};return d3_geom_voronoiBeaches=d3_geom_voronoiCircles=d3_geom_voronoiEdges=d3_geom_voronoiCells=null,diagram}function d3_geom_voronoiVertexOrder(a,b){return b.y-a.y||b.x-a.x}function d3_geom_voronoiTriangleArea(a,b,c){return(a.x-c.x)*(b.y-a.y)-(a.x-b.x)*(c.y-a.y)}function d3_geom_quadtreeCompatX(d){return d.x}function d3_geom_quadtreeCompatY(d){return d.y}function d3_geom_quadtreeNode(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function d3_geom_quadtreeVisit(f,node,x1,y1,x2,y2){if(!f(node,x1,y1,x2,y2)){var sx=.5*(x1+x2),sy=.5*(y1+y2),children=node.nodes;children[0]&&d3_geom_quadtreeVisit(f,children[0],x1,y1,sx,sy),children[1]&&d3_geom_quadtreeVisit(f,children[1],sx,y1,x2,sy),children[2]&&d3_geom_quadtreeVisit(f,children[2],x1,sy,sx,y2),children[3]&&d3_geom_quadtreeVisit(f,children[3],sx,sy,x2,y2)}}function d3_geom_quadtreeFind(root,x,y,x0,y0,x3,y3){var closestPoint,minDistance2=1/0;return function find(node,x1,y1,x2,y2){if(!(x1>x3||y1>y3||x2<x0||y2<y0)){if(point=node.point){var point,dx=x-node.x,dy=y-node.y,distance2=dx*dx+dy*dy;if(distance2<minDistance2){var distance=Math.sqrt(minDistance2=distance2);x0=x-distance,y0=y-distance,x3=x+distance,y3=y+distance,closestPoint=point}}for(var children=node.nodes,xm=.5*(x1+x2),ym=.5*(y1+y2),right=x>=xm,below=y>=ym,i=below<<1|right,j=i+4;i<j;++i)if(node=children[3&i])switch(3&i){case 0:find(node,x1,y1,xm,ym);break;case 1:find(node,xm,y1,x2,ym);break;case 2:find(node,x1,ym,xm,y2);break;case 3:find(node,xm,ym,x2,y2)}}}(root,x0,y0,x3,y3),closestPoint}function d3_interpolateRgb(a,b){a=d3.rgb(a),b=d3.rgb(b);var ar=a.r,ag=a.g,ab=a.b,br=b.r-ar,bg=b.g-ag,bb=b.b-ab;return function(t){return"#"+d3_rgb_hex(Math.round(ar+br*t))+d3_rgb_hex(Math.round(ag+bg*t))+d3_rgb_hex(Math.round(ab+bb*t))}}function d3_interpolateObject(a,b){var k,i={},c={};for(k in a)k in b?i[k]=d3_interpolate(a[k],b[k]):c[k]=a[k];for(k in b)k in a||(c[k]=b[k]);return function(t){for(k in i)c[k]=i[k](t);return c}}function d3_interpolateNumber(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}}function d3_interpolateString(a,b){var am,bm,bs,bi=d3_interpolate_numberA.lastIndex=d3_interpolate_numberB.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(am=d3_interpolate_numberA.exec(a))&&(bm=d3_interpolate_numberB.exec(b));)(bs=bm.index)>bi&&(bs=b.slice(bi,bs),s[i]?s[i]+=bs:s[++i]=bs),(am=am[0])===(bm=bm[0])?s[i]?s[i]+=bm:s[++i]=bm:(s[++i]=null,q.push({i:i,x:d3_interpolateNumber(am,bm)})),bi=d3_interpolate_numberB.lastIndex;return bi<b.length&&(bs=b.slice(bi),s[i]?s[i]+=bs:s[++i]=bs),s.length<2?q[0]?(b=q[0].x,function(t){return b(t)+""}):function(){return b}:(b=q.length,function(t){for(var o,i=0;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}function d3_interpolate(a,b){for(var f,i=d3.interpolators.length;--i>=0&&!(f=d3.interpolators[i](a,b)););return f}function d3_interpolateArray(a,b){var i,x=[],c=[],na=a.length,nb=b.length,n0=Math.min(a.length,b.length);for(i=0;i<n0;++i)x.push(d3_interpolate(a[i],b[i]));for(;i<na;++i)c[i]=a[i];for(;i<nb;++i)c[i]=b[i];return function(t){for(i=0;i<n0;++i)c[i]=x[i](t);return c}}function d3_ease_clamp(f){return function(t){return t<=0?0:t>=1?1:f(t)}}function d3_ease_reverse(f){return function(t){return 1-f(1-t)}}function d3_ease_reflect(f){return function(t){return.5*(t<.5?f(2*t):2-f(2-2*t))}}function d3_ease_quad(t){return t*t}function d3_ease_cubic(t){return t*t*t}function d3_ease_cubicInOut(t){if(t<=0)return 0;if(t>=1)return 1;var t2=t*t,t3=t2*t;return 4*(t<.5?t3:3*(t-t2)+t3-.75)}function d3_ease_poly(e){return function(t){return Math.pow(t,e)}}function d3_ease_sin(t){return 1-Math.cos(t*half)}function d3_ease_exp(t){return Math.pow(2,10*(t-1))}function d3_ease_circle(t){return 1-Math.sqrt(1-t*t)}function d3_ease_elastic(a,p){var s;return arguments.length<2&&(p=.45),arguments.length?s=p/*Math.asin(1/a):(a=1,s=p/4),function(t){return 1+a*Math.pow(2,-10*t)*Math.sin((t-s)*/p)}}function d3_ease_back(s){return s||(s=1.70158),function(t){return t*t*((s+1)*t-s)}}function d3_ease_bounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function d3_interpolateHcl(a,b){a=d3.hcl(a),b=d3.hcl(b);var ah=a.h,ac=a.c,al=a.l,bh=b.h-ah,bc=b.c-ac,bl=b.l-al;return isNaN(bc)&&(bc=0,ac=isNaN(ac)?b.c:ac),isNaN(bh)?(bh=0,ah=isNaN(ah)?b.h:ah):bh>180?bh-=360:bh<-180&&(bh+=360),function(t){return d3_hcl_lab(ah+bh*t,ac+bc*t,al+bl*t)+""}}function d3_interpolateHsl(a,b){a=d3.hsl(a),b=d3.hsl(b);var ah=a.h,as=a.s,al=a.l,bh=b.h-ah,bs=b.s-as,bl=b.l-al;return isNaN(bs)&&(bs=0,as=isNaN(as)?b.s:as),isNaN(bh)?(bh=0,ah=isNaN(ah)?b.h:ah):bh>180?bh-=360:bh<-180&&(bh+=360),function(t){return d3_hsl_rgb(ah+bh*t,as+bs*t,al+bl*t)+""}}function d3_interpolateLab(a,b){a=d3.lab(a),b=d3.lab(b);var al=a.l,aa=a.a,ab=a.b,bl=b.l-al,ba=b.a-aa,bb=b.b-ab;return function(t){return d3_lab_rgb(al+bl*t,aa+ba*t,ab+bb*t)+""}}function d3_interpolateRound(a,b){return b-=a,function(t){return Math.round(a+b*t)}}function d3_transform(m){var r0=[m.a,m.b],r1=[m.c,m.d],kx=d3_transformNormalize(r0),kz=d3_transformDot(r0,r1),ky=d3_transformNormalize(d3_transformCombine(r1,r0,-kz))||0;r0[0]*r1[1]<r1[0]*r0[1]&&(r0[0]*=-1,r0[1]*=-1,kx*=-1,kz*=-1),this.rotate=(kx?Math.atan2(r0[1],r0[0]):Math.atan2(-r1[0],r1[1]))*d3_degrees,this.translate=[m.e,m.f],this.scale=[kx,ky],this.skew=ky?Math.atan2(kz,ky)*d3_degrees:0}function d3_transformDot(a,b){return a[0]*b[0]+a[1]*b[1]}function d3_transformNormalize(a){var k=Math.sqrt(d3_transformDot(a,a));return k&&(a[0]/=k,a[1]/=k),k}function d3_transformCombine(a,b,k){return a[0]+=k*b[0],a[1]+=k*b[1],a}function d3_interpolateTransform(a,b){var n,s=[],q=[],A=d3.transform(a),B=d3.transform(b),ta=A.translate,tb=B.translate,ra=A.rotate,rb=B.rotate,wa=A.skew,wb=B.skew,ka=A.scale,kb=B.scale;return ta[0]!=tb[0]||ta[1]!=tb[1]?(s.push("translate(",null,",",null,")"),q.push({i:1,x:d3_interpolateNumber(ta[0],tb[0])},{i:3,x:d3_interpolateNumber(ta[1],tb[1])})):tb[0]||tb[1]?s.push("translate("+tb+")"):s.push(""),ra!=rb?(ra-rb>180?rb+=360:rb-ra>180&&(ra+=360),q.push({i:s.push(s.pop()+"rotate(",null,")")-2,x:d3_interpolateNumber(ra,rb)})):rb&&s.push(s.pop()+"rotate("+rb+")"),wa!=wb?q.push({i:s.push(s.pop()+"skewX(",null,")")-2,x:d3_interpolateNumber(wa,wb)}):wb&&s.push(s.pop()+"skewX("+wb+")"),ka[0]!=kb[0]||ka[1]!=kb[1]?(n=s.push(s.pop()+"scale(",null,",",null,")"),q.push({i:n-4,x:d3_interpolateNumber(ka[0],kb[0])},{i:n-2,x:d3_interpolateNumber(ka[1],kb[1])})):1==kb[0]&&1==kb[1]||s.push(s.pop()+"scale("+kb+")"),n=q.length,function(t){for(var o,i=-1;++i<n;)s[(o=q[i]).i]=o.x(t);return s.join("")}}function d3_uninterpolateNumber(a,b){return b=(b-=a=+a)||1/b,function(x){return(x-a)/b}}function d3_uninterpolateClamp(a,b){return b=(b-=a=+a)||1/b,function(x){return Math.max(0,Math.min(1,(x-a)/b))}}function d3_layout_bundlePath(link){for(var start=link.source,end=link.target,lca=d3_layout_bundleLeastCommonAncestor(start,end),points=[start];start!==lca;)start=start.parent,points.push(start);for(var k=points.length;end!==lca;)points.splice(k,0,end),end=end.parent;return points}function d3_layout_bundleAncestors(node){for(var ancestors=[],parent=node.parent;null!=parent;)ancestors.push(node),node=parent,parent=parent.parent;return ancestors.push(node),ancestors}function d3_layout_bundleLeastCommonAncestor(a,b){if(a===b)return a;for(var aNodes=d3_layout_bundleAncestors(a),bNodes=d3_layout_bundleAncestors(b),aNode=aNodes.pop(),bNode=bNodes.pop(),sharedNode=null;aNode===bNode;)sharedNode=aNode,aNode=aNodes.pop(),bNode=bNodes.pop();return sharedNode}function d3_layout_forceDragstart(d){d.fixed|=2}function d3_layout_forceDragend(d){d.fixed&=-7}function d3_layout_forceMouseover(d){d.fixed|=4,d.px=d.x,d.py=d.y}function d3_layout_forceMouseout(d){d.fixed&=-5}function d3_layout_forceAccumulate(quad,alpha,charges){var cx=0,cy=0;if(quad.charge=0,!quad.leaf)for(var c,nodes=quad.nodes,n=nodes.length,i=-1;++i<n;)c=nodes[i],null!=c&&(d3_layout_forceAccumulate(c,alpha,charges),quad.charge+=c.charge,cx+=c.charge*c.cx,cy+=c.charge*c.cy);if(quad.point){quad.leaf||(quad.point.x+=Math.random()-.5,quad.point.y+=Math.random()-.5);var k=alpha*charges[quad.point.index];quad.charge+=quad.pointCharge=k,cx+=k*quad.point.x,cy+=k*quad.point.y}quad.cx=cx/quad.charge,quad.cy=cy/quad.charge}function d3_layout_hierarchyRebind(object,hierarchy){return d3.rebind(object,hierarchy,"sort","children","value"),object.nodes=object,object.links=d3_layout_hierarchyLinks,object}function d3_layout_hierarchyVisitBefore(node,callback){for(var nodes=[node];null!=(node=nodes.pop());)if(callback(node),(children=node.children)&&(n=children.length))for(var n,children;--n>=0;)nodes.push(children[n])}function d3_layout_hierarchyVisitAfter(node,callback){for(var nodes=[node],nodes2=[];null!=(node=nodes.pop());)if(nodes2.push(node),(children=node.children)&&(n=children.length))for(var n,children,i=-1;++i<n;)nodes.push(children[i]);for(;null!=(node=nodes2.pop());)callback(node)}function d3_layout_hierarchyChildren(d){return d.children}function d3_layout_hierarchyValue(d){return d.value}function d3_layout_hierarchySort(a,b){return b.value-a.value}function d3_layout_hierarchyLinks(nodes){return d3.merge(nodes.map(function(parent){return(parent.children||[]).map(function(child){return{source:parent,target:child}})}))}function d3_layout_stackX(d){return d.x}function d3_layout_stackY(d){return d.y}function d3_layout_stackOut(d,y0,y){d.y0=y0,d.y=y}function d3_layout_stackOrderDefault(data){return d3.range(data.length)}function d3_layout_stackOffsetZero(data){for(var j=-1,m=data[0].length,y0=[];++j<m;)y0[j]=0;return y0}function d3_layout_stackMaxIndex(array){for(var k,i=1,j=0,v=array[0][1],n=array.length;i<n;++i)(k=array[i][1])>v&&(j=i,v=k);return j}function d3_layout_stackReduceSum(d){return d.reduce(d3_layout_stackSum,0)}function d3_layout_stackSum(p,d){return p+d[1]}function d3_layout_histogramBinSturges(range,values){return d3_layout_histogramBinFixed(range,Math.ceil(Math.log(values.length)/Math.LN2+1))}function d3_layout_histogramBinFixed(range,n){for(var x=-1,b=+range[0],m=(range[1]-b)/n,f=[];++x<=n;)f[x]=m*x+b;return f}function d3_layout_histogramRange(values){return[d3.min(values),d3.max(values)]}function d3_layout_packSort(a,b){return a.value-b.value}function d3_layout_packInsert(a,b){var c=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=c,c._pack_prev=b}function d3_layout_packSplice(a,b){a._pack_next=b,b._pack_prev=a}function d3_layout_packIntersects(a,b){var dx=b.x-a.x,dy=b.y-a.y,dr=a.r+b.r;return.999*dr*dr>dx*dx+dy*dy}function d3_layout_packSiblings(node){function bound(node){xMin=Math.min(node.x-node.r,xMin),xMax=Math.max(node.x+node.r,xMax),yMin=Math.min(node.y-node.r,yMin),yMax=Math.max(node.y+node.r,yMax)}if((nodes=node.children)&&(n=nodes.length)){var nodes,a,b,c,i,j,k,n,xMin=1/0,xMax=-(1/0),yMin=1/0,yMax=-(1/0);if(nodes.forEach(d3_layout_packLink),a=nodes[0],a.x=-a.r,a.y=0,bound(a),n>1&&(b=nodes[1],b.x=b.r,b.y=0,bound(b),n>2))for(c=nodes[2],d3_layout_packPlace(a,b,c),bound(c),d3_layout_packInsert(a,c),a._pack_prev=c,d3_layout_packInsert(c,b),b=a._pack_next,i=3;i<n;i++){d3_layout_packPlace(a,b,c=nodes[i]);var isect=0,s1=1,s2=1;for(j=b._pack_next;j!==b;j=j._pack_next,s1++)if(d3_layout_packIntersects(j,c)){isect=1;break}if(1==isect)for(k=a._pack_prev;k!==j._pack_prev&&!d3_layout_packIntersects(k,c);k=k._pack_prev,s2++);isect?(s1<s2||s1==s2&&b.r<a.r?d3_layout_packSplice(a,b=j):d3_layout_packSplice(a=k,b),i--):(d3_layout_packInsert(a,c),b=c,bound(c))}var cx=(xMin+xMax)/2,cy=(yMin+yMax)/2,cr=0;for(i=0;i<n;i++)c=nodes[i],c.x-=cx,c.y-=cy,cr=Math.max(cr,c.r+Math.sqrt(c.x*c.x+c.y*c.y));node.r=cr,nodes.forEach(d3_layout_packUnlink)}}function d3_layout_packLink(node){node._pack_next=node._pack_prev=node}function d3_layout_packUnlink(node){delete node._pack_next,delete node._pack_prev}function d3_layout_packTransform(node,x,y,k){var children=node.children;if(node.x=x+=k*node.x,node.y=y+=k*node.y,node.r*=k,children)for(var i=-1,n=children.length;++i<n;)d3_layout_packTransform(children[i],x,y,k)}function d3_layout_packPlace(a,b,c){var db=a.r+c.r,dx=b.x-a.x,dy=b.y-a.y;if(db&&(dx||dy)){var da=b.r+c.r,dc=dx*dx+dy*dy;da*=da,db*=db;var x=.5+(db-da)/(2*dc),y=Math.sqrt(Math.max(0,2*da*(db+dc)-(db-=dc)*db-da*da))/(2*dc);c.x=a.x+x*dx+y*dy,c.y=a.y+x*dy-y*dx}else c.x=a.x+db,c.y=a.y}function d3_layout_treeSeparation(a,b){return a.parent==b.parent?1:2}function d3_layout_treeLeft(v){var children=v.children;return children.length?children[0]:v.t}function d3_layout_treeRight(v){var n,children=v.children;return(n=children.length)?children[n-1]:v.t}function d3_layout_treeMove(wm,wp,shift){var change=shift/(wp.i-wm.i);wp.c-=change,wp.s+=shift,wm.c+=change,wp.z+=shift,wp.m+=shift}function d3_layout_treeShift(v){for(var w,shift=0,change=0,children=v.children,i=children.length;--i>=0;)w=children[i],w.z+=shift,w.m+=shift,shift+=w.s+(change+=w.c)}function d3_layout_treeAncestor(vim,v,ancestor){return vim.a.parent===v.parent?vim.a:ancestor}function d3_layout_clusterY(children){return 1+d3.max(children,function(child){return child.y})}function d3_layout_clusterX(children){return children.reduce(function(x,child){return x+child.x},0)/children.length}function d3_layout_clusterLeft(node){var children=node.children;return children&&children.length?d3_layout_clusterLeft(children[0]):node}function d3_layout_clusterRight(node){var n,children=node.children;return children&&(n=children.length)?d3_layout_clusterRight(children[n-1]):node}function d3_layout_treemapPadNull(node){return{x:node.x,y:node.y,dx:node.dx,dy:node.dy}}function d3_layout_treemapPad(node,padding){var x=node.x+padding[3],y=node.y+padding[0],dx=node.dx-padding[1]-padding[3],dy=node.dy-padding[0]-padding[2];return dx<0&&(x+=dx/2,dx=0),dy<0&&(y+=dy/2,dy=0),{x:x,y:y,dx:dx,dy:dy}}function d3_scaleExtent(domain){var start=domain[0],stop=domain[domain.length-1];return start<stop?[start,stop]:[stop,start]}function d3_scaleRange(scale){return scale.rangeExtent?scale.rangeExtent():d3_scaleExtent(scale.range())}function d3_scale_bilinear(domain,range,uninterpolate,interpolate){var u=uninterpolate(domain[0],domain[1]),i=interpolate(range[0],range[1]);return function(x){return i(u(x))}}function d3_scale_nice(domain,nice){var dx,i0=0,i1=domain.length-1,x0=domain[i0],x1=domain[i1];return x1<x0&&(dx=i0,i0=i1,i1=dx,dx=x0,x0=x1,x1=dx),domain[i0]=nice.floor(x0),domain[i1]=nice.ceil(x1),domain}function d3_scale_niceStep(step){return step?{floor:function(x){return Math.floor(x/step)*step},ceil:function(x){return Math.ceil(x/step)*step}}:d3_scale_niceIdentity}function d3_scale_polylinear(domain,range,uninterpolate,interpolate){var u=[],i=[],j=0,k=Math.min(domain.length,range.length)-1;for(domain[k]<domain[0]&&(domain=domain.slice().reverse(),range=range.slice().reverse());++j<=k;)u.push(uninterpolate(domain[j-1],domain[j])),i.push(interpolate(range[j-1],range[j]));return function(x){var j=d3.bisect(domain,x,1,k)-1;return i[j](u[j](x))}}function d3_scale_linear(domain,range,interpolate,clamp){function rescale(){var linear=Math.min(domain.length,range.length)>2?d3_scale_polylinear:d3_scale_bilinear,uninterpolate=clamp?d3_uninterpolateClamp:d3_uninterpolateNumber;return output=linear(domain,range,uninterpolate,interpolate),input=linear(range,domain,uninterpolate,d3_interpolate),scale}function scale(x){return output(x)}var output,input;return scale.invert=function(y){return input(y)},scale.domain=function(x){return arguments.length?(domain=x.map(Number),rescale()):domain},scale.range=function(x){return arguments.length?(range=x,rescale()):range},scale.rangeRound=function(x){return scale.range(x).interpolate(d3_interpolateRound)},scale.clamp=function(x){return arguments.length?(clamp=x,rescale()):clamp},scale.interpolate=function(x){return arguments.length?(interpolate=x,rescale()):interpolate},scale.ticks=function(m){return d3_scale_linearTicks(domain,m)},scale.tickFormat=function(m,format){return d3_scale_linearTickFormat(domain,m,format)},scale.nice=function(m){return d3_scale_linearNice(domain,m),rescale()},scale.copy=function(){return d3_scale_linear(domain,range,interpolate,clamp)},rescale()}function d3_scale_linearRebind(scale,linear){return d3.rebind(scale,linear,"range","rangeRound","interpolate","clamp")}function d3_scale_linearNice(domain,m){return d3_scale_nice(domain,d3_scale_niceStep(d3_scale_linearTickRange(domain,m)[2]))}function d3_scale_linearTickRange(domain,m){null==m&&(m=10);var extent=d3_scaleExtent(domain),span=extent[1]-extent[0],step=Math.pow(10,Math.floor(Math.log(span/m)/Math.LN10)),err=m/span*step;return err<=.15?step*=10:err<=.35?step*=5:err<=.75&&(step*=2),extent[0]=Math.ceil(extent[0]/step)*step,extent[1]=Math.floor(extent[1]/step)*step+.5*step,extent[2]=step,extent}function d3_scale_linearTicks(domain,m){return d3.range.apply(d3,d3_scale_linearTickRange(domain,m))}function d3_scale_linearTickFormat(domain,m,format){var range=d3_scale_linearTickRange(domain,m);if(format){var match=d3_format_re.exec(format);if(match.shift(),"s"===match[8]){var prefix=d3.formatPrefix(Math.max(abs(range[0]),abs(range[1])));return match[7]||(match[7]="."+d3_scale_linearPrecision(prefix.scale(range[2]))),match[8]="f",format=d3.format(match.join("")),function(d){return format(prefix.scale(d))+prefix.symbol}}match[7]||(match[7]="."+d3_scale_linearFormatPrecision(match[8],range)),format=match.join("")}else format=",."+d3_scale_linearPrecision(range[2])+"f";return d3.format(format)}function d3_scale_linearPrecision(value){return-Math.floor(Math.log(value)/Math.LN10+.01)}function d3_scale_linearFormatPrecision(type,range){var p=d3_scale_linearPrecision(range[2]);return type in d3_scale_linearFormatSignificant?Math.abs(p-d3_scale_linearPrecision(Math.max(abs(range[0]),abs(range[1]))))+ +("e"!==type):p-2*("%"===type)}function d3_scale_log(linear,base,positive,domain){function log(x){return(positive?Math.log(x<0?0:x):-Math.log(x>0?0:-x))/Math.log(base)}function pow(x){return positive?Math.pow(base,x):-Math.pow(base,-x)}function scale(x){return linear(log(x))}return scale.invert=function(x){return pow(linear.invert(x))},scale.domain=function(x){return arguments.length?(positive=x[0]>=0,linear.domain((domain=x.map(Number)).map(log)),scale):domain},scale.base=function(_){return arguments.length?(base=+_,linear.domain(domain.map(log)),scale):base},scale.nice=function(){var niced=d3_scale_nice(domain.map(log),positive?Math:d3_scale_logNiceNegative);return linear.domain(niced),domain=niced.map(pow),scale},scale.ticks=function(){var extent=d3_scaleExtent(domain),ticks=[],u=extent[0],v=extent[1],i=Math.floor(log(u)),j=Math.ceil(log(v)),n=base%1?2:base;if(isFinite(j-i)){if(positive){for(;i<j;i++)for(var k=1;k<n;k++)ticks.push(pow(i)*k);ticks.push(pow(i))}else for(ticks.push(pow(i));i++<j;)for(var k=n-1;k>0;k--)ticks.push(pow(i)*k);for(i=0;ticks[i]<u;i++);for(j=ticks.length;ticks[j-1]>v;j--);ticks=ticks.slice(i,j)}return ticks},scale.tickFormat=function(n,format){if(!arguments.length)return d3_scale_logFormat;arguments.length<2?format=d3_scale_logFormat:"function"!=typeof format&&(format=d3.format(format));var e,k=Math.max(.1,n/scale.ticks().length),f=positive?(e=1e-12,Math.ceil):(e=-1e-12,Math.floor);return function(d){return d/pow(f(log(d)+e))<=k?format(d):""}},scale.copy=function(){return d3_scale_log(linear.copy(),base,positive,domain)},d3_scale_linearRebind(scale,linear)}function d3_scale_pow(linear,exponent,domain){function scale(x){return linear(powp(x))}var powp=d3_scale_powPow(exponent),powb=d3_scale_powPow(1/exponent);return scale.invert=function(x){return powb(linear.invert(x))},scale.domain=function(x){return arguments.length?(linear.domain((domain=x.map(Number)).map(powp)),scale):domain},scale.ticks=function(m){return d3_scale_linearTicks(domain,m)},scale.tickFormat=function(m,format){return d3_scale_linearTickFormat(domain,m,format)},scale.nice=function(m){return scale.domain(d3_scale_linearNice(domain,m))},scale.exponent=function(x){return arguments.length?(powp=d3_scale_powPow(exponent=x),powb=d3_scale_powPow(1/exponent),linear.domain(domain.map(powp)),scale):exponent},scale.copy=function(){return d3_scale_pow(linear.copy(),exponent,domain);
},d3_scale_linearRebind(scale,linear)}function d3_scale_powPow(e){return function(x){return x<0?-Math.pow(-x,e):Math.pow(x,e)}}function d3_scale_ordinal(domain,ranger){function scale(x){return range[((index.get(x)||("range"===ranger.t?index.set(x,domain.push(x)):NaN))-1)%range.length]}function steps(start,step){return d3.range(domain.length).map(function(i){return start+step*i})}var index,range,rangeBand;return scale.domain=function(x){if(!arguments.length)return domain;domain=[],index=new d3_Map;for(var xi,i=-1,n=x.length;++i<n;)index.has(xi=x[i])||index.set(xi,domain.push(xi));return scale[ranger.t].apply(scale,ranger.a)},scale.range=function(x){return arguments.length?(range=x,rangeBand=0,ranger={t:"range",a:arguments},scale):range},scale.rangePoints=function(x,padding){arguments.length<2&&(padding=0);var start=x[0],stop=x[1],step=domain.length<2?(start=(start+stop)/2,0):(stop-start)/(domain.length-1+padding);return range=steps(start+step*padding/2,step),rangeBand=0,ranger={t:"rangePoints",a:arguments},scale},scale.rangeRoundPoints=function(x,padding){arguments.length<2&&(padding=0);var start=x[0],stop=x[1],step=domain.length<2?(start=stop=Math.round((start+stop)/2),0):(stop-start)/(domain.length-1+padding)|0;return range=steps(start+Math.round(step*padding/2+(stop-start-(domain.length-1+padding)*step)/2),step),rangeBand=0,ranger={t:"rangeRoundPoints",a:arguments},scale},scale.rangeBands=function(x,padding,outerPadding){arguments.length<2&&(padding=0),arguments.length<3&&(outerPadding=padding);var reverse=x[1]<x[0],start=x[reverse-0],stop=x[1-reverse],step=(stop-start)/(domain.length-padding+2*outerPadding);return range=steps(start+step*outerPadding,step),reverse&&range.reverse(),rangeBand=step*(1-padding),ranger={t:"rangeBands",a:arguments},scale},scale.rangeRoundBands=function(x,padding,outerPadding){arguments.length<2&&(padding=0),arguments.length<3&&(outerPadding=padding);var reverse=x[1]<x[0],start=x[reverse-0],stop=x[1-reverse],step=Math.floor((stop-start)/(domain.length-padding+2*outerPadding));return range=steps(start+Math.round((stop-start-(domain.length-padding)*step)/2),step),reverse&&range.reverse(),rangeBand=Math.round(step*(1-padding)),ranger={t:"rangeRoundBands",a:arguments},scale},scale.rangeBand=function(){return rangeBand},scale.rangeExtent=function(){return d3_scaleExtent(ranger.a[0])},scale.copy=function(){return d3_scale_ordinal(domain,ranger)},scale.domain(domain)}function d3_scale_quantile(domain,range){function rescale(){var k=0,q=range.length;for(thresholds=[];++k<q;)thresholds[k-1]=d3.quantile(domain,k/q);return scale}function scale(x){if(!isNaN(x=+x))return range[d3.bisect(thresholds,x)]}var thresholds;return scale.domain=function(x){return arguments.length?(domain=x.map(d3_number).filter(d3_numeric).sort(d3_ascending),rescale()):domain},scale.range=function(x){return arguments.length?(range=x,rescale()):range},scale.quantiles=function(){return thresholds},scale.invertExtent=function(y){return y=range.indexOf(y),y<0?[NaN,NaN]:[y>0?thresholds[y-1]:domain[0],y<thresholds.length?thresholds[y]:domain[domain.length-1]]},scale.copy=function(){return d3_scale_quantile(domain,range)},rescale()}function d3_scale_quantize(x0,x1,range){function scale(x){return range[Math.max(0,Math.min(i,Math.floor(kx*(x-x0))))]}function rescale(){return kx=range.length/(x1-x0),i=range.length-1,scale}var kx,i;return scale.domain=function(x){return arguments.length?(x0=+x[0],x1=+x[x.length-1],rescale()):[x0,x1]},scale.range=function(x){return arguments.length?(range=x,rescale()):range},scale.invertExtent=function(y){return y=range.indexOf(y),y=y<0?NaN:y/kx+x0,[y,y+1/kx]},scale.copy=function(){return d3_scale_quantize(x0,x1,range)},rescale()}function d3_scale_threshold(domain,range){function scale(x){if(x<=x)return range[d3.bisect(domain,x)]}return scale.domain=function(_){return arguments.length?(domain=_,scale):domain},scale.range=function(_){return arguments.length?(range=_,scale):range},scale.invertExtent=function(y){return y=range.indexOf(y),[domain[y-1],domain[y]]},scale.copy=function(){return d3_scale_threshold(domain,range)},scale}function d3_scale_identity(domain){function identity(x){return+x}return identity.invert=identity,identity.domain=identity.range=function(x){return arguments.length?(domain=x.map(identity),identity):domain},identity.ticks=function(m){return d3_scale_linearTicks(domain,m)},identity.tickFormat=function(m,format){return d3_scale_linearTickFormat(domain,m,format)},identity.copy=function(){return d3_scale_identity(domain)},identity}function d3_zero(){return 0}function d3_svg_arcInnerRadius(d){return d.innerRadius}function d3_svg_arcOuterRadius(d){return d.outerRadius}function d3_svg_arcStartAngle(d){return d.startAngle}function d3_svg_arcEndAngle(d){return d.endAngle}function d3_svg_arcPadAngle(d){return d&&d.padAngle}function d3_svg_arcSweep(x0,y0,x1,y1){return(x0-x1)*y0-(y0-y1)*x0>0?0:1}function d3_svg_arcCornerTangents(p0,p1,r1,rc,cw){var x01=p0[0]-p1[0],y01=p0[1]-p1[1],lo=(cw?rc:-rc)/Math.sqrt(x01*x01+y01*y01),ox=lo*y01,oy=-lo*x01,x1=p0[0]+ox,y1=p0[1]+oy,x2=p1[0]+ox,y2=p1[1]+oy,x3=(x1+x2)/2,y3=(y1+y2)/2,dx=x2-x1,dy=y2-y1,d2=dx*dx+dy*dy,r=r1-rc,D=x1*y2-x2*y1,d=(dy<0?-1:1)*Math.sqrt(r*r*d2-D*D),cx0=(D*dy-dx*d)/d2,cy0=(-D*dx-dy*d)/d2,cx1=(D*dy+dx*d)/d2,cy1=(-D*dx+dy*d)/d2,dx0=cx0-x3,dy0=cy0-y3,dx1=cx1-x3,dy1=cy1-y3;return dx0*dx0+dy0*dy0>dx1*dx1+dy1*dy1&&(cx0=cx1,cy0=cy1),[[cx0-ox,cy0-oy],[cx0*r1/r,cy0*r1/r]]}function d3_svg_line(projection){function line(data){function segment(){segments.push("M",interpolate(projection(points),tension))}for(var d,segments=[],points=[],i=-1,n=data.length,fx=d3_functor(x),fy=d3_functor(y);++i<n;)defined.call(this,d=data[i],i)?points.push([+fx.call(this,d,i),+fy.call(this,d,i)]):points.length&&(segment(),points=[]);return points.length&&segment(),segments.length?segments.join(""):null}var x=d3_geom_pointX,y=d3_geom_pointY,defined=d3_true,interpolate=d3_svg_lineLinear,interpolateKey=interpolate.key,tension=.7;return line.x=function(_){return arguments.length?(x=_,line):x},line.y=function(_){return arguments.length?(y=_,line):y},line.defined=function(_){return arguments.length?(defined=_,line):defined},line.interpolate=function(_){return arguments.length?(interpolateKey="function"==typeof _?interpolate=_:(interpolate=d3_svg_lineInterpolators.get(_)||d3_svg_lineLinear).key,line):interpolateKey},line.tension=function(_){return arguments.length?(tension=_,line):tension},line}function d3_svg_lineLinear(points){return points.join("L")}function d3_svg_lineLinearClosed(points){return d3_svg_lineLinear(points)+"Z"}function d3_svg_lineStep(points){for(var i=0,n=points.length,p=points[0],path=[p[0],",",p[1]];++i<n;)path.push("H",(p[0]+(p=points[i])[0])/2,"V",p[1]);return n>1&&path.push("H",p[0]),path.join("")}function d3_svg_lineStepBefore(points){for(var i=0,n=points.length,p=points[0],path=[p[0],",",p[1]];++i<n;)path.push("V",(p=points[i])[1],"H",p[0]);return path.join("")}function d3_svg_lineStepAfter(points){for(var i=0,n=points.length,p=points[0],path=[p[0],",",p[1]];++i<n;)path.push("H",(p=points[i])[0],"V",p[1]);return path.join("")}function d3_svg_lineCardinalOpen(points,tension){return points.length<4?d3_svg_lineLinear(points):points[1]+d3_svg_lineHermite(points.slice(1,-1),d3_svg_lineCardinalTangents(points,tension))}function d3_svg_lineCardinalClosed(points,tension){return points.length<3?d3_svg_lineLinear(points):points[0]+d3_svg_lineHermite((points.push(points[0]),points),d3_svg_lineCardinalTangents([points[points.length-2]].concat(points,[points[1]]),tension))}function d3_svg_lineCardinal(points,tension){return points.length<3?d3_svg_lineLinear(points):points[0]+d3_svg_lineHermite(points,d3_svg_lineCardinalTangents(points,tension))}function d3_svg_lineHermite(points,tangents){if(tangents.length<1||points.length!=tangents.length&&points.length!=tangents.length+2)return d3_svg_lineLinear(points);var quad=points.length!=tangents.length,path="",p0=points[0],p=points[1],t0=tangents[0],t=t0,pi=1;if(quad&&(path+="Q"+(p[0]-2*t0[0]/3)+","+(p[1]-2*t0[1]/3)+","+p[0]+","+p[1],p0=points[1],pi=2),tangents.length>1){t=tangents[1],p=points[pi],pi++,path+="C"+(p0[0]+t0[0])+","+(p0[1]+t0[1])+","+(p[0]-t[0])+","+(p[1]-t[1])+","+p[0]+","+p[1];for(var i=2;i<tangents.length;i++,pi++)p=points[pi],t=tangents[i],path+="S"+(p[0]-t[0])+","+(p[1]-t[1])+","+p[0]+","+p[1]}if(quad){var lp=points[pi];path+="Q"+(p[0]+2*t[0]/3)+","+(p[1]+2*t[1]/3)+","+lp[0]+","+lp[1]}return path}function d3_svg_lineCardinalTangents(points,tension){for(var p0,tangents=[],a=(1-tension)/2,p1=points[0],p2=points[1],i=1,n=points.length;++i<n;)p0=p1,p1=p2,p2=points[i],tangents.push([a*(p2[0]-p0[0]),a*(p2[1]-p0[1])]);return tangents}function d3_svg_lineBasis(points){if(points.length<3)return d3_svg_lineLinear(points);var i=1,n=points.length,pi=points[0],x0=pi[0],y0=pi[1],px=[x0,x0,x0,(pi=points[1])[0]],py=[y0,y0,y0,pi[1]],path=[x0,",",y0,"L",d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];for(points.push(points[n-1]);++i<=n;)pi=points[i],px.shift(),px.push(pi[0]),py.shift(),py.push(pi[1]),d3_svg_lineBasisBezier(path,px,py);return points.pop(),path.push("L",pi),path.join("")}function d3_svg_lineBasisOpen(points){if(points.length<4)return d3_svg_lineLinear(points);for(var pi,path=[],i=-1,n=points.length,px=[0],py=[0];++i<3;)pi=points[i],px.push(pi[0]),py.push(pi[1]);for(path.push(d3_svg_lineDot4(d3_svg_lineBasisBezier3,px)+","+d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)),--i;++i<n;)pi=points[i],px.shift(),px.push(pi[0]),py.shift(),py.push(pi[1]),d3_svg_lineBasisBezier(path,px,py);return path.join("")}function d3_svg_lineBasisClosed(points){for(var path,pi,i=-1,n=points.length,m=n+4,px=[],py=[];++i<4;)pi=points[i%n],px.push(pi[0]),py.push(pi[1]);for(path=[d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)],--i;++i<m;)pi=points[i%n],px.shift(),px.push(pi[0]),py.shift(),py.push(pi[1]),d3_svg_lineBasisBezier(path,px,py);return path.join("")}function d3_svg_lineBundle(points,tension){var n=points.length-1;if(n)for(var p,t,x0=points[0][0],y0=points[0][1],dx=points[n][0]-x0,dy=points[n][1]-y0,i=-1;++i<=n;)p=points[i],t=i/n,p[0]=tension*p[0]+(1-tension)*(x0+t*dx),p[1]=tension*p[1]+(1-tension)*(y0+t*dy);return d3_svg_lineBasis(points)}function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function d3_svg_lineBasisBezier(path,x,y){path.push("C",d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier1,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,y))}function d3_svg_lineSlope(p0,p1){return(p1[1]-p0[1])/(p1[0]-p0[0])}function d3_svg_lineFiniteDifferences(points){for(var i=0,j=points.length-1,m=[],p0=points[0],p1=points[1],d=m[0]=d3_svg_lineSlope(p0,p1);++i<j;)m[i]=(d+(d=d3_svg_lineSlope(p0=p1,p1=points[i+1])))/2;return m[i]=d,m}function d3_svg_lineMonotoneTangents(points){for(var d,a,b,s,tangents=[],m=d3_svg_lineFiniteDifferences(points),i=-1,j=points.length-1;++i<j;)d=d3_svg_lineSlope(points[i],points[i+1]),abs(d)<?m[i]=m[i+1]=0:(a=m[i]/d,b=m[i+1]/d,s=a*a+b*b,s>9&&(s=3*d/Math.sqrt(s),m[i]=s*a,m[i+1]=s*b));for(i=-1;++i<=j;)s=(points[Math.min(j,i+1)][0]-points[Math.max(0,i-1)][0])/(6*(1+m[i]*m[i])),tangents.push([s||0,m[i]*s||0]);return tangents}function d3_svg_lineMonotone(points){return points.length<3?d3_svg_lineLinear(points):points[0]+d3_svg_lineHermite(points,d3_svg_lineMonotoneTangents(points))}function d3_svg_lineRadial(points){for(var point,r,a,i=-1,n=points.length;++i<n;)point=points[i],r=point[0],a=point[1]-half,point[0]=r*Math.cos(a),point[1]=r*Math.sin(a);return points}function d3_svg_area(projection){function area(data){function segment(){segments.push("M",interpolate(projection(points1),tension),L,interpolateReverse(projection(points0.reverse()),tension),"Z")}for(var d,x,y,segments=[],points0=[],points1=[],i=-1,n=data.length,fx0=d3_functor(x0),fy0=d3_functor(y0),fx1=x0===x1?function(){return x}:d3_functor(x1),fy1=y0===y1?function(){return y}:d3_functor(y1);++i<n;)defined.call(this,d=data[i],i)?(points0.push([x=+fx0.call(this,d,i),y=+fy0.call(this,d,i)]),points1.push([+fx1.call(this,d,i),+fy1.call(this,d,i)])):points0.length&&(segment(),points0=[],points1=[]);return points0.length&&segment(),segments.length?segments.join(""):null}var x0=d3_geom_pointX,x1=d3_geom_pointX,y0=0,y1=d3_geom_pointY,defined=d3_true,interpolate=d3_svg_lineLinear,interpolateKey=interpolate.key,interpolateReverse=interpolate,L="L",tension=.7;return area.x=function(_){return arguments.length?(x0=x1=_,area):x1},area.x0=function(_){return arguments.length?(x0=_,area):x0},area.x1=function(_){return arguments.length?(x1=_,area):x1},area.y=function(_){return arguments.length?(y0=y1=_,area):y1},area.y0=function(_){return arguments.length?(y0=_,area):y0},area.y1=function(_){return arguments.length?(y1=_,area):y1},area.defined=function(_){return arguments.length?(defined=_,area):defined},area.interpolate=function(_){return arguments.length?(interpolateKey="function"==typeof _?interpolate=_:(interpolate=d3_svg_lineInterpolators.get(_)||d3_svg_lineLinear).key,interpolateReverse=interpolate.reverse||interpolate,L=interpolate.closed?"M":"L",area):interpolateKey},area.tension=function(_){return arguments.length?(tension=_,area):tension},area}function d3_svg_chordRadius(d){return d.radius}function d3_svg_diagonalProjection(d){return[d.x,d.y]}function d3_svg_diagonalRadialProjection(projection){return function(){var d=projection.apply(this,arguments),r=d[0],a=d[1]-half;return[r*Math.cos(a),r*Math.sin(a)]}}function d3_svg_symbolSize(){return 64}function d3_svg_symbolType(){return"circle"}function d3_svg_symbolCircle(size){var r=Math.sqrt(size/);return"M0,"+r+"A"+r+","+r+" 0 1,1 0,"+-r+"A"+r+","+r+" 0 1,1 0,"+r+"Z"}function d3_selection_interruptNS(ns){return function(){var lock,active;(lock=this[ns])&&(active=lock[lock.active])&&(--lock.count?delete lock[lock.active]:delete this[ns],lock.active+=.5,active.event&&active.event.interrupt.call(this,this.__data__,active.index))}}function d3_transition(groups,ns,id){return d3_subclass(groups,d3_transitionPrototype),groups.namespace=ns,groups.id=id,groups}function d3_transition_tween(groups,name,value,tween){var id=groups.id,ns=groups.namespace;return d3_selection_each(groups,"function"==typeof value?function(node,i,j){node[ns][id].tween.set(name,tween(value.call(node,node.__data__,i,j)))}:(value=tween(value),function(node){node[ns][id].tween.set(name,value)}))}function d3_transition_text(b){return null==b&&(b=""),function(){this.textContent=b}}function d3_transitionNamespace(name){return null==name?"__transition__":"__transition_"+name+"__"}function d3_transitionNode(node,i,ns,id,inherit){var lock=node[ns]||(node[ns]={active:0,count:0}),transition=lock[id];if(!transition){var time=inherit.time;transition=lock[id]={tween:new d3_Map,time:time,delay:inherit.delay,duration:inherit.duration,ease:inherit.ease,index:i},inherit=null,++lock.count,d3.timer(function(elapsed){function start(elapsed){if(lock.active>id)return stop();var active=lock[lock.active];active&&(--lock.count,delete lock[lock.active],active.event&&active.event.interrupt.call(node,node.__data__,active.index)),lock.active=id,transition.event&&transition.event.start.call(node,node.__data__,i),transition.tween.forEach(function(key,value){(value=value.call(node,node.__data__,i))&&tweened.push(value)}),ease=transition.ease,duration=transition.duration,d3.timer(function(){return timer.c=tick(elapsed||1)?d3_true:tick,1},0,time)}function tick(elapsed){if(lock.active!==id)return 1;for(var t=elapsed/duration,e=ease(t),n=tweened.length;n>0;)tweened[--n].call(node,e);return t>=1?(transition.event&&transition.event.end.call(node,node.__data__,i),stop()):void 0}function stop(){return--lock.count?delete lock[id]:delete node[ns],1}var duration,ease,delay=transition.delay,timer=d3_timer_active,tweened=[];return timer.t=delay+time,delay<=elapsed?start(elapsed-delay):void(timer.c=start)},0,time)}}function d3_svg_axisX(selection,x0,x1){selection.attr("transform",function(d){var v0=x0(d);return"translate("+(isFinite(v0)?v0:x1(d))+",0)"})}function d3_svg_axisY(selection,y0,y1){selection.attr("transform",function(d){var v0=y0(d);return"translate(0,"+(isFinite(v0)?v0:y1(d))+")"})}function d3_time_formatIsoNative(date){return date.toISOString()}function d3_time_scale(linear,methods,format){function scale(x){return linear(x)}function tickMethod(extent,count){var span=extent[1]-extent[0],target=span/count,i=d3.bisect(d3_time_scaleSteps,target);return i==d3_time_scaleSteps.length?[methods.year,d3_scale_linearTickRange(extent.map(function(d){return d/31536e6}),count)[2]]:i?methods[target/d3_time_scaleSteps[i-1]<d3_time_scaleSteps[i]/target?i-1:i]:[d3_time_scaleMilliseconds,d3_scale_linearTickRange(extent,count)[2]]}return scale.invert=function(x){return d3_time_scaleDate(linear.invert(x))},scale.domain=function(x){return arguments.length?(linear.domain(x),scale):linear.domain().map(d3_time_scaleDate)},scale.nice=function(interval,skip){function skipped(date){return!isNaN(date)&&!interval.range(date,d3_time_scaleDate(+date+1),skip).length}var domain=scale.domain(),extent=d3_scaleExtent(domain),method=null==interval?tickMethod(extent,10):"number"==typeof interval&&tickMethod(extent,interval);return method&&(interval=method[0],skip=method[1]),scale.domain(d3_scale_nice(domain,skip>1?{floor:function(date){for(;skipped(date=interval.floor(date));)date=d3_time_scaleDate(date-1);return date},ceil:function(date){for(;skipped(date=interval.ceil(date));)date=d3_time_scaleDate(+date+1);return date}}:interval))},scale.ticks=function(interval,skip){var extent=d3_scaleExtent(scale.domain()),method=null==interval?tickMethod(extent,10):"number"==typeof interval?tickMethod(extent,interval):!interval.range&&[{range:interval},skip];return method&&(interval=method[0],skip=method[1]),interval.range(extent[0],d3_time_scaleDate(+extent[1]+1),skip<1?1:skip)},scale.tickFormat=function(){return format},scale.copy=function(){return d3_time_scale(linear.copy(),methods,format)},d3_scale_linearRebind(scale,linear)}function d3_time_scaleDate(t){return new Date(t)}function d3_json(request){return JSON.parse(request.responseText)}function d3_html(request){var range=d3_document.createRange();return range.selectNode(d3_document.body),range.createContextualFragment(request.responseText)}var d3={version:"3.5.6"},d3_arraySlice=[].slice,d3_array=function(list){return d3_arraySlice.call(list)},d3_document=this.document;if(d3_document)try{d3_array(d3_document.documentElement.childNodes)[0].nodeType}catch(e){d3_array=function(list){for(var i=list.length,array=new Array(i);i--;)array[i]=list[i];return array}}if(Date.now||(Date.now=function(){return+new Date}),d3_document)try{d3_document.createElement("DIV").style.setProperty("opacity",0,"")}catch(error){var d3_element_prototype=this.Element.prototype,d3_element_setAttribute=d3_element_prototype.setAttribute,d3_element_setAttributeNS=d3_element_prototype.setAttributeNS,d3_style_prototype=this.CSSStyleDeclaration.prototype,d3_style_setProperty=d3_style_prototype.setProperty;d3_element_prototype.setAttribute=function(name,value){d3_element_setAttribute.call(this,name,value+"")},d3_element_prototype.setAttributeNS=function(space,local,value){d3_element_setAttributeNS.call(this,space,local,value+"")},d3_style_prototype.setProperty=function(name,value,priority){d3_style_setProperty.call(this,name,value+"",priority)}}d3.ascending=d3_ascending,d3.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},d3.min=function(array,f){var a,b,i=-1,n=array.length;if(1===arguments.length){for(;++i<n;)if(null!=(b=array[i])&&b>=b){a=b;break}for(;++i<n;)null!=(b=array[i])&&a>b&&(a=b)}else{for(;++i<n;)if(null!=(b=f.call(array,array[i],i))&&b>=b){a=b;break}for(;++i<n;)null!=(b=f.call(array,array[i],i))&&a>b&&(a=b)}return a},d3.max=function(array,f){var a,b,i=-1,n=array.length;if(1===arguments.length){for(;++i<n;)if(null!=(b=array[i])&&b>=b){a=b;break}for(;++i<n;)null!=(b=array[i])&&b>a&&(a=b)}else{for(;++i<n;)if(null!=(b=f.call(array,array[i],i))&&b>=b){a=b;break}for(;++i<n;)null!=(b=f.call(array,array[i],i))&&b>a&&(a=b)}return a},d3.extent=function(array,f){var a,b,c,i=-1,n=array.length;if(1===arguments.length){for(;++i<n;)if(null!=(b=array[i])&&b>=b){a=c=b;break}for(;++i<n;)null!=(b=array[i])&&(a>b&&(a=b),c<b&&(c=b))}else{for(;++i<n;)if(null!=(b=f.call(array,array[i],i))&&b>=b){a=c=b;break}for(;++i<n;)null!=(b=f.call(array,array[i],i))&&(a>b&&(a=b),c<b&&(c=b))}return[a,c]},d3.sum=function(array,f){var a,s=0,n=array.length,i=-1;if(1===arguments.length)for(;++i<n;)d3_numeric(a=+array[i])&&(s+=a);else for(;++i<n;)d3_numeric(a=+f.call(array,array[i],i))&&(s+=a);return s},d3.mean=function(array,f){var a,s=0,n=array.length,i=-1,j=n;if(1===arguments.length)for(;++i<n;)d3_numeric(a=d3_number(array[i]))?s+=a:--j;else for(;++i<n;)d3_numeric(a=d3_number(f.call(array,array[i],i)))?s+=a:--j;if(j)return s/j},d3.quantile=function(values,p){var H=(values.length-1)*p+1,h=Math.floor(H),v=+values[h-1],e=H-h;return e?v+e*(values[h]-v):v},d3.median=function(array,f){var a,numbers=[],n=array.length,i=-1;if(1===arguments.length)for(;++i<n;)d3_numeric(a=d3_number(array[i]))&&numbers.push(a);else for(;++i<n;)d3_numeric(a=d3_number(f.call(array,array[i],i)))&&numbers.push(a);if(numbers.length)return d3.quantile(numbers.sort(d3_ascending),.5)},d3.variance=function(array,f){var a,d,n=array.length,m=0,s=0,i=-1,j=0;if(1===arguments.length)for(;++i<n;)d3_numeric(a=d3_number(array[i]))&&(d=a-m,m+=d/++j,s+=d*(a-m));else for(;++i<n;)d3_numeric(a=d3_number(f.call(array,array[i],i)))&&(d=a-m,m+=d/++j,s+=d*(a-m));if(j>1)return s/(j-1)},d3.deviation=function(){var v=d3.variance.apply(this,arguments);return v?Math.sqrt(v):v};var d3_bisect=d3_bisector(d3_ascending);d3.bisectLeft=d3_bisect.left,d3.bisect=d3.bisectRight=d3_bisect.right,d3.bisector=function(f){return d3_bisector(1===f.length?function(d,x){return d3_ascending(f(d),x)}:f)},d3.shuffle=function(array,i0,i1){(m=arguments.length)<3&&(i1=array.length,m<2&&(i0=0));for(var t,i,m=i1-i0;m;)i=Math.random()*m--|0,t=array[m+i0],array[m+i0]=array[i+i0],array[i+i0]=t;return array},d3.permute=function(array,indexes){for(var i=indexes.length,permutes=new Array(i);i--;)permutes[i]=array[indexes[i]];return permutes},d3.pairs=function(array){for(var p0,i=0,n=array.length-1,p1=array[0],pairs=new Array(n<0?0:n);i<n;)pairs[i]=[p0=p1,p1=array[++i]];return pairs},d3.zip=function(){if(!(n=arguments.length))return[];for(var i=-1,m=d3.min(arguments,d3_zipLength),zips=new Array(m);++i<m;)for(var n,j=-1,zip=zips[i]=new Array(n);++j<n;)zip[j]=arguments[j][i];return zips},d3.transpose=function(matrix){return d3.zip.apply(d3,matrix)},d3.keys=function(map){var keys=[];for(var key in map)keys.push(key);return keys},d3.values=function(map){var values=[];for(var key in map)values.push(map[key]);return values},d3.entries=function(map){var entries=[];for(var key in map)entries.push({key:key,value:map[key]});return entries},d3.merge=function(arrays){for(var m,merged,array,n=arrays.length,i=-1,j=0;++i<n;)j+=arrays[i].length;for(merged=new Array(j);--n>=0;)for(array=arrays[n],m=array.length;--m>=0;)merged[--j]=array[m];return merged};var abs=Math.abs;d3.range=function(start,stop,step){if(arguments.length<3&&(step=1,arguments.length<2&&(stop=start,start=0)),(stop-start)/step===1/0)throw new Error("infinite range");var j,range=[],k=d3_range_integerScale(abs(step)),i=-1;if(start*=k,stop*=k,step*=k,step<0)for(;(j=start+step*++i)>stop;)range.push(j/k);else for(;(j=start+step*++i)<stop;)range.push(j/k);return range},d3.map=function(object,f){var map=new d3_Map;if(object instanceof d3_Map)object.forEach(function(key,value){map.set(key,value)});else if(Array.isArray(object)){var o,i=-1,n=object.length;if(1===arguments.length)for(;++i<n;)map.set(i,object[i]);else for(;++i<n;)map.set(f.call(object,o=object[i],i),o)}else for(var key in object)map.set(key,object[key]);return map};var d3_map_proto="__proto__",d3_map_zero="\0";d3_class(d3_Map,{has:d3_map_has,get:function(key){return this._[d3_map_escape(key)]},set:function(key,value){return this._[d3_map_escape(key)]=value},remove:d3_map_remove,keys:d3_map_keys,values:function(){var values=[];for(var key in this._)values.push(this._[key]);return values},entries:function(){var entries=[];for(var key in this._)entries.push({key:d3_map_unescape(key),value:this._[key]});return entries},size:d3_map_size,empty:d3_map_empty,forEach:function(f){for(var key in this._)f.call(this,d3_map_unescape(key),this._[key])}}),d3.nest=function(){function map(mapType,array,depth){if(depth>=keys.length)return rollup?rollup.call(nest,array):sortValues?array.sort(sortValues):array;for(var keyValue,object,setter,values,i=-1,n=array.length,key=keys[depth++],valuesByKey=new d3_Map;++i<n;)(values=valuesByKey.get(keyValue=key(object=array[i])))?values.push(object):valuesByKey.set(keyValue,[object]);return mapType?(object=mapType(),setter=function(keyValue,values){object.set(keyValue,map(mapType,values,depth))}):(object={},setter=function(keyValue,values){object[keyValue]=map(mapType,values,depth)}),valuesByKey.forEach(setter),object}function entries(map,depth){if(depth>=keys.length)return map;var array=[],sortKey=sortKeys[depth++];return map.forEach(function(key,keyMap){array.push({key:key,values:entries(keyMap,depth)})}),sortKey?array.sort(function(a,b){return sortKey(a.key,b.key)}):array}var sortValues,rollup,nest={},keys=[],sortKeys=[];return nest.map=function(array,mapType){return map(mapType,array,0)},nest.entries=function(array){return entries(map(d3.map,array,0),0)},nest.key=function(d){return keys.push(d),nest},nest.sortKeys=function(order){return sortKeys[keys.length-1]=order,nest},nest.sortValues=function(order){return sortValues=order,nest},nest.rollup=function(f){return rollup=f,nest},nest},d3.set=function(array){var set=new d3_Set;if(array)for(var i=0,n=array.length;i<n;++i)set.add(array[i]);return set},d3_class(d3_Set,{has:d3_map_has,add:function(key){return this._[d3_map_escape(key+="")]=!0,key},remove:d3_map_remove,values:d3_map_keys,size:d3_map_size,empty:d3_map_empty,forEach:function(f){for(var key in this._)f.call(this,d3_map_unescape(key))}}),d3.behavior={},d3.rebind=function(target,source){for(var method,i=1,n=arguments.length;++i<n;)target[method=arguments[i]]=d3_rebind(target,source,source[method]);return target};var d3_vendorPrefixes=["webkit","ms","moz","Moz","o","O"];d3.dispatch=function(){for(var dispatch=new d3_dispatch,i=-1,n=arguments.length;++i<n;)dispatch[arguments[i]]=d3_dispatch_event(dispatch);return dispatch},d3_dispatch.prototype.on=function(type,listener){var i=type.indexOf("."),name="";if(i>=0&&(name=type.slice(i+1),type=type.slice(0,i)),type)return arguments.length<2?this[type].on(name):this[type].on(name,listener);if(2===arguments.length){if(null==listener)for(type in this)this.hasOwnProperty(type)&&this[type].on(name,null);return this}},d3.event=null,d3.requote=function(s){return s.replace(d3_requote_re,"\\$&")};var d3_requote_re=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,d3_subclass={}.__proto__?function(object,prototype){object.__proto__=prototype}:function(object,prototype){for(var property in prototype)object[property]=prototype[property]},d3_select=function(s,n){return n.querySelector(s)},d3_selectAll=function(s,n){return n.querySelectorAll(s)},d3_selectMatches=function(n,s){var d3_selectMatcher=n.matches||n[d3_vendorSymbol(n,"matchesSelector")];return(d3_selectMatches=function(n,s){return d3_selectMatcher.call(n,s)})(n,s)};"function"==typeof Sizzle&&(d3_select=function(s,n){return Sizzle(s,n)[0]||null},d3_selectAll=Sizzle,d3_selectMatches=Sizzle.matchesSelector),d3.selection=function(){return d3.select(d3_document.documentElement)};var d3_selectionPrototype=d3.selection.prototype=[];d3_selectionPrototype.select=function(selector){var subgroup,subnode,group,node,subgroups=[];selector=d3_selection_selector(selector);for(var j=-1,m=this.length;++j<m;){subgroups.push(subgroup=[]),subgroup.parentNode=(group=this[j]).parentNode;for(var i=-1,n=group.length;++i<n;)(node=group[i])?(subgroup.push(subnode=selector.call(node,node.__data__,i,j)),subnode&&"__data__"in node&&(subnode.__data__=node.__data__)):subgroup.push(null)}return d3_selection(subgroups)},d3_selectionPrototype.selectAll=function(selector){var subgroup,node,subgroups=[];selector=d3_selection_selectorAll(selector);for(var j=-1,m=this.length;++j<m;)for(var group=this[j],i=-1,n=group.length;++i<n;)(node=group[i])&&(subgroups.push(subgroup=d3_array(selector.call(node,node.__data__,i,j))),subgroup.parentNode=node);return d3_selection(subgroups)};var d3_nsPrefix={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:d3_nsPrefix,qualify:function(name){var i=name.indexOf(":"),prefix=name;return i>=0&&(prefix=name.slice(0,i),name=name.slice(i+1)),d3_nsPrefix.hasOwnProperty(prefix)?{space:d3_nsPrefix[prefix],local:name}:name}},d3_selectionPrototype.attr=function(name,value){if(arguments.length<2){if("string"==typeof name){var node=this.node();return name=d3.ns.qualify(name),name.local?node.getAttributeNS(name.space,name.local):node.getAttribute(name)}for(value in name)this.each(d3_selection_attr(value,name[value]));return this}return this.each(d3_selection_attr(name,value))},d3_selectionPrototype.classed=function(name,value){if(arguments.length<2){if("string"==typeof name){var node=this.node(),n=(name=d3_selection_classes(name)).length,i=-1;if(value=node.classList){for(;++i<n;)if(!value.contains(name[i]))return!1}else for(value=node.getAttribute("class");++i<n;)if(!d3_selection_classedRe(name[i]).test(value))return!1;return!0}for(value in name)this.each(d3_selection_classed(value,name[value]));return this}return this.each(d3_selection_classed(name,value))},d3_selectionPrototype.style=function(name,value,priority){var n=arguments.length;if(n<3){if("string"!=typeof name){n<2&&(value="");for(priority in name)this.each(d3_selection_style(priority,name[priority],value));return this}if(n<2){var node=this.node();return d3_window(node).getComputedStyle(node,null).getPropertyValue(name)}priority=""}return this.each(d3_selection_style(name,value,priority))},d3_selectionPrototype.property=function(name,value){if(arguments.length<2){if("string"==typeof name)return this.node()[name];for(value in name)this.each(d3_selection_property(value,name[value]));return this}return this.each(d3_selection_property(name,value))},d3_selectionPrototype.text=function(value){return arguments.length?this.each("function"==typeof value?function(){var v=value.apply(this,arguments);this.textContent=null==v?"":v}:null==value?function(){this.textContent=""}:function(){this.textContent=value}):this.node().textContent},d3_selectionPrototype.html=function(value){return arguments.length?this.each("function"==typeof value?function(){var v=value.apply(this,arguments);this.innerHTML=null==v?"":v}:null==value?function(){this.innerHTML=""}:function(){this.innerHTML=value}):this.node().innerHTML},d3_selectionPrototype.append=function(name){return name=d3_selection_creator(name),this.select(function(){return this.appendChild(name.apply(this,arguments))})},d3_selectionPrototype.insert=function(name,before){return name=d3_selection_creator(name),before=d3_selection_selector(before),this.select(function(){return this.insertBefore(name.apply(this,arguments),before.apply(this,arguments)||null)})},d3_selectionPrototype.remove=function(){return this.each(d3_selectionRemove)},d3_selectionPrototype.data=function(value,key){function bind(group,groupData){var i,node,nodeData,n=group.length,m=groupData.length,n0=Math.min(n,m),updateNodes=new Array(m),enterNodes=new Array(m),exitNodes=new Array(n);if(key){var keyValue,nodeByKeyValue=new d3_Map,keyValues=new Array(n);
for(i=-1;++i<n;)nodeByKeyValue.has(keyValue=key.call(node=group[i],node.__data__,i))?exitNodes[i]=node:nodeByKeyValue.set(keyValue,node),keyValues[i]=keyValue;for(i=-1;++i<m;)(node=nodeByKeyValue.get(keyValue=key.call(groupData,nodeData=groupData[i],i)))?node!==!0&&(updateNodes[i]=node,node.__data__=nodeData):enterNodes[i]=d3_selection_dataNode(nodeData),nodeByKeyValue.set(keyValue,!0);for(i=-1;++i<n;)nodeByKeyValue.get(keyValues[i])!==!0&&(exitNodes[i]=group[i])}else{for(i=-1;++i<n0;)node=group[i],nodeData=groupData[i],node?(node.__data__=nodeData,updateNodes[i]=node):enterNodes[i]=d3_selection_dataNode(nodeData);for(;i<m;++i)enterNodes[i]=d3_selection_dataNode(groupData[i]);for(;i<n;++i)exitNodes[i]=group[i]}enterNodes.update=updateNodes,enterNodes.parentNode=updateNodes.parentNode=exitNodes.parentNode=group.parentNode,enter.push(enterNodes),update.push(updateNodes),exit.push(exitNodes)}var group,node,i=-1,n=this.length;if(!arguments.length){for(value=new Array(n=(group=this[0]).length);++i<n;)(node=group[i])&&(value[i]=node.__data__);return value}var enter=d3_selection_enter([]),update=d3_selection([]),exit=d3_selection([]);if("function"==typeof value)for(;++i<n;)bind(group=this[i],value.call(group,group.parentNode.__data__,i));else for(;++i<n;)bind(group=this[i],value);return update.enter=function(){return enter},update.exit=function(){return exit},update},d3_selectionPrototype.datum=function(value){return arguments.length?this.property("__data__",value):this.property("__data__")},d3_selectionPrototype.filter=function(filter){var subgroup,group,node,subgroups=[];"function"!=typeof filter&&(filter=d3_selection_filter(filter));for(var j=0,m=this.length;j<m;j++){subgroups.push(subgroup=[]),subgroup.parentNode=(group=this[j]).parentNode;for(var i=0,n=group.length;i<n;i++)(node=group[i])&&filter.call(node,node.__data__,i,j)&&subgroup.push(node)}return d3_selection(subgroups)},d3_selectionPrototype.order=function(){for(var j=-1,m=this.length;++j<m;)for(var node,group=this[j],i=group.length-1,next=group[i];--i>=0;)(node=group[i])&&(next&&next!==node.nextSibling&&next.parentNode.insertBefore(node,next),next=node);return this},d3_selectionPrototype.sort=function(comparator){comparator=d3_selection_sortComparator.apply(this,arguments);for(var j=-1,m=this.length;++j<m;)this[j].sort(comparator);return this.order()},d3_selectionPrototype.each=function(callback){return d3_selection_each(this,function(node,i,j){callback.call(node,node.__data__,i,j)})},d3_selectionPrototype.call=function(callback){var args=d3_array(arguments);return callback.apply(args[0]=this,args),this},d3_selectionPrototype.empty=function(){return!this.node()},d3_selectionPrototype.node=function(){for(var j=0,m=this.length;j<m;j++)for(var group=this[j],i=0,n=group.length;i<n;i++){var node=group[i];if(node)return node}return null},d3_selectionPrototype.size=function(){var n=0;return d3_selection_each(this,function(){++n}),n};var d3_selection_enterPrototype=[];d3.selection.enter=d3_selection_enter,d3.selection.enter.prototype=d3_selection_enterPrototype,d3_selection_enterPrototype.append=d3_selectionPrototype.append,d3_selection_enterPrototype.empty=d3_selectionPrototype.empty,d3_selection_enterPrototype.node=d3_selectionPrototype.node,d3_selection_enterPrototype.call=d3_selectionPrototype.call,d3_selection_enterPrototype.size=d3_selectionPrototype.size,d3_selection_enterPrototype.select=function(selector){for(var subgroup,subnode,upgroup,group,node,subgroups=[],j=-1,m=this.length;++j<m;){upgroup=(group=this[j]).update,subgroups.push(subgroup=[]),subgroup.parentNode=group.parentNode;for(var i=-1,n=group.length;++i<n;)(node=group[i])?(subgroup.push(upgroup[i]=subnode=selector.call(group.parentNode,node.__data__,i,j)),subnode.__data__=node.__data__):subgroup.push(null)}return d3_selection(subgroups)},d3_selection_enterPrototype.insert=function(name,before){return arguments.length<2&&(before=d3_selection_enterInsertBefore(this)),d3_selectionPrototype.insert.call(this,name,before)},d3.select=function(node){var group;return"string"==typeof node?(group=[d3_select(node,d3_document)],group.parentNode=d3_document.documentElement):(group=[node],group.parentNode=d3_documentElement(node)),d3_selection([group])},d3.selectAll=function(nodes){var group;return"string"==typeof nodes?(group=d3_array(d3_selectAll(nodes,d3_document)),group.parentNode=d3_document.documentElement):(group=nodes,group.parentNode=null),d3_selection([group])},d3_selectionPrototype.on=function(type,listener,capture){var n=arguments.length;if(n<3){if("string"!=typeof type){n<2&&(listener=!1);for(capture in type)this.each(d3_selection_on(capture,type[capture],listener));return this}if(n<2)return(n=this.node()["__on"+type])&&n._;capture=!1}return this.each(d3_selection_on(type,listener,capture))};var d3_selection_onFilters=d3.map({mouseenter:"mouseover",mouseleave:"mouseout"});d3_document&&d3_selection_onFilters.forEach(function(k){"on"+k in d3_document&&d3_selection_onFilters.remove(k)});var d3_event_dragSelect,d3_event_dragId=0;d3.mouse=function(container){return d3_mousePoint(container,d3_eventSource())};var d3_mouse_bug44083=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;d3.touch=function(container,touches,identifier){if(arguments.length<3&&(identifier=touches,touches=d3_eventSource().changedTouches),touches)for(var touch,i=0,n=touches.length;i<n;++i)if((touch=touches[i]).identifier===identifier)return d3_mousePoint(container,touch)},d3.behavior.drag=function(){function drag(){this.on("mousedown.drag",mousedown).on("touchstart.drag",touchstart)}function dragstart(id,position,subject,move,end){return function(){function moved(){var dx,dy,position1=position(parent,dragId);position1&&(dx=position1[0]-position0[0],dy=position1[1]-position0[1],dragged|=dx|dy,position0=position1,dispatch({type:"drag",x:position1[0]+dragOffset[0],y:position1[1]+dragOffset[1],dx:dx,dy:dy}))}function ended(){position(parent,dragId)&&(dragSubject.on(move+dragName,null).on(end+dragName,null),dragRestore(dragged&&d3.event.target===target),dispatch({type:"dragend"}))}var dragOffset,that=this,target=d3.event.target,parent=that.parentNode,dispatch=event.of(that,arguments),dragged=0,dragId=id(),dragName=".drag"+(null==dragId?"":"-"+dragId),dragSubject=d3.select(subject(target)).on(move+dragName,moved).on(end+dragName,ended),dragRestore=d3_event_dragSuppress(target),position0=position(parent,dragId);origin?(dragOffset=origin.apply(that,arguments),dragOffset=[dragOffset.x-position0[0],dragOffset.y-position0[1]]):dragOffset=[0,0],dispatch({type:"dragstart"})}}var event=d3_eventDispatch(drag,"drag","dragstart","dragend"),origin=null,mousedown=dragstart(d3_noop,d3.mouse,d3_window,"mousemove","mouseup"),touchstart=dragstart(d3_behavior_dragTouchId,d3.touch,d3_identity,"touchmove","touchend");return drag.origin=function(x){return arguments.length?(origin=x,drag):origin},d3.rebind(drag,event,"on")},d3.touches=function(container,touches){return arguments.length<2&&(touches=d3_eventSource().touches),touches?d3_array(touches).map(function(touch){var point=d3_mousePoint(container,touch);return point.identifier=touch.identifier,point}):[]};var =1e-6,2=*,=Math.PI,=2*,=-,half=/2,d3_radians=/180,d3_degrees=180/,=Math.SQRT2,2=2,4=4;d3.interpolateZoom=function(p0,p1){function interpolate(t){var s=t*S;if(dr){var coshr0=d3_cosh(r0),u=w0/(2*d1)*(coshr0*d3_tanh(*s+r0)-d3_sinh(r0));return[ux0+u*dx,uy0+u*dy,w0*coshr0/d3_cosh(*s+r0)]}return[ux0+t*dx,uy0+t*dy,w0*Math.exp(*s)]}var ux0=p0[0],uy0=p0[1],w0=p0[2],ux1=p1[0],uy1=p1[1],w1=p1[2],dx=ux1-ux0,dy=uy1-uy0,d2=dx*dx+dy*dy,d1=Math.sqrt(d2),b0=(w1*w1-w0*w0+4*d2)/(2*w0*2*d1),b1=(w1*w1-w0*w0-4*d2)/(2*w1*2*d1),r0=Math.log(Math.sqrt(b0*b0+1)-b0),r1=Math.log(Math.sqrt(b1*b1+1)-b1),dr=r1-r0,S=(dr||Math.log(w1/w0))/;return interpolate.duration=1e3*S,interpolate},d3.behavior.zoom=function(){function zoom(g){g.on(mousedown,mousedowned).on(d3_behavior_zoomWheel+".zoom",mousewheeled).on("dblclick.zoom",dblclicked).on(touchstart,touchstarted)}function location(p){return[(p[0]-view.x)/view.k,(p[1]-view.y)/view.k]}function point(l){return[l[0]*view.k+view.x,l[1]*view.k+view.y]}function scaleTo(s){view.k=Math.max(scaleExtent[0],Math.min(scaleExtent[1],s))}function translateTo(p,l){l=point(l),view.x+=p[0]-l[0],view.y+=p[1]-l[1]}function zoomTo(that,p,l,k){that.__chart__={x:view.x,y:view.y,k:view.k},scaleTo(Math.pow(2,k)),translateTo(center0=p,l),that=d3.select(that),duration>0&&(that=that.transition().duration(duration)),that.call(zoom.event)}function rescale(){x1&&x1.domain(x0.range().map(function(x){return(x-view.x)/view.k}).map(x0.invert)),y1&&y1.domain(y0.range().map(function(y){return(y-view.y)/view.k}).map(y0.invert))}function zoomstarted(dispatch){zooming++||dispatch({type:"zoomstart"})}function zoomed(dispatch){rescale(),dispatch({type:"zoom",scale:view.k,translate:[view.x,view.y]})}function zoomended(dispatch){--zooming||(dispatch({type:"zoomend"}),center0=null)}function mousedowned(){function moved(){dragged=1,translateTo(d3.mouse(that),location0),zoomed(dispatch)}function ended(){subject.on(mousemove,null).on(mouseup,null),dragRestore(dragged&&d3.event.target===target),zoomended(dispatch)}var that=this,target=d3.event.target,dispatch=event.of(that,arguments),dragged=0,subject=d3.select(d3_window(that)).on(mousemove,moved).on(mouseup,ended),location0=location(d3.mouse(that)),dragRestore=d3_event_dragSuppress(that);d3_selection_interrupt.call(that),zoomstarted(dispatch)}function touchstarted(){function relocate(){var touches=d3.touches(that);return scale0=view.k,touches.forEach(function(t){t.identifier in locations0&&(locations0[t.identifier]=location(t))}),touches}function started(){var target=d3.event.target;d3.select(target).on(touchmove,moved).on(touchend,ended),targets.push(target);for(var changed=d3.event.changedTouches,i=0,n=changed.length;i<n;++i)locations0[changed[i].identifier]=null;var touches=relocate(),now=Date.now();if(1===touches.length){if(now-touchtime<500){var p=touches[0];zoomTo(that,p,locations0[p.identifier],Math.floor(Math.log(view.k)/Math.LN2)+1),d3_eventPreventDefault()}touchtime=now}else if(touches.length>1){var p=touches[0],q=touches[1],dx=p[0]-q[0],dy=p[1]-q[1];distance0=dx*dx+dy*dy}}function moved(){var p0,l0,p1,l1,touches=d3.touches(that);d3_selection_interrupt.call(that);for(var i=0,n=touches.length;i<n;++i,l1=null)if(p1=touches[i],l1=locations0[p1.identifier]){if(l0)break;p0=p1,l0=l1}if(l1){var distance1=(distance1=p1[0]-p0[0])*distance1+(distance1=p1[1]-p0[1])*distance1,scale1=distance0&&Math.sqrt(distance1/distance0);p0=[(p0[0]+p1[0])/2,(p0[1]+p1[1])/2],l0=[(l0[0]+l1[0])/2,(l0[1]+l1[1])/2],scaleTo(scale1*scale0)}touchtime=null,translateTo(p0,l0),zoomed(dispatch)}function ended(){if(d3.event.touches.length){for(var changed=d3.event.changedTouches,i=0,n=changed.length;i<n;++i)delete locations0[changed[i].identifier];for(var identifier in locations0)return void relocate()}d3.selectAll(targets).on(zoomName,null),subject.on(mousedown,mousedowned).on(touchstart,touchstarted),dragRestore(),zoomended(dispatch)}var scale0,that=this,dispatch=event.of(that,arguments),locations0={},distance0=0,zoomName=".zoom-"+d3.event.changedTouches[0].identifier,touchmove="touchmove"+zoomName,touchend="touchend"+zoomName,targets=[],subject=d3.select(that),dragRestore=d3_event_dragSuppress(that);started(),zoomstarted(dispatch),subject.on(mousedown,null).on(touchstart,started)}function mousewheeled(){var dispatch=event.of(this,arguments);mousewheelTimer?clearTimeout(mousewheelTimer):(d3_selection_interrupt.call(this),translate0=location(center0=center||d3.mouse(this)),zoomstarted(dispatch)),mousewheelTimer=setTimeout(function(){mousewheelTimer=null,zoomended(dispatch)},50),d3_eventPreventDefault(),scaleTo(Math.pow(2,.002*d3_behavior_zoomDelta())*view.k),translateTo(center0,translate0),zoomed(dispatch)}function dblclicked(){var p=d3.mouse(this),k=Math.log(view.k)/Math.LN2;zoomTo(this,p,location(p),d3.event.shiftKey?Math.ceil(k)-1:Math.floor(k)+1)}var translate0,center0,center,mousewheelTimer,touchtime,x0,x1,y0,y1,view={x:0,y:0,k:1},size=[960,500],scaleExtent=d3_behavior_zoomInfinity,duration=250,zooming=0,mousedown="mousedown.zoom",mousemove="mousemove.zoom",mouseup="mouseup.zoom",touchstart="touchstart.zoom",event=d3_eventDispatch(zoom,"zoomstart","zoom","zoomend");return d3_behavior_zoomWheel||(d3_behavior_zoomWheel="onwheel"in d3_document?(d3_behavior_zoomDelta=function(){return-d3.event.deltaY*(d3.event.deltaMode?120:1)},"wheel"):"onmousewheel"in d3_document?(d3_behavior_zoomDelta=function(){return d3.event.wheelDelta},"mousewheel"):(d3_behavior_zoomDelta=function(){return-d3.event.detail},"MozMousePixelScroll")),zoom.event=function(g){g.each(function(){var dispatch=event.of(this,arguments),view1=view;d3_transitionInheritId?d3.select(this).transition().each("start.zoom",function(){view=this.__chart__||{x:0,y:0,k:1},zoomstarted(dispatch)}).tween("zoom:zoom",function(){var dx=size[0],dy=size[1],cx=center0?center0[0]:dx/2,cy=center0?center0[1]:dy/2,i=d3.interpolateZoom([(cx-view.x)/view.k,(cy-view.y)/view.k,dx/view.k],[(cx-view1.x)/view1.k,(cy-view1.y)/view1.k,dx/view1.k]);return function(t){var l=i(t),k=dx/l[2];this.__chart__=view={x:cx-l[0]*k,y:cy-l[1]*k,k:k},zoomed(dispatch)}}).each("interrupt.zoom",function(){zoomended(dispatch)}).each("end.zoom",function(){zoomended(dispatch)}):(this.__chart__=view,zoomstarted(dispatch),zoomed(dispatch),zoomended(dispatch))})},zoom.translate=function(_){return arguments.length?(view={x:+_[0],y:+_[1],k:view.k},rescale(),zoom):[view.x,view.y]},zoom.scale=function(_){return arguments.length?(view={x:view.x,y:view.y,k:+_},rescale(),zoom):view.k},zoom.scaleExtent=function(_){return arguments.length?(scaleExtent=null==_?d3_behavior_zoomInfinity:[+_[0],+_[1]],zoom):scaleExtent},zoom.center=function(_){return arguments.length?(center=_&&[+_[0],+_[1]],zoom):center},zoom.size=function(_){return arguments.length?(size=_&&[+_[0],+_[1]],zoom):size},zoom.duration=function(_){return arguments.length?(duration=+_,zoom):duration},zoom.x=function(z){return arguments.length?(x1=z,x0=z.copy(),view={x:0,y:0,k:1},zoom):x1},zoom.y=function(z){return arguments.length?(y1=z,y0=z.copy(),view={x:0,y:0,k:1},zoom):y1},d3.rebind(zoom,event,"on")};var d3_behavior_zoomDelta,d3_behavior_zoomWheel,d3_behavior_zoomInfinity=[0,1/0];d3.color=d3_color,d3_color.prototype.toString=function(){return this.rgb()+""},d3.hsl=d3_hsl;var d3_hslPrototype=d3_hsl.prototype=new d3_color;d3_hslPrototype.brighter=function(k){return k=Math.pow(.7,arguments.length?k:1),new d3_hsl(this.h,this.s,this.l/k)},d3_hslPrototype.darker=function(k){return k=Math.pow(.7,arguments.length?k:1),new d3_hsl(this.h,this.s,k*this.l)},d3_hslPrototype.rgb=function(){return d3_hsl_rgb(this.h,this.s,this.l)},d3.hcl=d3_hcl;var d3_hclPrototype=d3_hcl.prototype=new d3_color;d3_hclPrototype.brighter=function(k){return new d3_hcl(this.h,this.c,Math.min(100,this.l+d3_lab_K*(arguments.length?k:1)))},d3_hclPrototype.darker=function(k){return new d3_hcl(this.h,this.c,Math.max(0,this.l-d3_lab_K*(arguments.length?k:1)))},d3_hclPrototype.rgb=function(){return d3_hcl_lab(this.h,this.c,this.l).rgb()},d3.lab=d3_lab;var d3_lab_K=18,d3_lab_X=.95047,d3_lab_Y=1,d3_lab_Z=1.08883,d3_labPrototype=d3_lab.prototype=new d3_color;d3_labPrototype.brighter=function(k){return new d3_lab(Math.min(100,this.l+d3_lab_K*(arguments.length?k:1)),this.a,this.b)},d3_labPrototype.darker=function(k){return new d3_lab(Math.max(0,this.l-d3_lab_K*(arguments.length?k:1)),this.a,this.b)},d3_labPrototype.rgb=function(){return d3_lab_rgb(this.l,this.a,this.b)},d3.rgb=d3_rgb;var d3_rgbPrototype=d3_rgb.prototype=new d3_color;d3_rgbPrototype.brighter=function(k){k=Math.pow(.7,arguments.length?k:1);var r=this.r,g=this.g,b=this.b,i=30;return r||g||b?(r&&r<i&&(r=i),g&&g<i&&(g=i),b&&b<i&&(b=i),new d3_rgb(Math.min(255,r/k),Math.min(255,g/k),Math.min(255,b/k))):new d3_rgb(i,i,i)},d3_rgbPrototype.darker=function(k){return k=Math.pow(.7,arguments.length?k:1),new d3_rgb(k*this.r,k*this.g,k*this.b)},d3_rgbPrototype.hsl=function(){return d3_rgb_hsl(this.r,this.g,this.b)},d3_rgbPrototype.toString=function(){return"#"+d3_rgb_hex(this.r)+d3_rgb_hex(this.g)+d3_rgb_hex(this.b)};var d3_rgb_names=d3.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});d3_rgb_names.forEach(function(key,value){d3_rgb_names.set(key,d3_rgbNumber(value))}),d3.functor=d3_functor,d3.xhr=d3_xhrType(d3_identity),d3.dsv=function(delimiter,mimeType){function dsv(url,row,callback){arguments.length<3&&(callback=row,row=null);var xhr=d3_xhr(url,mimeType,null==row?response:typedResponse(row),callback);return xhr.row=function(_){return arguments.length?xhr.response(null==(row=_)?response:typedResponse(_)):row},xhr}function response(request){return dsv.parse(request.responseText)}function typedResponse(f){return function(request){return dsv.parse(request.responseText,f)}}function formatRow(row){return row.map(formatValue).join(delimiter)}function formatValue(text){return reFormat.test(text)?'"'+text.replace(/\"/g,'""')+'"':text}var reFormat=new RegExp('["'+delimiter+"\n]"),delimiterCode=delimiter.charCodeAt(0);return dsv.parse=function(text,f){var o;return dsv.parseRows(text,function(row,i){if(o)return o(row,i-1);var a=new Function("d","return {"+row.map(function(name,i){return JSON.stringify(name)+": d["+i+"]"}).join(",")+"}");o=f?function(row,i){return f(a(row),i)}:a})},dsv.parseRows=function(text,f){function token(){if(I>=N)return EOF;if(eol)return eol=!1,EOL;var j=I;if(34===text.charCodeAt(j)){for(var i=j;i++<N;)if(34===text.charCodeAt(i)){if(34!==text.charCodeAt(i+1))break;++i}I=i+2;var c=text.charCodeAt(i+1);return 13===c?(eol=!0,10===text.charCodeAt(i+2)&&++I):10===c&&(eol=!0),text.slice(j+1,i).replace(/""/g,'"')}for(;I<N;){var c=text.charCodeAt(I++),k=1;if(10===c)eol=!0;else if(13===c)eol=!0,10===text.charCodeAt(I)&&(++I,++k);else if(c!==delimiterCode)continue;return text.slice(j,I-k)}return text.slice(j)}for(var t,eol,EOL={},EOF={},rows=[],N=text.length,I=0,n=0;(t=token())!==EOF;){for(var a=[];t!==EOL&&t!==EOF;)a.push(t),t=token();f&&null==(a=f(a,n++))||rows.push(a)}return rows},dsv.format=function(rows){if(Array.isArray(rows[0]))return dsv.formatRows(rows);var fieldSet=new d3_Set,fields=[];return rows.forEach(function(row){for(var field in row)fieldSet.has(field)||fields.push(fieldSet.add(field))}),[fields.map(formatValue).join(delimiter)].concat(rows.map(function(row){return fields.map(function(field){return formatValue(row[field])}).join(delimiter)})).join("\n")},dsv.formatRows=function(rows){return rows.map(formatRow).join("\n")},dsv},d3.csv=d3.dsv(",","text/csv"),d3.tsv=d3.dsv("\t","text/tab-separated-values");var d3_timer_queueHead,d3_timer_queueTail,d3_timer_interval,d3_timer_timeout,d3_timer_active,d3_timer_frame=this[d3_vendorSymbol(this,"requestAnimationFrame")]||function(callback){setTimeout(callback,17)};d3.timer=function(callback,delay,then){var n=arguments.length;n<2&&(delay=0),n<3&&(then=Date.now());var time=then+delay,timer={c:callback,t:time,f:!1,n:null};d3_timer_queueTail?d3_timer_queueTail.n=timer:d3_timer_queueHead=timer,d3_timer_queueTail=timer,d3_timer_interval||(d3_timer_timeout=clearTimeout(d3_timer_timeout),d3_timer_interval=1,d3_timer_frame(d3_timer_step))},d3.timer.flush=function(){d3_timer_mark(),d3_timer_sweep()},d3.round=function(x,n){return n?Math.round(x*(n=Math.pow(10,n)))/n:Math.round(x)};var d3_formatPrefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(d3_formatPrefix);d3.formatPrefix=function(value,precision){var i=0;return value&&(value<0&&(value*=-1),precision&&(value=d3.round(value,d3_format_precision(value,precision))),i=1+Math.floor(1e-12+Math.log(value)/Math.LN10),i=Math.max(-24,Math.min(24,3*Math.floor((i-1)/3)))),d3_formatPrefixes[8+i/3]};var d3_format_re=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,d3_format_types=d3.map({b:function(x){return x.toString(2)},c:function(x){return String.fromCharCode(x)},o:function(x){return x.toString(8)},x:function(x){return x.toString(16)},X:function(x){return x.toString(16).toUpperCase()},g:function(x,p){return x.toPrecision(p)},e:function(x,p){return x.toExponential(p)},f:function(x,p){return x.toFixed(p)},r:function(x,p){return(x=d3.round(x,d3_format_precision(x,p))).toFixed(Math.max(0,Math.min(20,d3_format_precision(x*(1+1e-15),p))))}}),d3_time=d3.time={},d3_date=Date;d3_date_utc.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){d3_time_prototype.setUTCDate.apply(this._,arguments)},setDay:function(){d3_time_prototype.setUTCDay.apply(this._,arguments)},setFullYear:function(){d3_time_prototype.setUTCFullYear.apply(this._,arguments)},setHours:function(){d3_time_prototype.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){d3_time_prototype.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){d3_time_prototype.setUTCMinutes.apply(this._,arguments)},setMonth:function(){d3_time_prototype.setUTCMonth.apply(this._,arguments)},setSeconds:function(){d3_time_prototype.setUTCSeconds.apply(this._,arguments)},setTime:function(){d3_time_prototype.setTime.apply(this._,arguments)}};var d3_time_prototype=Date.prototype;d3_time.year=d3_time_interval(function(date){return date=d3_time.day(date),date.setMonth(0,1),date},function(date,offset){date.setFullYear(date.getFullYear()+offset)},function(date){return date.getFullYear()}),d3_time.years=d3_time.year.range,d3_time.years.utc=d3_time.year.utc.range,d3_time.day=d3_time_interval(function(date){var day=new d3_date(2e3,0);return day.setFullYear(date.getFullYear(),date.getMonth(),date.getDate()),day},function(date,offset){date.setDate(date.getDate()+offset)},function(date){return date.getDate()-1}),d3_time.days=d3_time.day.range,d3_time.days.utc=d3_time.day.utc.range,d3_time.dayOfYear=function(date){var year=d3_time.year(date);return Math.floor((date-year-6e4*(date.getTimezoneOffset()-year.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(day,i){i=7-i;var interval=d3_time[day]=d3_time_interval(function(date){return(date=d3_time.day(date)).setDate(date.getDate()-(date.getDay()+i)%7),date},function(date,offset){date.setDate(date.getDate()+7*Math.floor(offset))},function(date){var day=d3_time.year(date).getDay();return Math.floor((d3_time.dayOfYear(date)+(day+i)%7)/7)-(day!==i)});d3_time[day+"s"]=interval.range,d3_time[day+"s"].utc=interval.utc.range,d3_time[day+"OfYear"]=function(date){var day=d3_time.year(date).getDay();return Math.floor((d3_time.dayOfYear(date)+(day+i)%7)/7)}}),d3_time.week=d3_time.sunday,d3_time.weeks=d3_time.sunday.range,d3_time.weeks.utc=d3_time.sunday.utc.range,d3_time.weekOfYear=d3_time.sundayOfYear;var d3_time_formatPads={"-":"",_:" ",0:"0"},d3_time_numberRe=/^\s*\d+/,d3_time_percentRe=/^%/;d3.locale=function(locale){return{numberFormat:d3_locale_numberFormat(locale),timeFormat:d3_locale_timeFormat(locale)}};var d3_locale_enUS=d3.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});d3.format=d3_locale_enUS.numberFormat,d3.geo={},d3_adder.prototype={s:0,t:0,add:function(y){d3_adderSum(y,this.t,d3_adderTemp),d3_adderSum(d3_adderTemp.s,this.s,this),this.s?this.t+=d3_adderTemp.t:this.s=d3_adderTemp.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var d3_adderTemp=new d3_adder;d3.geo.stream=function(object,listener){object&&d3_geo_streamObjectType.hasOwnProperty(object.type)?d3_geo_streamObjectType[object.type](object,listener):d3_geo_streamGeometry(object,listener)};var d3_geo_streamObjectType={Feature:function(feature,listener){d3_geo_streamGeometry(feature.geometry,listener)},FeatureCollection:function(object,listener){for(var features=object.features,i=-1,n=features.length;++i<n;)d3_geo_streamGeometry(features[i].geometry,listener)}},d3_geo_streamGeometryType={Sphere:function(object,listener){listener.sphere()},Point:function(object,listener){object=object.coordinates,listener.point(object[0],object[1],object[2])},MultiPoint:function(object,listener){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)object=coordinates[i],listener.point(object[0],object[1],object[2])},LineString:function(object,listener){d3_geo_streamLine(object.coordinates,listener,0)},MultiLineString:function(object,listener){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)d3_geo_streamLine(coordinates[i],listener,0)},Polygon:function(object,listener){d3_geo_streamPolygon(object.coordinates,listener)},MultiPolygon:function(object,listener){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)d3_geo_streamPolygon(coordinates[i],listener)},GeometryCollection:function(object,listener){for(var geometries=object.geometries,i=-1,n=geometries.length;++i<n;)d3_geo_streamGeometry(geometries[i],listener)}};d3.geo.area=function(object){return d3_geo_areaSum=0,d3.geo.stream(object,d3_geo_area),d3_geo_areaSum};var d3_geo_areaSum,d3_geo_areaRingSum=new d3_adder,d3_geo_area={sphere:function(){d3_geo_areaSum+=4*},point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){d3_geo_areaRingSum.reset(),d3_geo_area.lineStart=d3_geo_areaRingStart},polygonEnd:function(){var area=2*d3_geo_areaRingSum;d3_geo_areaSum+=area<0?4*+area:area,d3_geo_area.lineStart=d3_geo_area.lineEnd=d3_geo_area.point=d3_noop}};d3.geo.bounds=function(){function point(,){ranges.push(range=[0=,1=]),<0&&(0=),>1&&(1=)}function linePoint(,){var p=d3_geo_cartesian([*d3_radians,*d3_radians]);if(p0){var normal=d3_geo_cartesianCross(p0,p),equatorial=[normal[1],-normal[0],0],inflection=d3_geo_cartesianCross(equatorial,normal);d3_geo_cartesianNormalize(inflection),inflection=d3_geo_spherical(inflection);var d=-_,s=d>0?1:-1,i=inflection[0]*d3_degrees*s,antimeridian=abs(d)>180;if(antimeridian^(s*_<i&&i<s*)){var i=inflection[1]*d3_degrees;i>1&&(1=i)}else if(i=(i+360)%360-180,antimeridian^(s*_<i&&i<s*)){var i=-inflection[1]*d3_degrees;i<0&&(0=i)}else <0&&(0=),>1&&(1=);antimeridian?<_?angle(0,)>angle(0,1)&&(1=):angle(,1)>angle(0,1)&&(0=):1>=0?(<0&&(0=),>1&&(1=)):>_?angle(0,)>angle(0,1)&&(1=):angle(,1)>angle(0,1)&&(0=)}else point(,);p0=p,_=}function lineStart(){bound.point=linePoint}function lineEnd(){range[0]=0,range[1]=1,bound.point=point,p0=null}function ringPoint(,){if(p0){var d=-_;dSum+=abs(d)>180?d+(d>0?360:-360):d}else __=,__=;d3_geo_area.point(,),linePoint(,)}function ringStart(){d3_geo_area.lineStart()}function ringEnd(){ringPoint(__,__),d3_geo_area.lineEnd(),abs(dSum)>&&(0=-(1=180)),range[0]=0,range[1]=1,p0=null}function angle(0,1){return(1-=0)<0?1+360:1}function compareRanges(a,b){return a[0]-b[0]}function withinRange(x,range){return range[0]<=range[1]?range[0]<=x&&x<=range[1]:x<range[0]||range[1]<x}var 0,0,1,1,_,__,__,p0,dSum,ranges,range,bound={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){bound.point=ringPoint,bound.lineStart=ringStart,bound.lineEnd=ringEnd,dSum=0,d3_geo_area.polygonStart()},polygonEnd:function(){d3_geo_area.polygonEnd(),bound.point=point,bound.lineStart=lineStart,bound.lineEnd=lineEnd,d3_geo_areaRingSum<0?(0=-(1=180),0=-(1=90)):dSum>?1=90:dSum<-&&(0=-90),range[0]=0,range[1]=1}};return function(feature){1=1=-(0=0=1/0),ranges=[],d3.geo.stream(feature,bound);var n=ranges.length;if(n){ranges.sort(compareRanges);for(var b,i=1,a=ranges[0],merged=[a];i<n;++i)b=ranges[i],withinRange(b[0],a)||withinRange(b[1],a)?(angle(a[0],b[1])>angle(a[0],a[1])&&(a[1]=b[1]),angle(b[0],a[1])>angle(a[0],a[1])&&(a[0]=b[0])):merged.push(a=b);for(var d,b,best=-(1/0),n=merged.length-1,i=0,a=merged[n];i<=n;a=b,++i)b=merged[i],(d=angle(a[1],b[0]))>best&&(best=d,0=b[0],1=a[1])}return ranges=range=null,0===1/0||0===1/0?[[NaN,NaN],[NaN,NaN]]:[[0,0],[1,1]]}}(),d3.geo.centroid=function(object){d3_geo_centroidW0=d3_geo_centroidW1=d3_geo_centroidX0=d3_geo_centroidY0=d3_geo_centroidZ0=d3_geo_centroidX1=d3_geo_centroidY1=d3_geo_centroidZ1=d3_geo_centroidX2=d3_geo_centroidY2=d3_geo_centroidZ2=0,d3.geo.stream(object,d3_geo_centroid);var x=d3_geo_centroidX2,y=d3_geo_centroidY2,z=d3_geo_centroidZ2,m=x*x+y*y+z*z;return m<2&&(x=d3_geo_centroidX1,y=d3_geo_centroidY1,z=d3_geo_centroidZ1,d3_geo_centroidW1<&&(x=d3_geo_centroidX0,y=d3_geo_centroidY0,z=d3_geo_centroidZ0),m=x*x+y*y+z*z,
m<2)?[NaN,NaN]:[Math.atan2(y,x)*d3_degrees,d3_asin(z/Math.sqrt(m))*d3_degrees]};var d3_geo_centroidW0,d3_geo_centroidW1,d3_geo_centroidX0,d3_geo_centroidY0,d3_geo_centroidZ0,d3_geo_centroidX1,d3_geo_centroidY1,d3_geo_centroidZ1,d3_geo_centroidX2,d3_geo_centroidY2,d3_geo_centroidZ2,d3_geo_centroid={sphere:d3_noop,point:d3_geo_centroidPoint,lineStart:d3_geo_centroidLineStart,lineEnd:d3_geo_centroidLineEnd,polygonStart:function(){d3_geo_centroid.lineStart=d3_geo_centroidRingStart},polygonEnd:function(){d3_geo_centroid.lineStart=d3_geo_centroidLineStart}},d3_geo_clipAntimeridian=d3_geo_clip(d3_true,d3_geo_clipAntimeridianLine,d3_geo_clipAntimeridianInterpolate,[-,-/2]),d3_geo_clipExtentMAX=1e9;d3.geo.clipExtent=function(){var x0,y0,x1,y1,stream,clip,clipExtent={stream:function(output){return stream&&(stream.valid=!1),stream=clip(output),stream.valid=!0,stream},extent:function(_){return arguments.length?(clip=d3_geo_clipExtent(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),stream&&(stream.valid=!1,stream=null),clipExtent):[[x0,y0],[x1,y1]]}};return clipExtent.extent([[0,0],[960,500]])},(d3.geo.conicEqualArea=function(){return d3_geo_conic(d3_geo_conicEqualArea)}).raw=d3_geo_conicEqualArea,d3.geo.albers=function(){return d3.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},d3.geo.albersUsa=function(){function albersUsa(coordinates){var x=coordinates[0],y=coordinates[1];return point=null,lower48Point(x,y),point||(alaskaPoint(x,y),point)||hawaiiPoint(x,y),point}var point,lower48Point,alaskaPoint,hawaiiPoint,lower48=d3.geo.albers(),alaska=d3.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),hawaii=d3.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),pointStream={point:function(x,y){point=[x,y]}};return albersUsa.invert=function(coordinates){var k=lower48.scale(),t=lower48.translate(),x=(coordinates[0]-t[0])/k,y=(coordinates[1]-t[1])/k;return(y>=.12&&y<.234&&x>=-.425&&x<-.214?alaska:y>=.166&&y<.234&&x>=-.214&&x<-.115?hawaii:lower48).invert(coordinates)},albersUsa.stream=function(stream){var lower48Stream=lower48.stream(stream),alaskaStream=alaska.stream(stream),hawaiiStream=hawaii.stream(stream);return{point:function(x,y){lower48Stream.point(x,y),alaskaStream.point(x,y),hawaiiStream.point(x,y)},sphere:function(){lower48Stream.sphere(),alaskaStream.sphere(),hawaiiStream.sphere()},lineStart:function(){lower48Stream.lineStart(),alaskaStream.lineStart(),hawaiiStream.lineStart()},lineEnd:function(){lower48Stream.lineEnd(),alaskaStream.lineEnd(),hawaiiStream.lineEnd()},polygonStart:function(){lower48Stream.polygonStart(),alaskaStream.polygonStart(),hawaiiStream.polygonStart()},polygonEnd:function(){lower48Stream.polygonEnd(),alaskaStream.polygonEnd(),hawaiiStream.polygonEnd()}}},albersUsa.precision=function(_){return arguments.length?(lower48.precision(_),alaska.precision(_),hawaii.precision(_),albersUsa):lower48.precision()},albersUsa.scale=function(_){return arguments.length?(lower48.scale(_),alaska.scale(.35*_),hawaii.scale(_),albersUsa.translate(lower48.translate())):lower48.scale()},albersUsa.translate=function(_){if(!arguments.length)return lower48.translate();var k=lower48.scale(),x=+_[0],y=+_[1];return lower48Point=lower48.translate(_).clipExtent([[x-.455*k,y-.238*k],[x+.455*k,y+.238*k]]).stream(pointStream).point,alaskaPoint=alaska.translate([x-.307*k,y+.201*k]).clipExtent([[x-.425*k+,y+.12*k+],[x-.214*k-,y+.234*k-]]).stream(pointStream).point,hawaiiPoint=hawaii.translate([x-.205*k,y+.212*k]).clipExtent([[x-.214*k+,y+.166*k+],[x-.115*k-,y+.234*k-]]).stream(pointStream).point,albersUsa},albersUsa.scale(1070)};var d3_geo_pathAreaSum,d3_geo_pathAreaPolygon,d3_geo_pathBoundsX0,d3_geo_pathBoundsY0,d3_geo_pathBoundsX1,d3_geo_pathBoundsY1,d3_geo_pathArea={point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){d3_geo_pathAreaPolygon=0,d3_geo_pathArea.lineStart=d3_geo_pathAreaRingStart},polygonEnd:function(){d3_geo_pathArea.lineStart=d3_geo_pathArea.lineEnd=d3_geo_pathArea.point=d3_noop,d3_geo_pathAreaSum+=abs(d3_geo_pathAreaPolygon/2)}},d3_geo_pathBounds={point:d3_geo_pathBoundsPoint,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop},d3_geo_pathCentroid={point:d3_geo_pathCentroidPoint,lineStart:d3_geo_pathCentroidLineStart,lineEnd:d3_geo_pathCentroidLineEnd,polygonStart:function(){d3_geo_pathCentroid.lineStart=d3_geo_pathCentroidRingStart},polygonEnd:function(){d3_geo_pathCentroid.point=d3_geo_pathCentroidPoint,d3_geo_pathCentroid.lineStart=d3_geo_pathCentroidLineStart,d3_geo_pathCentroid.lineEnd=d3_geo_pathCentroidLineEnd}};d3.geo.path=function(){function path(object){return object&&("function"==typeof pointRadius&&contextStream.pointRadius(+pointRadius.apply(this,arguments)),cacheStream&&cacheStream.valid||(cacheStream=projectStream(contextStream)),d3.geo.stream(object,cacheStream)),contextStream.result()}function reset(){return cacheStream=null,path}var projection,context,projectStream,contextStream,cacheStream,pointRadius=4.5;return path.area=function(object){return d3_geo_pathAreaSum=0,d3.geo.stream(object,projectStream(d3_geo_pathArea)),d3_geo_pathAreaSum},path.centroid=function(object){return d3_geo_centroidX0=d3_geo_centroidY0=d3_geo_centroidZ0=d3_geo_centroidX1=d3_geo_centroidY1=d3_geo_centroidZ1=d3_geo_centroidX2=d3_geo_centroidY2=d3_geo_centroidZ2=0,d3.geo.stream(object,projectStream(d3_geo_pathCentroid)),d3_geo_centroidZ2?[d3_geo_centroidX2/d3_geo_centroidZ2,d3_geo_centroidY2/d3_geo_centroidZ2]:d3_geo_centroidZ1?[d3_geo_centroidX1/d3_geo_centroidZ1,d3_geo_centroidY1/d3_geo_centroidZ1]:d3_geo_centroidZ0?[d3_geo_centroidX0/d3_geo_centroidZ0,d3_geo_centroidY0/d3_geo_centroidZ0]:[NaN,NaN]},path.bounds=function(object){return d3_geo_pathBoundsX1=d3_geo_pathBoundsY1=-(d3_geo_pathBoundsX0=d3_geo_pathBoundsY0=1/0),d3.geo.stream(object,projectStream(d3_geo_pathBounds)),[[d3_geo_pathBoundsX0,d3_geo_pathBoundsY0],[d3_geo_pathBoundsX1,d3_geo_pathBoundsY1]]},path.projection=function(_){return arguments.length?(projectStream=(projection=_)?_.stream||d3_geo_pathProjectStream(_):d3_identity,reset()):projection},path.context=function(_){return arguments.length?(contextStream=null==(context=_)?new d3_geo_pathBuffer:new d3_geo_pathContext(_),"function"!=typeof pointRadius&&contextStream.pointRadius(pointRadius),reset()):context},path.pointRadius=function(_){return arguments.length?(pointRadius="function"==typeof _?_:(contextStream.pointRadius(+_),+_),path):pointRadius},path.projection(d3.geo.albersUsa()).context(null)},d3.geo.transform=function(methods){return{stream:function(stream){var transform=new d3_geo_transform(stream);for(var k in methods)transform[k]=methods[k];return transform}}},d3_geo_transform.prototype={point:function(x,y){this.stream.point(x,y)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},d3.geo.projection=d3_geo_projection,d3.geo.projectionMutator=d3_geo_projectionMutator,(d3.geo.equirectangular=function(){return d3_geo_projection(d3_geo_equirectangular)}).raw=d3_geo_equirectangular.invert=d3_geo_equirectangular,d3.geo.rotation=function(rotate){function forward(coordinates){return coordinates=rotate(coordinates[0]*d3_radians,coordinates[1]*d3_radians),coordinates[0]*=d3_degrees,coordinates[1]*=d3_degrees,coordinates}return rotate=d3_geo_rotation(rotate[0]%360*d3_radians,rotate[1]*d3_radians,rotate.length>2?rotate[2]*d3_radians:0),forward.invert=function(coordinates){return coordinates=rotate.invert(coordinates[0]*d3_radians,coordinates[1]*d3_radians),coordinates[0]*=d3_degrees,coordinates[1]*=d3_degrees,coordinates},forward},d3_geo_identityRotation.invert=d3_geo_equirectangular,d3.geo.circle=function(){function circle(){var center="function"==typeof origin?origin.apply(this,arguments):origin,rotate=d3_geo_rotation(-center[0]*d3_radians,-center[1]*d3_radians,0).invert,ring=[];return interpolate(null,null,1,{point:function(x,y){ring.push(x=rotate(x,y)),x[0]*=d3_degrees,x[1]*=d3_degrees}}),{type:"Polygon",coordinates:[ring]}}var angle,interpolate,origin=[0,0],precision=6;return circle.origin=function(x){return arguments.length?(origin=x,circle):origin},circle.angle=function(x){return arguments.length?(interpolate=d3_geo_circleInterpolate((angle=+x)*d3_radians,precision*d3_radians),circle):angle},circle.precision=function(_){return arguments.length?(interpolate=d3_geo_circleInterpolate(angle*d3_radians,(precision=+_)*d3_radians),circle):precision},circle.angle(90)},d3.geo.distance=function(a,b){var t,=(b[0]-a[0])*d3_radians,0=a[1]*d3_radians,1=b[1]*d3_radians,sin=Math.sin(),cos=Math.cos(),sin0=Math.sin(0),cos0=Math.cos(0),sin1=Math.sin(1),cos1=Math.cos(1);return Math.atan2(Math.sqrt((t=cos1*sin)*t+(t=cos0*sin1-sin0*cos1*cos)*t),sin0*sin1+cos0*cos1*cos)},d3.geo.graticule=function(){function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return d3.range(Math.ceil(X0/DX)*DX,X1,DX).map(X).concat(d3.range(Math.ceil(Y0/DY)*DY,Y1,DY).map(Y)).concat(d3.range(Math.ceil(x0/dx)*dx,x1,dx).filter(function(x){return abs(x%DX)>}).map(x)).concat(d3.range(Math.ceil(y0/dy)*dy,y1,dy).filter(function(y){return abs(y%DY)>}).map(y))}var x1,x0,X1,X0,y1,y0,Y1,Y0,x,y,X,Y,dx=10,dy=dx,DX=90,DY=360,precision=2.5;return graticule.lines=function(){return lines().map(function(coordinates){return{type:"LineString",coordinates:coordinates}})},graticule.outline=function(){return{type:"Polygon",coordinates:[X(X0).concat(Y(Y1).slice(1),X(X1).reverse().slice(1),Y(Y0).reverse().slice(1))]}},graticule.extent=function(_){return arguments.length?graticule.majorExtent(_).minorExtent(_):graticule.minorExtent()},graticule.majorExtent=function(_){return arguments.length?(X0=+_[0][0],X1=+_[1][0],Y0=+_[0][1],Y1=+_[1][1],X0>X1&&(_=X0,X0=X1,X1=_),Y0>Y1&&(_=Y0,Y0=Y1,Y1=_),graticule.precision(precision)):[[X0,Y0],[X1,Y1]]},graticule.minorExtent=function(_){return arguments.length?(x0=+_[0][0],x1=+_[1][0],y0=+_[0][1],y1=+_[1][1],x0>x1&&(_=x0,x0=x1,x1=_),y0>y1&&(_=y0,y0=y1,y1=_),graticule.precision(precision)):[[x0,y0],[x1,y1]]},graticule.step=function(_){return arguments.length?graticule.majorStep(_).minorStep(_):graticule.minorStep()},graticule.majorStep=function(_){return arguments.length?(DX=+_[0],DY=+_[1],graticule):[DX,DY]},graticule.minorStep=function(_){return arguments.length?(dx=+_[0],dy=+_[1],graticule):[dx,dy]},graticule.precision=function(_){return arguments.length?(precision=+_,x=d3_geo_graticuleX(y0,y1,90),y=d3_geo_graticuleY(x0,x1,precision),X=d3_geo_graticuleX(Y0,Y1,90),Y=d3_geo_graticuleY(X0,X1,precision),graticule):precision},graticule.majorExtent([[-180,-90+],[180,90-]]).minorExtent([[-180,-80-],[180,80+]])},d3.geo.greatArc=function(){function greatArc(){return{type:"LineString",coordinates:[source_||source.apply(this,arguments),target_||target.apply(this,arguments)]}}var source_,target_,source=d3_source,target=d3_target;return greatArc.distance=function(){return d3.geo.distance(source_||source.apply(this,arguments),target_||target.apply(this,arguments))},greatArc.source=function(_){return arguments.length?(source=_,source_="function"==typeof _?null:_,greatArc):source},greatArc.target=function(_){return arguments.length?(target=_,target_="function"==typeof _?null:_,greatArc):target},greatArc.precision=function(){return arguments.length?greatArc:0},greatArc},d3.geo.interpolate=function(source,target){return d3_geo_interpolate(source[0]*d3_radians,source[1]*d3_radians,target[0]*d3_radians,target[1]*d3_radians)},d3.geo.length=function(object){return d3_geo_lengthSum=0,d3.geo.stream(object,d3_geo_length),d3_geo_lengthSum};var d3_geo_lengthSum,d3_geo_length={sphere:d3_noop,point:d3_noop,lineStart:d3_geo_lengthLineStart,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop},d3_geo_azimuthalEqualArea=d3_geo_azimuthal(function(coscos){return Math.sqrt(2/(1+coscos))},function(){return 2*Math.asin(/2)});(d3.geo.azimuthalEqualArea=function(){return d3_geo_projection(d3_geo_azimuthalEqualArea)}).raw=d3_geo_azimuthalEqualArea;var d3_geo_azimuthalEquidistant=d3_geo_azimuthal(function(coscos){var c=Math.acos(coscos);return c&&c/Math.sin(c)},d3_identity);(d3.geo.azimuthalEquidistant=function(){return d3_geo_projection(d3_geo_azimuthalEquidistant)}).raw=d3_geo_azimuthalEquidistant,(d3.geo.conicConformal=function(){return d3_geo_conic(d3_geo_conicConformal)}).raw=d3_geo_conicConformal,(d3.geo.conicEquidistant=function(){return d3_geo_conic(d3_geo_conicEquidistant)}).raw=d3_geo_conicEquidistant;var d3_geo_gnomonic=d3_geo_azimuthal(function(coscos){return 1/coscos},Math.atan);(d3.geo.gnomonic=function(){return d3_geo_projection(d3_geo_gnomonic)}).raw=d3_geo_gnomonic,d3_geo_mercator.invert=function(x,y){return[x,2*Math.atan(Math.exp(y))-half]},(d3.geo.mercator=function(){return d3_geo_mercatorProjection(d3_geo_mercator)}).raw=d3_geo_mercator;var d3_geo_orthographic=d3_geo_azimuthal(function(){return 1},Math.asin);(d3.geo.orthographic=function(){return d3_geo_projection(d3_geo_orthographic)}).raw=d3_geo_orthographic;var d3_geo_stereographic=d3_geo_azimuthal(function(coscos){return 1/(1+coscos)},function(){return 2*Math.atan()});(d3.geo.stereographic=function(){return d3_geo_projection(d3_geo_stereographic)}).raw=d3_geo_stereographic,d3_geo_transverseMercator.invert=function(x,y){return[-y,2*Math.atan(Math.exp(x))-half]},(d3.geo.transverseMercator=function(){var projection=d3_geo_mercatorProjection(d3_geo_transverseMercator),center=projection.center,rotate=projection.rotate;return projection.center=function(_){return _?center([-_[1],_[0]]):(_=center(),[_[1],-_[0]])},projection.rotate=function(_){return _?rotate([_[0],_[1],_.length>2?_[2]+90:90]):(_=rotate(),[_[0],_[1],_[2]-90])},rotate([0,0,90])}).raw=d3_geo_transverseMercator,d3.geom={},d3.geom.hull=function(vertices){function hull(data){if(data.length<3)return[];var i,fx=d3_functor(x),fy=d3_functor(y),n=data.length,points=[],flippedPoints=[];for(i=0;i<n;i++)points.push([+fx.call(this,data[i],i),+fy.call(this,data[i],i),i]);for(points.sort(d3_geom_hullOrder),i=0;i<n;i++)flippedPoints.push([points[i][0],-points[i][1]]);var upper=d3_geom_hullUpper(points),lower=d3_geom_hullUpper(flippedPoints),skipLeft=lower[0]===upper[0],skipRight=lower[lower.length-1]===upper[upper.length-1],polygon=[];for(i=upper.length-1;i>=0;--i)polygon.push(data[points[upper[i]][2]]);for(i=+skipLeft;i<lower.length-skipRight;++i)polygon.push(data[points[lower[i]][2]]);return polygon}var x=d3_geom_pointX,y=d3_geom_pointY;return arguments.length?hull(vertices):(hull.x=function(_){return arguments.length?(x=_,hull):x},hull.y=function(_){return arguments.length?(y=_,hull):y},hull)},d3.geom.polygon=function(coordinates){return d3_subclass(coordinates,d3_geom_polygonPrototype),coordinates};var d3_geom_polygonPrototype=d3.geom.polygon.prototype=[];d3_geom_polygonPrototype.area=function(){for(var a,i=-1,n=this.length,b=this[n-1],area=0;++i<n;)a=b,b=this[i],area+=a[1]*b[0]-a[0]*b[1];return.5*area},d3_geom_polygonPrototype.centroid=function(k){var a,c,i=-1,n=this.length,x=0,y=0,b=this[n-1];for(arguments.length||(k=-1/(6*this.area()));++i<n;)a=b,b=this[i],c=a[0]*b[1]-b[0]*a[1],x+=(a[0]+b[0])*c,y+=(a[1]+b[1])*c;return[x*k,y*k]},d3_geom_polygonPrototype.clip=function(subject){for(var input,j,m,b,c,d,closed=d3_geom_polygonClosed(subject),i=-1,n=this.length-d3_geom_polygonClosed(this),a=this[n-1];++i<n;){for(input=subject.slice(),subject.length=0,b=this[i],c=input[(m=input.length-closed)-1],j=-1;++j<m;)d=input[j],d3_geom_polygonInside(d,a,b)?(d3_geom_polygonInside(c,a,b)||subject.push(d3_geom_polygonIntersect(c,d,a,b)),subject.push(d)):d3_geom_polygonInside(c,a,b)&&subject.push(d3_geom_polygonIntersect(c,d,a,b)),c=d;closed&&subject.push(subject[0]),a=b}return subject};var d3_geom_voronoiEdges,d3_geom_voronoiCells,d3_geom_voronoiBeaches,d3_geom_voronoiFirstCircle,d3_geom_voronoiCircles,d3_geom_voronoiBeachPool=[],d3_geom_voronoiCirclePool=[];d3_geom_voronoiCell.prototype.prepare=function(){for(var edge,halfEdges=this.edges,iHalfEdge=halfEdges.length;iHalfEdge--;)edge=halfEdges[iHalfEdge].edge,edge.b&&edge.a||halfEdges.splice(iHalfEdge,1);return halfEdges.sort(d3_geom_voronoiHalfEdgeOrder),halfEdges.length},d3_geom_voronoiHalfEdge.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},d3_geom_voronoiRedBlackTree.prototype={insert:function(after,node){var parent,grandpa,uncle;if(after){if(node.P=after,node.N=after.N,after.N&&(after.N.P=node),after.N=node,after.R){for(after=after.R;after.L;)after=after.L;after.L=node}else after.R=node;parent=after}else this._?(after=d3_geom_voronoiRedBlackFirst(this._),node.P=null,node.N=after,after.P=after.L=node,parent=after):(node.P=node.N=null,this._=node,parent=null);for(node.L=node.R=null,node.U=parent,node.C=!0,after=node;parent&&parent.C;)grandpa=parent.U,parent===grandpa.L?(uncle=grandpa.R,uncle&&uncle.C?(parent.C=uncle.C=!1,grandpa.C=!0,after=grandpa):(after===parent.R&&(d3_geom_voronoiRedBlackRotateLeft(this,parent),after=parent,parent=after.U),parent.C=!1,grandpa.C=!0,d3_geom_voronoiRedBlackRotateRight(this,grandpa))):(uncle=grandpa.L,uncle&&uncle.C?(parent.C=uncle.C=!1,grandpa.C=!0,after=grandpa):(after===parent.L&&(d3_geom_voronoiRedBlackRotateRight(this,parent),after=parent,parent=after.U),parent.C=!1,grandpa.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,grandpa))),parent=after.U;this._.C=!1},remove:function(node){node.N&&(node.N.P=node.P),node.P&&(node.P.N=node.N),node.N=node.P=null;var sibling,next,red,parent=node.U,left=node.L,right=node.R;if(next=left?right?d3_geom_voronoiRedBlackFirst(right):left:right,parent?parent.L===node?parent.L=next:parent.R=next:this._=next,left&&right?(red=next.C,next.C=node.C,next.L=left,left.U=next,next!==right?(parent=next.U,next.U=node.U,node=next.R,parent.L=node,next.R=right,right.U=next):(next.U=parent,parent=next,node=next.R)):(red=node.C,node=next),node&&(node.U=parent),!red){if(node&&node.C)return void(node.C=!1);do{if(node===this._)break;if(node===parent.L){if(sibling=parent.R,sibling.C&&(sibling.C=!1,parent.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,parent),sibling=parent.R),sibling.L&&sibling.L.C||sibling.R&&sibling.R.C){sibling.R&&sibling.R.C||(sibling.L.C=!1,sibling.C=!0,d3_geom_voronoiRedBlackRotateRight(this,sibling),sibling=parent.R),sibling.C=parent.C,parent.C=sibling.R.C=!1,d3_geom_voronoiRedBlackRotateLeft(this,parent),node=this._;break}}else if(sibling=parent.L,sibling.C&&(sibling.C=!1,parent.C=!0,d3_geom_voronoiRedBlackRotateRight(this,parent),sibling=parent.L),sibling.L&&sibling.L.C||sibling.R&&sibling.R.C){sibling.L&&sibling.L.C||(sibling.R.C=!1,sibling.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,sibling),sibling=parent.L),sibling.C=parent.C,parent.C=sibling.L.C=!1,d3_geom_voronoiRedBlackRotateRight(this,parent),node=this._;break}sibling.C=!0,node=parent,parent=parent.U}while(!node.C);node&&(node.C=!1)}}},d3.geom.voronoi=function(points){function voronoi(data){var polygons=new Array(data.length),x0=clipExtent[0][0],y0=clipExtent[0][1],x1=clipExtent[1][0],y1=clipExtent[1][1];return d3_geom_voronoi(sites(data),clipExtent).cells.forEach(function(cell,i){var edges=cell.edges,site=cell.site,polygon=polygons[i]=edges.length?edges.map(function(e){var s=e.start();return[s.x,s.y]}):site.x>=x0&&site.x<=x1&&site.y>=y0&&site.y<=y1?[[x0,y1],[x1,y1],[x1,y0],[x0,y0]]:[];polygon.point=data[i]}),polygons}function sites(data){return data.map(function(d,i){return{x:Math.round(fx(d,i)/)*,y:Math.round(fy(d,i)/)*,i:i}})}var x=d3_geom_pointX,y=d3_geom_pointY,fx=x,fy=y,clipExtent=d3_geom_voronoiClipExtent;return points?voronoi(points):(voronoi.links=function(data){return d3_geom_voronoi(sites(data)).edges.filter(function(edge){return edge.l&&edge.r}).map(function(edge){return{source:data[edge.l.i],target:data[edge.r.i]}})},voronoi.triangles=function(data){var triangles=[];return d3_geom_voronoi(sites(data)).cells.forEach(function(cell,i){for(var e0,s0,site=cell.site,edges=cell.edges.sort(d3_geom_voronoiHalfEdgeOrder),j=-1,m=edges.length,e1=edges[m-1].edge,s1=e1.l===site?e1.r:e1.l;++j<m;)e0=e1,s0=s1,e1=edges[j].edge,s1=e1.l===site?e1.r:e1.l,i<s0.i&&i<s1.i&&d3_geom_voronoiTriangleArea(site,s0,s1)<0&&triangles.push([data[i],data[s0.i],data[s1.i]])}),triangles},voronoi.x=function(_){return arguments.length?(fx=d3_functor(x=_),voronoi):x},voronoi.y=function(_){return arguments.length?(fy=d3_functor(y=_),voronoi):y},voronoi.clipExtent=function(_){return arguments.length?(clipExtent=null==_?d3_geom_voronoiClipExtent:_,voronoi):clipExtent===d3_geom_voronoiClipExtent?null:clipExtent},voronoi.size=function(_){return arguments.length?voronoi.clipExtent(_&&[[0,0],_]):clipExtent===d3_geom_voronoiClipExtent?null:clipExtent&&clipExtent[1]},voronoi)};var d3_geom_voronoiClipExtent=[[-1e6,-1e6],[1e6,1e6]];d3.geom.delaunay=function(vertices){return d3.geom.voronoi().triangles(vertices)},d3.geom.quadtree=function(points,x1,y1,x2,y2){function quadtree(data){function insert(n,d,x,y,x1,y1,x2,y2){if(!isNaN(x)&&!isNaN(y))if(n.leaf){var nx=n.x,ny=n.y;if(null!=nx)if(abs(nx-x)+abs(ny-y)<.01)insertChild(n,d,x,y,x1,y1,x2,y2);else{var nPoint=n.point;n.x=n.y=n.point=null,insertChild(n,nPoint,nx,ny,x1,y1,x2,y2),insertChild(n,d,x,y,x1,y1,x2,y2)}else n.x=x,n.y=y,n.point=d}else insertChild(n,d,x,y,x1,y1,x2,y2)}function insertChild(n,d,x,y,x1,y1,x2,y2){var xm=.5*(x1+x2),ym=.5*(y1+y2),right=x>=xm,below=y>=ym,i=below<<1|right;n.leaf=!1,n=n.nodes[i]||(n.nodes[i]=d3_geom_quadtreeNode()),right?x1=xm:x2=xm,below?y1=ym:y2=ym,insert(n,d,x,y,x1,y1,x2,y2)}var d,xs,ys,i,n,x1_,y1_,x2_,y2_,fx=d3_functor(x),fy=d3_functor(y);if(null!=x1)x1_=x1,y1_=y1,x2_=x2,y2_=y2;else if(x2_=y2_=-(x1_=y1_=1/0),xs=[],ys=[],n=data.length,compat)for(i=0;i<n;++i)d=data[i],d.x<x1_&&(x1_=d.x),d.y<y1_&&(y1_=d.y),d.x>x2_&&(x2_=d.x),d.y>y2_&&(y2_=d.y),xs.push(d.x),ys.push(d.y);else for(i=0;i<n;++i){var x_=+fx(d=data[i],i),y_=+fy(d,i);x_<x1_&&(x1_=x_),y_<y1_&&(y1_=y_),x_>x2_&&(x2_=x_),y_>y2_&&(y2_=y_),xs.push(x_),ys.push(y_)}var dx=x2_-x1_,dy=y2_-y1_;dx>dy?y2_=y1_+dx:x2_=x1_+dy;var root=d3_geom_quadtreeNode();if(root.add=function(d){insert(root,d,+fx(d,++i),+fy(d,i),x1_,y1_,x2_,y2_)},root.visit=function(f){d3_geom_quadtreeVisit(f,root,x1_,y1_,x2_,y2_)},root.find=function(point){return d3_geom_quadtreeFind(root,point[0],point[1],x1_,y1_,x2_,y2_)},i=-1,null==x1){for(;++i<n;)insert(root,data[i],xs[i],ys[i],x1_,y1_,x2_,y2_);--i}else data.forEach(root.add);return xs=ys=data=d=null,root}var compat,x=d3_geom_pointX,y=d3_geom_pointY;return(compat=arguments.length)?(x=d3_geom_quadtreeCompatX,y=d3_geom_quadtreeCompatY,3===compat&&(y2=y1,x2=x1,y1=x1=0),quadtree(points)):(quadtree.x=function(_){return arguments.length?(x=_,quadtree):x},quadtree.y=function(_){return arguments.length?(y=_,quadtree):y},quadtree.extent=function(_){return arguments.length?(null==_?x1=y1=x2=y2=null:(x1=+_[0][0],y1=+_[0][1],x2=+_[1][0],y2=+_[1][1]),quadtree):null==x1?null:[[x1,y1],[x2,y2]]},quadtree.size=function(_){return arguments.length?(null==_?x1=y1=x2=y2=null:(x1=y1=0,x2=+_[0],y2=+_[1]),quadtree):null==x1?null:[x2-x1,y2-y1]},quadtree)},d3.interpolateRgb=d3_interpolateRgb,d3.interpolateObject=d3_interpolateObject,d3.interpolateNumber=d3_interpolateNumber,d3.interpolateString=d3_interpolateString;var d3_interpolate_numberA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,d3_interpolate_numberB=new RegExp(d3_interpolate_numberA.source,"g");d3.interpolate=d3_interpolate,d3.interpolators=[function(a,b){var t=typeof b;return("string"===t?d3_rgb_names.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?d3_interpolateRgb:d3_interpolateString:b instanceof d3_color?d3_interpolateRgb:Array.isArray(b)?d3_interpolateArray:"object"===t&&isNaN(b)?d3_interpolateObject:d3_interpolateNumber)(a,b)}],d3.interpolateArray=d3_interpolateArray;var d3_ease_default=function(){return d3_identity},d3_ease=d3.map({linear:d3_ease_default,poly:d3_ease_poly,quad:function(){return d3_ease_quad},cubic:function(){return d3_ease_cubic},sin:function(){return d3_ease_sin},exp:function(){return d3_ease_exp},circle:function(){return d3_ease_circle},elastic:d3_ease_elastic,back:d3_ease_back,bounce:function(){return d3_ease_bounce}}),d3_ease_mode=d3.map({"in":d3_identity,out:d3_ease_reverse,"in-out":d3_ease_reflect,"out-in":function(f){return d3_ease_reflect(d3_ease_reverse(f))}});d3.ease=function(name){var i=name.indexOf("-"),t=i>=0?name.slice(0,i):name,m=i>=0?name.slice(i+1):"in";return t=d3_ease.get(t)||d3_ease_default,m=d3_ease_mode.get(m)||d3_identity,d3_ease_clamp(m(t.apply(null,d3_arraySlice.call(arguments,1))))},d3.interpolateHcl=d3_interpolateHcl,d3.interpolateHsl=d3_interpolateHsl,d3.interpolateLab=d3_interpolateLab,d3.interpolateRound=d3_interpolateRound,d3.transform=function(string){var g=d3_document.createElementNS(d3.ns.prefix.svg,"g");return(d3.transform=function(string){if(null!=string){g.setAttribute("transform",string);var t=g.transform.baseVal.consolidate()}return new d3_transform(t?t.matrix:d3_transformIdentity)})(string)},d3_transform.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var d3_transformIdentity={a:1,b:0,c:0,d:1,e:0,f:0};d3.interpolateTransform=d3_interpolateTransform,d3.layout={},d3.layout.bundle=function(){return function(links){for(var paths=[],i=-1,n=links.length;++i<n;)paths.push(d3_layout_bundlePath(links[i]));return paths}},d3.layout.chord=function(){function relayout(){var k,x,x0,i,j,subgroups={},groupSums=[],groupIndex=d3.range(n),subgroupIndex=[];for(chords=[],groups=[],k=0,i=-1;++i<n;){for(x=0,j=-1;++j<n;)x+=matrix[i][j];groupSums.push(x),subgroupIndex.push(d3.range(n)),k+=x}for(sortGroups&&groupIndex.sort(function(a,b){return sortGroups(groupSums[a],groupSums[b])}),sortSubgroups&&subgroupIndex.forEach(function(d,i){d.sort(function(a,b){return sortSubgroups(matrix[i][a],matrix[i][b])})}),k=(-padding*n)/k,x=0,i=-1;++i<n;){for(x0=x,j=-1;++j<n;){var di=groupIndex[i],dj=subgroupIndex[di][j],v=matrix[di][dj],a0=x,a1=x+=v*k;subgroups[di+"-"+dj]={index:di,subindex:dj,startAngle:a0,endAngle:a1,value:v}}groups[di]={index:di,startAngle:x0,endAngle:x,value:(x-x0)/k},x+=padding}for(i=-1;++i<n;)for(j=i-1;++j<n;){var source=subgroups[i+"-"+j],target=subgroups[j+"-"+i];(source.value||target.value)&&chords.push(source.value<target.value?{source:target,target:source}:{source:source,target:target})}sortChords&&resort()}function resort(){chords.sort(function(a,b){return sortChords((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var chords,groups,matrix,n,sortGroups,sortSubgroups,sortChords,chord={},padding=0;return chord.matrix=function(x){return arguments.length?(n=(matrix=x)&&matrix.length,chords=groups=null,chord):matrix},chord.padding=function(x){return arguments.length?(padding=x,chords=groups=null,chord):padding},chord.sortGroups=function(x){return arguments.length?(sortGroups=x,chords=groups=null,chord):sortGroups},chord.sortSubgroups=function(x){return arguments.length?(sortSubgroups=x,chords=null,chord):sortSubgroups},chord.sortChords=function(x){return arguments.length?(sortChords=x,chords&&resort(),chord):sortChords},chord.chords=function(){return chords||relayout(),chords},chord.groups=function(){return groups||relayout(),groups},chord},d3.layout.force=function(){function repulse(node){return function(quad,x1,_,x2){if(quad.point!==node){var dx=quad.cx-node.x,dy=quad.cy-node.y,dw=x2-x1,dn=dx*dx+dy*dy;if(dw*dw/theta2<dn){if(dn<chargeDistance2){var k=quad.charge/dn;node.px-=dx*k,node.py-=dy*k}return!0}if(quad.point&&dn&&dn<chargeDistance2){var k=quad.pointCharge/dn;node.px-=dx*k,node.py-=dy*k}}return!quad.charge}}function dragmove(d){d.px=d3.event.x,d.py=d3.event.y,force.resume()}var drag,alpha,distances,strengths,charges,force={},event=d3.dispatch("start","tick","end"),size=[1,1],friction=.9,linkDistance=d3_layout_forceLinkDistance,linkStrength=d3_layout_forceLinkStrength,charge=-30,chargeDistance2=d3_layout_forceChargeDistance2,gravity=.1,theta2=.64,nodes=[],links=[];return force.tick=function(){if((alpha*=.99)<.005)return event.end({type:"end",alpha:alpha=0}),!0;var q,i,o,s,t,l,k,x,y,n=nodes.length,m=links.length;for(i=0;i<m;++i)o=links[i],s=o.source,t=o.target,x=t.x-s.x,y=t.y-s.y,(l=x*x+y*y)&&(l=alpha*strengths[i]*((l=Math.sqrt(l))-distances[i])/l,x*=l,y*=l,t.x-=x*(k=s.weight/(t.weight+s.weight)),t.y-=y*k,s.x+=x*(k=1-k),s.y+=y*k);if((k=alpha*gravity)&&(x=size[0]/2,y=size[1]/2,i=-1,k))for(;++i<n;)o=nodes[i],o.x+=(x-o.x)*k,o.y+=(y-o.y)*k;if(charge)for(d3_layout_forceAccumulate(q=d3.geom.quadtree(nodes),alpha,charges),i=-1;++i<n;)(o=nodes[i]).fixed||q.visit(repulse(o));for(i=-1;++i<n;)o=nodes[i],o.fixed?(o.x=o.px,o.y=o.py):(o.x-=(o.px-(o.px=o.x))*friction,o.y-=(o.py-(o.py=o.y))*friction);event.tick({type:"tick",alpha:alpha})},force.nodes=function(x){return arguments.length?(nodes=x,force):nodes},force.links=function(x){return arguments.length?(links=x,force):links},force.size=function(x){return arguments.length?(size=x,force):size},force.linkDistance=function(x){return arguments.length?(linkDistance="function"==typeof x?x:+x,force):linkDistance},force.distance=force.linkDistance,force.linkStrength=function(x){return arguments.length?(linkStrength="function"==typeof x?x:+x,force):linkStrength},force.friction=function(x){return arguments.length?(friction=+x,force):friction},force.charge=function(x){return arguments.length?(charge="function"==typeof x?x:+x,force):charge},force.chargeDistance=function(x){return arguments.length?(chargeDistance2=x*x,force):Math.sqrt(chargeDistance2)},force.gravity=function(x){return arguments.length?(gravity=+x,force):gravity},force.theta=function(x){return arguments.length?(theta2=x*x,force):Math.sqrt(theta2)},force.alpha=function(x){return arguments.length?(x=+x,alpha?alpha=x>0?x:0:x>0&&(event.start({type:"start",alpha:alpha=x}),d3.timer(force.tick)),force):alpha},force.start=function(){function position(dimension,size){if(!neighbors){for(neighbors=new Array(n),j=0;j<n;++j)neighbors[j]=[];for(j=0;j<m;++j){var o=links[j];neighbors[o.source.index].push(o.target),neighbors[o.target.index].push(o.source)}}for(var x,candidates=neighbors[i],j=-1,l=candidates.length;++j<l;)if(!isNaN(x=candidates[j][dimension]))return x;return Math.random()*size}var i,neighbors,o,n=nodes.length,m=links.length,w=size[0],h=size[1];for(i=0;i<n;++i)(o=nodes[i]).index=i,o.weight=0;for(i=0;i<m;++i)o=links[i],"number"==typeof o.source&&(o.source=nodes[o.source]),"number"==typeof o.target&&(o.target=nodes[o.target]),++o.source.weight,++o.target.weight;for(i=0;i<n;++i)o=nodes[i],isNaN(o.x)&&(o.x=position("x",w)),isNaN(o.y)&&(o.y=position("y",h)),isNaN(o.px)&&(o.px=o.x),isNaN(o.py)&&(o.py=o.y);if(distances=[],"function"==typeof linkDistance)for(i=0;i<m;++i)distances[i]=+linkDistance.call(this,links[i],i);else for(i=0;i<m;++i)distances[i]=linkDistance;if(strengths=[],"function"==typeof linkStrength)for(i=0;i<m;++i)strengths[i]=+linkStrength.call(this,links[i],i);else for(i=0;i<m;++i)strengths[i]=linkStrength;if(charges=[],"function"==typeof charge)for(i=0;i<n;++i)charges[i]=+charge.call(this,nodes[i],i);else for(i=0;i<n;++i)charges[i]=charge;return force.resume()},force.resume=function(){return force.alpha(.1)},force.stop=function(){return force.alpha(0)},force.drag=function(){return drag||(drag=d3.behavior.drag().origin(d3_identity).on("dragstart.force",d3_layout_forceDragstart).on("drag.force",dragmove).on("dragend.force",d3_layout_forceDragend)),arguments.length?void this.on("mouseover.force",d3_layout_forceMouseover).on("mouseout.force",d3_layout_forceMouseout).call(drag):drag},d3.rebind(force,event,"on")};var d3_layout_forceLinkDistance=20,d3_layout_forceLinkStrength=1,d3_layout_forceChargeDistance2=1/0;d3.layout.hierarchy=function(){function hierarchy(root){
var node,stack=[root],nodes=[];for(root.depth=0;null!=(node=stack.pop());)if(nodes.push(node),(childs=children.call(hierarchy,node,node.depth))&&(n=childs.length)){for(var n,childs,child;--n>=0;)stack.push(child=childs[n]),child.parent=node,child.depth=node.depth+1;value&&(node.value=0),node.children=childs}else value&&(node.value=+value.call(hierarchy,node,node.depth)||0),delete node.children;return d3_layout_hierarchyVisitAfter(root,function(node){var childs,parent;sort&&(childs=node.children)&&childs.sort(sort),value&&(parent=node.parent)&&(parent.value+=node.value)}),nodes}var sort=d3_layout_hierarchySort,children=d3_layout_hierarchyChildren,value=d3_layout_hierarchyValue;return hierarchy.sort=function(x){return arguments.length?(sort=x,hierarchy):sort},hierarchy.children=function(x){return arguments.length?(children=x,hierarchy):children},hierarchy.value=function(x){return arguments.length?(value=x,hierarchy):value},hierarchy.revalue=function(root){return value&&(d3_layout_hierarchyVisitBefore(root,function(node){node.children&&(node.value=0)}),d3_layout_hierarchyVisitAfter(root,function(node){var parent;node.children||(node.value=+value.call(hierarchy,node,node.depth)||0),(parent=node.parent)&&(parent.value+=node.value)})),root},hierarchy},d3.layout.partition=function(){function position(node,x,dx,dy){var children=node.children;if(node.x=x,node.y=node.depth*dy,node.dx=dx,node.dy=dy,children&&(n=children.length)){var n,c,d,i=-1;for(dx=node.value?dx/node.value:0;++i<n;)position(c=children[i],x,d=c.value*dx,dy),x+=d}}function depth(node){var children=node.children,d=0;if(children&&(n=children.length))for(var n,i=-1;++i<n;)d=Math.max(d,depth(children[i]));return 1+d}function partition(d,i){var nodes=hierarchy.call(this,d,i);return position(nodes[0],0,size[0],size[1]/depth(nodes[0])),nodes}var hierarchy=d3.layout.hierarchy(),size=[1,1];return partition.size=function(x){return arguments.length?(size=x,partition):size},d3_layout_hierarchyRebind(partition,hierarchy)},d3.layout.pie=function(){function pie(data){var v,n=data.length,values=data.map(function(d,i){return+value.call(pie,d,i)}),a=+("function"==typeof startAngle?startAngle.apply(this,arguments):startAngle),da=("function"==typeof endAngle?endAngle.apply(this,arguments):endAngle)-a,p=Math.min(Math.abs(da)/n,+("function"==typeof padAngle?padAngle.apply(this,arguments):padAngle)),pa=p*(da<0?-1:1),k=(da-n*pa)/d3.sum(values),index=d3.range(n),arcs=[];return null!=sort&&index.sort(sort===d3_layout_pieSortByValue?function(i,j){return values[j]-values[i]}:function(i,j){return sort(data[i],data[j])}),index.forEach(function(i){arcs[i]={data:data[i],value:v=values[i],startAngle:a,endAngle:a+=v*k+pa,padAngle:p}}),arcs}var value=Number,sort=d3_layout_pieSortByValue,startAngle=0,endAngle=,padAngle=0;return pie.value=function(_){return arguments.length?(value=_,pie):value},pie.sort=function(_){return arguments.length?(sort=_,pie):sort},pie.startAngle=function(_){return arguments.length?(startAngle=_,pie):startAngle},pie.endAngle=function(_){return arguments.length?(endAngle=_,pie):endAngle},pie.padAngle=function(_){return arguments.length?(padAngle=_,pie):padAngle},pie};var d3_layout_pieSortByValue={};d3.layout.stack=function(){function stack(data,index){if(!(n=data.length))return data;var series=data.map(function(d,i){return values.call(stack,d,i)}),points=series.map(function(d){return d.map(function(v,i){return[x.call(stack,v,i),y.call(stack,v,i)]})}),orders=order.call(stack,points,index);series=d3.permute(series,orders),points=d3.permute(points,orders);var n,i,j,o,offsets=offset.call(stack,points,index),m=series[0].length;for(j=0;j<m;++j)for(out.call(stack,series[0][j],o=offsets[j],points[0][j][1]),i=1;i<n;++i)out.call(stack,series[i][j],o+=points[i-1][j][1],points[i][j][1]);return data}var values=d3_identity,order=d3_layout_stackOrderDefault,offset=d3_layout_stackOffsetZero,out=d3_layout_stackOut,x=d3_layout_stackX,y=d3_layout_stackY;return stack.values=function(x){return arguments.length?(values=x,stack):values},stack.order=function(x){return arguments.length?(order="function"==typeof x?x:d3_layout_stackOrders.get(x)||d3_layout_stackOrderDefault,stack):order},stack.offset=function(x){return arguments.length?(offset="function"==typeof x?x:d3_layout_stackOffsets.get(x)||d3_layout_stackOffsetZero,stack):offset},stack.x=function(z){return arguments.length?(x=z,stack):x},stack.y=function(z){return arguments.length?(y=z,stack):y},stack.out=function(z){return arguments.length?(out=z,stack):out},stack};var d3_layout_stackOrders=d3.map({"inside-out":function(data){var i,j,n=data.length,max=data.map(d3_layout_stackMaxIndex),sums=data.map(d3_layout_stackReduceSum),index=d3.range(n).sort(function(a,b){return max[a]-max[b]}),top=0,bottom=0,tops=[],bottoms=[];for(i=0;i<n;++i)j=index[i],top<bottom?(top+=sums[j],tops.push(j)):(bottom+=sums[j],bottoms.push(j));return bottoms.reverse().concat(tops)},reverse:function(data){return d3.range(data.length).reverse()},"default":d3_layout_stackOrderDefault}),d3_layout_stackOffsets=d3.map({silhouette:function(data){var i,j,o,n=data.length,m=data[0].length,sums=[],max=0,y0=[];for(j=0;j<m;++j){for(i=0,o=0;i<n;i++)o+=data[i][j][1];o>max&&(max=o),sums.push(o)}for(j=0;j<m;++j)y0[j]=(max-sums[j])/2;return y0},wiggle:function(data){var i,j,k,s1,s2,s3,dx,o,o0,n=data.length,x=data[0],m=x.length,y0=[];for(y0[0]=o=o0=0,j=1;j<m;++j){for(i=0,s1=0;i<n;++i)s1+=data[i][j][1];for(i=0,s2=0,dx=x[j][0]-x[j-1][0];i<n;++i){for(k=0,s3=(data[i][j][1]-data[i][j-1][1])/(2*dx);k<i;++k)s3+=(data[k][j][1]-data[k][j-1][1])/dx;s2+=s3*data[i][j][1]}y0[j]=o-=s1?s2/s1*dx:0,o<o0&&(o0=o)}for(j=0;j<m;++j)y0[j]-=o0;return y0},expand:function(data){var i,j,o,n=data.length,m=data[0].length,k=1/n,y0=[];for(j=0;j<m;++j){for(i=0,o=0;i<n;i++)o+=data[i][j][1];if(o)for(i=0;i<n;i++)data[i][j][1]/=o;else for(i=0;i<n;i++)data[i][j][1]=k}for(j=0;j<m;++j)y0[j]=0;return y0},zero:d3_layout_stackOffsetZero});d3.layout.histogram=function(){function histogram(data,i){for(var bin,x,bins=[],values=data.map(valuer,this),range=ranger.call(this,values,i),thresholds=binner.call(this,range,values,i),i=-1,n=values.length,m=thresholds.length-1,k=frequency?1:1/n;++i<m;)bin=bins[i]=[],bin.dx=thresholds[i+1]-(bin.x=thresholds[i]),bin.y=0;if(m>0)for(i=-1;++i<n;)x=values[i],x>=range[0]&&x<=range[1]&&(bin=bins[d3.bisect(thresholds,x,1,m)-1],bin.y+=k,bin.push(data[i]));return bins}var frequency=!0,valuer=Number,ranger=d3_layout_histogramRange,binner=d3_layout_histogramBinSturges;return histogram.value=function(x){return arguments.length?(valuer=x,histogram):valuer},histogram.range=function(x){return arguments.length?(ranger=d3_functor(x),histogram):ranger},histogram.bins=function(x){return arguments.length?(binner="number"==typeof x?function(range){return d3_layout_histogramBinFixed(range,x)}:d3_functor(x),histogram):binner},histogram.frequency=function(x){return arguments.length?(frequency=!!x,histogram):frequency},histogram},d3.layout.pack=function(){function pack(d,i){var nodes=hierarchy.call(this,d,i),root=nodes[0],w=size[0],h=size[1],r=null==radius?Math.sqrt:"function"==typeof radius?radius:function(){return radius};if(root.x=root.y=0,d3_layout_hierarchyVisitAfter(root,function(d){d.r=+r(d.value)}),d3_layout_hierarchyVisitAfter(root,d3_layout_packSiblings),padding){var dr=padding*(radius?1:Math.max(2*root.r/w,2*root.r/h))/2;d3_layout_hierarchyVisitAfter(root,function(d){d.r+=dr}),d3_layout_hierarchyVisitAfter(root,d3_layout_packSiblings),d3_layout_hierarchyVisitAfter(root,function(d){d.r-=dr})}return d3_layout_packTransform(root,w/2,h/2,radius?1:1/Math.max(2*root.r/w,2*root.r/h)),nodes}var radius,hierarchy=d3.layout.hierarchy().sort(d3_layout_packSort),padding=0,size=[1,1];return pack.size=function(_){return arguments.length?(size=_,pack):size},pack.radius=function(_){return arguments.length?(radius=null==_||"function"==typeof _?_:+_,pack):radius},pack.padding=function(_){return arguments.length?(padding=+_,pack):padding},d3_layout_hierarchyRebind(pack,hierarchy)},d3.layout.tree=function(){function tree(d,i){var nodes=hierarchy.call(this,d,i),root0=nodes[0],root1=wrapTree(root0);if(d3_layout_hierarchyVisitAfter(root1,firstWalk),root1.parent.m=-root1.z,d3_layout_hierarchyVisitBefore(root1,secondWalk),nodeSize)d3_layout_hierarchyVisitBefore(root0,sizeNode);else{var left=root0,right=root0,bottom=root0;d3_layout_hierarchyVisitBefore(root0,function(node){node.x<left.x&&(left=node),node.x>right.x&&(right=node),node.depth>bottom.depth&&(bottom=node)});var tx=separation(left,right)/2-left.x,kx=size[0]/(right.x+separation(right,left)/2+tx),ky=size[1]/(bottom.depth||1);d3_layout_hierarchyVisitBefore(root0,function(node){node.x=(node.x+tx)*kx,node.y=node.depth*ky})}return nodes}function wrapTree(root0){for(var node1,root1={A:null,children:[root0]},queue=[root1];null!=(node1=queue.pop());)for(var child,children=node1.children,i=0,n=children.length;i<n;++i)queue.push((children[i]=child={_:children[i],parent:node1,children:(child=children[i].children)&&child.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:i}).a=child);return root1.children[0]}function firstWalk(v){var children=v.children,siblings=v.parent.children,w=v.i?siblings[v.i-1]:null;if(children.length){d3_layout_treeShift(v);var midpoint=(children[0].z+children[children.length-1].z)/2;w?(v.z=w.z+separation(v._,w._),v.m=v.z-midpoint):v.z=midpoint}else w&&(v.z=w.z+separation(v._,w._));v.parent.A=apportion(v,w,v.parent.A||siblings[0])}function secondWalk(v){v._.x=v.z+v.parent.m,v.m+=v.parent.m}function apportion(v,w,ancestor){if(w){for(var shift,vip=v,vop=v,vim=w,vom=vip.parent.children[0],sip=vip.m,sop=vop.m,sim=vim.m,som=vom.m;vim=d3_layout_treeRight(vim),vip=d3_layout_treeLeft(vip),vim&&vip;)vom=d3_layout_treeLeft(vom),vop=d3_layout_treeRight(vop),vop.a=v,shift=vim.z+sim-vip.z-sip+separation(vim._,vip._),shift>0&&(d3_layout_treeMove(d3_layout_treeAncestor(vim,v,ancestor),v,shift),sip+=shift,sop+=shift),sim+=vim.m,sip+=vip.m,som+=vom.m,sop+=vop.m;vim&&!d3_layout_treeRight(vop)&&(vop.t=vim,vop.m+=sim-sop),vip&&!d3_layout_treeLeft(vom)&&(vom.t=vip,vom.m+=sip-som,ancestor=v)}return ancestor}function sizeNode(node){node.x*=size[0],node.y=node.depth*size[1]}var hierarchy=d3.layout.hierarchy().sort(null).value(null),separation=d3_layout_treeSeparation,size=[1,1],nodeSize=null;return tree.separation=function(x){return arguments.length?(separation=x,tree):separation},tree.size=function(x){return arguments.length?(nodeSize=null==(size=x)?sizeNode:null,tree):nodeSize?null:size},tree.nodeSize=function(x){return arguments.length?(nodeSize=null==(size=x)?null:sizeNode,tree):nodeSize?size:null},d3_layout_hierarchyRebind(tree,hierarchy)},d3.layout.cluster=function(){function cluster(d,i){var previousNode,nodes=hierarchy.call(this,d,i),root=nodes[0],x=0;d3_layout_hierarchyVisitAfter(root,function(node){var children=node.children;children&&children.length?(node.x=d3_layout_clusterX(children),node.y=d3_layout_clusterY(children)):(node.x=previousNode?x+=separation(node,previousNode):0,node.y=0,previousNode=node)});var left=d3_layout_clusterLeft(root),right=d3_layout_clusterRight(root),x0=left.x-separation(left,right)/2,x1=right.x+separation(right,left)/2;return d3_layout_hierarchyVisitAfter(root,nodeSize?function(node){node.x=(node.x-root.x)*size[0],node.y=(root.y-node.y)*size[1]}:function(node){node.x=(node.x-x0)/(x1-x0)*size[0],node.y=(1-(root.y?node.y/root.y:1))*size[1]}),nodes}var hierarchy=d3.layout.hierarchy().sort(null).value(null),separation=d3_layout_treeSeparation,size=[1,1],nodeSize=!1;return cluster.separation=function(x){return arguments.length?(separation=x,cluster):separation},cluster.size=function(x){return arguments.length?(nodeSize=null==(size=x),cluster):nodeSize?null:size},cluster.nodeSize=function(x){return arguments.length?(nodeSize=null!=(size=x),cluster):nodeSize?size:null},d3_layout_hierarchyRebind(cluster,hierarchy)},d3.layout.treemap=function(){function scale(children,k){for(var child,area,i=-1,n=children.length;++i<n;)area=(child=children[i]).value*(k<0?0:k),child.area=isNaN(area)||area<=0?0:area}function squarify(node){var children=node.children;if(children&&children.length){var child,score,n,rect=pad(node),row=[],remaining=children.slice(),best=1/0,u="slice"===mode?rect.dx:"dice"===mode?rect.dy:"slice-dice"===mode?1&node.depth?rect.dy:rect.dx:Math.min(rect.dx,rect.dy);for(scale(remaining,rect.dx*rect.dy/node.value),row.area=0;(n=remaining.length)>0;)row.push(child=remaining[n-1]),row.area+=child.area,"squarify"!==mode||(score=worst(row,u))<=best?(remaining.pop(),best=score):(row.area-=row.pop().area,position(row,u,rect,!1),u=Math.min(rect.dx,rect.dy),row.length=row.area=0,best=1/0);row.length&&(position(row,u,rect,!0),row.length=row.area=0),children.forEach(squarify)}}function stickify(node){var children=node.children;if(children&&children.length){var child,rect=pad(node),remaining=children.slice(),row=[];for(scale(remaining,rect.dx*rect.dy/node.value),row.area=0;child=remaining.pop();)row.push(child),row.area+=child.area,null!=child.z&&(position(row,child.z?rect.dx:rect.dy,rect,!remaining.length),row.length=row.area=0);children.forEach(stickify)}}function worst(row,u){for(var r,s=row.area,rmax=0,rmin=1/0,i=-1,n=row.length;++i<n;)(r=row[i].area)&&(r<rmin&&(rmin=r),r>rmax&&(rmax=r));return s*=s,u*=u,s?Math.max(u*rmax*ratio/s,s/(u*rmin*ratio)):1/0}function position(row,u,rect,flush){var o,i=-1,n=row.length,x=rect.x,y=rect.y,v=u?round(row.area/u):0;if(u==rect.dx){for((flush||v>rect.dy)&&(v=rect.dy);++i<n;)o=row[i],o.x=x,o.y=y,o.dy=v,x+=o.dx=Math.min(rect.x+rect.dx-x,v?round(o.area/v):0);o.z=!0,o.dx+=rect.x+rect.dx-x,rect.y+=v,rect.dy-=v}else{for((flush||v>rect.dx)&&(v=rect.dx);++i<n;)o=row[i],o.x=x,o.y=y,o.dx=v,y+=o.dy=Math.min(rect.y+rect.dy-y,v?round(o.area/v):0);o.z=!1,o.dy+=rect.y+rect.dy-y,rect.x+=v,rect.dx-=v}}function treemap(d){var nodes=stickies||hierarchy(d),root=nodes[0];return root.x=0,root.y=0,root.dx=size[0],root.dy=size[1],stickies&&hierarchy.revalue(root),scale([root],root.dx*root.dy/root.value),(stickies?stickify:squarify)(root),sticky&&(stickies=nodes),nodes}var stickies,hierarchy=d3.layout.hierarchy(),round=Math.round,size=[1,1],padding=null,pad=d3_layout_treemapPadNull,sticky=!1,mode="squarify",ratio=.5*(1+Math.sqrt(5));return treemap.size=function(x){return arguments.length?(size=x,treemap):size},treemap.padding=function(x){function padFunction(node){var p=x.call(treemap,node,node.depth);return null==p?d3_layout_treemapPadNull(node):d3_layout_treemapPad(node,"number"==typeof p?[p,p,p,p]:p)}function padConstant(node){return d3_layout_treemapPad(node,x)}if(!arguments.length)return padding;var type;return pad=null==(padding=x)?d3_layout_treemapPadNull:"function"==(type=typeof x)?padFunction:"number"===type?(x=[x,x,x,x],padConstant):padConstant,treemap},treemap.round=function(x){return arguments.length?(round=x?Math.round:Number,treemap):round!=Number},treemap.sticky=function(x){return arguments.length?(sticky=x,stickies=null,treemap):sticky},treemap.ratio=function(x){return arguments.length?(ratio=x,treemap):ratio},treemap.mode=function(x){return arguments.length?(mode=x+"",treemap):mode},d3_layout_hierarchyRebind(treemap,hierarchy)},d3.random={normal:function(,){var n=arguments.length;return n<2&&(=1),n<1&&(=0),function(){var x,y,r;do x=2*Math.random()-1,y=2*Math.random()-1,r=x*x+y*y;while(!r||r>1);return +*x*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var random=d3.random.normal.apply(d3,arguments);return function(){return Math.exp(random())}},bates:function(m){var random=d3.random.irwinHall(m);return function(){return random()/m}},irwinHall:function(m){return function(){for(var s=0,j=0;j<m;j++)s+=Math.random();return s}}},d3.scale={};var d3_scale_niceIdentity={floor:d3_identity,ceil:d3_identity};d3.scale.linear=function(){return d3_scale_linear([0,1],[0,1],d3_interpolate,!1)};var d3_scale_linearFormatSignificant={s:1,g:1,p:1,r:1,e:1};d3.scale.log=function(){return d3_scale_log(d3.scale.linear().domain([0,1]),10,!0,[1,10])};var d3_scale_logFormat=d3.format(".0e"),d3_scale_logNiceNegative={floor:function(x){return-Math.ceil(-x)},ceil:function(x){return-Math.floor(-x)}};d3.scale.pow=function(){return d3_scale_pow(d3.scale.linear(),1,[0,1])},d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)},d3.scale.ordinal=function(){return d3_scale_ordinal([],{t:"range",a:[[]]})},d3.scale.category10=function(){return d3.scale.ordinal().range(d3_category10)},d3.scale.category20=function(){return d3.scale.ordinal().range(d3_category20)},d3.scale.category20b=function(){return d3.scale.ordinal().range(d3_category20b)},d3.scale.category20c=function(){return d3.scale.ordinal().range(d3_category20c)};var d3_category10=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(d3_rgbString),d3_category20=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(d3_rgbString),d3_category20b=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(d3_rgbString),d3_category20c=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(d3_rgbString);d3.scale.quantile=function(){return d3_scale_quantile([],[])},d3.scale.quantize=function(){return d3_scale_quantize(0,1,[0,1])},d3.scale.threshold=function(){return d3_scale_threshold([.5],[0,1])},d3.scale.identity=function(){return d3_scale_identity([0,1])},d3.svg={},d3.svg.arc=function(){function arc(){var r0=Math.max(0,+innerRadius.apply(this,arguments)),r1=Math.max(0,+outerRadius.apply(this,arguments)),a0=startAngle.apply(this,arguments)-half,a1=endAngle.apply(this,arguments)-half,da=Math.abs(a1-a0),cw=a0>a1?0:1;if(r1<r0&&(rc=r1,r1=r0,r0=rc),da>=)return circleSegment(r1,cw)+(r0?circleSegment(r0,1-cw):"")+"Z";var rc,cr,rp,ap,x0,y0,x1,y1,x2,y2,x3,y3,p0=0,p1=0,path=[];if((ap=(+padAngle.apply(this,arguments)||0)/2)&&(rp=padRadius===d3_svg_arcAuto?Math.sqrt(r0*r0+r1*r1):+padRadius.apply(this,arguments),cw||(p1*=-1),r1&&(p1=d3_asin(rp/r1*Math.sin(ap))),r0&&(p0=d3_asin(rp/r0*Math.sin(ap)))),r1){x0=r1*Math.cos(a0+p1),y0=r1*Math.sin(a0+p1),x1=r1*Math.cos(a1-p1),y1=r1*Math.sin(a1-p1);var l1=Math.abs(a1-a0-2*p1)<=?0:1;if(p1&&d3_svg_arcSweep(x0,y0,x1,y1)===cw^l1){var h1=(a0+a1)/2;x0=r1*Math.cos(h1),y0=r1*Math.sin(h1),x1=y1=null}}else x0=y0=0;if(r0){x2=r0*Math.cos(a1-p0),y2=r0*Math.sin(a1-p0),x3=r0*Math.cos(a0+p0),y3=r0*Math.sin(a0+p0);var l0=Math.abs(a0-a1+2*p0)<=?0:1;if(p0&&d3_svg_arcSweep(x2,y2,x3,y3)===1-cw^l0){var h0=(a0+a1)/2;x2=r0*Math.cos(h0),y2=r0*Math.sin(h0),x3=y3=null}}else x2=y2=0;if((rc=Math.min(Math.abs(r1-r0)/2,+cornerRadius.apply(this,arguments)))>.001){cr=r0<r1^cw?0:1;var oc=null==x3?[x2,y2]:null==x1?[x0,y0]:d3_geom_polygonIntersect([x0,y0],[x3,y3],[x1,y1],[x2,y2]),ax=x0-oc[0],ay=y0-oc[1],bx=x1-oc[0],by=y1-oc[1],kc=1/Math.sin(Math.acos((ax*bx+ay*by)/(Math.sqrt(ax*ax+ay*ay)*Math.sqrt(bx*bx+by*by)))/2),lc=Math.sqrt(oc[0]*oc[0]+oc[1]*oc[1]);if(null!=x1){var rc1=Math.min(rc,(r1-lc)/(kc+1)),t30=d3_svg_arcCornerTangents(null==x3?[x2,y2]:[x3,y3],[x0,y0],r1,rc1,cw),t12=d3_svg_arcCornerTangents([x1,y1],[x2,y2],r1,rc1,cw);rc===rc1?path.push("M",t30[0],"A",rc1,",",rc1," 0 0,",cr," ",t30[1],"A",r1,",",r1," 0 ",1-cw^d3_svg_arcSweep(t30[1][0],t30[1][1],t12[1][0],t12[1][1]),",",cw," ",t12[1],"A",rc1,",",rc1," 0 0,",cr," ",t12[0]):path.push("M",t30[0],"A",rc1,",",rc1," 0 1,",cr," ",t12[0])}else path.push("M",x0,",",y0);if(null!=x3){var rc0=Math.min(rc,(r0-lc)/(kc-1)),t03=d3_svg_arcCornerTangents([x0,y0],[x3,y3],r0,-rc0,cw),t21=d3_svg_arcCornerTangents([x2,y2],null==x1?[x0,y0]:[x1,y1],r0,-rc0,cw);rc===rc0?path.push("L",t21[0],"A",rc0,",",rc0," 0 0,",cr," ",t21[1],"A",r0,",",r0," 0 ",cw^d3_svg_arcSweep(t21[1][0],t21[1][1],t03[1][0],t03[1][1]),",",1-cw," ",t03[1],"A",rc0,",",rc0," 0 0,",cr," ",t03[0]):path.push("L",t21[0],"A",rc0,",",rc0," 0 0,",cr," ",t03[0])}else path.push("L",x2,",",y2)}else path.push("M",x0,",",y0),null!=x1&&path.push("A",r1,",",r1," 0 ",l1,",",cw," ",x1,",",y1),path.push("L",x2,",",y2),null!=x3&&path.push("A",r0,",",r0," 0 ",l0,",",1-cw," ",x3,",",y3);return path.push("Z"),path.join("")}function circleSegment(r1,cw){return"M0,"+r1+"A"+r1+","+r1+" 0 1,"+cw+" 0,"+-r1+"A"+r1+","+r1+" 0 1,"+cw+" 0,"+r1}var innerRadius=d3_svg_arcInnerRadius,outerRadius=d3_svg_arcOuterRadius,cornerRadius=d3_zero,padRadius=d3_svg_arcAuto,startAngle=d3_svg_arcStartAngle,endAngle=d3_svg_arcEndAngle,padAngle=d3_svg_arcPadAngle;return arc.innerRadius=function(v){return arguments.length?(innerRadius=d3_functor(v),arc):innerRadius},arc.outerRadius=function(v){return arguments.length?(outerRadius=d3_functor(v),arc):outerRadius},arc.cornerRadius=function(v){return arguments.length?(cornerRadius=d3_functor(v),arc):cornerRadius},arc.padRadius=function(v){return arguments.length?(padRadius=v==d3_svg_arcAuto?d3_svg_arcAuto:d3_functor(v),arc):padRadius},arc.startAngle=function(v){return arguments.length?(startAngle=d3_functor(v),arc):startAngle},arc.endAngle=function(v){return arguments.length?(endAngle=d3_functor(v),arc):endAngle},arc.padAngle=function(v){return arguments.length?(padAngle=d3_functor(v),arc):padAngle},arc.centroid=function(){var r=(+innerRadius.apply(this,arguments)+ +outerRadius.apply(this,arguments))/2,a=(+startAngle.apply(this,arguments)+ +endAngle.apply(this,arguments))/2-half;return[Math.cos(a)*r,Math.sin(a)*r]},arc};var d3_svg_arcAuto="auto";d3.svg.line=function(){return d3_svg_line(d3_identity)};var d3_svg_lineInterpolators=d3.map({linear:d3_svg_lineLinear,"linear-closed":d3_svg_lineLinearClosed,step:d3_svg_lineStep,"step-before":d3_svg_lineStepBefore,"step-after":d3_svg_lineStepAfter,basis:d3_svg_lineBasis,"basis-open":d3_svg_lineBasisOpen,"basis-closed":d3_svg_lineBasisClosed,bundle:d3_svg_lineBundle,cardinal:d3_svg_lineCardinal,"cardinal-open":d3_svg_lineCardinalOpen,"cardinal-closed":d3_svg_lineCardinalClosed,monotone:d3_svg_lineMonotone});d3_svg_lineInterpolators.forEach(function(key,value){value.key=key,value.closed=/-closed$/.test(key)});var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var line=d3_svg_line(d3_svg_lineRadial);return line.radius=line.x,delete line.x,line.angle=line.y,delete line.y,line},d3_svg_lineStepBefore.reverse=d3_svg_lineStepAfter,d3_svg_lineStepAfter.reverse=d3_svg_lineStepBefore,d3.svg.area=function(){return d3_svg_area(d3_identity)},d3.svg.area.radial=function(){var area=d3_svg_area(d3_svg_lineRadial);return area.radius=area.x,delete area.x,area.innerRadius=area.x0,delete area.x0,area.outerRadius=area.x1,delete area.x1,area.angle=area.y,delete area.y,area.startAngle=area.y0,delete area.y0,area.endAngle=area.y1,delete area.y1,area},d3.svg.chord=function(){function chord(d,i){var s=subgroup(this,source,d,i),t=subgroup(this,target,d,i);return"M"+s.p0+arc(s.r,s.p1,s.a1-s.a0)+(equals(s,t)?curve(s.r,s.p1,s.r,s.p0):curve(s.r,s.p1,t.r,t.p0)+arc(t.r,t.p1,t.a1-t.a0)+curve(t.r,t.p1,s.r,s.p0))+"Z"}function subgroup(self,f,d,i){var subgroup=f.call(self,d,i),r=radius.call(self,subgroup,i),a0=startAngle.call(self,subgroup,i)-half,a1=endAngle.call(self,subgroup,i)-half;return{r:r,a0:a0,a1:a1,p0:[r*Math.cos(a0),r*Math.sin(a0)],p1:[r*Math.cos(a1),r*Math.sin(a1)]}}function equals(a,b){return a.a0==b.a0&&a.a1==b.a1}function arc(r,p,a){return"A"+r+","+r+" 0 "+ +(a>)+",1 "+p}function curve(r0,p0,r1,p1){return"Q 0,0 "+p1}var source=d3_source,target=d3_target,radius=d3_svg_chordRadius,startAngle=d3_svg_arcStartAngle,endAngle=d3_svg_arcEndAngle;return chord.radius=function(v){return arguments.length?(radius=d3_functor(v),chord):radius},chord.source=function(v){return arguments.length?(source=d3_functor(v),chord):source},chord.target=function(v){return arguments.length?(target=d3_functor(v),chord):target},chord.startAngle=function(v){return arguments.length?(startAngle=d3_functor(v),chord):startAngle},chord.endAngle=function(v){return arguments.length?(endAngle=d3_functor(v),chord):endAngle},chord},d3.svg.diagonal=function(){function diagonal(d,i){var p0=source.call(this,d,i),p3=target.call(this,d,i),m=(p0.y+p3.y)/2,p=[p0,{x:p0.x,y:m},{x:p3.x,y:m},p3];return p=p.map(projection),"M"+p[0]+"C"+p[1]+" "+p[2]+" "+p[3]}var source=d3_source,target=d3_target,projection=d3_svg_diagonalProjection;return diagonal.source=function(x){return arguments.length?(source=d3_functor(x),diagonal):source},diagonal.target=function(x){return arguments.length?(target=d3_functor(x),diagonal):target},diagonal.projection=function(x){return arguments.length?(projection=x,diagonal):projection},diagonal},d3.svg.diagonal.radial=function(){var diagonal=d3.svg.diagonal(),projection=d3_svg_diagonalProjection,projection_=diagonal.projection;return diagonal.projection=function(x){return arguments.length?projection_(d3_svg_diagonalRadialProjection(projection=x)):projection},diagonal},d3.svg.symbol=function(){function symbol(d,i){return(d3_svg_symbols.get(type.call(this,d,i))||d3_svg_symbolCircle)(size.call(this,d,i))}var type=d3_svg_symbolType,size=d3_svg_symbolSize;return symbol.type=function(x){return arguments.length?(type=d3_functor(x),symbol):type},symbol.size=function(x){return arguments.length?(size=d3_functor(x),symbol):size},symbol};var d3_svg_symbols=d3.map({circle:d3_svg_symbolCircle,cross:function(size){var r=Math.sqrt(size/5)/2;return"M"+-3*r+","+-r+"H"+-r+"V"+-3*r+"H"+r+"V"+-r+"H"+3*r+"V"+r+"H"+r+"V"+3*r+"H"+-r+"V"+r+"H"+-3*r+"Z"},diamond:function(size){var ry=Math.sqrt(size/(2*d3_svg_symbolTan30)),rx=ry*d3_svg_symbolTan30;return"M0,"+-ry+"L"+rx+",0 0,"+ry+" "+-rx+",0Z"},square:function(size){var r=Math.sqrt(size)/2;return"M"+-r+","+-r+"L"+r+","+-r+" "+r+","+r+" "+-r+","+r+"Z"},"triangle-down":function(size){var rx=Math.sqrt(size/d3_svg_symbolSqrt3),ry=rx*d3_svg_symbolSqrt3/2;return"M0,"+ry+"L"+rx+","+-ry+" "+-rx+","+-ry+"Z"},"triangle-up":function(size){var rx=Math.sqrt(size/d3_svg_symbolSqrt3),ry=rx*d3_svg_symbolSqrt3/2;return"M0,"+-ry+"L"+rx+","+ry+" "+-rx+","+ry+"Z"}});d3.svg.symbolTypes=d3_svg_symbols.keys();var d3_svg_symbolSqrt3=Math.sqrt(3),d3_svg_symbolTan30=Math.tan(30*d3_radians);d3_selectionPrototype.transition=function(name){for(var subgroup,node,id=d3_transitionInheritId||++d3_transitionId,ns=d3_transitionNamespace(name),subgroups=[],transition=d3_transitionInherit||{time:Date.now(),ease:d3_ease_cubicInOut,delay:0,duration:250},j=-1,m=this.length;++j<m;){subgroups.push(subgroup=[]);for(var group=this[j],i=-1,n=group.length;++i<n;)(node=group[i])&&d3_transitionNode(node,i,ns,id,transition),subgroup.push(node)}return d3_transition(subgroups,ns,id)},d3_selectionPrototype.interrupt=function(name){return this.each(null==name?d3_selection_interrupt:d3_selection_interruptNS(d3_transitionNamespace(name)))};var d3_transitionInheritId,d3_transitionInherit,d3_selection_interrupt=d3_selection_interruptNS(d3_transitionNamespace()),d3_transitionPrototype=[],d3_transitionId=0;d3_transitionPrototype.call=d3_selectionPrototype.call,d3_transitionPrototype.empty=d3_selectionPrototype.empty,d3_transitionPrototype.node=d3_selectionPrototype.node,d3_transitionPrototype.size=d3_selectionPrototype.size,d3.transition=function(selection,name){return selection&&selection.transition?d3_transitionInheritId?selection.transition(name):selection:d3.selection().transition(selection)},d3.transition.prototype=d3_transitionPrototype,d3_transitionPrototype.select=function(selector){var subgroup,subnode,node,id=this.id,ns=this.namespace,subgroups=[];selector=d3_selection_selector(selector);for(var j=-1,m=this.length;++j<m;){subgroups.push(subgroup=[]);for(var group=this[j],i=-1,n=group.length;++i<n;)(node=group[i])&&(subnode=selector.call(node,node.__data__,i,j))?("__data__"in node&&(subnode.__data__=node.__data__),d3_transitionNode(subnode,i,ns,id,node[ns][id]),subgroup.push(subnode)):subgroup.push(null)}return d3_transition(subgroups,ns,id)},d3_transitionPrototype.selectAll=function(selector){var subgroup,subnodes,node,subnode,transition,id=this.id,ns=this.namespace,subgroups=[];selector=d3_selection_selectorAll(selector);for(var j=-1,m=this.length;++j<m;)for(var group=this[j],i=-1,n=group.length;++i<n;)if(node=group[i]){transition=node[ns][id],subnodes=selector.call(node,node.__data__,i,j),subgroups.push(subgroup=[]);for(var k=-1,o=subnodes.length;++k<o;)(subnode=subnodes[k])&&d3_transitionNode(subnode,k,ns,id,transition),subgroup.push(subnode)}return d3_transition(subgroups,ns,id)},d3_transitionPrototype.filter=function(filter){var subgroup,group,node,subgroups=[];"function"!=typeof filter&&(filter=d3_selection_filter(filter));for(var j=0,m=this.length;j<m;j++){subgroups.push(subgroup=[]);for(var group=this[j],i=0,n=group.length;i<n;i++)(node=group[i])&&filter.call(node,node.__data__,i,j)&&subgroup.push(node)}return d3_transition(subgroups,this.namespace,this.id)},d3_transitionPrototype.tween=function(name,tween){var id=this.id,ns=this.namespace;return arguments.length<2?this.node()[ns][id].tween.get(name):d3_selection_each(this,null==tween?function(node){node[ns][id].tween.remove(name)}:function(node){node[ns][id].tween.set(name,tween)})},d3_transitionPrototype.attr=function(nameNS,value){function attrNull(){this.removeAttribute(name)}function attrNullNS(){this.removeAttributeNS(name.space,name.local)}function attrTween(b){return null==b?attrNull:(b+="",function(){var i,a=this.getAttribute(name);return a!==b&&(i=interpolate(a,b),function(t){this.setAttribute(name,i(t))})})}function attrTweenNS(b){return null==b?attrNullNS:(b+="",function(){var i,a=this.getAttributeNS(name.space,name.local);return a!==b&&(i=interpolate(a,b),function(t){this.setAttributeNS(name.space,name.local,i(t))})})}if(arguments.length<2){for(value in nameNS)this.attr(value,nameNS[value]);return this}var interpolate="transform"==nameNS?d3_interpolateTransform:d3_interpolate,name=d3.ns.qualify(nameNS);return d3_transition_tween(this,"attr."+nameNS,value,name.local?attrTweenNS:attrTween)},d3_transitionPrototype.attrTween=function(nameNS,tween){function attrTween(d,i){var f=tween.call(this,d,i,this.getAttribute(name));return f&&function(t){this.setAttribute(name,f(t))}}function attrTweenNS(d,i){var f=tween.call(this,d,i,this.getAttributeNS(name.space,name.local));return f&&function(t){this.setAttributeNS(name.space,name.local,f(t))}}var name=d3.ns.qualify(nameNS);return this.tween("attr."+nameNS,name.local?attrTweenNS:attrTween)},d3_transitionPrototype.style=function(name,value,priority){function styleNull(){this.style.removeProperty(name)}function styleString(b){return null==b?styleNull:(b+="",function(){var i,a=d3_window(this).getComputedStyle(this,null).getPropertyValue(name);return a!==b&&(i=d3_interpolate(a,b),function(t){this.style.setProperty(name,i(t),priority)})})}var n=arguments.length;if(n<3){if("string"!=typeof name){n<2&&(value="");for(priority in name)this.style(priority,name[priority],value);return this}priority=""}return d3_transition_tween(this,"style."+name,value,styleString)},d3_transitionPrototype.styleTween=function(name,tween,priority){function styleTween(d,i){var f=tween.call(this,d,i,d3_window(this).getComputedStyle(this,null).getPropertyValue(name));return f&&function(t){this.style.setProperty(name,f(t),priority)}}return arguments.length<3&&(priority=""),this.tween("style."+name,styleTween)},d3_transitionPrototype.text=function(value){return d3_transition_tween(this,"text",value,d3_transition_text)},d3_transitionPrototype.remove=function(){var ns=this.namespace;return this.each("end.transition",function(){var p;this[ns].count<2&&(p=this.parentNode)&&p.removeChild(this)})},d3_transitionPrototype.ease=function(value){var id=this.id,ns=this.namespace;return arguments.length<1?this.node()[ns][id].ease:("function"!=typeof value&&(value=d3.ease.apply(d3,arguments)),
d3_selection_each(this,function(node){node[ns][id].ease=value}))},d3_transitionPrototype.delay=function(value){var id=this.id,ns=this.namespace;return arguments.length<1?this.node()[ns][id].delay:d3_selection_each(this,"function"==typeof value?function(node,i,j){node[ns][id].delay=+value.call(node,node.__data__,i,j)}:(value=+value,function(node){node[ns][id].delay=value}))},d3_transitionPrototype.duration=function(value){var id=this.id,ns=this.namespace;return arguments.length<1?this.node()[ns][id].duration:d3_selection_each(this,"function"==typeof value?function(node,i,j){node[ns][id].duration=Math.max(1,value.call(node,node.__data__,i,j))}:(value=Math.max(1,value),function(node){node[ns][id].duration=value}))},d3_transitionPrototype.each=function(type,listener){var id=this.id,ns=this.namespace;if(arguments.length<2){var inherit=d3_transitionInherit,inheritId=d3_transitionInheritId;try{d3_transitionInheritId=id,d3_selection_each(this,function(node,i,j){d3_transitionInherit=node[ns][id],type.call(node,node.__data__,i,j)})}finally{d3_transitionInherit=inherit,d3_transitionInheritId=inheritId}}else d3_selection_each(this,function(node){var transition=node[ns][id];(transition.event||(transition.event=d3.dispatch("start","end","interrupt"))).on(type,listener)});return this},d3_transitionPrototype.transition=function(){for(var subgroup,group,node,transition,id0=this.id,id1=++d3_transitionId,ns=this.namespace,subgroups=[],j=0,m=this.length;j<m;j++){subgroups.push(subgroup=[]);for(var group=this[j],i=0,n=group.length;i<n;i++)(node=group[i])&&(transition=node[ns][id0],d3_transitionNode(node,i,ns,id1,{time:transition.time,ease:transition.ease,delay:transition.delay+transition.duration,duration:transition.duration})),subgroup.push(node)}return d3_transition(subgroups,ns,id1)},d3.svg.axis=function(){function axis(g){g.each(function(){var tickTransform,g=d3.select(this),scale0=this.__chart__||scale,scale1=this.__chart__=scale.copy(),ticks=null==tickValues?scale1.ticks?scale1.ticks.apply(scale1,tickArguments_):scale1.domain():tickValues,tickFormat=null==tickFormat_?scale1.tickFormat?scale1.tickFormat.apply(scale1,tickArguments_):d3_identity:tickFormat_,tick=g.selectAll(".tick").data(ticks,scale1),tickEnter=tick.enter().insert("g",".domain").attr("class","tick").style("opacity",),tickExit=d3.transition(tick.exit()).style("opacity",).remove(),tickUpdate=d3.transition(tick.order()).style("opacity",1),tickSpacing=Math.max(innerTickSize,0)+tickPadding,range=d3_scaleRange(scale1),path=g.selectAll(".domain").data([0]),pathUpdate=(path.enter().append("path").attr("class","domain"),d3.transition(path));tickEnter.append("line"),tickEnter.append("text");var x1,x2,y1,y2,lineEnter=tickEnter.select("line"),lineUpdate=tickUpdate.select("line"),text=tick.select("text").text(tickFormat),textEnter=tickEnter.select("text"),textUpdate=tickUpdate.select("text"),sign="top"===orient||"left"===orient?-1:1;if("bottom"===orient||"top"===orient?(tickTransform=d3_svg_axisX,x1="x",y1="y",x2="x2",y2="y2",text.attr("dy",sign<0?"0em":".71em").style("text-anchor","middle"),pathUpdate.attr("d","M"+range[0]+","+sign*outerTickSize+"V0H"+range[1]+"V"+sign*outerTickSize)):(tickTransform=d3_svg_axisY,x1="y",y1="x",x2="y2",y2="x2",text.attr("dy",".32em").style("text-anchor",sign<0?"end":"start"),pathUpdate.attr("d","M"+sign*outerTickSize+","+range[0]+"H0V"+range[1]+"H"+sign*outerTickSize)),lineEnter.attr(y2,sign*innerTickSize),textEnter.attr(y1,sign*tickSpacing),lineUpdate.attr(x2,0).attr(y2,sign*innerTickSize),textUpdate.attr(x1,0).attr(y1,sign*tickSpacing),scale1.rangeBand){var x=scale1,dx=x.rangeBand()/2;scale0=scale1=function(d){return x(d)+dx}}else scale0.rangeBand?scale0=scale1:tickExit.call(tickTransform,scale1,scale0);tickEnter.call(tickTransform,scale0,scale1),tickUpdate.call(tickTransform,scale1,scale1)})}var tickFormat_,scale=d3.scale.linear(),orient=d3_svg_axisDefaultOrient,innerTickSize=6,outerTickSize=6,tickPadding=3,tickArguments_=[10],tickValues=null;return axis.scale=function(x){return arguments.length?(scale=x,axis):scale},axis.orient=function(x){return arguments.length?(orient=x in d3_svg_axisOrients?x+"":d3_svg_axisDefaultOrient,axis):orient},axis.ticks=function(){return arguments.length?(tickArguments_=arguments,axis):tickArguments_},axis.tickValues=function(x){return arguments.length?(tickValues=x,axis):tickValues},axis.tickFormat=function(x){return arguments.length?(tickFormat_=x,axis):tickFormat_},axis.tickSize=function(x){var n=arguments.length;return n?(innerTickSize=+x,outerTickSize=+arguments[n-1],axis):innerTickSize},axis.innerTickSize=function(x){return arguments.length?(innerTickSize=+x,axis):innerTickSize},axis.outerTickSize=function(x){return arguments.length?(outerTickSize=+x,axis):outerTickSize},axis.tickPadding=function(x){return arguments.length?(tickPadding=+x,axis):tickPadding},axis.tickSubdivide=function(){return arguments.length&&axis},axis};var d3_svg_axisDefaultOrient="bottom",d3_svg_axisOrients={top:1,right:1,bottom:1,left:1};d3.svg.brush=function(){function brush(g){g.each(function(){var g=d3.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",brushstart).on("touchstart.brush",brushstart),background=g.selectAll(".background").data([0]);background.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),g.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var resize=g.selectAll(".resize").data(resizes,d3_identity);resize.exit().remove(),resize.enter().append("g").attr("class",function(d){return"resize "+d}).style("cursor",function(d){return d3_svg_brushCursor[d]}).append("rect").attr("x",function(d){return/[ew]$/.test(d)?-3:null}).attr("y",function(d){return/^[ns]/.test(d)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),resize.style("display",brush.empty()?"none":null);var range,gUpdate=d3.transition(g),backgroundUpdate=d3.transition(background);x&&(range=d3_scaleRange(x),backgroundUpdate.attr("x",range[0]).attr("width",range[1]-range[0]),redrawX(gUpdate)),y&&(range=d3_scaleRange(y),backgroundUpdate.attr("y",range[0]).attr("height",range[1]-range[0]),redrawY(gUpdate)),redraw(gUpdate)})}function redraw(g){g.selectAll(".resize").attr("transform",function(d){return"translate("+xExtent[+/e$/.test(d)]+","+yExtent[+/^s/.test(d)]+")"})}function redrawX(g){g.select(".extent").attr("x",xExtent[0]),g.selectAll(".extent,.n>rect,.s>rect").attr("width",xExtent[1]-xExtent[0])}function redrawY(g){g.select(".extent").attr("y",yExtent[0]),g.selectAll(".extent,.e>rect,.w>rect").attr("height",yExtent[1]-yExtent[0])}function brushstart(){function keydown(){32==d3.event.keyCode&&(dragging||(center=null,origin[0]-=xExtent[1],origin[1]-=yExtent[1],dragging=2),d3_eventPreventDefault())}function keyup(){32==d3.event.keyCode&&2==dragging&&(origin[0]+=xExtent[1],origin[1]+=yExtent[1],dragging=0,d3_eventPreventDefault())}function brushmove(){var point=d3.mouse(target),moved=!1;offset&&(point[0]+=offset[0],point[1]+=offset[1]),dragging||(d3.event.altKey?(center||(center=[(xExtent[0]+xExtent[1])/2,(yExtent[0]+yExtent[1])/2]),origin[0]=xExtent[+(point[0]<center[0])],origin[1]=yExtent[+(point[1]<center[1])]):center=null),resizingX&&move1(point,x,0)&&(redrawX(g),moved=!0),resizingY&&move1(point,y,1)&&(redrawY(g),moved=!0),moved&&(redraw(g),event_({type:"brush",mode:dragging?"move":"resize"}))}function move1(point,scale,i){var min,max,range=d3_scaleRange(scale),r0=range[0],r1=range[1],position=origin[i],extent=i?yExtent:xExtent,size=extent[1]-extent[0];if(dragging&&(r0-=position,r1-=size+position),min=(i?yClamp:xClamp)?Math.max(r0,Math.min(r1,point[i])):point[i],dragging?max=(min+=position)+size:(center&&(position=Math.max(r0,Math.min(r1,2*center[i]-min))),position<min?(max=min,min=position):max=position),extent[0]!=min||extent[1]!=max)return i?yExtentDomain=null:xExtentDomain=null,extent[0]=min,extent[1]=max,!0}function brushend(){brushmove(),g.style("pointer-events","all").selectAll(".resize").style("display",brush.empty()?"none":null),d3.select("body").style("cursor",null),w.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),dragRestore(),event_({type:"brushend"})}var center,offset,target=this,eventTarget=d3.select(d3.event.target),event_=event.of(target,arguments),g=d3.select(target),resizing=eventTarget.datum(),resizingX=!/^(n|s)$/.test(resizing)&&x,resizingY=!/^(e|w)$/.test(resizing)&&y,dragging=eventTarget.classed("extent"),dragRestore=d3_event_dragSuppress(target),origin=d3.mouse(target),w=d3.select(d3_window(target)).on("keydown.brush",keydown).on("keyup.brush",keyup);if(d3.event.changedTouches?w.on("touchmove.brush",brushmove).on("touchend.brush",brushend):w.on("mousemove.brush",brushmove).on("mouseup.brush",brushend),g.interrupt().selectAll("*").interrupt(),dragging)origin[0]=xExtent[0]-origin[0],origin[1]=yExtent[0]-origin[1];else if(resizing){var ex=+/w$/.test(resizing),ey=+/^n/.test(resizing);offset=[xExtent[1-ex]-origin[0],yExtent[1-ey]-origin[1]],origin[0]=xExtent[ex],origin[1]=yExtent[ey]}else d3.event.altKey&&(center=origin.slice());g.style("pointer-events","none").selectAll(".resize").style("display",null),d3.select("body").style("cursor",eventTarget.style("cursor")),event_({type:"brushstart"}),brushmove()}var xExtentDomain,yExtentDomain,event=d3_eventDispatch(brush,"brushstart","brush","brushend"),x=null,y=null,xExtent=[0,0],yExtent=[0,0],xClamp=!0,yClamp=!0,resizes=d3_svg_brushResizes[0];return brush.event=function(g){g.each(function(){var event_=event.of(this,arguments),extent1={x:xExtent,y:yExtent,i:xExtentDomain,j:yExtentDomain},extent0=this.__chart__||extent1;this.__chart__=extent1,d3_transitionInheritId?d3.select(this).transition().each("start.brush",function(){xExtentDomain=extent0.i,yExtentDomain=extent0.j,xExtent=extent0.x,yExtent=extent0.y,event_({type:"brushstart"})}).tween("brush:brush",function(){var xi=d3_interpolateArray(xExtent,extent1.x),yi=d3_interpolateArray(yExtent,extent1.y);return xExtentDomain=yExtentDomain=null,function(t){xExtent=extent1.x=xi(t),yExtent=extent1.y=yi(t),event_({type:"brush",mode:"resize"})}}).each("end.brush",function(){xExtentDomain=extent1.i,yExtentDomain=extent1.j,event_({type:"brush",mode:"resize"}),event_({type:"brushend"})}):(event_({type:"brushstart"}),event_({type:"brush",mode:"resize"}),event_({type:"brushend"}))})},brush.x=function(z){return arguments.length?(x=z,resizes=d3_svg_brushResizes[!x<<1|!y],brush):x},brush.y=function(z){return arguments.length?(y=z,resizes=d3_svg_brushResizes[!x<<1|!y],brush):y},brush.clamp=function(z){return arguments.length?(x&&y?(xClamp=!!z[0],yClamp=!!z[1]):x?xClamp=!!z:y&&(yClamp=!!z),brush):x&&y?[xClamp,yClamp]:x?xClamp:y?yClamp:null},brush.extent=function(z){var x0,x1,y0,y1,t;return arguments.length?(x&&(x0=z[0],x1=z[1],y&&(x0=x0[0],x1=x1[0]),xExtentDomain=[x0,x1],x.invert&&(x0=x(x0),x1=x(x1)),x1<x0&&(t=x0,x0=x1,x1=t),x0==xExtent[0]&&x1==xExtent[1]||(xExtent=[x0,x1])),y&&(y0=z[0],y1=z[1],x&&(y0=y0[1],y1=y1[1]),yExtentDomain=[y0,y1],y.invert&&(y0=y(y0),y1=y(y1)),y1<y0&&(t=y0,y0=y1,y1=t),y0==yExtent[0]&&y1==yExtent[1]||(yExtent=[y0,y1])),brush):(x&&(xExtentDomain?(x0=xExtentDomain[0],x1=xExtentDomain[1]):(x0=xExtent[0],x1=xExtent[1],x.invert&&(x0=x.invert(x0),x1=x.invert(x1)),x1<x0&&(t=x0,x0=x1,x1=t))),y&&(yExtentDomain?(y0=yExtentDomain[0],y1=yExtentDomain[1]):(y0=yExtent[0],y1=yExtent[1],y.invert&&(y0=y.invert(y0),y1=y.invert(y1)),y1<y0&&(t=y0,y0=y1,y1=t))),x&&y?[[x0,y0],[x1,y1]]:x?[x0,x1]:y&&[y0,y1])},brush.clear=function(){return brush.empty()||(xExtent=[0,0],yExtent=[0,0],xExtentDomain=yExtentDomain=null),brush},brush.empty=function(){return!!x&&xExtent[0]==xExtent[1]||!!y&&yExtent[0]==yExtent[1]},d3.rebind(brush,event,"on")};var d3_svg_brushCursor={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},d3_svg_brushResizes=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],d3_time_format=d3_time.format=d3_locale_enUS.timeFormat,d3_time_formatUtc=d3_time_format.utc,d3_time_formatIso=d3_time_formatUtc("%Y-%m-%dT%H:%M:%S.%LZ");d3_time_format.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?d3_time_formatIsoNative:d3_time_formatIso,d3_time_formatIsoNative.parse=function(string){var date=new Date(string);return isNaN(date)?null:date},d3_time_formatIsoNative.toString=d3_time_formatIso.toString,d3_time.second=d3_time_interval(function(date){return new d3_date(1e3*Math.floor(date/1e3))},function(date,offset){date.setTime(date.getTime()+1e3*Math.floor(offset))},function(date){return date.getSeconds()}),d3_time.seconds=d3_time.second.range,d3_time.seconds.utc=d3_time.second.utc.range,d3_time.minute=d3_time_interval(function(date){return new d3_date(6e4*Math.floor(date/6e4))},function(date,offset){date.setTime(date.getTime()+6e4*Math.floor(offset))},function(date){return date.getMinutes()}),d3_time.minutes=d3_time.minute.range,d3_time.minutes.utc=d3_time.minute.utc.range,d3_time.hour=d3_time_interval(function(date){var timezone=date.getTimezoneOffset()/60;return new d3_date(36e5*(Math.floor(date/36e5-timezone)+timezone))},function(date,offset){date.setTime(date.getTime()+36e5*Math.floor(offset))},function(date){return date.getHours()}),d3_time.hours=d3_time.hour.range,d3_time.hours.utc=d3_time.hour.utc.range,d3_time.month=d3_time_interval(function(date){return date=d3_time.day(date),date.setDate(1),date},function(date,offset){date.setMonth(date.getMonth()+offset)},function(date){return date.getMonth()}),d3_time.months=d3_time.month.range,d3_time.months.utc=d3_time.month.utc.range;var d3_time_scaleSteps=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],d3_time_scaleLocalMethods=[[d3_time.second,1],[d3_time.second,5],[d3_time.second,15],[d3_time.second,30],[d3_time.minute,1],[d3_time.minute,5],[d3_time.minute,15],[d3_time.minute,30],[d3_time.hour,1],[d3_time.hour,3],[d3_time.hour,6],[d3_time.hour,12],[d3_time.day,1],[d3_time.day,2],[d3_time.week,1],[d3_time.month,1],[d3_time.month,3],[d3_time.year,1]],d3_time_scaleLocalFormat=d3_time_format.multi([[".%L",function(d){return d.getMilliseconds()}],[":%S",function(d){return d.getSeconds()}],["%I:%M",function(d){return d.getMinutes()}],["%I %p",function(d){return d.getHours()}],["%a %d",function(d){return d.getDay()&&1!=d.getDate()}],["%b %d",function(d){return 1!=d.getDate()}],["%B",function(d){return d.getMonth()}],["%Y",d3_true]]),d3_time_scaleMilliseconds={range:function(start,stop,step){return d3.range(Math.ceil(start/step)*step,+stop,step).map(d3_time_scaleDate)},floor:d3_identity,ceil:d3_identity};d3_time_scaleLocalMethods.year=d3_time.year,d3_time.scale=function(){return d3_time_scale(d3.scale.linear(),d3_time_scaleLocalMethods,d3_time_scaleLocalFormat)};var d3_time_scaleUtcMethods=d3_time_scaleLocalMethods.map(function(m){return[m[0].utc,m[1]]}),d3_time_scaleUtcFormat=d3_time_formatUtc.multi([[".%L",function(d){return d.getUTCMilliseconds()}],[":%S",function(d){return d.getUTCSeconds()}],["%I:%M",function(d){return d.getUTCMinutes()}],["%I %p",function(d){return d.getUTCHours()}],["%a %d",function(d){return d.getUTCDay()&&1!=d.getUTCDate()}],["%b %d",function(d){return 1!=d.getUTCDate()}],["%B",function(d){return d.getUTCMonth()}],["%Y",d3_true]]);d3_time_scaleUtcMethods.year=d3_time.year.utc,d3_time.scale.utc=function(){return d3_time_scale(d3.scale.linear(),d3_time_scaleUtcMethods,d3_time_scaleUtcFormat)},d3.text=d3_xhrType(function(request){return request.responseText}),d3.json=function(url,callback){return d3_xhr(url,"application/json",d3_json,callback)},d3.html=function(url,callback){return d3_xhr(url,"text/html",d3_html,callback)},d3.xml=d3_xhrType(function(request){return request.responseXML}),__WEBPACK_AMD_DEFINE_FACTORY__=d3,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),this.d3=d3}()},2801:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),Scanner=function(client){var _ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},index=_ref.index,type=_ref.type;if(!index)throw new Error("Expected index");if(!type)throw new Error("Expected type");if(!client)throw new Error("Expected client");this.client=client,this.index=index,this.type=type};Scanner.prototype.scanAndMap=function(searchString,options,mapFn){var _this=this,scrollId=void 0,body=void 0,allResults={hits:[],total:0},opts=_lodash2["default"].defaults(options||{},{pageSize:100,docCount:1e3});return body=searchString?{query:{simple_query_string:{query:searchString+"*",fields:["title^3","description"],default_operator:"AND"}}}:{query:{match_all:{}}},new Promise(function(resolve,reject){var getMoreUntilDone=function getMoreUntilDone(error,response){if(error)return void reject(error);var scanAllResults=opts.docCount===1/0;allResults.total=scanAllResults?response.hits.total:Math.min(response.hits.total,opts.docCount),scrollId=response._scroll_id||scrollId;var hits=response.hits.hits.slice(0,allResults.total-allResults.hits.length);mapFn&&(hits=hits.map(mapFn)),allResults.hits=allResults.hits.concat(hits);var collectedAllResults=allResults.total===allResults.hits.length;collectedAllResults?resolve(allResults):_this.client.scroll({scrollId:scrollId},getMoreUntilDone)};_this.client.search({index:_this.index,type:_this.type,size:opts.pageSize,body:body,scroll:"1m",sort:"_doc"},getMoreUntilDone)})},exports["default"]=Scanner,module.exports=exports["default"]},2860:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}__webpack_require__(2861),__webpack_require__(2490);var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_saved_object_loader=__webpack_require__(2862),_module=_modules2["default"].get("discover/saved_searches",["kibana/notify"]);__webpack_require__(2864).register({service:"savedSearches",title:"searches"}),_module.service("savedSearches",function(Promise,config,kbnIndex,esAdmin,createNotifier,SavedSearch,kbnUrl){var savedSearchLoader=new _saved_object_loader.SavedObjectLoader(SavedSearch,kbnIndex,esAdmin,kbnUrl);return savedSearchLoader.loaderProperties={name:"searches",noun:"Saved Search",nouns:"saved searches"},savedSearchLoader.urlFor=function(id){return kbnUrl.eval("#/discover/{{id}}",{id:id})},savedSearchLoader})},2861:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(2490);var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("discover/saved_searches",["kibana/notify","kibana/courier"]);_module.factory("SavedSearch",function(courier){function SavedSearch(id){courier.SavedObject.call(this,{type:SavedSearch.type,mapping:SavedSearch.mapping,searchSource:SavedSearch.searchSource,id:id,defaults:{title:"New Saved Search",description:"",columns:[],hits:0,sort:[],version:1}})}return _lodash2["default"]["class"](SavedSearch).inherits(courier.SavedObject),SavedSearch.type="search",SavedSearch.mapping={title:"string",description:"string",hits:"integer",columns:"string",sort:"string",version:"integer"},SavedSearch.fieldOrder=["title","description"],SavedSearch.searchSource=!0,SavedSearch})},2862:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SavedObjectLoader=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_scanner=__webpack_require__(2801),_scanner2=_interopRequireDefault(_scanner),_string_utils=__webpack_require__(2863);exports.SavedObjectLoader=function(){function SavedObjectLoader(SavedObjectClass,kbnIndex,esAdmin,kbnUrl){_classCallCheck(this,SavedObjectLoader),this.type=SavedObjectClass.type,this.Class=SavedObjectClass,this.lowercaseType=this.type.toLowerCase(),this.kbnIndex=kbnIndex,this.kbnUrl=kbnUrl,this.esAdmin=esAdmin,this.scanner=new _scanner2["default"](esAdmin,{index:kbnIndex,type:this.lowercaseType}),this.loaderProperties={name:this.lowercaseType+"s",noun:_string_utils.StringUtils.upperFirst(this.type),nouns:this.lowercaseType+"s"}}return _createClass(SavedObjectLoader,[{key:"get",value:function(id){return new this.Class(id).init()}},{key:"urlFor",value:function(id){return this.kbnUrl.eval("#/"+this.lowercaseType+"/{{id}}",{id:id})}},{key:"delete",value:function(ids){var _this=this;ids=_lodash2["default"].isArray(ids)?ids:[ids];var deletions=ids.map(function(id){var savedObject=new _this.Class(id);return savedObject["delete"]()});return Promise.all(deletions)}},{key:"mapHits",value:function(hit){var source=hit._source;return source.id=hit._id,source.url=this.urlFor(hit._id),source}},{key:"scanAll",value:function(queryString){var _this2=this,pageSize=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return this.scanner.scanAndMap(queryString,{pageSize:pageSize,docCount:1/0},function(hit){return _this2.mapHits(hit)})}},{key:"find",value:function(searchString){var _this3=this,size=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,body=void 0;return body=searchString?{query:{simple_query_string:{query:searchString+"*",fields:["title^3","description"],default_operator:"AND"}}}:{query:{match_all:{}}},this.esAdmin.search({index:this.kbnIndex,type:this.lowercaseType,body:body,size:size}).then(function(resp){return{total:resp.hits.total,hits:resp.hits.hits.map(function(hit){return _this3.mapHits(hit)})}})}}]),SavedObjectLoader}()},2863:function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.StringUtils=function(){function StringUtils(){_classCallCheck(this,StringUtils)}return _createClass(StringUtils,null,[{key:"upperFirst",value:function(str){return str?str.charAt(0).toUpperCase()+str.slice(1):""}}]),StringUtils}()},2864:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),registry=[];exports["default"]={register:function(service){registry.push(service)},all:function(){return registry},get:function(id){return _lodash2["default"].find(registry,{service:id})}},module.exports=exports["default"]},2966:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function AggTypeService(Private){var aggs={metrics:[Private(_count2["default"]),Private(_avg2["default"]),Private(_sum2["default"]),Private(_median2["default"]),Private(_min2["default"]),Private(_max2["default"]),Private(_std_deviation2["default"]),Private(_cardinality2["default"]),Private(_percentiles2["default"]),Private(_percentile_ranks2["default"]),Private(_top_hit2["default"]),Private(_derivative2["default"]),Private(_cumulative_sum2["default"]),Private(_moving_avg2["default"]),Private(_serial_diff2["default"]),Private(_bucket_avg2["default"]),Private(_bucket_sum2["default"]),Private(_bucket_min2["default"]),Private(_bucket_max2["default"]),Private(_geo_centroid2["default"])],buckets:[Private(_date_histogram2["default"]),Private(_histogram2["default"]),Private(_range2["default"]),Private(_date_range2["default"]),Private(_ip_range2["default"]),Private(_terms2["default"]),Private(_filters2["default"]),Private(_significant_terms2["default"]),Private(_geo_hash2["default"])]};return Object.keys(aggs).forEach(function(type){aggs[type].forEach(function(agg){agg.type=type})}),new _indexed_array2["default"]({index:["name"],group:["type"],initialSet:aggs.metrics.concat(aggs.buckets)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AggTypeService;var _indexed_array=__webpack_require__(2534),_indexed_array2=_interopRequireDefault(_indexed_array);__webpack_require__(2967);var _count=__webpack_require__(2974),_count2=_interopRequireDefault(_count),_avg=__webpack_require__(2977),_avg2=_interopRequireDefault(_avg),_sum=__webpack_require__(2978),_sum2=_interopRequireDefault(_sum),_median=__webpack_require__(2979),_median2=_interopRequireDefault(_median),_min=__webpack_require__(2987),_min2=_interopRequireDefault(_min),_max=__webpack_require__(2988),_max2=_interopRequireDefault(_max),_top_hit=__webpack_require__(2989),_top_hit2=_interopRequireDefault(_top_hit),_std_deviation=__webpack_require__(2990),_std_deviation2=_interopRequireDefault(_std_deviation),_cardinality=__webpack_require__(2991),_cardinality2=_interopRequireDefault(_cardinality),_percentiles=__webpack_require__(2980),_percentiles2=_interopRequireDefault(_percentiles),_geo_centroid=__webpack_require__(2992),_geo_centroid2=_interopRequireDefault(_geo_centroid),_percentile_ranks=__webpack_require__(2993),_percentile_ranks2=_interopRequireDefault(_percentile_ranks),_derivative=__webpack_require__(2994),_derivative2=_interopRequireDefault(_derivative),_cumulative_sum=__webpack_require__(3002),_cumulative_sum2=_interopRequireDefault(_cumulative_sum),_moving_avg=__webpack_require__(3003),_moving_avg2=_interopRequireDefault(_moving_avg),_serial_diff=__webpack_require__(3004),_serial_diff2=_interopRequireDefault(_serial_diff),_date_histogram=__webpack_require__(3005),_date_histogram2=_interopRequireDefault(_date_histogram),_histogram=__webpack_require__(3013),_histogram2=_interopRequireDefault(_histogram),_range=__webpack_require__(3015),_range2=_interopRequireDefault(_range),_date_range=__webpack_require__(3018),_date_range2=_interopRequireDefault(_date_range),_ip_range=__webpack_require__(3021),_ip_range2=_interopRequireDefault(_ip_range),_terms=__webpack_require__(3023),_terms2=_interopRequireDefault(_terms),_filters=__webpack_require__(3026),_filters2=_interopRequireDefault(_filters),_significant_terms=__webpack_require__(3029),_significant_terms2=_interopRequireDefault(_significant_terms),_geo_hash=__webpack_require__(3030),_geo_hash2=_interopRequireDefault(_geo_hash),_bucket_sum=__webpack_require__(3032),_bucket_sum2=_interopRequireDefault(_bucket_sum),_bucket_avg=__webpack_require__(3036),_bucket_avg2=_interopRequireDefault(_bucket_avg),_bucket_min=__webpack_require__(3037),_bucket_min2=_interopRequireDefault(_bucket_min),_bucket_max=__webpack_require__(3038),_bucket_max2=_interopRequireDefault(_bucket_max);__webpack_require__(2754),module.exports=exports["default"]},2967:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function AggParamsFactory(Private){function AggParams(params){AggParams.Super.call(this,{index:["name"],initialSet:params.map(function(config){var type="field"===config.name?config.name:config.type,Class=paramTypeMap[type]||paramTypeMap._default;return new Class(config)})})}var paramTypeMap={field:Private(_field2["default"]),optioned:Private(_optioned2["default"]),regex:Private(_regex2["default"]),string:Private(_string2["default"]),json:Private(_raw_json2["default"]),_default:Private(_base2["default"])};return _lodash2["default"]["class"](AggParams).inherits(_indexed_array2["default"]),AggParams.prototype.write=function(aggConfig,locals){var output={params:{}};return locals=locals||{},this.forEach(function(param){param.write?param.write(aggConfig,output,locals):output.params[param.name]=aggConfig.params[param.name]}),output},AggParams}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AggParamsFactory,__webpack_require__(2768);var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_indexed_array=__webpack_require__(2534),_indexed_array2=_interopRequireDefault(_indexed_array),_field=__webpack_require__(2968),_field2=_interopRequireDefault(_field),_optioned=__webpack_require__(2970),_optioned2=_interopRequireDefault(_optioned),_regex=__webpack_require__(2971),_regex2=_interopRequireDefault(_regex),_string=__webpack_require__(2972),_string2=_interopRequireDefault(_string),_raw_json=__webpack_require__(2973),_raw_json2=_interopRequireDefault(_raw_json),_base=__webpack_require__(2969),_base2=_interopRequireDefault(_base);module.exports=exports["default"]},2968:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function FieldAggParamFactory(Private,$filter){function FieldAggParam(config){FieldAggParam.Super.call(this,config)}var BaseAggParam=Private(_base2["default"]),notifier=new _notifier2["default"];return _lodash2["default"]["class"](FieldAggParam).inherits(BaseAggParam),FieldAggParam.prototype.editor=_field2["default"],FieldAggParam.prototype.scriptable=!0,FieldAggParam.prototype.filterFieldTypes="*",FieldAggParam.prototype.onlyAggregatable=!0,FieldAggParam.prototype.showAnalyzedWarning=!0,FieldAggParam.prototype.serialize=function(field){return field.name},FieldAggParam.prototype.getFieldOptions=function(aggConfig){var indexPattern=aggConfig.getIndexPattern(),fields=indexPattern.fields.raw;if(this.onlyAggregatable&&(fields=fields.filter(function(f){return f.aggregatable})),this.scriptable||(fields=fields.filter(function(field){return!field.scripted})),this.filterFieldTypes){var filters=this.filterFieldTypes;_lodash2["default"].isFunction(this.filterFieldTypes)&&(filters=this.filterFieldTypes.bind(this,aggConfig.vis)),fields=$filter("fieldType")(fields,filters),fields=$filter("orderBy")(fields,["type","name"])}return new _indexed_array2["default"]({index:["name"],group:["type"],initialSet:fields})},FieldAggParam.prototype.deserialize=function(fieldName,aggConfig){var field=aggConfig.getIndexPattern().fields.byName[fieldName];if(!field)throw new _errors.SavedObjectNotFound("index-pattern-field",fieldName);var validField=this.getFieldOptions(aggConfig).byName[fieldName];return validField||notifier.error('Saved "field" parameter is now invalid. Please select a new field.'),validField},FieldAggParam.prototype.write=function(aggConfig,output){
var field=aggConfig.getField();if(!field)throw new TypeError('"field" is a required parameter');field.scripted?output.params.script={inline:field.script,lang:field.lang}:output.params.field=field.name},FieldAggParam}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=FieldAggParamFactory;var _errors=__webpack_require__(2513),_lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_field=__webpack_require__(953),_field2=_interopRequireDefault(_field),_base=__webpack_require__(2969),_base2=_interopRequireDefault(_base);__webpack_require__(2766);var _indexed_array=__webpack_require__(2534),_indexed_array2=_interopRequireDefault(_indexed_array),_notifier=__webpack_require__(2466),_notifier2=_interopRequireDefault(_notifier);module.exports=exports["default"]},2969:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function BaseAggParamFactory(){function BaseAggParam(config){_lodash2["default"].assign(this,config)}return BaseAggParam}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=BaseAggParamFactory;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);module.exports=exports["default"]},2970:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function OptionedAggParamFactory(Private){function OptionedAggParam(config){OptionedAggParam.Super.call(this,config),this.options=new _indexed_array2["default"]({index:["val"],immutable:!0,initialSet:this.options})}var BaseAggParam=Private(_base2["default"]);return _lodash2["default"]["class"](OptionedAggParam).inherits(BaseAggParam),OptionedAggParam.prototype.serialize=function(selected){return selected.val},OptionedAggParam.prototype.deserialize=function(val){return this.options.byVal[val]},OptionedAggParam.prototype.write=function(aggConfig,output){output.params[this.name]=aggConfig.params[this.name].val},OptionedAggParam}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=OptionedAggParamFactory;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_indexed_array=__webpack_require__(2534),_indexed_array2=_interopRequireDefault(_indexed_array),_base=__webpack_require__(2969),_base2=_interopRequireDefault(_base);module.exports=exports["default"]},2971:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function RegexAggParamFactory(Private){function RegexAggParam(config){_lodash2["default"].defaults(config,{pattern:""}),RegexAggParam.Super.call(this,config)}var BaseAggParam=Private(_base2["default"]);return _lodash2["default"]["class"](RegexAggParam).inherits(BaseAggParam),RegexAggParam.prototype.editor=_regular_expression2["default"],RegexAggParam.prototype.disabled=function(){return!1},RegexAggParam.prototype.write=function(aggConfig,output){var param=aggConfig.params[this.name],paramType=aggConfig.type.params.byName[this.name];if(param&&param.pattern&&param.pattern.length&&!paramType.disabled(aggConfig)){var obj={pattern:param.pattern};output.params[this.name]=obj}},RegexAggParam}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=RegexAggParamFactory;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_regular_expression=__webpack_require__(957),_regular_expression2=_interopRequireDefault(_regular_expression),_base=__webpack_require__(2969),_base2=_interopRequireDefault(_base);module.exports=exports["default"]},2972:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function FieldAggParamFactory(Private){function ScriptAggParam(config){ScriptAggParam.Super.call(this,config)}var BaseAggParam=Private(_base2["default"]);return _lodash2["default"]["class"](ScriptAggParam).inherits(BaseAggParam),ScriptAggParam.prototype.editor=_string2["default"],ScriptAggParam.prototype.write=function(aggConfig,output){aggConfig.params[this.name]&&aggConfig.params[this.name].length&&(output.params[this.name]=aggConfig.params[this.name])},ScriptAggParam}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=FieldAggParamFactory;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_string=__webpack_require__(959),_string2=_interopRequireDefault(_string),_base=__webpack_require__(2969),_base2=_interopRequireDefault(_base);module.exports=exports["default"]},2973:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function RawJSONAggParamFactory(Private){function RawJSONAggParam(config){config=_lodash2["default"].defaults(config,{name:"json"}),RawJSONAggParam.Super.call(this,config)}var BaseAggParam=Private(_base2["default"]);return _lodash2["default"]["class"](RawJSONAggParam).inherits(BaseAggParam),RawJSONAggParam.prototype.editor=_raw_json2["default"],RawJSONAggParam.prototype.write=function(aggConfig,output){function filteredCombine(srcA,srcB){function mergeObjs(a,b){return(0,_lodash2["default"])(a).keys().union(_lodash2["default"].keys(b)).transform(function(dest,key){var val=compare(a[key],b[key]);void 0!==val&&(dest[key]=val)},{}).value()}function mergeArrays(a,b){return _lodash2["default"].times(Math.max(a.length,b.length),function(i){return compare(a[i],b[i])})}function compare(a,b){if(_lodash2["default"].isPlainObject(a)&&_lodash2["default"].isPlainObject(b))return mergeObjs(a,b);if(_lodash2["default"].isArray(a)&&_lodash2["default"].isArray(b))return mergeArrays(a,b);if(null!==b)return void 0!==b?b:a}return compare(srcA,srcB)}var paramJSON=void 0,param=aggConfig.params[this.name];if(param){try{paramJSON=JSON.parse(param)}catch(err){return}output.params=filteredCombine(output.params,paramJSON)}},RawJSONAggParam}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=RawJSONAggParamFactory;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_raw_json=__webpack_require__(961),_raw_json2=_interopRequireDefault(_raw_json),_base=__webpack_require__(2969),_base2=_interopRequireDefault(_base);module.exports=exports["default"]},2974:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function AggTypeMetricCountProvider(Private){var MetricAggType=Private(_metric_agg_type2["default"]),fieldFormats=Private(_field_formats2["default"]);return new MetricAggType({name:"count",title:"Count",hasNoDsl:!0,makeLabel:function(){return"Count"},getFormat:function(){return fieldFormats.getDefaultInstance("number")},getValue:function(agg,bucket){return bucket.doc_count}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AggTypeMetricCountProvider;var _metric_agg_type=__webpack_require__(2975),_metric_agg_type2=_interopRequireDefault(_metric_agg_type),_field_formats=__webpack_require__(2562),_field_formats2=_interopRequireDefault(_field_formats);module.exports=exports["default"]},2975:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function MetricAggTypeProvider(Private){function MetricAggType(config){MetricAggType.Super.call(this,config),_lodash2["default"].forOwn(config,function(val,key){_lodash2["default"].has(MetricAggType.prototype,key)&&(this[key]=val)},this)}var AggType=Private(_agg_type2["default"]),fieldFormats=Private(_field_formats2["default"]);return _lodash2["default"]["class"](MetricAggType).inherits(AggType),MetricAggType.prototype.subtype="Metric Aggregations",MetricAggType.prototype.getValue=function(agg,bucket){var isSettableToZero=["cardinality","sum"].indexOf(agg.__type.name)!==-1;return!bucket[agg.id]&&isSettableToZero?0:bucket[agg.id]&&bucket[agg.id].value},MetricAggType.prototype.getFormat=function(agg){var field=agg.getField();return field?field.format:fieldFormats.getDefaultInstance("number")},MetricAggType}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=MetricAggTypeProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_agg_type=__webpack_require__(2976),_agg_type2=_interopRequireDefault(_agg_type),_field_formats=__webpack_require__(2562),_field_formats2=_interopRequireDefault(_field_formats);module.exports=exports["default"]},2976:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function AggTypeFactory(Private){function AggType(config){this.name=config.name,this.dslName=config.dslName||config.name,this.title=config.title,this.makeLabel=config.makeLabel||_lodash2["default"].constant(this.name),this.ordered=config.ordered,this.hasNoDsl=!!config.hasNoDsl,this.createFilter=config.createFilter,this.params=config.params||[],this.params instanceof AggParams||(this.params.push({name:"json",type:"json",advanced:!0}),config.customLabels!==!1&&this.params.push({name:"customLabel",type:"string",write:_lodash2["default"].noop}),this.params=new AggParams(this.params)),this.getRequestAggs=config.getRequestAggs||_lodash2["default"].noop,this.getResponseAggs=config.getResponseAggs||_lodash2["default"].noop,this.decorateAggConfig=config.decorateAggConfig||null,config.getFormat&&(this.getFormat=config.getFormat)}var AggParams=Private(_agg_params2["default"]),fieldFormats=Private(_field_formats2["default"]);return AggType.prototype.getFormat=function(agg){var field=agg.getField();return field?field.format:fieldFormats.getDefaultInstance("string")},AggType}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AggTypeFactory;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_agg_params=__webpack_require__(2967),_agg_params2=_interopRequireDefault(_agg_params),_field_formats=__webpack_require__(2562),_field_formats2=_interopRequireDefault(_field_formats);module.exports=exports["default"]},2977:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function AggTypeMetricAvgProvider(Private){var MetricAggType=Private(_metric_agg_type2["default"]);return new MetricAggType({name:"avg",title:"Average",makeLabel:function(aggConfig){return"Average "+aggConfig.getFieldDisplayName()},params:[{name:"field",filterFieldTypes:"number"}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AggTypeMetricAvgProvider;var _metric_agg_type=__webpack_require__(2975),_metric_agg_type2=_interopRequireDefault(_metric_agg_type);module.exports=exports["default"]},2978:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function AggTypeMetricSumProvider(Private){var MetricAggType=Private(_metric_agg_type2["default"]);return new MetricAggType({name:"sum",title:"Sum",makeLabel:function(aggConfig){return"Sum of "+aggConfig.getFieldDisplayName()},params:[{name:"field",filterFieldTypes:"number"}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AggTypeMetricSumProvider;var _metric_agg_type=__webpack_require__(2975),_metric_agg_type2=_interopRequireDefault(_metric_agg_type);module.exports=exports["default"]},2979:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function AggTypeMetricMedianProvider(Private){var MetricAggType=Private(_metric_agg_type2["default"]),percentiles=Private(_percentiles2["default"]);return new MetricAggType({name:"median",dslName:"percentiles",title:"Median",makeLabel:function(aggConfig){return"Median "+aggConfig.getFieldDisplayName()},params:[{name:"field",filterFieldTypes:"number"},{name:"percents","default":[50]},{write:function(agg,output){output.params.keyed=!1}}],getResponseAggs:percentiles.getResponseAggs,getValue:percentiles.getValue})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AggTypeMetricMedianProvider;var _metric_agg_type=__webpack_require__(2975),_metric_agg_type2=_interopRequireDefault(_metric_agg_type),_percentiles=__webpack_require__(2980),_percentiles2=_interopRequireDefault(_percentiles);module.exports=exports["default"]},2980:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function AggTypeMetricPercentilesProvider(Private){var MetricAggType=Private(_metric_agg_type2["default"]),getResponseAggConfigClass=Private(_get_response_agg_config_class2["default"]),valueProps={makeLabel:function(){var label=this.params.customLabel||this.getFieldDisplayName();return(0,_ordinal_suffix2["default"])(this.key)+" percentile of "+label}};return new MetricAggType({name:"percentiles",title:"Percentiles",makeLabel:function(agg){return"Percentiles of "+agg.getFieldDisplayName()},params:[{name:"field",filterFieldTypes:"number"},{name:"percents",editor:_percentiles2["default"],"default":[1,5,25,50,75,95,99]},{write:function(agg,output){output.params.keyed=!1}}],getResponseAggs:function(agg){var ValueAggConfig=getResponseAggConfigClass(agg,valueProps);return agg.params.percents.map(function(percent){return new ValueAggConfig(percent)})},getValue:_percentiles_get_value2["default"]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AggTypeMetricPercentilesProvider;var _ordinal_suffix=__webpack_require__(2981),_ordinal_suffix2=_interopRequireDefault(_ordinal_suffix),_percentiles=__webpack_require__(970),_percentiles2=_interopRequireDefault(_percentiles);__webpack_require__(2982);var _metric_agg_type=__webpack_require__(2975),_metric_agg_type2=_interopRequireDefault(_metric_agg_type),_get_response_agg_config_class=__webpack_require__(2985),_get_response_agg_config_class2=_interopRequireDefault(_get_response_agg_config_class),_percentiles_get_value=__webpack_require__(2986),_percentiles_get_value2=_interopRequireDefault(_percentiles_get_value);module.exports=exports["default"]},2981:function(module,exports){"use strict";function addOrdinalSuffix(num){return num+""+suffix(num)}function suffix(num){var int=Math.floor(parseFloat(num)),hunth=int%100;if(hunth>=11&&hunth<=13)return"th";var tenth=int%10;return 1===tenth?"st":2===tenth?"nd":3===tenth?"rd":"th"}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=addOrdinalSuffix,module.exports=exports["default"]},2982:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_range=__webpack_require__(2983),_range2=_interopRequireDefault(_range);__webpack_require__(2984);var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_number_list=__webpack_require__(974),_number_list2=_interopRequireDefault(_number_list);_modules2["default"].get("kibana").directive("kbnNumberList",function(){return{restrict:"E",template:_number_list2["default"],controllerAs:"numberListCntr",require:"ngModel",controller:function($scope,$attrs,$parse){var self=this;self.init=function(modelCntr){self.modelCntr=modelCntr,self.getList=function(){return self.modelCntr.$modelValue},self.getUnitName=_lodash2["default"].partial($parse($attrs.unit),$scope);var defaultRange=self.range=(0,_range2["default"])("[0,Infinity)");$scope.$watch(function(){return $attrs.range},function(range){if(!range)return void(self.range=defaultRange);try{self.range=(0,_range2["default"])(range)}catch(e){throw new TypeError("Unable to parse range: "+e.message)}}),self.remove=function(index){var list=self.getList();list&&list.splice(index,1)},self.add=function(){var list=self.getList();list&&list.push(_lodash2["default"].last(list)+1)},self.tooShort=function(){return _lodash2["default"].size(self.getList())<1},self.undefinedLength=function(){return self.tooShort()&&self.modelCntr.$untouched&&self.modelCntr.$pristine},self.invalidLength=function(){return self.tooShort()&&!self.undefinedLength()},$scope.$watchCollection(self.getList,function(){self.modelCntr.$setValidity("numberListLength",!self.tooShort())})}},link:{pre:function($scope,$el,attrs,ngModelCntr){$scope.numberListCntr.init(ngModelCntr)}}}})},2983:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function parse(input){var match=String(input).match(RANGE_RE);if(!match)throw new TypeError("expected input to be in interval notation eg. (100, 200]");return new Range("["===match[1],parseFloat(match[2]),parseFloat(match[3]),"]"===match[4])}function Range(){var args=_lodash2["default"].toArray(arguments);args[1]>args[2]&&args.reverse(),this.minInclusive=args[0],this.min=args[1],this.max=args[2],this.maxInclusive=args[3]}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_RE_NUMBER="(\\-?(?:\\d+(?:\\.\\d+)?|Infinity))",RANGE_RE=new RegExp("^\\s*([\\[|\\(])\\s*"+_RE_NUMBER+"\\s*,\\s*"+_RE_NUMBER+"\\s*([\\]|\\)])\\s*$");Range.prototype.within=function(n){return!(this.min===n&&!this.minInclusive)&&(!(this.min>n)&&(!(this.max===n&&!this.maxInclusive)&&!(this.max<n)))},exports["default"]=parse,module.exports=exports["default"]},2984:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _key_map=__webpack_require__(2752),_key_map2=_interopRequireDefault(_key_map),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),INVALID={},FLOATABLE=/^[\d\.e\-\+]+$/i,VALIDATION_ERROR="numberListRangeAndOrder",DIRECTIVE_ATTR="kbn-number-list-input";_modules2["default"].get("kibana").directive("kbnNumberListInput",function($parse){return{restrict:"A",require:["ngModel","^kbnNumberList"],link:function($scope,$el,attrs,controllers){function removeIfEmpty(event){return ngModelCntr.$viewValue||($get("prev").focus(),numberListCntr.remove($scope.$index),event.preventDefault()),!1}function $get(dir){return $repeater[dir]().find("["+DIRECTIVE_ATTR+"]")}function go(dir){return function(){var $to=$get(dir);return!!$to.size()&&void $to.focus()}}function idKey(event){var id=[];return event.ctrlKey&&id.push("ctrl"),event.shiftKey&&id.push("shift"),event.metaKey&&id.push("meta"),event.altKey&&id.push("alt"),id.push(_key_map2["default"][event.keyCode]||event.keyCode),id.join("-")}function add(n,val){return parse(val+n)}function addTenth(n,val,str){var int=Math.floor(val),dec=parseInt(str.split(".")[1]||0,10);return dec+=parseInt(n,10),(dec<0||dec>9)&&(int+=Math.floor(dec/10),dec<0?dec=10+dec%10:dec%=10),parse(int+"."+dec)}function change(using,mod){return function(){var str=String(ngModelCntr.$viewValue),val=parse(str);if(val!==INVALID){var next=using(mod,val,str);next!==INVALID&&($el.val(next),ngModelCntr.$setViewValue(next))}}}function onKeydown(event){var handler=handlers[idKey(event)];handler&&(handler(event)!==!1&&event.preventDefault(),$scope.$apply())}function parse(viewValue){var num=viewValue;if("number"!=typeof num||isNaN(num)){if(num=String(viewValue||0).trim(),!FLOATABLE.test(num))return INVALID;if(num=parseFloat(num),isNaN(num))return INVALID}var range=numberListCntr.range;if(!range.within(num))return INVALID;if($scope.$index>0){var i=$scope.$index-1,list=numberListCntr.getList(),prev=list[i];if(num<=prev)return INVALID}return num}function validate(then){return function(input){var value=parse(input),valid=value!==INVALID;return value=valid?value:input,ngModelCntr.$setValidity(VALIDATION_ERROR,valid),then&&then(input,value),value}}var ngModelCntr=controllers[0],numberListCntr=controllers[1],$setModel=$parse(attrs.ngModel).assign,$repeater=$el.closest("[ng-repeat]"),handlers={up:change(add,1),"shift-up":change(addTenth,1),down:change(add,-1),"shift-down":change(addTenth,-1),tab:go("next"),"shift-tab":go("prev"),"shift-enter":numberListCntr.add,backspace:removeIfEmpty,"delete":removeIfEmpty};$el.on("keydown",onKeydown),$scope.$on("$destroy",function(){$el.off("keydown",onKeydown)}),$scope.$watchMulti(["$index",{fn:$scope.$watchCollection,get:function(){return numberListCntr.getList()}}],function(){var valid=parse(ngModelCntr.$viewValue)!==INVALID;ngModelCntr.$setValidity(VALIDATION_ERROR,valid)}),ngModelCntr.$parsers.push(validate()),ngModelCntr.$formatters.push(validate(function(input,value){input!==value&&$setModel($scope,value)})),parse(ngModelCntr.$viewValue)===INVALID&&ngModelCntr.$setTouched()}}})},2985:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function ResponseAggConfigProvider(){function create(parentAgg,props){function ResponseAggConfig(key){this.key=key,this.parentId=this.id;var subId=String(key);subId.indexOf(".")>-1?this.id=this.parentId+"['"+subId.replace(/'/g,"\\'")+"']":this.id=this.parentId+"."+subId}return ResponseAggConfig.prototype=Object.create(parentAgg,{constructor:ResponseAggConfig}),_lodash2["default"].assign(ResponseAggConfig.prototype,props),ResponseAggConfig}return function(agg,props){return agg.$$_ResponseAggConfigClass?agg.$$_ResponseAggConfigClass:agg.$$_ResponseAggConfigClass=create(agg,props)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=ResponseAggConfigProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);module.exports=exports["default"]},2986:function(module,exports,__webpack_require__){"use strict";function getPercentileValue(agg,bucket){var values=bucket[agg.parentId]&&bucket[agg.parentId].values,percentile=(0,_lodash.find)(values,function(value){return agg.key===value.key});return percentile?percentile.value:NaN}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=getPercentileValue;var _lodash=__webpack_require__(2);module.exports=exports["default"]},2987:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function AggTypeMetricMinProvider(Private){var MetricAggType=Private(_metric_agg_type2["default"]);return new MetricAggType({name:"min",title:"Min",makeLabel:function(aggConfig){return"Min "+aggConfig.getFieldDisplayName()},params:[{name:"field",filterFieldTypes:"number,date"}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AggTypeMetricMinProvider;var _metric_agg_type=__webpack_require__(2975),_metric_agg_type2=_interopRequireDefault(_metric_agg_type);module.exports=exports["default"]},2988:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function AggTypeMetricMaxProvider(Private){var MetricAggType=Private(_metric_agg_type2["default"]);return new MetricAggType({name:"max",title:"Max",makeLabel:function(aggConfig){return"Max "+aggConfig.getFieldDisplayName()},params:[{name:"field",filterFieldTypes:"number,date"}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AggTypeMetricMaxProvider;var _metric_agg_type=__webpack_require__(2975),_metric_agg_type2=_interopRequireDefault(_metric_agg_type);module.exports=exports["default"]},2989:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function AggTypeMetricTopProvider(Private){var MetricAggType=Private(_metric_agg_type2["default"]),isNumber=function(type){return"number"===type};return new MetricAggType({name:"top_hits",title:"Top Hit",makeLabel:function(aggConfig){var prefix="desc"===aggConfig.params.sortOrder.val?"Last":"First";return 1!==aggConfig.params.size&&(prefix+=" "+aggConfig.params.size),prefix+" "+aggConfig.params.field.displayName},params:[{name:"field",onlyAggregatable:!1,showAnalyzedWarning:!1,filterFieldTypes:function(vis,value){return"table"===vis.type.name||"metric"===vis.type.name||"number"===value},write:function(agg,output){var field=agg.params.field;output.params={},field.scripted?output.params.script_fields=_defineProperty({},field.name,{script:{inline:field.script,lang:field.lang}}):(field.doc_values&&(output.params.docvalue_fields=[field.name]),output.params._source="_source"===field.name||field.name)}},{name:"aggregate",type:"optioned",editor:_top_aggregate_and_size2["default"],options:[{display:"Min",isCompatibleType:isNumber,isCompatibleVis:_lodash2["default"].constant(!0),disabled:!0,val:"min"},{display:"Max",isCompatibleType:isNumber,isCompatibleVis:_lodash2["default"].constant(!0),disabled:!0,val:"max"},{display:"Sum",isCompatibleType:isNumber,isCompatibleVis:_lodash2["default"].constant(!0),disabled:!0,val:"sum"},{display:"Average",isCompatibleType:isNumber,isCompatibleVis:_lodash2["default"].constant(!0),disabled:!0,val:"average"},{display:"Concatenate",isCompatibleType:_lodash2["default"].constant(!0),isCompatibleVis:function(name){return"metric"===name||"table"===name},disabled:!0,val:"concat"}],controller:function($scope){$scope.options=[],$scope.$watchGroup(["agg.vis.type.name","agg.params.field.type"],function(_ref){var _ref2=_slicedToArray(_ref,2),visName=_ref2[0],fieldType=_ref2[1];fieldType&&visName&&($scope.options=_lodash2["default"].filter($scope.aggParam.options,function(option){return option.isCompatibleVis(visName)&&option.isCompatibleType(fieldType)}),1===$scope.options.length&&($scope.agg.params.aggregate=$scope.options[0]))})},write:_lodash2["default"].noop},{name:"size",editor:null,"default":1},{name:"sortField",type:"field",editor:null,filterFieldTypes:["number","date","ip","string"],"default":function(agg){return agg.vis.indexPattern.timeFieldName},write:_lodash2["default"].noop},{name:"sortOrder",type:"optioned","default":"desc",editor:_top_sort2["default"],options:[{display:"Descending",val:"desc"},{display:"Ascending",val:"asc"}],write:function(agg,output){var sortField=agg.params.sortField,sortOrder=agg.params.sortOrder;sortField.scripted?output.params.sort=[{_script:{script:{inline:sortField.script,lang:sortField.lang},type:sortField.type,order:sortOrder.val}}]:output.params.sort=[_defineProperty({},sortField.name,{order:sortOrder.val})]}}],getValue:function(agg,bucket){var hits=_lodash2["default"].get(bucket,agg.id+".hits.hits");if(!hits||!hits.length)return null;var path=agg.params.field.name,values=(0,_lodash2["default"])(hits).map(function(hit){return"_source"===path?hit._source:agg.vis.indexPattern.flattenHit(hit,!0)[path]}).flatten().value();if(1===values.length&&(values=values[0]),_lodash2["default"].isArray(values)){if(!_lodash2["default"].compact(values).length)return null;switch(agg.params.aggregate.val){case"max":return _lodash2["default"].max(values);case"min":return _lodash2["default"].min(values);case"sum":return _lodash2["default"].sum(values);case"average":return _lodash2["default"].sum(values)/values.length}}return values}})}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports["default"]=AggTypeMetricTopProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_metric_agg_type=__webpack_require__(2975),_metric_agg_type2=_interopRequireDefault(_metric_agg_type),_top_sort=__webpack_require__(980),_top_sort2=_interopRequireDefault(_top_sort),_top_aggregate_and_size=__webpack_require__(981),_top_aggregate_and_size2=_interopRequireDefault(_top_aggregate_and_size);module.exports=exports["default"]},2990:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function AggTypeMetricStandardDeviationProvider(Private){var MetricAggType=Private(_metric_agg_type2["default"]),getResponseAggConfigClass=Private(_get_response_agg_config_class2["default"]),responseAggConfigProps={valProp:function(){var details=this.keyedDetails(this.params.customLabel)[this.key];return details.valProp},makeLabel:function(){var fieldDisplayName=this.getFieldDisplayName(),details=this.keyedDetails(this.params.customLabel,fieldDisplayName);return _lodash2["default"].get(details,[this.key,"title"])},keyedDetails:function(customLabel,fieldDisplayName){var label=customLabel?customLabel:"Standard Deviation of "+fieldDisplayName;return{std_lower:{valProp:["std_deviation_bounds","lower"],title:"Lower "+label},std_upper:{valProp:["std_deviation_bounds","upper"],title:"Upper "+label}}}};return new MetricAggType({name:"std_dev",dslName:"extended_stats",title:"Standard Deviation",makeLabel:function(agg){return"Standard Deviation of "+agg.getFieldDisplayName()},params:[{name:"field",filterFieldTypes:"number"}],getResponseAggs:function(agg){var ValueAggConfig=getResponseAggConfigClass(agg,responseAggConfigProps);return[new ValueAggConfig("std_lower"),new ValueAggConfig("std_upper")]},getValue:function(agg,bucket){return _lodash2["default"].get(bucket[agg.parentId],agg.valProp())}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AggTypeMetricStandardDeviationProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_metric_agg_type=__webpack_require__(2975),_metric_agg_type2=_interopRequireDefault(_metric_agg_type),_get_response_agg_config_class=__webpack_require__(2985),_get_response_agg_config_class2=_interopRequireDefault(_get_response_agg_config_class);module.exports=exports["default"]},2991:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function AggTypeMetricCardinalityProvider(Private){var MetricAggType=Private(_metric_agg_type2["default"]),fieldFormats=Private(_field_formats2["default"]);return new MetricAggType({name:"cardinality",title:"Unique Count",makeLabel:function(aggConfig){return"Unique count of "+aggConfig.getFieldDisplayName()},getFormat:function(){return fieldFormats.getDefaultInstance("number")},params:[{name:"field"}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AggTypeMetricCardinalityProvider;var _metric_agg_type=__webpack_require__(2975),_metric_agg_type2=_interopRequireDefault(_metric_agg_type),_field_formats=__webpack_require__(2562),_field_formats2=_interopRequireDefault(_field_formats);module.exports=exports["default"]},2992:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function AggTypeMetricGeoCentroidProvider(Private){var MetricAggType=Private(_metric_agg_type2["default"]);return new MetricAggType({name:"geo_centroid",title:"Geo Centroid",makeLabel:function(){return"Geo Centroid"},params:[{name:"field",filterFieldTypes:"geo_point"}],getValue:function(agg,bucket){return bucket[agg.id]&&bucket[agg.id].location}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AggTypeMetricGeoCentroidProvider;var _metric_agg_type=__webpack_require__(2975),_metric_agg_type2=_interopRequireDefault(_metric_agg_type);module.exports=exports["default"];
},2993:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function AggTypeMetricPercentileRanksProvider(Private){var MetricAggType=Private(_metric_agg_type2["default"]),getResponseAggConfigClass=Private(_get_response_agg_config_class2["default"]),fieldFormats=Private(_field_formats2["default"]),valueProps={makeLabel:function(){var field=this.getField(),format=field&&field.format||fieldFormats.getDefaultInstance("number"),label=this.params.customLabel||this.getFieldDisplayName();return"Percentile rank "+format.convert(this.key,"text")+' of "'+label+'"'}};return new MetricAggType({name:"percentile_ranks",title:"Percentile Ranks",makeLabel:function(agg){return"Percentile ranks of "+agg.getFieldDisplayName()},params:[{name:"field",filterFieldTypes:"number"},{name:"values",editor:_percentile_ranks2["default"],"default":[]},{write:function(agg,output){output.params.keyed=!1}}],getResponseAggs:function(agg){var ValueAggConfig=getResponseAggConfigClass(agg,valueProps);return agg.params.values.map(function(value){return new ValueAggConfig(value)})},getFormat:function(){return fieldFormats.getInstance("percent")||fieldFormats.getDefaultInstance("number")},getValue:function(agg,bucket){return(0,_percentiles_get_value2["default"])(agg,bucket)/100}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AggTypeMetricPercentileRanksProvider;var _percentile_ranks=__webpack_require__(986),_percentile_ranks2=_interopRequireDefault(_percentile_ranks);__webpack_require__(2982);var _metric_agg_type=__webpack_require__(2975),_metric_agg_type2=_interopRequireDefault(_metric_agg_type),_get_response_agg_config_class=__webpack_require__(2985),_get_response_agg_config_class2=_interopRequireDefault(_get_response_agg_config_class),_field_formats=__webpack_require__(2562),_field_formats2=_interopRequireDefault(_field_formats),_percentiles_get_value=__webpack_require__(2986),_percentiles_get_value2=_interopRequireDefault(_percentiles_get_value);module.exports=exports["default"]},2994:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function AggTypeMetricDerivativeProvider(Private){var MetricAggType=Private(_metric_agg_type2["default"]),parentPipelineAggHelper=Private(_parent_pipeline_agg_helper2["default"]);return new MetricAggType({name:"derivative",title:"Derivative",subtype:parentPipelineAggHelper.subtype,makeLabel:function(agg){return(0,_make_nested_label.makeNestedLabel)(agg,"derivative")},params:[].concat(_toConsumableArray(parentPipelineAggHelper.params()))})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AggTypeMetricDerivativeProvider;var _metric_agg_type=__webpack_require__(2975),_metric_agg_type2=_interopRequireDefault(_metric_agg_type),_parent_pipeline_agg_helper=__webpack_require__(2995),_parent_pipeline_agg_helper2=_interopRequireDefault(_parent_pipeline_agg_helper),_make_nested_label=__webpack_require__(3001);module.exports=exports["default"]},2995:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _sub_agg=__webpack_require__(989),_sub_agg2=_interopRequireDefault(_sub_agg),_lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_agg_config=__webpack_require__(2996),_agg_config2=_interopRequireDefault(_agg_config),_schemas=__webpack_require__(2997),_schemas2=_interopRequireDefault(_schemas),_parent_pipeline_agg_controller=__webpack_require__(2998),_parent_pipeline_agg_writter=__webpack_require__(3e3),ParentPipelineAggHelperProvider=function(Private){var AggConfig=Private(_agg_config2["default"]),Schemas=Private(_schemas2["default"]),metricAggFilter=["!top_hits","!percentiles","!percentile_ranks","!median","!std_dev"],metricAggSchema=new Schemas([{group:"none",name:"metricAgg",title:"Metric Agg",hideCustomLabel:!0,aggFilter:metricAggFilter}]).all[0];return{subtype:"Parent Pipeline Aggregations",params:function(){return[{name:"customMetric",type:AggConfig,"default":null,serialize:function(customMetric){return customMetric.toJSON()},deserialize:function(state,agg){return this.makeAgg(agg,state)},makeAgg:function(termsAgg,state){state=state||{type:"count"},state.schema=metricAggSchema;var metricAgg=new AggConfig(termsAgg.vis,state);return metricAgg.id=termsAgg.id+"-metric",metricAgg},write:_lodash2["default"].noop},{name:"buckets_path",write:_lodash2["default"].noop},{name:"metricAgg",editor:_sub_agg2["default"],"default":"custom",controller:_parent_pipeline_agg_controller.parentPipelineAggController,write:_parent_pipeline_agg_writter.parentPipelineAggWritter}]}}};exports["default"]=ParentPipelineAggHelperProvider,module.exports=exports["default"]},2996:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function AggConfigFactory(Private,fieldTypeFilter){function AggConfig(vis,opts){var self=this;self.id=String(opts.id||AggConfig.nextId(vis.aggs)),self.vis=vis,self._opts=opts=opts||{},self.enabled="boolean"!=typeof opts.enabled||opts.enabled,self.type=opts.type,self.schema=opts.schema,self.fillDefaults(opts.params)}var fieldFormats=Private(_field_formats2["default"]);return AggConfig.ensureIds=function(list){var have=[],haveNot=[];list.forEach(function(obj){(obj.id?have:haveNot).push(obj)});var nextId=AggConfig.nextId(have);return haveNot.forEach(function(obj){obj.id=String(nextId++)}),list},AggConfig.nextId=function(list){return 1+list.reduce(function(max,obj){return Math.max(max,+obj.id||0)},0)},Object.defineProperties(AggConfig.prototype,{type:{get:function(){return this.__type},set:function(type){this.__typeDecorations&&_lodash2["default"].forOwn(this.__typeDecorations,function(prop,name){delete this[name]},this),_lodash2["default"].isString(type)&&(type=AggConfig.aggTypes.byName[type]),type&&_lodash2["default"].isFunction(type.decorateAggConfig)&&(this.__typeDecorations=type.decorateAggConfig(),Object.defineProperties(this,this.__typeDecorations)),this.__type=type}},schema:{get:function(){return this.__schema},set:function(schema){_lodash2["default"].isString(schema)&&(schema=this.vis.type.schemas.all.byName[schema]),this.__schema=schema}}}),AggConfig.prototype.fillDefaults=function(from){var self=this;from=from||self.params||{};var to=self.params={};self.getAggParams().forEach(function(aggParam){var val=from[aggParam.name];if(null==val){if(null==aggParam["default"])return;if(_lodash2["default"].isFunction(aggParam["default"])){if(val=aggParam["default"](self),null==val)return}else val=aggParam["default"]}if(aggParam.deserialize){var isTyped=_lodash2["default"].isFunction(aggParam.type),isType=isTyped&&val instanceof aggParam.type,isObject=!isTyped&&_lodash2["default"].isObject(val),isDeserialized=isType||isObject;return isDeserialized||(val=aggParam.deserialize(val,self)),void(to[aggParam.name]=val)}to[aggParam.name]=_lodash2["default"].cloneDeep(val)})},AggConfig.prototype.resetParams=function(){var field=void 0,fieldOptions=this.getFieldOptions();if(fieldOptions){var prevField=fieldOptions.byName[this.fieldName()]||null,filters=fieldOptions.filterFieldTypes;_lodash2["default"].isFunction(fieldOptions.filterFieldTypes)&&(filters=fieldOptions.filterFieldTypes.bind(this,this.vis));var fieldOpts=fieldTypeFilter(this.vis.indexPattern.fields,filters);field=_lodash2["default"].contains(fieldOpts,prevField)?prevField:null}return this.fillDefaults({row:this.params.row,field:field})},AggConfig.prototype.write=function(){return this.type.params.write(this)},AggConfig.prototype.createFilter=function(key){if(!_lodash2["default"].isFunction(this.type.createFilter))throw new TypeError('The "'+this.type.title+'" aggregation does not support filtering.');var field=this.getField(),label=this.getFieldDisplayName();if(field&&!field.filterable){var message='The "'+label+'" field can not be used for filtering.';throw field.scripted&&(message='The "'+label+'" field is scripted and can not be used for filtering.'),new TypeError(message)}return this.type.createFilter(this,key)},AggConfig.prototype.requesting=function(){var self=this;self.type&&self.type.params.forEach(function(param){param.onRequest&&param.onRequest(self)})},AggConfig.prototype.toDsl=function(){if(!this.type.hasNoDsl){var output=this.write(),configDsl={};if(configDsl[this.type.dslName||this.type.name]=output.params,this.subAggs&&!output.subAggs&&(output.subAggs=this.subAggs),output.subAggs){var subDslLvl=configDsl.aggs||(configDsl.aggs={});output.subAggs.forEach(function(subAggConfig){subDslLvl[subAggConfig.id]=subAggConfig.toDsl()})}if(output.parentAggs){var _subDslLvl=configDsl.parentAggs||(configDsl.parentAggs={});output.parentAggs.forEach(function(subAggConfig){_subDslLvl[subAggConfig.id]=subAggConfig.toDsl()})}return configDsl}},AggConfig.prototype.toJSON=function(){var self=this,params=self.params,outParams=_lodash2["default"].transform(self.getAggParams(),function(out,aggParam){var val=params[aggParam.name];null!=val&&(aggParam.serialize&&(val=aggParam.serialize(val,self)),null!=val&&(out[aggParam.name]=_lodash2["default"].cloneDeep(val)))},{});return{id:self.id,enabled:self.enabled,type:self.type&&self.type.name,schema:self.schema&&self.schema.name,params:outParams}},AggConfig.prototype.getAggParams=function(){return[].concat(this.type?this.type.params.raw:[],this.schema?this.schema.params.raw:[])},AggConfig.prototype.getRequestAggs=function(){if(this.type)return this.type.getRequestAggs(this)||[this]},AggConfig.prototype.getResponseAggs=function(){if(this.type)return this.type.getResponseAggs(this)||[this]},AggConfig.prototype.getValue=function(bucket){return this.type.getValue(this,bucket)},AggConfig.prototype.getKey=function(bucket,key){return this.type.getKey(bucket,key,this)},AggConfig.prototype.getFieldDisplayName=function(){var field=this.getField();return field?field.displayName||this.fieldName():""},AggConfig.prototype.getField=function(){return this.params.field},AggConfig.prototype.makeLabel=function(){if(this.params.customLabel)return this.params.customLabel;if(!this.type)return"";var pre="percentage"===_lodash2["default"].get(this.vis,"params.mode")?"Percentage of ":"";return pre+=this.type.makeLabel(this)},AggConfig.prototype.getIndexPattern=function(){return this.vis.indexPattern},AggConfig.prototype.getFieldOptions=function(){var fieldParamType=this.type&&this.type.params.byName.field;return fieldParamType&&fieldParamType.getFieldOptions?fieldParamType.getFieldOptions(this):null},AggConfig.prototype.fieldFormatter=function(contentType,defaultFormat){var format=this.type&&this.type.getFormat(this);return format?format.getConverterFor(contentType):this.fieldOwnFormatter(contentType,defaultFormat)},AggConfig.prototype.fieldOwnFormatter=function(contentType,defaultFormat){var field=this.getField(),format=field&&field.format;return format||(format=defaultFormat),format||(format=fieldFormats.getDefaultInstance("string")),format.getConverterFor(contentType)},AggConfig.prototype.fieldName=function(){var field=this.getField();return field?field.name:""},AggConfig.prototype.fieldIsTimeField=function(){var timeFieldName=this.vis.indexPattern.timeFieldName;return timeFieldName&&this.fieldName()===timeFieldName},AggConfig}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AggConfigFactory;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_field_formats=__webpack_require__(2562),_field_formats2=_interopRequireDefault(_field_formats);module.exports=exports["default"]},2997:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function VisTypeSchemasFactory(Private){function Schemas(schemas){var self=this;(0,_lodash2["default"])(schemas||[]).map(function(schema){if(!schema.name)throw new Error("all schema must have a unique name");return"split"===schema.name?(schema.params=[{name:"row","default":!0}],schema.editor=__webpack_require__(992)):"radius"===schema.name&&(schema.editor=__webpack_require__(993)),_lodash2["default"].defaults(schema,{min:0,max:1/0,group:"buckets",title:schema.name,aggFilter:"*",editor:!1,params:[],deprecate:!1}),schema.params=new AggParams(schema.params),schema}).tap(function(schemas){self.all=new _indexed_array2["default"]({index:["name"],group:["group"],immutable:!0,initialSet:schemas})}).groupBy("group").forOwn(function(group,groupName){self[groupName]=new _indexed_array2["default"]({index:["name"],immutable:!0,initialSet:group})}).commit()}var AggParams=Private(_agg_params2["default"]);return Schemas}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=VisTypeSchemasFactory;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_indexed_array=__webpack_require__(2534),_indexed_array2=_interopRequireDefault(_indexed_array),_agg_params=__webpack_require__(2967),_agg_params2=_interopRequireDefault(_agg_params);module.exports=exports["default"]},2998:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.parentPipelineAggController=void 0;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_safe_make_label=__webpack_require__(2999),_safe_make_label2=_interopRequireDefault(_safe_make_label),parentPipelineAggController=function($scope){function checkBuckets(){var lastBucket=_lodash2["default"].findLast($scope.vis.aggs,function(agg){return"buckets"===agg.schema.group}),bucketHasType=lastBucket&&lastBucket.type,bucketIsHistogram=bucketHasType&&["date_histogram","histogram"].includes(lastBucket.type.name),canUseAggregation=lastBucket&&bucketIsHistogram;if(_lodash2["default"].each($scope.vis.aggs,function(agg){agg.error&&delete agg.error}),$scope.aggForm.agg&&$scope.aggForm.agg.$setValidity("bucket",canUseAggregation),canUseAggregation)lastBucket.params.min_doc_count="histogram"===lastBucket.type.name?1:0;else if(lastBucket){var type=$scope.agg.type.title;lastBucket.error='Last bucket aggregation must be "Date Histogram" or \n        "Histogram" when using "'+type+'" metric aggregation!'}}function updateOrderAgg(){var agg=$scope.agg,params=agg.params,metricAgg=params.metricAgg,paramDef=agg.type.params.byName.customMetric;return checkBuckets(),"custom"!==metricAgg?($scope.vis.aggs.find(function(agg){return agg.id===metricAgg})||(params.metricAgg=null),void(params.customMetric=null)):void(params.customMetric=params.customMetric||paramDef.makeAgg(agg))}$scope.safeMakeLabel=_safe_make_label2["default"],$scope.$watch("responseValueAggs",updateOrderAgg),$scope.$watch("agg.params.metricAgg",updateOrderAgg),$scope.$on("$destroy",function(){$scope.aggForm&&$scope.aggForm.agg&&$scope.aggForm.agg.$setValidity("bucket",!0)}),$scope.isDisabledAgg=function(agg){var invalidAggs=["top_hits","percentiles","percentile_ranks","median","std_dev"];return Boolean(invalidAggs.find(function(invalidAgg){return invalidAgg===agg.type.name}))}};exports.parentPipelineAggController=parentPipelineAggController},2999:function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var safeMakeLabel=function(agg){try{return agg.makeLabel()}catch(e){return"- agg not valid -"}};exports["default"]=safeMakeLabel,module.exports=exports["default"]},3e3:function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var parentPipelineAggWritter=function(agg,output){var vis=agg.vis,selectedMetric=agg.params.customMetric||vis.aggs.getResponseAggById(agg.params.metricAgg);agg.params.customMetric&&"count"!==agg.params.customMetric.type.name&&(output.parentAggs=(output.parentAggs||[]).concat(selectedMetric)),output.params={},"count"===selectedMetric.type.name?output.params.buckets_path="_count":output.params.buckets_path=selectedMetric.id};exports.parentPipelineAggWritter=parentPipelineAggWritter},3001:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeNestedLabel=void 0;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),makeNestedLabel=function(aggConfig,label){var uppercaseLabel=_lodash2["default"].startCase(label);if(aggConfig.params.customMetric){var metricLabel=aggConfig.params.customMetric.makeLabel();return metricLabel.includes(uppercaseLabel+" of ")?(metricLabel=metricLabel.substring((uppercaseLabel+" of ").length),metricLabel="2. "+label+" of "+metricLabel):metricLabel=metricLabel.includes(label+" of ")?parseInt(metricLabel.substring(0,1))+1+metricLabel.substring(1):uppercaseLabel+" of "+metricLabel,metricLabel}var metric=aggConfig.vis.aggs.find(function(agg){return agg.id===aggConfig.params.metricAgg});return uppercaseLabel+" of "+metric.makeLabel()};exports.makeNestedLabel=makeNestedLabel},3002:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function AggTypeMetricComulativeSumProvider(Private){var MetricAggType=Private(_metric_agg_type2["default"]),parentPipelineAggHelper=Private(_parent_pipeline_agg_helper2["default"]);return new MetricAggType({name:"cumulative_sum",title:"Cumulative Sum",subtype:parentPipelineAggHelper.subtype,makeLabel:function(agg){return(0,_make_nested_label.makeNestedLabel)(agg,"cumulative sum")},params:[].concat(_toConsumableArray(parentPipelineAggHelper.params()))})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AggTypeMetricComulativeSumProvider;var _metric_agg_type=__webpack_require__(2975),_metric_agg_type2=_interopRequireDefault(_metric_agg_type),_parent_pipeline_agg_helper=__webpack_require__(2995),_parent_pipeline_agg_helper2=_interopRequireDefault(_parent_pipeline_agg_helper),_make_nested_label=__webpack_require__(3001);module.exports=exports["default"]},3003:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function AggTypeMetricMovingAvgProvider(Private){var MetricAggType=Private(_metric_agg_type2["default"]),parentPipelineAggHelper=Private(_parent_pipeline_agg_helper2["default"]);return new MetricAggType({name:"moving_avg",title:"Moving Avg",subtype:parentPipelineAggHelper.subtype,makeLabel:function(agg){return(0,_make_nested_label.makeNestedLabel)(agg,"moving avg")},params:[].concat(_toConsumableArray(parentPipelineAggHelper.params()))})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AggTypeMetricMovingAvgProvider;var _metric_agg_type=__webpack_require__(2975),_metric_agg_type2=_interopRequireDefault(_metric_agg_type),_parent_pipeline_agg_helper=__webpack_require__(2995),_parent_pipeline_agg_helper2=_interopRequireDefault(_parent_pipeline_agg_helper),_make_nested_label=__webpack_require__(3001);module.exports=exports["default"]},3004:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function AggTypeMetricSerialDiffProvider(Private){var MetricAggType=Private(_metric_agg_type2["default"]),parentPipelineAggHelper=Private(_parent_pipeline_agg_helper2["default"]);return new MetricAggType({name:"serial_diff",title:"Serial Diff",subtype:parentPipelineAggHelper.subtype,makeLabel:function(agg){return(0,_make_nested_label.makeNestedLabel)(agg,"serial diff")},params:[].concat(_toConsumableArray(parentPipelineAggHelper.params()))})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AggTypeMetricSerialDiffProvider;var _metric_agg_type=__webpack_require__(2975),_metric_agg_type2=_interopRequireDefault(_metric_agg_type),_parent_pipeline_agg_helper=__webpack_require__(2995),_parent_pipeline_agg_helper2=_interopRequireDefault(_parent_pipeline_agg_helper),_make_nested_label=__webpack_require__(3001);module.exports=exports["default"]},3005:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function DateHistogramAggType(timefilter,config,Private){function getInterval(agg){var interval=_lodash2["default"].get(agg,["params","interval"]);return interval&&"custom"===interval.val?_lodash2["default"].get(agg,["params","customInterval"]):interval}function setBounds(agg,force){agg.buckets._alreadySet&&!force||(agg.buckets._alreadySet=!0,agg.buckets.setBounds(agg.fieldIsTimeField()&&timefilter.getActiveBounds()))}var BucketAggType=Private(_bucket_agg_type2["default"]),TimeBuckets=Private(_time_buckets2["default"]),createFilter=Private(_date_histogram2["default"]),intervalOptions=Private(_interval_options2["default"]),detectedTimezone=_jstimezonedetect.jstz.determine().name(),tzOffset=(0,_moment2["default"])().format("Z");return new BucketAggType({name:"date_histogram",title:"Date Histogram",ordered:{date:!0},makeLabel:function(agg){var output=this.params.write(agg),field=agg.getFieldDisplayName();return field+" per "+(output.metricScaleText||output.bucketInterval.description)},createFilter:createFilter,decorateAggConfig:function(){var buckets=void 0;return{buckets:{configurable:!0,get:function(){return buckets?buckets:(buckets=new TimeBuckets,buckets.setInterval(getInterval(this)),setBounds(this),buckets)}}}},params:[{name:"field",filterFieldTypes:"date","default":function(agg){return agg.vis.indexPattern.timeFieldName},onChange:function(agg){"auto"!==_lodash2["default"].get(agg,"params.interval.val")||agg.fieldIsTimeField()||delete agg.params.interval,setBounds(agg,!0)}},{name:"interval",type:"optioned",deserialize:function(state){var interval=_lodash2["default"].find(intervalOptions,{val:state});return interval||_lodash2["default"].find(intervalOptions,function(option){return Number(_moment2["default"].duration(1,state))===Number(_moment2["default"].duration(1,option.val))})},"default":"auto",options:intervalOptions,editor:_interval2["default"],onRequest:function(agg){setBounds(agg,!0)},write:function(agg,output){setBounds(agg),agg.buckets.setInterval(getInterval(agg));var interval=agg.buckets.getInterval();output.bucketInterval=interval,output.params.interval=interval.expression;var isDefaultTimezone=config.isDefault("dateFormat:tz");isDefaultTimezone?output.params.time_zone=detectedTimezone||tzOffset:output.params.time_zone=config.get("dateFormat:tz");var scaleMetrics=interval.scaled&&interval.scale<1;if(scaleMetrics){var all=_lodash2["default"].every(agg.vis.aggs.bySchemaGroup.metrics,function(agg){return agg.type&&("count"===agg.type.name||"sum"===agg.type.name)});all&&(output.metricScale=interval.scale,output.metricScaleText=interval.preScaled.description)}}},{name:"customInterval","default":"2h",write:_lodash2["default"].noop},{name:"format"},{name:"min_doc_count","default":1},{name:"extended_bounds","default":{},write:function(agg,output){var val=agg.params.extended_bounds;if(null!=val.min||null!=val.max)return void(output.params.extended_bounds={min:(0,_moment2["default"])(val.min).valueOf(),max:(0,_moment2["default"])(val.max).valueOf()})}}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=DateHistogramAggType;var _jstimezonedetect=__webpack_require__(1002),_lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(318),_moment2=_interopRequireDefault(_moment);__webpack_require__(2766),__webpack_require__(2729);var _bucket_agg_type=__webpack_require__(3006),_bucket_agg_type2=_interopRequireDefault(_bucket_agg_type),_time_buckets=__webpack_require__(3007),_time_buckets2=_interopRequireDefault(_time_buckets),_date_histogram=__webpack_require__(3010),_date_histogram2=_interopRequireDefault(_date_histogram),_interval_options=__webpack_require__(3012),_interval_options2=_interopRequireDefault(_interval_options),_interval=__webpack_require__(1010),_interval2=_interopRequireDefault(_interval);module.exports=exports["default"]},3006:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function BucketAggTypeProvider(Private){function BucketAggType(config){BucketAggType.Super.call(this,config),_lodash2["default"].isFunction(config.getKey)&&(this.getKey=config.getKey)}var AggType=Private(_agg_type2["default"]);return _lodash2["default"]["class"](BucketAggType).inherits(AggType),BucketAggType.prototype.getKey=function(bucket,key){return key||bucket.key},BucketAggType}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=BucketAggTypeProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_agg_type=__webpack_require__(2976),_agg_type2=_interopRequireDefault(_agg_type);module.exports=exports["default"]},3007:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function IntervalHelperProvider(Private,timefilter,config){function isValidMoment(m){return m&&"isValid"in m&&m.isValid()}function TimeBuckets(){return TimeBuckets.__cached__(this)}var calcAuto=Private(_calc_auto_interval2["default"]),calcEsInterval=Private(_calc_es_interval2["default"]);return TimeBuckets.prototype.setBounds=function(input){if(!input)return this.clearBounds();var bounds=void 0;bounds=_lodash2["default"].isPlainObject(input)?[input.min,input.max]:_lodash2["default"].isArray(input)?input:[];var moments=(0,_lodash2["default"])(bounds).map(_lodash2["default"].ary(_moment2["default"],1)).sortBy(Number),valid=2===moments.size()&&moments.every(isValidMoment);if(!valid)throw this.clearBounds(),new Error("invalid bounds set: "+input);if(this._lb=moments.shift(),this._ub=moments.pop(),this.getDuration().asSeconds()<0)throw new TypeError("Intervals must be positive")},TimeBuckets.prototype.clearBounds=function(){this._lb=this._ub=null},TimeBuckets.prototype.hasBounds=function(){return isValidMoment(this._ub)&&isValidMoment(this._lb)},TimeBuckets.prototype.getBounds=function(){if(this.hasBounds())return{min:this._lb,max:this._ub}},TimeBuckets.prototype.getDuration=function(){if(this.hasBounds())return _moment2["default"].duration(this._ub-this._lb,"ms")},TimeBuckets.prototype.setInterval=function(input){var interval=input;if(_lodash2["default"].isObject(input)&&(interval=input.val),!interval||"auto"===interval)return void(this._i="auto");if(_lodash2["default"].isString(interval)&&(input=interval,interval=(0,_parse_interval2["default"])(interval),0===+interval&&(interval=null)),!_moment2["default"].isDuration(interval))throw new TypeError('"'+input+'" is not a valid interval.');this._i=interval},TimeBuckets.prototype.getInterval=function(){function readInterval(){var interval=self._i;return _moment2["default"].isDuration(interval)?interval:calcAuto.near(config.get("histogram:barTarget"),duration)}function maybeScaleInterval(interval){if(!self.hasBounds())return interval;var maxLength=config.get("histogram:maxBars"),approxLen=duration/interval,scaled=void 0;return approxLen>maxLength?(scaled=calcAuto.lessThan(maxLength,duration),+scaled===+interval?interval:(decorateInterval(interval),_lodash2["default"].assign(scaled,{preScaled:interval,scale:interval/scaled,scaled:!0}))):interval}function decorateInterval(interval){var esInterval=calcEsInterval(interval);interval.esValue=esInterval.value,interval.esUnit=esInterval.unit,interval.expression=esInterval.expression,interval.overflow=duration>interval&&_moment2["default"].duration(interval-duration);var prettyUnits=_moment2["default"].normalizeUnits(esInterval.unit);return 1===esInterval.value?interval.description=prettyUnits:interval.description=esInterval.value+" "+prettyUnits+"s",interval}var self=this,duration=self.getDuration();return decorateInterval(maybeScaleInterval(readInterval()))},TimeBuckets.prototype.getScaledDateFormat=function(){for(var interval=this.getInterval(),rules=config.get("dateFormat:scaled"),i=rules.length-1;i>=0;i--){var rule=rules[i];if(!rule[0]||interval>=_moment2["default"].duration(rule[0]))return rule[1]}return config.get("dateFormat")},TimeBuckets.__cached__=function(self){function cachedGetter(prop){return{value:function(){return cache.hasOwnProperty(prop)?cache[prop]:cache[prop]=self[prop]()}}}function cacheBreaker(prop){var resource=resources[breakers[prop]],setup=resource.setup,changes=resource.changes,fn=self[prop];return{value:function(){var prev=setup.call(self),ret=fn.apply(self,arguments);return changes.call(self,prev)&&(cache={}),ret}}}function same(checkType){return function(a,b){return a===b||checkType(a)===checkType(b)&&+a===+b}}var cache={},sameMoment=same(_moment2["default"].isMoment),sameDuration=same(_moment2["default"].isDuration),desc={__cached__:{value:self}},breakers={setBounds:"bounds",clearBounds:"bounds",setInterval:"interval"},resources={bounds:{setup:function(){return[self._lb,self._ub]},changes:function(prev){return!sameMoment(prev[0],self._lb)||!sameMoment(prev[1],self._ub)}},interval:{setup:function(){return self._i},changes:function(prev){return!sameDuration(prev,this._i)}}};return _lodash2["default"].forOwn(TimeBuckets.prototype,function(fn,prop){"_"!==prop[0]&&(breakers.hasOwnProperty(prop)?desc[prop]=cacheBreaker(prop):desc[prop]=cachedGetter(prop))}),Object.create(self,desc)},TimeBuckets}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=IntervalHelperProvider;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(318),_moment2=_interopRequireDefault(_moment),_parse_interval=__webpack_require__(2730),_parse_interval2=_interopRequireDefault(_parse_interval),_calc_auto_interval=__webpack_require__(3008),_calc_auto_interval2=_interopRequireDefault(_calc_auto_interval),_calc_es_interval=__webpack_require__(3009),_calc_es_interval2=_interopRequireDefault(_calc_es_interval);module.exports=exports["default"]},3008:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function DateIntervalRoundingRulesProvider(){function find(rules,check,last){function pick(buckets,duration){for(var target=duration/buckets,lastResp=void 0,i=0;i<rules.length;i++){var rule=rules[i],resp=check(rule[0],rule[1],target);if(null==resp){if(!last)continue;if(lastResp)return lastResp;break}if(!last)return resp;lastResp=resp}var ms=Math.max(Math.floor(target),1);return _moment2["default"].duration(ms,"ms")}return function(buckets,duration){var interval=pick(buckets,duration);if(interval)return _moment2["default"].duration(interval._data)}}var roundingRules=[[(0,_moment.duration)(500,"ms"),(0,_moment.duration)(100,"ms")],[(0,_moment.duration)(5,"second"),(0,_moment.duration)(1,"second")],[(0,_moment.duration)(7.5,"second"),(0,_moment.duration)(5,"second")],[(0,_moment.duration)(15,"second"),(0,_moment.duration)(10,"second")],[(0,_moment.duration)(45,"second"),(0,_moment.duration)(30,"second")],[(0,_moment.duration)(3,"minute"),(0,_moment.duration)(1,"minute")],[(0,
_moment.duration)(9,"minute"),(0,_moment.duration)(5,"minute")],[(0,_moment.duration)(20,"minute"),(0,_moment.duration)(10,"minute")],[(0,_moment.duration)(45,"minute"),(0,_moment.duration)(30,"minute")],[(0,_moment.duration)(2,"hour"),(0,_moment.duration)(1,"hour")],[(0,_moment.duration)(6,"hour"),(0,_moment.duration)(3,"hour")],[(0,_moment.duration)(24,"hour"),(0,_moment.duration)(12,"hour")],[(0,_moment.duration)(1,"week"),(0,_moment.duration)(1,"d")],[(0,_moment.duration)(3,"week"),(0,_moment.duration)(1,"week")],[(0,_moment.duration)(1,"year"),(0,_moment.duration)(1,"month")],[1/0,(0,_moment.duration)(1,"year")]],revRoundingRules=roundingRules.slice(0).reverse();return{near:find(revRoundingRules,function(bound,interval,target){if(bound>target)return interval},!0),lessThan:find(revRoundingRules,function(bound,interval,target){if(interval<target)return interval}),atLeast:find(revRoundingRules,function(bound,interval,target){if(interval<=target)return interval})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=DateIntervalRoundingRulesProvider;var _moment=__webpack_require__(318),_moment2=_interopRequireDefault(_moment);module.exports=exports["default"]},3009:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(){function esDuration(duration){for(var i=0;i<unitsDesc.length;i++){var unit=unitsDesc[i],val=duration.as(unit);if(val>=1&&Math.floor(val)===val){if(i<=largeMax&&1!==val)continue;return{value:val,unit:unit,expression:val+unit}}}var ms=duration.as("ms");return{value:ms,unit:"ms",expression:ms+"ms"}}var unitsDesc=_datemath2["default"].unitsDesc,largeMax=unitsDesc.indexOf("M");return esDuration};var _datemath=__webpack_require__(320),_datemath2=_interopRequireDefault(_datemath);module.exports=exports["default"]},3010:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function createDateHistogramFilterProvider(){return function(agg,key){var start=(0,_moment2["default"])(key),interval=agg.buckets.getInterval();return(0,_range2["default"])(agg.params.field,{gte:start.valueOf(),lt:start.add(interval).valueOf(),format:"epoch_millis"},agg.vis.indexPattern)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=createDateHistogramFilterProvider;var _moment=__webpack_require__(318),_moment2=_interopRequireDefault(_moment),_range=__webpack_require__(3011),_range2=_interopRequireDefault(_range);module.exports=exports["default"]},3011:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function buildRangeFilter(field,params,indexPattern,formattedValue){var filter={meta:{index:indexPattern.id}};if(formattedValue&&(filter.meta.formattedValue=formattedValue),params=_lodash2["default"].clone(params),"gte"in params&&"gt"in params)throw new Error("gte and gt are mutually exclusive");if("lte"in params&&"lt"in params)throw new Error("lte and lt are mutually exclusive");var totalInfinite=["gt","lt"].reduce(function(totalInfinite,op){var key=op in params?op:op+"e",isInfinite=Math.abs(params[key])===1/0;return isInfinite&&(totalInfinite++,delete params[key]),totalInfinite},0);if(totalInfinite===OPERANDS_IN_RANGE)filter.match_all={},filter.meta.field=field.name;else if(field.scripted){var operators={gt:">",gte:">=",lte:"<=",lt:"<"},comparators={gt:"boolean gt(Supplier s, def v) {return s.get() > v}",gte:"boolean gte(Supplier s, def v) {return s.get() >= v}",lte:"boolean lte(Supplier s, def v) {return s.get() <= v}",lt:"boolean lt(Supplier s, def v) {return s.get() < v}"},knownParams=_lodash2["default"].pick(params,function(val,key){return key in operators}),script=_lodash2["default"].map(knownParams,function(val,key){return"("+field.script+")"+operators[key]+key}).join(" && ");if("painless"===field.lang){var currentComparators=_lodash2["default"].reduce(knownParams,function(acc,val,key){return acc.concat(comparators[key])},[]).join(" "),comparisons=_lodash2["default"].map(knownParams,function(val,key){return key+"(() -> { "+field.script+" }, params."+key+")"}).join(" && ");script=""+currentComparators+comparisons}var value=_lodash2["default"].map(knownParams,function(val,key){return operators[key]+field.format.convert(val)}).join(" ");_lodash2["default"].set(filter,"script.script",{inline:script,params:knownParams,lang:field.lang}),filter.script.script.params.value=value,filter.meta.field=field.name}else filter.range={},filter.range[field.name]=params;return filter}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=buildRangeFilter;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),OPERANDS_IN_RANGE=2;module.exports=exports["default"]},3012:function(module,exports){"use strict";function IntervalOptionsService(){return[{display:"Auto",val:"auto",enabled:function(agg){return agg.fieldIsTimeField()}},{display:"Millisecond",val:"ms"},{display:"Second",val:"s"},{display:"Minute",val:"m"},{display:"Hourly",val:"h"},{display:"Daily",val:"d"},{display:"Weekly",val:"w"},{display:"Monthly",val:"M"},{display:"Yearly",val:"y"},{display:"Custom",val:"custom"}]}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=IntervalOptionsService,module.exports=exports["default"]},3013:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function HistogramAggDefinition(Private){var BucketAggType=Private(_bucket_agg_type2["default"]),createFilter=Private(_histogram2["default"]);return new BucketAggType({name:"histogram",title:"Histogram",ordered:{},makeLabel:function(aggConfig){return aggConfig.getFieldDisplayName()},createFilter:createFilter,params:[{name:"field",filterFieldTypes:"number"},{name:"interval",editor:_interval2["default"],write:function(aggConfig,output){output.params.interval=parseFloat(aggConfig.params.interval)}},{name:"min_doc_count","default":null,editor:_min_doc_count2["default"],write:function(aggConfig,output){aggConfig.params.min_doc_count?output.params.min_doc_count=0:output.params.min_doc_count=1}},{name:"extended_bounds","default":{},editor:_extended_bounds2["default"],write:function(aggConfig,output){var val=aggConfig.params.extended_bounds;!aggConfig.params.min_doc_count||null==val.min&&null==val.max||(output.params.extended_bounds={min:val.min,max:val.max})},shouldShow:function(aggConfig){var field=aggConfig.params.field;if(field&&("number"===field.type||"date"===field.type))return aggConfig.params.min_doc_count}}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=HistogramAggDefinition,__webpack_require__(2729);var _bucket_agg_type=__webpack_require__(3006),_bucket_agg_type2=_interopRequireDefault(_bucket_agg_type),_histogram=__webpack_require__(3014),_histogram2=_interopRequireDefault(_histogram),_interval=__webpack_require__(1010),_interval2=_interopRequireDefault(_interval),_min_doc_count=__webpack_require__(1013),_min_doc_count2=_interopRequireDefault(_min_doc_count),_extended_bounds=__webpack_require__(1014),_extended_bounds2=_interopRequireDefault(_extended_bounds);module.exports=exports["default"]},3014:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function createHistogramFilterProvider(){return function(aggConfig,key){var value=parseInt(key,10);return(0,_range2["default"])(aggConfig.params.field,{gte:value,lt:value+aggConfig.params.interval},aggConfig.vis.indexPattern,aggConfig.fieldFormatter()(key))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=createHistogramFilterProvider;var _range=__webpack_require__(3011),_range2=_interopRequireDefault(_range);module.exports=exports["default"]},3015:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function RangeAggDefinition(Private){var BucketAggType=Private(_bucket_agg_type2["default"]),createFilter=Private(_range2["default"]),FieldFormat=Private(_field_format2["default"]),RangeKey=Private(_range_key2["default"]),keyCaches=new WeakMap,formats=new WeakMap;return new BucketAggType({name:"range",title:"Range",createFilter:createFilter,makeLabel:function(aggConfig){return aggConfig.getFieldDisplayName()+" ranges"},getKey:function(bucket,key,agg){var keys=keyCaches.get(agg);keys||(keys=new Map,keyCaches.set(agg,keys));var id=RangeKey.idBucket(bucket);return key=keys.get(id),key||(key=new RangeKey(bucket),keys.set(id,key)),key},getFormat:function(agg){var format=formats.get(agg);if(format)return format;var RangeFormat=FieldFormat.from(function(range){var format=agg.fieldOwnFormatter();return format(range.gte)+" to "+format(range.lt)});return format=new RangeFormat,formats.set(agg,format),format},params:[{name:"field",filterFieldTypes:["number"]},{name:"ranges","default":[{from:0,to:1e3},{from:1e3,to:2e3}],editor:_ranges2["default"],write:function(aggConfig,output){output.params.ranges=aggConfig.params.ranges,output.params.keyed=!0}}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=RangeAggDefinition;var _bucket_agg_type=__webpack_require__(3006),_bucket_agg_type2=_interopRequireDefault(_bucket_agg_type),_range=__webpack_require__(3016),_range2=_interopRequireDefault(_range),_field_format=__webpack_require__(2605),_field_format2=_interopRequireDefault(_field_format),_range_key=__webpack_require__(3017),_range_key2=_interopRequireDefault(_range_key),_ranges=__webpack_require__(1018),_ranges2=_interopRequireDefault(_ranges);module.exports=exports["default"]},3016:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function createRangeFilterProvider(){return function(aggConfig,key){return(0,_range2["default"])(aggConfig.params.field,key,aggConfig.vis.indexPattern,aggConfig.fieldFormatter()(key))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=createRangeFilterProvider;var _range=__webpack_require__(3011),_range2=_interopRequireDefault(_range);module.exports=exports["default"]},3017:function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports["default"]=function(){var id=Symbol("id"),RangeKey=function(){function RangeKey(bucket){_classCallCheck(this,RangeKey),this.gte=null==bucket.from?-(1/0):bucket.from,this.lt=null==bucket.to?+(1/0):bucket.to,this[id]=RangeKey.idBucket(bucket)}return _createClass(RangeKey,[{key:"toString",value:function(){return this[id]}}],[{key:"idBucket",value:function(bucket){return"from:"+bucket.from+",to:"+bucket.to}}]),RangeKey}();return RangeKey},module.exports=exports["default"]},3018:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function DateRangeAggDefinition(Private){var BucketAggType=Private(_bucket_agg_type2["default"]),createFilter=Private(_date_range4["default"]),fieldFormats=Private(_field_formats2["default"]);return new BucketAggType({name:"date_range",title:"Date Range",createFilter:createFilter,getKey:function(bucket,key,agg){var formatter=agg.fieldOwnFormatter("text",fieldFormats.getDefaultInstance("date"));return _date_range2["default"].toString(bucket,formatter)},getFormat:function(){return fieldFormats.getDefaultInstance("string")},makeLabel:function(aggConfig){return aggConfig.getFieldDisplayName()+" date ranges"},params:[{name:"field",filterFieldTypes:"date","default":function(agg){return agg.vis.indexPattern.timeFieldName}},{name:"ranges","default":[{from:"now-1w/w",to:"now"}],editor:_date_ranges2["default"]}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=DateRangeAggDefinition;var _date_range=__webpack_require__(3019),_date_range2=_interopRequireDefault(_date_range);__webpack_require__(2758);var _bucket_agg_type=__webpack_require__(3006),_bucket_agg_type2=_interopRequireDefault(_bucket_agg_type),_date_range3=__webpack_require__(3020),_date_range4=_interopRequireDefault(_date_range3),_field_formats=__webpack_require__(2562),_field_formats2=_interopRequireDefault(_field_formats),_date_ranges=__webpack_require__(1022),_date_ranges2=_interopRequireDefault(_date_ranges);module.exports=exports["default"]},3019:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _moment=__webpack_require__(318),_moment2=_interopRequireDefault(_moment);exports["default"]={toString:function(range,format){return range.from?range.to?format(range.from)+" to "+format(range.to):"After "+format(range.from):"Before "+format(range.to)},parse:function(rangeString,format){var chunks=rangeString.split(" to ");if(2===chunks.length)return{from:(0,_moment2["default"])(chunks[0],format),to:(0,_moment2["default"])(chunks[1],format)};if(chunks=rangeString.split("Before "),2===chunks.length)return{to:(0,_moment2["default"])(chunks[1],format)};if(chunks=rangeString.split("After "),2===chunks.length)return{from:(0,_moment2["default"])(chunks[1],format)};throw new Error("Error attempting to parse date range: "+rangeString)}},module.exports=exports["default"]},3020:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function createDateRangeFilterProvider(config){return function(agg,key){var range=_date_range2["default"].parse(key,config.get("dateFormat")),filter={};return range.from&&(filter.gte=+range.from),range.to&&(filter.lt=+range.to),range.to&&range.from&&(filter.format="epoch_millis"),(0,_range2["default"])(agg.params.field,filter,agg.vis.indexPattern)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=createDateRangeFilterProvider;var _date_range=__webpack_require__(3019),_date_range2=_interopRequireDefault(_date_range),_range=__webpack_require__(3011),_range2=_interopRequireDefault(_range);module.exports=exports["default"]},3021:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function RangeAggDefinition(Private){var BucketAggType=Private(_bucket_agg_type2["default"]),createFilter=Private(_ip_range2["default"]);return new BucketAggType({name:"ip_range",title:"IPv4 Range",createFilter:createFilter,getKey:function(bucket,key){if(key)return key;var from=_lodash2["default"].get(bucket,"from","-Infinity"),to=_lodash2["default"].get(bucket,"to","Infinity");return from+" to "+to},makeLabel:function(aggConfig){return aggConfig.getFieldDisplayName()+" IP ranges"},params:[{name:"field",filterFieldTypes:"ip"},{name:"ipRangeType","default":"fromTo",write:_lodash2["default"].noop},{name:"ranges","default":{fromTo:[{from:"0.0.0.0",to:"127.255.255.255"},{from:"128.0.0.0",to:"191.255.255.255"}],mask:[{mask:"0.0.0.0/1"},{mask:"128.0.0.0/2"}]},editor:_ip_ranges2["default"],write:function(aggConfig,output){var ipRangeType=aggConfig.params.ipRangeType,ranges=aggConfig.params.ranges[ipRangeType];"fromTo"===ipRangeType&&(ranges=_lodash2["default"].map(ranges,function(range){return _lodash2["default"].omit(range,_lodash2["default"].isNull)})),output.params.ranges=ranges}}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=RangeAggDefinition;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(2760),__webpack_require__(2755);var _bucket_agg_type=__webpack_require__(3006),_bucket_agg_type2=_interopRequireDefault(_bucket_agg_type),_ip_range=__webpack_require__(3022),_ip_range2=_interopRequireDefault(_ip_range),_ip_ranges=__webpack_require__(1025),_ip_ranges2=_interopRequireDefault(_ip_ranges);module.exports=exports["default"]},3022:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function createIpRangeFilterProvider(){return function(aggConfig,key){var range=void 0;if("mask"===aggConfig.params.ipRangeType)range=new _cidr_mask2["default"](key).getRange();else{var _key$split=key.split(/\s+to\s+/),_key$split2=_slicedToArray(_key$split,2),from=_key$split2[0],to=_key$split2[1];range={from:"-Infinity"===from?-(1/0):from,to:"Infinity"===to?1/0:to}}return(0,_range2["default"])(aggConfig.params.field,{gte:range.from,lte:range.to},aggConfig.vis.indexPattern)}}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports["default"]=createIpRangeFilterProvider;var _cidr_mask=__webpack_require__(2756),_cidr_mask2=_interopRequireDefault(_cidr_mask),_range=__webpack_require__(3011),_range2=_interopRequireDefault(_range);module.exports=exports["default"]},3023:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function TermsAggDefinition(Private){function isNotType(type){return function(agg){var field=agg.params.field;return!field||field.type!==type}}var BucketAggType=Private(_bucket_agg_type2["default"]),AggConfig=Private(_agg_config2["default"]),Schemas=Private(_schemas2["default"]),createFilter=Private(_terms2["default"]),routeBasedNotifier=Private(_route_based_notifier2["default"]),aggFilter=["!top_hits","!percentiles","!median","!std_dev","!derivative","!moving_avg","!serial_diff","!cumulative_sum","!avg_bucket","!max_bucket","!min_bucket","!sum_bucket"],orderAggSchema=new Schemas([{group:"none",name:"orderAgg",title:"Order Agg",hideCustomLabel:!0,aggFilter:aggFilter}]).all[0],migrateIncludeExcludeFormat={serialize:function(value){return!value||_lodash2["default"].isString(value)?value:value.pattern},write:function(aggConfig,output){var value=aggConfig.params[this.name];_lodash2["default"].isObject(value)?output.params[this.name]=value.pattern:value&&(output.params[this.name]=value)}};return new BucketAggType({name:"terms",title:"Terms",makeLabel:function(agg){var params=agg.params;return agg.getFieldDisplayName()+": "+params.order.display},createFilter:createFilter,params:[{name:"field",filterFieldTypes:["number","boolean","date","ip","string"]},_extends({name:"exclude",type:"string",advanced:!0,disabled:isNotType("string")},migrateIncludeExcludeFormat),_extends({name:"include",type:"string",advanced:!0,disabled:isNotType("string")},migrateIncludeExcludeFormat),{name:"size","default":5},{name:"orderAgg",type:AggConfig,"default":null,editor:_order_agg2["default"],serialize:function(orderAgg){return orderAgg.toJSON()},deserialize:function(state,agg){return this.makeOrderAgg(agg,state)},makeOrderAgg:function(termsAgg,state){state=state||{},state.schema=orderAggSchema;var orderAgg=new AggConfig(termsAgg.vis,state);return orderAgg.id=termsAgg.id+"-orderAgg",orderAgg},controller:function($scope){function updateOrderAgg(){if($scope.responseValueAggs){var agg=$scope.agg,params=agg.params,orderBy=params.orderBy,paramDef=agg.type.params.byName.orderAgg;if(!orderBy&&prevOrderBy===INIT){var respAgg=(0,_lodash2["default"])($scope.responseValueAggs).filter(function(agg){return!$scope.rejectAgg(agg)}).first();return respAgg||(respAgg={id:"_term"}),void(params.orderBy=respAgg.id)}if(prevOrderBy=orderBy,!orderBy||"custom"!==orderBy){params.orderAgg=null;var _respAgg=(0,_lodash2["default"])($scope.responseValueAggs).filter(function(agg){return!$scope.rejectAgg(agg)}).find({id:orderBy});return void(_respAgg||(params.orderBy="_term"))}params.orderAgg=params.orderAgg||paramDef.makeOrderAgg(agg)}}$scope.safeMakeLabel=function(agg){try{return agg.makeLabel()}catch(e){return"- agg not valid -"}};var INIT={},prevOrderBy=INIT;$scope.$watch("responseValueAggs",updateOrderAgg),$scope.$watch("agg.params.orderBy",updateOrderAgg),$scope.rejectAgg=function(agg){return aggFilter.includes("!"+agg.type.name)}},write:function(agg,output){var vis=agg.vis,dir=agg.params.order.val,order=output.params.order={},orderAgg=agg.params.orderAgg||vis.aggs.getResponseAggById(agg.params.orderBy);if(output.params.script&&(output.params.valueType="number"===agg.getField().type?"float":agg.getField().type),!orderAgg)return void(order[agg.params.orderBy||"_count"]=dir);if("count"===orderAgg.type.name)return"asc"===dir&&routeBasedNotifier.warning("Sorting in Ascending order by Count in Terms aggregations is deprecated"),void(order._count=dir);var orderAggId=orderAgg.id;orderAgg.parentId&&(orderAgg=vis.aggs.byId[orderAgg.parentId]),output.subAggs=(output.subAggs||[]).concat(orderAgg),order[orderAggId]=dir}},{name:"order",type:"optioned","default":"desc",editor:_order_and_size2["default"],options:[{display:"Descending",val:"desc"},{display:"Ascending",val:"asc"}],write:_lodash2["default"].noop},{name:"orderBy",write:_lodash2["default"].noop}]})}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports["default"]=TermsAggDefinition;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_bucket_agg_type=__webpack_require__(3006),_bucket_agg_type2=_interopRequireDefault(_bucket_agg_type),_agg_config=__webpack_require__(2996),_agg_config2=_interopRequireDefault(_agg_config),_schemas=__webpack_require__(2997),_schemas2=_interopRequireDefault(_schemas),_terms=__webpack_require__(3024),_terms2=_interopRequireDefault(_terms),_order_agg=__webpack_require__(1028),_order_agg2=_interopRequireDefault(_order_agg),_order_and_size=__webpack_require__(1029),_order_and_size2=_interopRequireDefault(_order_and_size),_route_based_notifier=__webpack_require__(3025),_route_based_notifier2=_interopRequireDefault(_route_based_notifier);module.exports=exports["default"]},3024:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function createTermsFilterProvider(){return function(aggConfig,key){return(0,_phrase2["default"])(aggConfig.params.field,key,aggConfig.vis.indexPattern)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=createTermsFilterProvider;var _phrase=__webpack_require__(2661),_phrase2=_interopRequireDefault(_phrase);module.exports=exports["default"]},3025:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function routeBasedNotifierProvider($rootScope){function executeIfNew(messages,message,notifyFn){(0,_lodash.includes)(messages,message)||(messages.push(message),notifyFn.call(notifier,message))}var notifier=new _notifier2["default"],notifications={warnings:[]};return $rootScope.$on("$routeChangeSuccess",function(){notifications=(0,_lodash.mapValues)(notifications,function(){return[]})}),{warning:function(message){executeIfNew(notifications.warnings,message,notifier.warning)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=routeBasedNotifierProvider;var _lodash=__webpack_require__(2),_notifier=__webpack_require__(2466),_notifier2=_interopRequireDefault(_notifier);module.exports=exports["default"]},3026:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function FiltersAggDefinition(Private,Notifier){var BucketAggType=Private(_bucket_agg_type2["default"]),createFilter=Private(_filters2["default"]),decorateQuery=Private(_decorate_query2["default"]),notif=new Notifier({location:"Filters Agg"});return new BucketAggType({name:"filters",title:"Filters",createFilter:createFilter,customLabels:!1,params:[{name:"filters",editor:_filters4["default"],"default":[{input:{},label:""}],write:function(aggConfig,output){var inFilters=aggConfig.params.filters;if(_lodash2["default"].size(inFilters)){var outFilters=_lodash2["default"].transform(inFilters,function(filters,filter){var input=filter.input;if(!input)return notif.log('malformed filter agg params, missing "input" query');var query=input.query;if(!query)return notif.log('malformed filter agg params, missing "query" on input');decorateQuery(query);var label=filter.label||_lodash2["default"].get(query,"query_string.query")||_angular2["default"].toJson(query);filters[label]=input},{});if(_lodash2["default"].size(outFilters)){var params=output.params||(output.params={});params.filters=outFilters}}}}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=FiltersAggDefinition;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_bucket_agg_type=__webpack_require__(3006),_bucket_agg_type2=_interopRequireDefault(_bucket_agg_type),_filters=__webpack_require__(3027),_filters2=_interopRequireDefault(_filters),_decorate_query=__webpack_require__(2591),_decorate_query2=_interopRequireDefault(_decorate_query),_filters3=__webpack_require__(1034),_filters4=_interopRequireDefault(_filters3);module.exports=exports["default"]},3027:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function CreateFilterFiltersProvider(){return function(aggConfig,key){var dslFilters=_lodash2["default"].get(aggConfig.toDsl(),"filters.filters"),filter=dslFilters[key];if(filter)return(0,_query2["default"])(filter.query,aggConfig.vis.indexPattern.id)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=CreateFilterFiltersProvider;var _query=__webpack_require__(3028),_query2=_interopRequireDefault(_query),_lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash);module.exports=exports["default"]},3028:function(module,exports){"use strict";function buildQueryFilter(query,index){return{query:query,meta:{index:index}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=buildQueryFilter,module.exports=exports["default"]},3029:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function SignificantTermsAggDefinition(Private){var BucketAggType=Private(_bucket_agg_type2["default"]),createFilter=Private(_terms2["default"]);return new BucketAggType({name:"significant_terms",title:"Significant Terms",makeLabel:function(aggConfig){return"Top "+aggConfig.params.size+" unusual terms in "+aggConfig.getFieldDisplayName()},createFilter:createFilter,params:[{name:"field",scriptable:!1,filterFieldTypes:"string"},{name:"size",editor:_order_and_size2["default"]},{name:"exclude",type:"regex",advanced:!0},{name:"include",type:"regex",advanced:!0}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=SignificantTermsAggDefinition;var _bucket_agg_type=__webpack_require__(3006),_bucket_agg_type2=_interopRequireDefault(_bucket_agg_type),_terms=__webpack_require__(3024),_terms2=_interopRequireDefault(_terms),_order_and_size=__webpack_require__(1029),_order_and_size2=_interopRequireDefault(_order_and_size);module.exports=exports["default"]},3030:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function GeoHashAggDefinition(Private,config){function getPrecision(precision){return precision=parseInt(precision,10),isNaN(precision)&&(precision=defaultPrecision),precision>maxPrecision?maxPrecision:precision}for(var BucketAggType=Private(_bucket_agg_type2["default"]),AggConfig=Private(_agg_config2["default"]),defaultPrecision=2,maxPrecision=parseInt(config.get("visualization:tileMap:maxPrecision"),10)||12,zoomPrecision={},minGeohashPixels=16,zoom=0;zoom<=21;zoom+=1){var worldPixels=256*Math.pow(2,zoom);zoomPrecision[zoom]=1;for(var precision=2;precision<=maxPrecision;precision+=1){var columns=(0,_decode_geo_hash.geohashColumns)(precision);if(!(worldPixels/columns>=minGeohashPixels))break;zoomPrecision[zoom]=precision}}return new BucketAggType({name:"geohash_grid",title:"Geohash",params:[{name:"field",filterFieldTypes:"geo_point"},{name:"autoPrecision","default":!0,write:_lodash2["default"].noop},{name:"useGeocentroid","default":!0,write:_lodash2["default"].noop},{name:"mapZoom",write:_lodash2["default"].noop},{name:"mapCenter",write:_lodash2["default"].noop},{name:"precision",editor:_precision2["default"],"default":defaultPrecision,deserialize:getPrecision,controller:function(){},write:function(aggConfig,output){var vis=aggConfig.vis,currZoom=void 0;vis.hasUiState()&&(currZoom=parseInt(vis.uiStateVal("mapZoom"),10));var autoPrecisionVal=zoomPrecision[currZoom>=0?currZoom:parseInt(vis.params.mapZoom)];output.params.precision=aggConfig.params.autoPrecision?autoPrecisionVal:getPrecision(aggConfig.params.precision)}}],getRequestAggs:function(agg){return agg.params.useGeocentroid?[agg,new AggConfig(agg.vis,{type:"geo_centroid",enabled:!0,params:{field:agg.getField()},schema:"metric"})]:agg}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=GeoHashAggDefinition;var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_bucket_agg_type=__webpack_require__(3006),_bucket_agg_type2=_interopRequireDefault(_bucket_agg_type),_agg_config=__webpack_require__(2996),_agg_config2=_interopRequireDefault(_agg_config),_precision=__webpack_require__(1037),_precision2=_interopRequireDefault(_precision),_decode_geo_hash=__webpack_require__(3031);module.exports=exports["default"]},3031:function(module,exports){"use strict";function decodeGeoHash(geohash){var BITS=[16,8,4,2,1],BASE32="0123456789bcdefghjkmnpqrstuvwxyz",is_even=1,lat=[],lon=[];lat[0]=-90,lat[1]=90,lon[0]=-180,lon[1]=180;for(var lat_err=90,lon_err=180,i=0;i<geohash.length;i++)for(var c=geohash[i],cd=BASE32.indexOf(c),j=0;j<5;j++){var mask=BITS[j];is_even?(lon_err/=2,refine_interval(lon,cd,mask)):(lat_err/=2,refine_interval(lat,cd,mask)),is_even=!is_even}return lat[2]=(lat[0]+lat[1])/2,lon[2]=(lon[0]+lon[1])/2,{latitude:lat,longitude:lon}}function refine_interval(interval,cd,mask){cd&mask?interval[0]=(interval[0]+interval[1])/2:interval[1]=(interval[0]+interval[1])/2}function geohashCells(precision,axis){for(var cells=1,i=1;i<=precision;i+=1)cells*=i%2===axis?4:8;return cells}function geohashColumns(precision){return geohashCells(precision,0)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.geohashColumns=geohashColumns,exports["default"]=decodeGeoHash;
},3032:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function AggTypesMetricsBucketSumProvider(Private){var MetricAggType=Private(_metric_agg_type2["default"]),siblingPipelineHelper=Private(_sibling_pipeline_agg_helper2["default"]);return new MetricAggType({name:"sum_bucket",title:"Sum Bucket",makeLabel:function(agg){return(0,_make_nested_label.makeNestedLabel)(agg,"overall sum")},subtype:siblingPipelineHelper.subtype,params:[].concat(_toConsumableArray(siblingPipelineHelper.params()))})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AggTypesMetricsBucketSumProvider;var _metric_agg_type=__webpack_require__(2975),_metric_agg_type2=_interopRequireDefault(_metric_agg_type),_make_nested_label=__webpack_require__(3001),_sibling_pipeline_agg_helper=__webpack_require__(3033),_sibling_pipeline_agg_helper2=_interopRequireDefault(_sibling_pipeline_agg_helper);module.exports=exports["default"]},3033:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(2),_lodash2=_interopRequireDefault(_lodash),_agg_config=__webpack_require__(2996),_agg_config2=_interopRequireDefault(_agg_config),_schemas=__webpack_require__(2997),_schemas2=_interopRequireDefault(_schemas),_sibling_pipeline_agg_controller=__webpack_require__(3034),_sibling_pipeline_agg_writter=__webpack_require__(3035),_sub_metric=__webpack_require__(1043),_sub_metric2=_interopRequireDefault(_sub_metric),SiblingPipelineAggHelperProvider=function(Private){var AggConfig=Private(_agg_config2["default"]),Schemas=Private(_schemas2["default"]),metricAggFilter=["!top_hits","!percentiles","!percentile_ranks","!median","!std_dev","!sum_bucket","!avg_bucket","!min_bucket","!max_bucket","!derivative","!moving_avg","!serial_diff","!cumulative_sum"],metricAggSchema=new Schemas([{group:"none",name:"metricAgg",title:"Metric Agg",aggFilter:metricAggFilter}]).all[0],bucketAggFilter=[],bucketAggSchema=new Schemas([{group:"none",title:"Bucket Agg",name:"bucketAgg",aggFilter:bucketAggFilter}]).all[0];return{subtype:"Sibling Pipeline Aggregations",params:function(){return[{name:"customBucket",type:AggConfig,"default":null,serialize:function(customMetric){return customMetric.toJSON()},deserialize:function(state,agg){return this.makeAgg(agg,state)},makeAgg:function(agg,state){state=state||{type:"date_histogram"},state.schema=bucketAggSchema;var orderAgg=new AggConfig(agg.vis,state);return orderAgg.id=agg.id+"-bucket",orderAgg},editor:_sub_metric2["default"],controller:(0,_sibling_pipeline_agg_controller.siblingPipelineAggController)("customBucket"),write:_lodash2["default"].noop},{name:"customMetric",type:AggConfig,"default":null,serialize:function(customMetric){return customMetric.toJSON()},deserialize:function(state,agg){return this.makeAgg(agg,state)},makeAgg:function(agg,state){state=state||{type:"count"},state.schema=metricAggSchema;var orderAgg=new AggConfig(agg.vis,state);return orderAgg.id=agg.id+"-metric",orderAgg},editor:_sub_metric2["default"],controller:(0,_sibling_pipeline_agg_controller.siblingPipelineAggController)("customMetric"),write:_sibling_pipeline_agg_writter.siblingPipelineAggWritter}]}}};exports["default"]=SiblingPipelineAggHelperProvider,module.exports=exports["default"]},3034:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.siblingPipelineAggController=void 0;var _safe_make_label=__webpack_require__(2999),_safe_make_label2=_interopRequireDefault(_safe_make_label),siblingPipelineAggController=function(type){return function($scope){function updateAgg(){var agg=$scope.agg,params=agg.params,paramDef=agg.type.params.byName[type];params[type]=params[type]||paramDef.makeAgg(agg)}$scope.aggType=type,$scope.aggTitle="customMetric"===type?"Metric":"Bucket",$scope.aggGroup="customMetric"===type?"metrics":"buckets",$scope.safeMakeLabel=_safe_make_label2["default"],updateAgg()}};exports.siblingPipelineAggController=siblingPipelineAggController},3035:function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var siblingPipelineAggWritter=function(agg,output){if(agg.params.customMetric){var metricAgg=agg.params.customMetric,bucketAgg=agg.params.customBucket;"count"!==metricAgg.type.name?(bucketAgg.subAggs=(output.subAggs||[]).concat(metricAgg),output.params.buckets_path=bucketAgg.id+">"+metricAgg.id):output.params.buckets_path=bucketAgg.id+">_count",output.parentAggs=(output.parentAggs||[]).concat(bucketAgg)}};exports.siblingPipelineAggWritter=siblingPipelineAggWritter},3036:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function AggTypesMetricsBucketAvgProvider(Private){var MetricAggType=Private(_metric_agg_type2["default"]),siblingPipelineHelper=Private(_sibling_pipeline_agg_helper2["default"]);return new MetricAggType({name:"avg_bucket",title:"Average Bucket",makeLabel:function(agg){return(0,_make_nested_label.makeNestedLabel)(agg,"overall average")},subtype:siblingPipelineHelper.subtype,params:[].concat(_toConsumableArray(siblingPipelineHelper.params()))})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AggTypesMetricsBucketAvgProvider;var _metric_agg_type=__webpack_require__(2975),_metric_agg_type2=_interopRequireDefault(_metric_agg_type),_make_nested_label=__webpack_require__(3001),_sibling_pipeline_agg_helper=__webpack_require__(3033),_sibling_pipeline_agg_helper2=_interopRequireDefault(_sibling_pipeline_agg_helper);module.exports=exports["default"]},3037:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function AggTypesMetricsBucketMinProvider(Private){var MetricAggType=Private(_metric_agg_type2["default"]),siblingPipelineHelper=Private(_sibling_pipeline_agg_helper2["default"]);return new MetricAggType({name:"min_bucket",title:"Min Bucket",makeLabel:function(agg){return(0,_make_nested_label.makeNestedLabel)(agg,"overall min")},subtype:siblingPipelineHelper.subtype,params:[].concat(_toConsumableArray(siblingPipelineHelper.params()))})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AggTypesMetricsBucketMinProvider;var _metric_agg_type=__webpack_require__(2975),_metric_agg_type2=_interopRequireDefault(_metric_agg_type),_make_nested_label=__webpack_require__(3001),_sibling_pipeline_agg_helper=__webpack_require__(3033),_sibling_pipeline_agg_helper2=_interopRequireDefault(_sibling_pipeline_agg_helper);module.exports=exports["default"]},3038:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function AggTypesMetricsBucketMaxProvider(Private){var MetricAggType=Private(_metric_agg_type2["default"]),siblingPipelineHelper=Private(_sibling_pipeline_agg_helper2["default"]);return new MetricAggType({name:"max_bucket",title:"Max Bucket",makeLabel:function(agg){return(0,_make_nested_label.makeNestedLabel)(agg,"overall max")},subtype:siblingPipelineHelper.subtype,params:[].concat(_toConsumableArray(siblingPipelineHelper.params()))})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=AggTypesMetricsBucketMaxProvider;var _metric_agg_type=__webpack_require__(2975),_metric_agg_type2=_interopRequireDefault(_metric_agg_type),_make_nested_label=__webpack_require__(3001),_sibling_pipeline_agg_helper=__webpack_require__(3033),_sibling_pipeline_agg_helper2=_interopRequireDefault(_sibling_pipeline_agg_helper);module.exports=exports["default"]},3045:function(module,exports){"use strict";function savedSearchObjectFn(savedSearches){return savedSearches}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=savedSearchObjectFn,module.exports=exports["default"]},3047:function(module,exports){},3063:function(module,exports){},3670:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}__webpack_require__(2555),__webpack_require__(706),__webpack_require__(2666),__webpack_require__(2546),__webpack_require__(3671),__webpack_require__(3672),__webpack_require__(3764),__webpack_require__(3765),__webpack_require__(3766),__webpack_require__(3768),__webpack_require__(3770),__webpack_require__(3771),__webpack_require__(3772),__webpack_require__(3773),__webpack_require__(3776),__webpack_require__(3808),__webpack_require__(3816),__webpack_require__(3819),__webpack_require__(3821),__webpack_require__(3826),__webpack_require__(3828);var _chrome=__webpack_require__(2429),_chrome2=_interopRequireDefault(_chrome),_routes=__webpack_require__(2485),_routes2=_interopRequireDefault(_routes);"function"==typeof _routes2["default"].enable&&_routes2["default"].enable(),_routes2["default"].otherwise({redirectTo:"/"+_chrome2["default"].getInjected("kbnDefaultAppId","jobs")})},3671:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}__webpack_require__(706);var _angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular);_angular2["default"].module("ui.bootstrap.popover").directive("popoverHtmlUnsafePopup",function($compile){var template='<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">';return template+='<div class="arrow"></div>',template+='<div class="popover-inner">',template+='<h3 class="popover-title" bind-html-unsafe="title" ng-show="title"></h3>',template+='<div class="popover-content" bind-html-unsafe="content" ></div>',template+="</div></div>",{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},template:template,link:function(scope,element){scope.$apply();var cont=$compile(scope.content)(scope);element.find(".popover-content").html(cont),scope.closePopover=function(){scope.$parent.$parent.isOpen=!1,scope.$parent.$parent.$applyAsync(),element.remove()}}}}).directive("popoverHtmlUnsafe",["$tooltip",function($tooltip){return $tooltip("popoverHtmlUnsafe","popover","click")}])},3672:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3673),__webpack_require__(3674),__webpack_require__(3718),__webpack_require__(3731),__webpack_require__(3748),__webpack_require__(3760)},3673:function(module,exports){},3674:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3675),__webpack_require__(3676),__webpack_require__(3688),__webpack_require__(3701),__webpack_require__(3706),__webpack_require__(3709),__webpack_require__(2736),__webpack_require__(3714)},3675:function(module,exports){},3676:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_moment=__webpack_require__(3678),_moment2=_interopRequireDefault(_moment),_chrome=__webpack_require__(2429),_chrome2=_interopRequireDefault(_chrome),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_jobs_list_controls=__webpack_require__(3679),_jobs_list_controls2=_interopRequireDefault(_jobs_list_controls),_open=__webpack_require__(928),_open2=_interopRequireDefault(_open),_job_utils=__webpack_require__(3680),_job_utils2=_interopRequireDefault(_job_utils),_string_utils=__webpack_require__(3681),_string_utils2=_interopRequireDefault(_string_utils),_routes=__webpack_require__(2485),_routes2=_interopRequireDefault(_routes),_check_license=__webpack_require__(3684),_check_license2=_interopRequireDefault(_check_license),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_routes2["default"].when("/jobs/?",{template:__webpack_require__(3685),resolve:{CheckLicense:_check_license2["default"]}});var _module=_modules2["default"].get("apps/ml",["ui.bootstrap"]);_module.controller("MlJobsList",function($scope,$route,$location,$window,$timeout,$compile,$modal,es,timefilter,kbnUrl,Private,mlMessageBarService,mlClipboardService,mlJobService,mlDatafeedService,mlPrivilegeService,mlBrowserDetectService){function latestTimeStamp(dataCounts){var obj={string:"",unix:0};if(dataCounts.latest_record_timestamp){var ts=(0,_moment2["default"])(dataCounts.latest_record_timestamp);obj.string=ts.format(TIME_FORMAT),obj.unix=ts}return obj}function displayJobs(jobs){var rowStates={};_lodash2["default"].each(rowScopes,function(rs){rowStates[rs.job.job_id]={open:rs.open,$expandElement:rs.$expandElement}}),_lodash2["default"].invoke(rowScopes,"$destroy"),rowScopes.length=0,$scope.jobs=jobs,$scope.table={},$scope.table.perPage=10,$scope.table.columns=[{title:"",sortable:!1,"class":"col-expand-arrow"},{title:"Job ID"},{title:"",sortable:!1},{title:"Description"},{title:"Processed records","class":"col-align-right"},{title:"Memory status"},{title:"Job state"},{title:"Datafeed state"},{title:"Latest timestamp"},{title:"Actions",sortable:!1,"class":"col-action"}];var rows=jobs.map(function(job){var rowScope=$scope.$new();rowScope.job=job,rowScope.jobAudit={messages:"",update:function(){},jobWarningClass:"",jobWarningText:""},rowScope.expandable=!0,rowScope.expandElement="ml-job-list-expanded-row-container",rowScope.initRow=function(){if(rowScope.$expandElement&&0===rowScope.$expandElement.children().length){var $el=(0,_jquery2["default"])(document.createElement("ml-job-list-expanded-row")).appendTo(this.$expandElement);$compile($el)(this)}},rowScope.time=latestTimeStamp,rowScope.enableTimeSeries=_job_utils2["default"].isTimeSeriesViewJob(job),rowScopes.push(rowScope);var jobDescription=job.description||"";if(void 0===$scope.filterText||""===$scope.filterText||job.job_id.match(filterRegexp)||jobDescription.match(filterRegexp)){var iconTxt="<i ng-show=\"tab.jobWarningClass !== ''\" ";iconTxt+='tooltip="{{jobAudit.jobWarningText}}" class="{{jobAudit.jobWarningClass}}"></i>';var tableRow=[{markup:_open2["default"],scope:rowScope},{markup:filterHighlight(job.job_id),value:job.job_id},{markup:iconTxt,scope:rowScope},{markup:filterHighlight(_string_utils2["default"].escape(jobDescription)),value:jobDescription},{markup:'<div class="col-align-right">{{toLocaleString(job.data_counts.processed_record_count)}}</div>',value:job.data_counts.processed_record_count,scope:rowScope},{markup:"{{job.model_size_stats.memory_status}}",value:function(){return job.model_size_stats?job.model_size_stats.memory_status:""},scope:rowScope},{markup:"{{job.state}}",value:job.state,scope:rowScope},{markup:"{{job.datafeed_config.state}}",value:function(){return job.datafeed_config.state?job.datafeed_config.state:""},scope:rowScope},{markup:"{{ time(job.data_counts).string }}",value:function(){return rowScope.time(job.data_counts).unix},scope:rowScope},{markup:_jobs_list_controls2["default"],scope:rowScope}];return tableRow}});rows=_lodash2["default"].filter(rows,function(row){if(void 0!==row)return row}),$scope.table.rows=rows,loadAuditSummary(jobs,rowScopes),_lodash2["default"].each(rowScopes,function(rs){rowStates[rs.job.job_id]&&(rs.open=rowStates[rs.job.job_id].open,rs.$expandElement=rowStates[rs.job.job_id].$expandElement)}),clearTimeout(window.singleJobTimeout),refreshCounts(),$scope.filterIcon=0}function refreshCounts(){var timeout=5e3;window.singleJobTimeout=window.setTimeout(function(){refreshCounter%5===0?(mlJobService.updateAllJobCounts().then(function(resp){resp.listChanged&&jobsUpdated(resp.jobs)}),loadAuditSummary($scope.jobs,rowScopes)):mlJobService.checkState(),clearTimeout(window.singleJobTimeout),window.singleJobTimeout=null,refreshCounter++,"/jobs"===$location.$$path&&refreshCounts()},timeout)}function loadAuditMessages(jobs,rowScopesIn,jobId){function addMessage(id,msg){void 0!==auditMessages[id]&&msg.unixTime>=createTimes[id]&&(_lodash2["default"].findWhere(auditMessages[id],{time:msg.time,message:msg.message,node_name:msg.node_name})||auditMessages[id].push(msg))}var createTimes={},fromRange="1M",aDayAgo=(0,_moment2["default"])().subtract(1,"days");return _lodash2["default"].each(jobs,function(job){void 0===auditMessages[job.job_id]&&(auditMessages[job.job_id]=[]),createTimes[job.job_id]=(0,_moment2["default"])(job.create_time).unix()}),mlJobService.getJobAuditMessages(fromRange,jobId).then(function(resp){var messages=resp.messages;_lodash2["default"].each(messages,function(msg){var time=(0,_moment2["default"])(msg.timestamp);msg.time=time.format(TIME_FORMAT),msg.unixTime=time.unix(),msg.isRecent=time>aDayAgo,""===msg.job_id?(msg.level="system_info",addMessage(jobId,msg)):addMessage(msg.job_id,msg)}),auditMessages[jobId]=_lodash2["default"].sortBy(auditMessages[jobId],"unixTime"),_lodash2["default"].each(rowScopesIn,function(rs){rs.job.job_id===jobId&&(rs.jobAudit.messages=auditMessages[jobId])})})["catch"](function(resp){console.log("loadAuditMessages: audit messages for "+jobId+" could not be loaded"),resp.message&&msgs.error(resp.message)})}function loadAuditSummary(jobs,rowScopesIn){var levels={system_info:-1,info:0,warning:1,error:2},jobMessages={},createTimes={};_lodash2["default"].each(jobs,function(job){createTimes[job.job_id]=(0,_moment2["default"])(job.create_time).valueOf()}),mlJobService.getAuditMessagesSummary().then(function(resp){var messagesPerJob=resp.messagesPerJob;_lodash2["default"].each(messagesPerJob,function(job){if(""!==job.key&&job.levels&&job.levels.buckets&&job.levels.buckets.length){var highestLevel=0,highestLevelText="",msgTime=0;_lodash2["default"].each(job.levels.buckets,function(level){var label=level.key;levels[label]>highestLevel&&(highestLevel=levels[label],level.latestMessage&&level.latestMessage.buckets&&level.latestMessage.buckets.length&&_lodash2["default"].each(level.latestMessage.buckets,function(msg){if(highestLevelText=msg.key,msg.latestMessage&&msg.latestMessage.value_as_string){var time=(0,_moment2["default"])(msg.latestMessage.value_as_string);msgTime=time.valueOf()}}))}),jobMessages[job.key]={job_id:job.key,highestLevelText:highestLevelText,highestLevel:highestLevel,msgTime:msgTime}}}),_lodash2["default"].each(rowScopesIn,function(rs){rs.jobAudit.update=function(){return loadAuditMessages(jobs,[rs],rs.job.job_id)};var job=jobMessages[rs.job.job_id];job&&job.msgTime>=createTimes[job.job_id]&&(rs.jobAudit.jobWarningClass="",rs.jobAudit.jobWarningText=job.highestLevelText,1===job.highestLevel?rs.jobAudit.jobWarningClass="job-warning fa fa-exclamation-circle":2===job.highestLevel&&(rs.jobAudit.jobWarningClass="job-error fa fa-exclamation-triangle"))})})["catch"](function(resp){console.log("loadAuditSummary: audit messages for all jobs could not be loaded"),resp.message&&msgs.error(resp.message)})}function openEditJobWindow(job){$modal.open({template:__webpack_require__(3687),controller:"MlEditJobModal",backdrop:"static",keyboard:!1,size:"lg",resolve:{params:function(){return{pscope:$scope,job:job}}}})}function filterHighlight(txt){return $scope.filterText&&filterRegexp&&(txt=txt.replace(filterRegexp,'<span class="ml-mark">$1</span>')),txt}function jobsUpdated(jobs){$scope.noJobsCreated=0===jobs.length,displayJobs(jobs)}function refreshJobs(){mlJobService.loadJobs().then(function(resp){jobsUpdated(resp.jobs)})["catch"](function(resp){resp.err&&403===resp.err.statusCode&&($scope.jobsListPermission=!1),jobsUpdated(resp.jobs)})}timefilter.enabled=!1;var rowScopes=[],msgs=mlMessageBarService,TIME_FORMAT="YYYY-MM-DD HH:mm:ss",refreshCounter=0,auditMessages={};$scope.noJobsCreated,$scope.jobsListPermission=!0,$scope.toLocaleString=_string_utils2["default"].toLocaleString,$scope.filterText="",$scope.filterIcon=0;var filterRegexp=void 0,jobFilterTimeout=void 0;$scope.kbnUrl=kbnUrl,$scope.privileges={canCreateJob:!1,canDeleteJob:!1,canStartStopDatafeed:!1,canUpdateJob:!1,canUpdateDatafeed:!1},$scope.jobStats=mlJobService.jobStats,$scope.deleteJob=function(job){function doDelete(){status.deleteLock=!0,mlJobService.deleteJob(job,status).then(function(deleteResp){deleteResp.success&&(status.deleteLock=!1,msgs.clear(),msgs.info("Job '"+job.job_id+"' deleted"),status.deleteLock=!1,refreshJobs())})}var status={deleteLock:!1,stopDatafeed:0,deleteDatafeed:0,closeJob:0,deleteJob:0};$modal.open({template:__webpack_require__(3686),controller:"MlDeleteJobModal",backdrop:"static",keyboard:!1,size:"sm",resolve:{params:function(){return{doDelete:doDelete,status:status,jobId:job.job_id,isDatafeed:!!job.datafeed_config}}}})},$scope.newJob=function(){$location.path("jobs/new_job")},$scope.editJob=function(job){openEditJobWindow(job)},$scope.cloneJob=function(job){mlJobService.currentJob=job,$location.path("jobs/new_job_advanced")},$scope.copyToClipboard=function(job){var success=mlClipboardService.copy(_angular2["default"].toJson(job));success?(msgs.clear(),msgs.info(job.job_id+" JSON copied to clipboard")):msgs.error("Job could not be copied to the clipboard")},$scope.startDatafeed=function(job){mlDatafeedService.openJobTimepickerWindow(job,$scope)},$scope.stopDatafeed=function(job){job.datafeed_state="stopping";var datafeedId=mlJobService.getDatafeedId(job.job_id);mlJobService.stopDatafeed(datafeedId,job.job_id).then(function(){$scope.refreshJob(job.job_id)})},$scope.viewResults=function(job,page){job&&page&&mlJobService.jobTimeRange(job.job_id).then(function(resp){var from=resp.start.string?"'"+resp.start.string+"'":"now-24h",to=resp.end.string?"'"+resp.end.string+"'":"now",path=_chrome2["default"].getBasePath();path+="/app/ml#/"+page,path+="?_g=(ml:(jobIds:!('"+job.job_id+"'))",path+=",refreshInterval:(display:Off,pause:!f,value:0),time:(from:"+from,path+=",mode:absolute,to:"+to,path+="))&_a=(filters:!(),query:(query_string:(analyze_wildcard:!t,query:'*')))","safari"===mlBrowserDetectService()?location.href=path:$window.open(path,"_blank")})["catch"](function(){msgs.error("Job results for "+job.job_id+" could not be opened")})},$scope.applyFilter=function(){clearTimeout(jobFilterTimeout),jobFilterTimeout=$timeout(function(){displayJobs($scope.jobs),clearTimeout(jobFilterTimeout),jobFilterTimeout=void 0},1e3),$timeout(function(){$scope.filterIcon=1},250),filterRegexp=$scope.filterText?new RegExp("("+$scope.filterText+")","gi"):void 0},$scope.clearFilter=function(){$scope.filterText="",$scope.filterRegexp=void 0,$scope.applyFilter()},$scope.refreshJob=function(jobId){mlJobService.refreshJob(jobId).then(function(resp){jobsUpdated(resp.jobs)})["catch"](function(resp){jobsUpdated(resp.jobs)})},mlPrivilegeService.getJobManagementPrivileges().then(function(privileges){$scope.privileges=privileges}),$scope.$on("jobsUpdated",function(){refreshJobs()}),refreshJobs(),$scope.$emit("application.load")})},3677:function(module,exports,__webpack_require__){const _=__webpack_require__(3).runInContext();__webpack_require__(2430)(_),__webpack_require__(2431)(_),__webpack_require__(2432)(_),__webpack_require__(2433)(_),__webpack_require__(2434)(_),__webpack_require__(2435)(_),module.exports=_},3678:function(module,exports,__webpack_require__){module.exports=__webpack_require__(319)},3679:function(module,exports){module.exports='<div class="actions">\n\n  <!-- start -->\n  <button\n    ng-show="job.datafeed_config && job.datafeed_config.state!==\'stopping\' && job.datafeed_config.state!==\'starting\'"\n    ng-click="((job.datafeed_config && job.datafeed_config.state===\'started\')?stopDatafeed(job):startDatafeed(job))"\n    class="btn btn-xs btn-default"\n    data-toggle="tooltip"\n    ng-disabled=\'!privileges.canStartStopDatafeed\'\n    tooltip="{{((job.datafeed_config && job.datafeed_config.state===\'started\')?\'Stop\':\'Start\')}} datafeed for {{job.job_id}}">\n      <i ng-show="job.datafeed_config && job.datafeed_config.state===\'started\'" aria-hidden="true" class="fa fa-stop"></i>\n      <i ng-show="job.datafeed_config && job.datafeed_config.state===\'stopped\'" aria-hidden="true" class="fa fa-play"></i>\n      <i ng-show="job.datafeed_config && job.datafeed_config.state===undefined" aria-hidden="true" class="fa fa-play"></i>\n  </button>\n\n  <!-- stop -->\n  <button\n    disabled\n    ng-show="(!job.datafeed_config) || (job.datafeed_config.state===\'stopping\' || job.datafeed_config.state===\'starting\')"\n    class="btn btn-xs btn-default"\n    data-toggle="tooltip"\n    aria-label="Preview Job"\n    tooltip="No datafeed settings for {{job.job_id}}">\n      <i aria-hidden="true" class="fa fa-clock-o"></i>\n  </button>\n\n  <!-- anomaly explorer -->\n  <button\n    ng-click="viewResults(job, \'explorer\')"\n    class="btn btn-xs btn-default"\n    data-toggle="tooltip"\n    tooltip="Open {{job.job_id}} in Anomaly Explorer">\n      <i aria-hidden="true" class="fa fa-table"></i>\n  </button>\n\n  <!-- time series explorer -->\n  <button\n    ng-click="viewResults(job, \'timeseriesexplorer\')"\n    class="btn btn-xs btn-default"\n    data-toggle="tooltip"\n    ng-disabled="!enableTimeSeries"\n    tooltip="Open {{job.job_id}} in Single Metric Viewer">\n      <i aria-hidden="true" class="fa fa-line-chart"></i>\n  </button>\n\n  <!-- edit job -->\n  <button\n    ng-click="editJob(job)"\n    ng-disabled="!privileges.canUpdateJob || !privileges.canUpdateDatafeed"\n    class="btn btn-xs btn-default"\n    data-toggle="tooltip"\n    tooltip="Edit job" >\n      <i aria-hidden="true" class="fa fa-pencil-square-o"></i>\n  </button>\n\n  <!-- clone job -->\n  <button\n    ng-click="cloneJob(job)"\n    class="btn btn-xs btn-default"\n    data-toggle="tooltip"\n    ng-disabled=\'!privileges.canCreateJob\'\n    tooltip="Clone job" >\n      <i aria-hidden="true" class="fa fa-clone"></i>\n  </button>\n\n  <!-- delete job -->\n  <button\n    ng-click="deleteJob(job)"\n    class="btn btn-xs btn-danger"\n    data-toggle="tooltip"\n    ng-disabled=\'!privileges.canDeleteJob\'\n    tooltip="Delete job">\n      <i aria-hidden="true" class="fa fa-trash"></i>\n  </button>\n</div>\n'},3680:function(module,exports){"use strict";function calculateDatafeedFrequencyDefaultSeconds(bucketSpanSeconds){var freq=3600;return bucketSpanSeconds<=120?freq=60:bucketSpanSeconds<=1200?freq=Math.floor(bucketSpanSeconds/2):bucketSpanSeconds<=43200&&(freq=600),freq}function isTimeSeriesViewJob(job){var isViewable=!1,dtrs=job.analysis_config.detectors;if(void 0!==job.model_plot_config&&1===dtrs.length){var firstDtr=dtrs[0];void 0===firstDtr.partition_field_name&&void 0===firstDtr.by_field_name&&void 0===firstDtr.over_field_name&&(isViewable=!0)}return isViewable}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]={calculateDatafeedFrequencyDefaultSeconds:calculateDatafeedFrequencyDefaultSeconds,isTimeSeriesViewJob:isTimeSeriesViewJob},module.exports=exports["default"]},3681:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function replaceStringTokens(str,valuesByTokenName,encodeForURI){return String(str).replace(/\$([^?&$\'"]{1,40})\$/g,function(match,name){var tokenValue=_.get(valuesByTokenName,name,null);return encodeForURI===!0&&null!==tokenValue&&(tokenValue=encodeURIComponent(tokenValue)),null!==tokenValue?tokenValue:match})}function detectorToString(dtr){var BY_TOKEN=" by ",OVER_TOKEN=" over ",USE_NULL_OPTION=" use_null=",PARTITION_FIELD_OPTION=" partition_field_name=",EXCLUDE_FREQUENT_OPTION=" exclude_frequent=",txt="";return void 0!==dtr["function"]&&""!==dtr["function"]?(txt+=dtr["function"],void 0!==dtr.field_name&&""!==dtr.field_name&&(txt+="("+quoteField(dtr.field_name)+")")):void 0!==dtr.field_name&&""!==dtr.field_name&&(txt+=quoteField(dtr.field_name)),void 0!==dtr.by_field_name&&""!==dtr.by_field_name&&(txt+=BY_TOKEN+quoteField(dtr.by_field_name)),void 0!==dtr.over_field_name&&""!==dtr.over_field_name&&(txt+=OVER_TOKEN+quoteField(dtr.over_field_name)),void 0!==dtr.use_null&&(txt+=USE_NULL_OPTION+dtr.use_null),void 0!==dtr.partition_field_name&&""!==dtr.partition_field_name&&(txt+=PARTITION_FIELD_OPTION+quoteField(dtr.partition_field_name)),void 0!==dtr.exclude_frequent&&""!==dtr.exclude_frequent&&(txt+=EXCLUDE_FREQUENT_OPTION+dtr.exclude_frequent),txt}function quoteField(field){return field.match(/\W/g)?'"'+field+'"':field}function sortByKey(list,reverse,comparator){var keys=_.sortBy(_.keys(list),function(key){return comparator?comparator(list[key],key):key});return reverse&&(keys=keys.reverse()),_.object(keys,_.map(keys,function(key){return list[key]}))}function processLargeArrayAsync(array,fn,chunk,context){function doChunk(){for(var cnt=chunk;cnt--&&index<array.length;)fn.call(context,array[index],index,array),++index;index<array.length&&setTimeout(doChunk,1)}context=context||window,chunk=chunk||100;var index=0;doChunk()}function guessDelimiters(text,possibleDelimiters){if(""!==text&&void 0!==possibleDelimiters&&possibleDelimiters.length){var weedOut=function(delimiter){function checkLength(line){if(!line)return!0;var length=line.split(delimiter).length;return cache<0&&(cache=length),cache===length&&length>1}var cache=-1;return text.split("\n").every(checkLength)};return possibleDelimiters.filter(weedOut)}return[]}function guessTimeFormat(time){var format="",matched=!1;if(isNaN(time)){var match=void 0;if(!matched){var reg="";if(reg+="(",reg+="(",reg+="(\\d{4})",reg+="([-/.\\s])",reg+="(",reg+="([01]\\d)",reg+="|",reg+="(\\w{3})",reg+=")",reg+="([-/.\\s])",reg+="([0-3]\\d)",reg+=")",reg+="|",reg+="(",reg+="(",reg+="(\\d{1,2})",reg+="|",reg+="(\\w{3})",reg+=")",reg+="([-/.\\s])",reg+="(",reg+="(\\d{1,2})",reg+="|",reg+="(\\w{3})",reg+=")",reg+="([-/.\\s])",reg+="(\\d{4})",reg+=")",reg+=")",reg+="([T\\s])?",reg+="([0-2]\\d)",reg+="([:.])",reg+="([0-5]\\d)",reg+="(",reg+="([:.])",reg+="([0-5]\\d)",reg+=")?",reg+="(",reg+="([:.])",reg+="(\\d{3})",reg+=")?",reg+="(",reg+="([+-]\\d{2}[:.]\\d{2}[:.]\\d{2})",reg+="|",reg+="([+-]\\d{2}[:.]\\d{2})",reg+="|",reg+="([+-]\\d{6})",reg+="|",reg+="([+-]\\d{4})",reg+="|",reg+="(Z)",reg+="|",reg+="([+-]\\d{2})",reg+="|",reg+="(",reg+="(\\s)",reg+="(\\w{1,4})",reg+=")",reg+=")?",console.log("guessTimeFormat: time format regex: "+reg),match=time.match(new RegExp(reg))){if(void 0!==match[2]?(format+="yyyy",format+=match[4],void 0!==match[6]?format+="MM":void 0!==match[7]&&(format+="MMM"),format+=match[8],format+="dd"):void 0!==match[10]&&(void 0!==match[13]?(format+="MMM",format+=match[14],format+="dd"):void 0!==match[17]?(format+="dd",format+=match[14],format+="MMM"):void 0!==match[12]&&+match[12]>12?(format+="dd",format+=match[14],format+="MM"):(format+="MM",format+=match[14],format+="dd"),format+=match[18],format+="yyyy"),format+="T"===match[20]?"'"+match[20]+"'":match[20],format+="HH",format+=match[22],format+="mm",void 0!==match[24]&&(format+=match[25],format+="ss"),void 0!==match[27]&&(format+=match[28],format+="SSS"),void 0!==match[31])format+="XXXXX";else if(void 0!==match[32])format+="XXX";else if(void 0!==match[33])format+="XXXX";else if(void 0!==match[34])format+="Z";else if(void 0!==match[35]||void 0!==match[36])format+="X";else if(void 0!==match[37]){
void 0!==match[38]&&(format+=match[38]);for(var i=0;i<match[39].length;i++)format+="z"}matched=!0}}}else format=time>1e10?"epoch_ms":"epoch",matched=!0;return matched?console.log("guessTimeFormat: guessed time format: ",format):console.log("guessTimeFormat: time format could not be guessed from: "+time),format}function generateExampleTime(timeFormat){var exampleTime="";if(void 0!==timeFormat&&""!==timeFormat){var now=moment();if(now.month(2),now.date(24),"epoch"===timeFormat)exampleTime=now.unix();else if("epoch_ms"===timeFormat)exampleTime=1e3*now.unix();else{var tf=timeFormat.replace(/Y/g,"");exampleTime=now.formatWithJDF(tf)}}return exampleTime}function toLocaleString(x){var result=x;if(x&&"number"==typeof x){var parts=x.toString().split(".");parts[0]=parts[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),result=parts.join(".")}return result}function escapeFunc(str){var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(str).replace(/[&<>"'\/]/g,function(s){return entityMap[s]})}function escapeForElasticsearchQuery(str){return str.replace(/[-[\]{}()+!<>=?:\/\\^"~*&|\s]/g,"\\$&")}function calculateTextWidth(txt,isNumber){txt=isNumber?_d2["default"].format(",")(txt):txt;var $body=_d2["default"].select("body"),$el=$body.append("div"),svg=$el.append("svg"),tempLabelText=svg.append("g").attr("class","temp-axis-label tick").selectAll("text.temp.axis").data("a").enter().append("text").text(txt),width=tempLabelText[0][0].getBBox().width+10;return $el.remove(),_d2["default"].select(".temp-axis-label").remove(),Math.ceil(width)}Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(3682);var _d=__webpack_require__(2794),_d2=_interopRequireDefault(_d),_=__webpack_require__(3677),moment=__webpack_require__(3678);exports["default"]={replaceStringTokens:replaceStringTokens,detectorToString:detectorToString,sortByKey:sortByKey,guessDelimiters:guessDelimiters,processLargeArrayAsync:processLargeArrayAsync,guessTimeFormat:guessTimeFormat,generateExampleTime:generateExampleTime,toLocaleString:toLocaleString,escape:escapeFunc,escapeForElasticsearchQuery:escapeForElasticsearchQuery,calculateTextWidth:calculateTextWidth},module.exports=exports["default"]},3682:function(module,exports,__webpack_require__){(function(module){(function(){function hookMoment(moment){moment.fn.__translateJavaFormat=translateFormat,moment.fn.toMomentFormatString=function(formatString){return javaDateFormats[formatString]||(javaDateFormats[formatString]=translateFormat(formatString,javaFormatMapping)),javaDateFormats[formatString]},moment.fn.formatWithJDF=function(formatString){return this.format(this.toMomentFormatString(formatString))},moment.fn.toJDFString=function(formatString){return momentDateFormats[formatString]||(momentDateFormats[formatString]=translateFormat(formatString,momentFormatMapping)),momentDateFormats[formatString]},"undefined"!=typeof module&&null!==module?module.exports=moment:this.moment=moment}var javaDateFormats={},momentDateFormats={},javaFormatMapping={d:"D",dd:"DD",y:"YYYY",yy:"YY",yyy:"YYYY",yyyy:"YYYY",a:"a",A:"A",M:"M",MM:"MM",MMM:"MMM",MMMM:"MMMM",h:"h",hh:"hh",H:"H",HH:"HH",m:"m",mm:"mm",s:"s",ss:"ss",S:"SSS",SS:"SSS",SSS:"SSS",E:"ddd",EE:"ddd",EEE:"ddd",EEEE:"dddd",EEEEE:"dddd",EEEEEE:"dddd",D:"DDD",w:"W",ww:"WW",z:"ZZ",zzzz:"Z",Z:"ZZ",X:"ZZ",XX:"ZZ",XXX:"Z",u:"E"},momentFormatMapping={D:"d",DD:"dd",YY:"yy",YYY:"yyyy",YYYY:"yyyy",a:"a",A:"A",M:"M",MM:"MM",MMM:"MMM",MMMM:"MMMM",h:"h",hh:"hh",H:"H",HH:"HH",m:"m",mm:"mm",s:"s",ss:"ss",S:"S",SS:"S",SSS:"S",ddd:"E",dddd:"EEEE",DDD:"D",W:"w",WW:"ww",ZZ:"z",Z:"XXX",E:"u"};hookMoment(__webpack_require__(3683));var translateFormat=function(formatString,mapping){for(var len=formatString.length,i=0,beginIndex=-1,lastChar=null,currentChar="",resultString="";i<len;i++)currentChar=formatString.charAt(i),null!==lastChar&&lastChar===currentChar||(resultString=_appendMappedString(formatString,mapping,beginIndex,i,resultString),beginIndex=i),lastChar=currentChar;return _appendMappedString(formatString,mapping,beginIndex,i,resultString)},_appendMappedString=function(formatString,mapping,beginIndex,currentIndex,resultString){var tempString;return beginIndex!==-1&&(tempString=formatString.substring(beginIndex,currentIndex),mapping[tempString]&&(tempString=mapping[tempString]),resultString=resultString.concat(tempString)),resultString}}).call(this)}).call(exports,__webpack_require__(4)(module))},3683:function(module,exports,__webpack_require__){const moment=module.exports=__webpack_require__(497);moment.tz.load(__webpack_require__(498))},3684:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function checkLicense(Private,Promise,kbnBaseUrl){var xpackInfo=Private(_xpack_info2["default"]),licenseAllowsToShowThisPage=xpackInfo.get("features.ml.isAvailable");if(!licenseAllowsToShowThisPage){var message=xpackInfo.get("features.ml.message"),queryString="?"+_notifier2["default"].QS_PARAM_LOCATION+"=Machine Learning&";queryString+=_notifier2["default"].QS_PARAM_LEVEL+"=error&"+_notifier2["default"].QS_PARAM_MESSAGE+"="+message;var url=_chrome2["default"].addBasePath(kbnBaseUrl)+"#"+queryString;return window.location.href=url,Promise.halt()}var licenseHasExpired=xpackInfo.get("features.ml.hasExpired",!1);if(licenseHasExpired){var _message=xpackInfo.get("features.ml.message"),exists=_lodash2["default"].find(_notify2["default"]._notifs,function(item){return item.content===_message});exists||_notify2["default"].info(_message,{lifetime:0})}return Promise.resolve()}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=checkLicense;var _xpack_info=__webpack_require__(2806),_xpack_info2=_interopRequireDefault(_xpack_info),_notifier=__webpack_require__(2466),_notifier2=_interopRequireDefault(_notifier),_notify=__webpack_require__(2490),_notify2=_interopRequireDefault(_notify),_lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_chrome=__webpack_require__(2429),_chrome2=_interopRequireDefault(_chrome);module.exports=exports["default"]},3685:function(module,exports){module.exports='<ml-nav-menu name="jobs"></ml-nav-menu>\n<ml-config-jobs ng-controller="MlJobsList">\n  <div class=\'jobs-stats-bar\'>\n    <span ng-if=\'js.show\' class=\'stat\' ng-repeat=\'js in jobStats\'>\n      <span class=\'stat-label\'>{{js.label}}</span>: <span class=\'stat-value\'>{{js.value}}</span>\n    </span>\n  </div>\n  <ml-message-bar ></ml-message-bar>\n\n  <div class="jobs-container">\n    <div>\n      <header>\n        <div class="row" >\n        <div class="col-xs-10" >\n          <button\n            ng-click=\'newJob()\'\n            class="btn btn-info"\n            ng-disabled=\'!privileges.canCreateJob\'\n            aria-label="Create new job">\n            <i aria-hidden="true" class="fa fa-plus"></i>\n            Create new job\n          </button>\n        </div>\n\n\n        <div class="col-xs-2" >\n          <input\n            ng-model="filterText"\n            placeholder="Job filter"\n            ng-change="applyFilter()"\n            class="form-control job-filter-input"\n             />\n          <div class="job-filter-progress-icon" >\n            <div class="filter-icon" ng-show="filterIcon===1">\n              <i class=\'fa fa-spinner fa-spin\'></i>\n            </div>\n            <div class="filter-icon" ng-show="filterIcon===0">\n              <a aria-label="Clear filter" ng-click="clearFilter()">\n                <i class="fa fa-times-circle"></i>\n              </a>\n            </div>\n          </div>\n\n\n        </div>\n      </div>\n\n      </header>\n      <ml-paginated-table\n        columns="table.columns"\n        rows="table.rows"\n        per-page="table.perPage">\n      </ml-paginated-table>\n\n      <div class="no-jobs-warning" ng-show="jobsListPermission === false">You do not have permission to view jobs</div>\n      <div class="no-jobs-warning" ng-show="jobsListPermission === true && filterText && table.rows.length===0">No jobs found</div>\n      <div class="no-jobs-warning" ng-show="jobsListPermission === true && noJobsCreated===true">No jobs configured</div>\n      <div class="no-jobs-warning" ng-show="jobsListPermission === true && noJobsCreated===undefined">\n        <div class="loading-jobs"><i class=\'fa fa-spinner fa-spin\'></i></div>\n        <div>Loading Jobs</div>\n      </div>\n\n    </div>\n  </div>\n</ml-config-jobs>\n'},3686:function(module,exports){module.exports='<div class="delete-job-modal">\n  <h3>Delete job {{ui.jobId}}</h3>\n  <div ng-show= "ui.stage===1">\n    <div class="status-item" ng-show="ui.isDatafeed">Stopping datafeed...\n    \t<i ng-show="ui.status.stopDatafeed === -1" aria-hidden="true" style="color:red;" class="fa fa-remove"></i>\n    \t<i ng-show="ui.status.stopDatafeed === 0" aria-hidden="true" class="fa fa-spinner fa-spin"></i>\n    \t<i ng-show="ui.status.stopDatafeed === 1" aria-hidden="true" style="color:green;" class="fa fa-check"></i>\n    </div>\n\n    <div class="status-item" ng-show="ui.isDatafeed">Deleting datafeed...\n      <i ng-show="ui.status.deleteDatafeed === -1" aria-hidden="true" style="color:red;" class="fa fa-remove"></i>\n      <i ng-show="ui.status.deleteDatafeed === 0" aria-hidden="true" class="fa fa-spinner fa-spin"></i>\n      <i ng-show="ui.status.deleteDatafeed === 1" aria-hidden="true" style="color:green;" class="fa fa-check"></i>\n    </div>\n\n    <div class="status-item">Closing job...\n      <i ng-show="ui.status.closeJob === -1" aria-hidden="true" style="color:red;" class="fa fa-remove"></i>\n      <i ng-show="ui.status.closeJob === 0" aria-hidden="true" class="fa fa-spinner fa-spin"></i>\n      <i ng-show="ui.status.closeJob === 1" aria-hidden="true" style="color:green;" class="fa fa-check"></i>\n    </div>\n\n    <div class="status-item">Deleting job...\n      <i ng-show="ui.status.deleteJob === -1" aria-hidden="true" style="color:red;" class="fa fa-remove"></i>\n      <i ng-show="ui.status.deleteJob === 0" aria-hidden="true" class="fa fa-spinner fa-spin"></i>\n      <i ng-show="ui.status.deleteJob === 1" aria-hidden="true" style="color:green;" class="fa fa-check"></i>\n    </div>\n  </div>\n\n  <hr />\n\n  <div ng-show= "ui.stage===0">\n    <button\n      ng-disabled="ui.status.deleteLock"\n      ng-click="delete();"\n      class="btn btn-danger"\n      aria-label="delete">\n        Delete job\n    </button>\n\n    <button\n      ng-disabled="ui.status.deleteLock"\n      ng-click="close();"\n      class="btn btn-info"\n      aria-label="cancel">\n        Cancel\n    </button>\n  </div>\n  <div ng-show= "ui.stage===1">\n    <button\n      ng-click="close();"\n      class="btn btn-info"\n      aria-label="close">\n        Close\n    </button>\n  </div>\n</div>\n'},3687:function(module,exports){module.exports='<div class="edit-job-modal">\n  <ml-message-bar ></ml-message-bar>\n  <h3>{{ui.title}}</h3>\n\n  <ul class="nav nav-tabs" >\n    <li\n      class="kbn-settings-tab"\n      ng-class="{ active: ui.currentTab === tab.index }"\n      ng-repeat="tab in ui.tabs"\n      ng-hide="ui.tabs[{{tab.index}}].hidden">\n\n      <a ng-click="ui.changeTab(tab)">\n        {{ tab.title }}\n      </a>\n    </li>\n  </ul>\n\n  <!-- Job Details -->\n  <div class="tab_contents" ng-show="ui.currentTab === 0">\n    <div class="form-group">\n      <label>Job description</label>\n      <input\n        ng-model="job.description"\n        tabindex="1"\n        class="form-control" />\n    </div>\n\n    <hr />\n\n    <div class="form-group">\n      <label>Custom URLs</label>\n      <div ng-if="job.custom_settings && job.custom_settings.custom_urls">\n        <div ng-repeat="item in job.custom_settings.custom_urls track by $index" class="custom-url">\n          <div class="field-cols">\n\n            <div class="form-group">\n              <label>Label</label>\n              <input\n                ng-model="item.url_name"\n                type="text"\n                class="form-control" />\n            </div>\n          </div>\n\n          <div class="field-cols">\n            <div class="form-group">\n              <label>URL</label>\n              <textarea\n                ng-model="item.url_value"\n                type="text"\n                class="form-control" ></textarea>\n            </div>\n          </div>\n\n          <button\n            ng-click="removeCustomUrl($index)"\n            tooltip-append-to-body="true"\n            type="button"\n            class="btn btn-xs btn-danger remove-button">\n              <i aria-hidden="true" class="fa fa-times"></i>\n          </button>\n        </div>\n      </div>\n      <div>\n        <button aria-label="Add Custom URL" ng-click="addCustomUrl()" type="button" class="btn btn-primary btn-xs">\n          <span class="sr-only">Add Custom URL</span>\n          <i aria-hidden="true" class="fa fa-plus"></i> Add Custom URL\n        </button>\n      </div>\n    </div>\n\n\n    <div class="form-group"\n      ng-show="(job.analysis_config.categorization_field_name !== undefined && job.analysis_config.categorization_field_name !== \'\') ||\n               (job.analysis_config.categorization_filters && job.analysis_config.categorization_filters.length)">\n      <hr />\n\n      <label>Categorization Filters</label>\n      <div ng-if="job.analysis_config && job.analysis_config.categorization_filters">\n        <div ng-repeat="item in job.analysis_config.categorization_filters track by $index" class="categorization-filter">\n          <div class="field-cols">\n            <div class="form-group">\n              <input\n                ng-model="job.analysis_config.categorization_filters[$index]"\n                type="text"\n                class="form-control" />\n            </div>\n          </div>\n\n          <button\n            ng-click="removeCategorizationFilter($index)"\n            tooltip-append-to-body="true"\n            type="button"\n            class="btn btn-xs btn-danger remove-button">\n              <i aria-hidden="true" class="fa fa-times"></i>\n          </button>\n        </div>\n      </div>\n      <div>\n        <button\n          aria-label="Add Categorization Filter"\n          ng-click="addCategorizationFilter()"\n          type="button"\n          ng-disabled="job.analysis_config.categorization_field_name === undefined || job.analysis_config.categorization_field_name === \'\'"\n          class="btn btn-primary btn-xs">\n          <span class="sr-only">Add Categorization Filter</span>\n          <i aria-hidden="true" class="fa fa-plus"></i> Add Categorization Filter\n        </button>\n      </div>\n    </div>\n\n    <div ng-hide="ui.validation.tabs[0].checks.categorizationFilters.valid" class="validation-error">\n      {{ ( ui.validation.tabs[2].checks.categorizationFilters.message || "Categorization filters must all be valid regular expressions" ) }}\n    </div>\n\n  </div>\n\n  <!-- Detectors -->\n  <div class="tab_contents" ng-show="ui.currentTab === 1">\n    <label>Detector descriptions</label>\n    <div ml-job-detectors-list\n      ml-detectors="job.analysis_config.detectors"\n      ml-indexes="indexes"\n      ml-properties="properties"\n      ml-edit-mode="\'EDIT\'"\n      ></div>\n  </div>\n\n  <!-- Datafeed -->\n  <div class="tab_contents" ng-show="ui.currentTab === 2">\n\n    <div ng-show="ui.datafeedStopped" >\n      <div class="form-group" >\n        <label>Query</label>\n        <input\n          ng-model="ui.datafeed.queryText"\n          placeholder=\'{ "match_all": {}}\'\n          class="form-control" />\n\n        <label>Query delay</label>\n        <input\n          ng-model="ui.datafeed.queryDelayText"\n          placeholder="{{ui.datafeed.queryDelayDefault}}"\n          min="0"\n          class="form-control" />\n\n        <label>Frequency</label>\n        <input\n          ng-model="ui.datafeed.frequencyText"\n          placeholder="{{ui.datafeed.frequencyDefault}}"\n          min="0"\n          class="form-control" />\n\n        <label>scroll_size</label>\n        <input\n          ng-model="ui.datafeed.scrollSizeText"\n          placeholder="{{ui.datafeed.scrollSizeDefault}}"\n          type="number"\n          min="0"\n          class="form-control" />\n      </div>\n    </div>\n    <div ng-hide="ui.datafeedStopped" >\n      <div>Datafeed settings cannot be edited while the datafeed is running.</div>\n      <div ng-show="ui.stoppingDatafeed===false"><a ng-click="stopDatafeed()">Stop datafeed now</a></div>\n      <div ng-show="ui.stoppingDatafeed===true">Stopping...</div>\n    </div>\n  </div>\n\n  <hr />\n\n  <button\n    ng-click="save()"\n    ng-disabled="(saveLock === true)"\n    class="btn btn-info" >\n    Update\n  </button>\n  <button\n    ng-click="cancel()"\n    ng-disabled="(saveLock === true)"\n    class="btn btn-info"\n    aria-label="Cancel">\n    Cancel\n  </button>\n</div>\n'},3688:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3689)},3689:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(3690),__webpack_require__(3700);var _angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_job_utils=__webpack_require__(3680),_job_utils2=_interopRequireDefault(_job_utils),_parse_interval=__webpack_require__(2730),_parse_interval2=_interopRequireDefault(_parse_interval),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.controller("MlEditJobModal",function($scope,$modalInstance,$modal,params,mlJobService,mlMessageBarService){function validateJob(){var valid=!0,tabs=$scope.ui.validation.tabs;if(_lodash2["default"].each(tabs,function(tab){tab.valid=!0,_lodash2["default"].each(tab.checks,function(check,c){tab.checks[c].valid=!0,tab.checks[c].message=""})}),$scope.job.analysis_config.categorization_filters){var v=!0;_lodash2["default"].each($scope.job.analysis_config.categorization_filters,function(d){try{new RegExp(d)}catch(e){v=!1}""!==d&&v!==!1||(tabs[0].checks.categorization_filters.valid=!1,valid=!1)})}return valid}var msgs=mlMessageBarService;msgs.clear(),$scope.saveLock=!1;var refreshJob=params.pscope.refreshJob;$scope.job=_angular2["default"].copy(params.job);var bucketSpan=(0,_parse_interval2["default"])($scope.job.analysis_config.bucket_span);if($scope.ui={title:"Edit "+$scope.job.job_id,currentTab:0,tabs:[{index:0,title:"Job Details",hidden:!1},{index:1,title:"Detectors",hidden:!1},{index:2,title:"Datafeed",hidden:!0}],changeTab:function(tab){$scope.ui.currentTab=tab.index},isDatafeed:!1,datafeedStopped:!1,datafeed:{scrollSizeDefault:1e3,queryDelayDefault:"60s",frequencyDefault:_job_utils2["default"].calculateDatafeedFrequencyDefaultSeconds(bucketSpan.asSeconds())+"s"},stoppingDatafeed:!1,validation:{tabs:[{index:0,valid:!0,checks:{categorizationFilters:{valid:!0}}}]}},$scope.job.datafeed_config){var datafeedConfig=$scope.job.datafeed_config;$scope.ui.isDatafeed=!0,$scope.ui.tabs[2].hidden=!1,$scope.ui.datafeedStopped=!$scope.job.datafeed_config||"stopped"===$scope.job.datafeed_config.state,$scope.ui.datafeed.queryText=_angular2["default"].toJson(datafeedConfig.query,!0),$scope.ui.datafeed.queryDelayText=datafeedConfig.query_delay,$scope.ui.datafeed.frequencyText=datafeedConfig.frequency,$scope.ui.datafeed.scrollSizeText=datafeedConfig.scroll_size}$scope.addCustomUrl=function(){$scope.job.custom_settings||($scope.job.custom_settings={}),$scope.job.custom_settings.custom_urls||($scope.job.custom_settings.custom_urls=[]),$scope.job.custom_settings.custom_urls.push({url_name:"",url_value:""})},$scope.removeCustomUrl=function(index){$scope.job.custom_settings.custom_urls.splice(index,1)},$scope.addCategorizationFilter=function(){$scope.job.analysis_config&&($scope.job.analysis_config.categorization_filters||($scope.job.analysis_config.categorization_filters=[]),$scope.job.analysis_config.categorization_filters.push(""))},$scope.removeCategorizationFilter=function(index){$scope.job.analysis_config&&$scope.job.analysis_config.categorization_filters&&$scope.job.analysis_config.categorization_filters.splice(index,1)},$scope.stopDatafeed=function(){var datafeedId=$scope.job.datafeed_config.datafeed_id,jobId=$scope.job.job_id;$scope.ui.stoppingDatafeed=!0,mlJobService.stopDatafeed(datafeedId,jobId).then(function(resp){resp.stopped===!0&&($scope.ui.datafeedStopped=!0)})},$scope.save=function(){function saveDatafeed(){if(Object.keys(datafeedData).length){var datafeedId=$scope.job.datafeed_config.datafeed_id;mlJobService.updateDatafeed(datafeedId,datafeedData).then(function(resp){resp.success?saveComplete():saveFail(resp)})}else saveComplete()}function saveComplete(){$scope.saveLock=!1,msgs.clear(),refreshJob(jobId),$modalInstance.close()}function saveFail(resp){$scope.saveLock=!1,msgs.error(resp.message)}if(msgs.clear(),validateJob()){$scope.saveLock=!0;var jobId=$scope.job.job_id,jobData={},datafeedData={};if($scope.job.description!==params.job.description&&(jobData.description=$scope.job.description),_lodash2["default"].each($scope.job.analysis_config.detectors,function(d,i){var changes=0,obj={index:i};d.detector_description!==params.job.analysis_config.detectors[i].detector_description&&(obj.description=d.detector_description,changes++),changes>0&&(void 0===jobData.detectors&&(jobData.detectors=[]),jobData.detectors.push(obj))}),$scope.job.analysis_config.categorization_filters){var doUpdate=!1;$scope.job.analysis_config.categorization_filters.length!==params.job.analysis_config.categorization_filters.length&&(doUpdate=!0),_lodash2["default"].each($scope.job.analysis_config.categorization_filters,function(d,i){d!==params.job.analysis_config.categorization_filters[i]&&(doUpdate=!0)}),doUpdate&&(jobData.categorization_filters=$scope.job.analysis_config.categorization_filters)}if($scope.job.custom_settings)if($scope.job.custom_settings.custom_urls&&$scope.job.custom_settings.custom_urls.length){var _doUpdate=!1;params.job.custom_settings&&params.job.custom_settings.custom_urls&&params.job.custom_settings.custom_urls.length?$scope.job.custom_settings.custom_urls.length!==params.job.custom_settings.custom_urls.length?_doUpdate=!0:_lodash2["default"].each($scope.job.custom_settings.custom_urls,function(url,i){url.url_name===params.job.custom_settings.custom_urls[i].url_name&&url.url_value===params.job.custom_settings.custom_urls[i].url_value||(_doUpdate=!0)}):_doUpdate=!0,_doUpdate&&(jobData.custom_settings=$scope.job.custom_settings)}else(params.job.custom_settings||params.job.custom_settings.custom_urls||params.job.custom_settings.custom_urls.length)&&(jobData.custom_settings={});if($scope.job.datafeed_config&&$scope.ui.datafeedStopped){var sch=$scope.ui.datafeed;""===sch.queryText&&(sch.queryText='{"match_all":{}}');var query=sch.queryText;try{query=JSON.parse(query)}catch(e){console.log("save(): could not parse query JSON")}var orginalQueryText=_angular2["default"].toJson($scope.job.datafeed_config.query,!0);orginalQueryText!==sch.queryText&&(datafeedData.query=query),sch.queryDelayText!==$scope.job.datafeed_config.query_delay&&(datafeedData.query_delay=""===sch.queryDelayText||null===sch.queryDelayText||void 0===sch.queryDelayText?sch.queryDelayDefault:sch.queryDelayText),sch.frequencyText!==$scope.job.datafeed_config.frequency&&(datafeedData.frequency=""===sch.frequencyText||null===sch.frequencyText||void 0===sch.frequencyText?sch.frequencyDefault:sch.frequencyText),sch.scrollSizeText!==$scope.job.datafeed_config.scroll_size&&(datafeedData.scroll_size=""===sch.scrollSizeText||null===sch.scrollSizeText||void 0===sch.scrollSizeText?sch.scrollSizeDefault:sch.scrollSizeText)}Object.keys(jobData).length?mlJobService.updateJob(jobId,jobData).then(function(resp){resp.success?saveDatafeed():saveFail(resp)}):saveDatafeed()}},$scope.cancel=function(){msgs.clear(),$modalInstance.dismiss("cancel")}})},3690:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(3691),__webpack_require__(3694);var _string_utils=__webpack_require__(3681),_string_utils2=_interopRequireDefault(_string_utils),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.directive("mlJobDetectorsList",function($modal,$q,mlJobService){return{restrict:"AE",replace:!0,scope:{detectors:"=mlDetectors",indexes:"=mlIndexes",properties:"=mlProperties",catFieldNameSelected:"=mlCatFieldNameSelected",editMode:"=mlEditMode"},template:__webpack_require__(3697),controller:function($scope){function validateDetector(dtr){if(void 0!==dtr.exclude_frequent&&""!==dtr.exclude_frequent){var exFrqs=["all","none","by","over"];if(_lodash2["default"].indexOf(exFrqs,dtr.exclude_frequent.trim())===-1)return{then:function(callback){callback({success:!1,message:'exclude_frequent value must be: "all", "none", "by" or "over"'})}}}return mlJobService.validateDetector(dtr).then(function(resp){return{success:resp.acknowledged||!1}})["catch"](function(resp){return{success:!1,message:resp.message||"Validation failed"}})}$scope.addDetector=function(dtr,index){void 0!==dtr&&(index>=0?$scope.detectors[index]=dtr:$scope.detectors.push(dtr))},$scope.removeDetector=function(index){$scope.detectors.splice(index,1)},$scope.editDetector=function(index){$scope.openNewWindow(index)},$scope.info=function(){},$scope.addFilter=function(dtr,filter,filterIndex){void 0===dtr.detector_rules&&(dtr.detector_rules=[]),filterIndex>=0?dtr.detector_rules[filterIndex]=filter:dtr.detector_rules.push(filter)},$scope.removeFilter=function(detector,filterIndex){detector.detector_rules.splice(filterIndex,1)},$scope.editFilter=function(detector,index){$scope.openFilterWindow(detector,index)},$scope.detectorToString=_string_utils2["default"].detectorToString,$scope.openNewWindow=function(index){index=void 0!==index?index:-1;var dtr=void 0;index>=0&&(dtr=_angular2["default"].copy($scope.detectors[index])),$modal.open({template:__webpack_require__(3698),controller:"MlDetectorModal",backdrop:"static",keyboard:!1,size:"lg",resolve:{params:function(){return{properties:$scope.properties,validate:validateDetector,detector:dtr,index:index,add:$scope.addDetector,catFieldNameSelected:$scope.catFieldNameSelected}}}})},$scope.openFilterWindow=function(dtr,filterIndex){filterIndex=void 0!==filterIndex?filterIndex:-1;var filter=void 0;filterIndex>=0&&(filter=_angular2["default"].copy(dtr.detector_rules[filterIndex])),$modal.open({template:__webpack_require__(3699),controller:"MlDetectorFilterModal",backdrop:"static",keyboard:!1,size:"lg",resolve:{params:function(){return{properties:$scope.properties,validate:validateDetector,detector:dtr,filter:filter,index:filterIndex,add:$scope.addFilter}}}})}}}})},3691:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3692),__webpack_require__(3693)},3692:function(module,exports){},3693:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_string_utils=__webpack_require__(3681),_string_utils2=_interopRequireDefault(_string_utils),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.controller("MlDetectorModal",function($scope,$modalInstance,params,mlJobService,mlMessageBarService){var msgs=mlMessageBarService;msgs.clear(),$scope.title="Add new detector",$scope.detector={"function":""},$scope.saveLock=!1,$scope.editMode=!1;var index=-1;$scope.functions=[{id:"count",uri:"count.html#count"},{id:"low_count",uri:"count.html#count"},{id:"high_count",uri:"count.html#count"},{id:"non_zero_count",uri:"count.html#non-zero-count"},{id:"low_non_zero_count",uri:"count.html#non-zero-count"},{id:"high_non_zero_count",uri:"count.html#non-zero-count"},{id:"distinct_count",uri:"count.html#distinct-count"},{id:"low_distinct_count",uri:"count.html#distinct-count"},{id:"high_distinct_count",uri:"count.html#distinct-count"},{id:"rare",uri:"rare.html#rare"},{id:"freq_rare",uri:"rare.html#freq-rare"},{id:"info_content",uri:"info_content.html#info-content"},{id:"low_info_content",uri:"info_content.html#info-content"},{id:"high_info_content",uri:"info_content.html#info-content"},{id:"metric",uri:"metric.html#metric"},{id:"median",uri:"metric.html#median"},{id:"mean",uri:"metric.html#mean"},{id:"low_mean",uri:"metric.html#mean"},{id:"high_mean",uri:"metric.html#mean"},{id:"min",uri:"metric.html#min"},{id:"max",uri:"metric.html#max"},{id:"varp",uri:"metric.html#varp"},{id:"low_varp",uri:"metric.html#varp"},{id:"high_varp",uri:"metric.html#varp"},{id:"sum",uri:"sum.html#sum"},{id:"low_sum",uri:"sum.html#sum"},{id:"high_sum",uri:"sum.html#sum"},{id:"non_null_sum",uri:"sum.html#non-null-sum"},{id:"low_non_null_sum",uri:"sum.html#non-null-sum"},{id:"high_non_null_sum",uri:"sum.html#non-null-sum"},{id:"time_of_day",uri:"time.html#time-of-day"},{id:"time_of_week",uri:"time.html#time-of-week"},{id:"lat_long",uri:"geographic.html"}],$scope.properties=params.properties,$scope.properties_byFieldName=_angular2["default"].copy($scope.properties),params.catFieldNameSelected&&($scope.properties_byFieldName.mlcategory="mlcategory");var validate=params.validate,add=params.add;params.detector&&($scope.detector=params.detector,index=params.index,$scope.title="Edit detector",$scope.editMode=!0),$scope.detectorToString=_string_utils2["default"].detectorToString,$scope.helpLink={},$scope.functionChange=function(){var func=_lodash2["default"].findWhere($scope.functions,{id:$scope.detector["function"]});$scope.helpLink.uri="functions/",$scope.helpLink.label="Help for ",func?($scope.helpLink.uri+=func.uri,$scope.helpLink.label+=func.id):($scope.helpLink.uri+="functions.html",$scope.helpLink.label+="analytical functions")},$scope.functionChange(),$scope.save=function(){$scope.saveLock=!0,validate($scope.detector).then(function(resp){$scope.saveLock=!1,resp.success?(""===$scope.detector.detector_description&&delete $scope.detector.detector_description,add($scope.detector,index),$modalInstance.close($scope.detector),msgs.clear()):msgs.error(resp.message)})},$scope.cancel=function(){msgs.clear(),$modalInstance.dismiss("cancel")}})},3694:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3695),__webpack_require__(3696)},3695:function(module,exports){},3696:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.controller("MlDetectorFilterModal",function($scope,$modalInstance,params,mlJobService,mlMessageBarService){var msgs=mlMessageBarService;msgs.clear(),$scope.title="Add new filter",$scope.detector=params.detector,$scope.saveLock=!1,$scope.editMode=!1;var index=-1,add=params.add,validate=params.validate;$scope.fields=[],$scope.detector.field_name&&$scope.fields.push($scope.detector.field_name),$scope.detector.by_field_name&&$scope.fields.push($scope.detector.by_field_name),$scope.detector.over_field_name&&$scope.fields.push($scope.detector.over_field_name),$scope.detector.partition_field_name&&$scope.fields.push($scope.detector.partition_field_name),
void 0===params.filter?$scope.filter={ruleAction:"filter_results",target_field_name:"",target_field_value:"",conditions_connective:"or",rule_conditions:[],value_list:[]}:($scope.editMode=!0,$scope.filter=params.filter,$scope.title="Edit filter",index=params.index),$scope.ui={ruleAction:["filter_results"],target_field_name:"",target_field_value:"",conditions_connective:["or","and"],ruleCondition:{condition_type:[{label:"actual",value:"numerical_actual"},{label:"typical",value:"numerical_typical"},{label:"|actual - typical|",value:"numerical_diff_abs"}],field_name:"",field_value:"",condition:{operator:[{label:"<",value:"lt"},{label:">",value:"gt"},{label:"<=",value:"lte"},{label:">=",value:"gte"}]},value_list:[]}},$scope.addNewCondition=function(){$scope.filter.rule_conditions.push({condition_type:"numerical_actual",field_name:"",field_value:"",condition:{operator:"lt",value:""}})},$scope.removeCondition=function(idx){$scope.filter.rule_conditions.splice(idx,1)},$scope.helpLink={},$scope.save=function(){var filter=_angular2["default"].copy($scope.filter);if(filter.rule_conditions.length){$scope.saveLock=!0,""===filter.target_field_name&&delete filter.target_field_name,""===filter.target_field_value&&delete filter.target_field_value,_lodash2["default"].each(filter.rule_conditions,function(cond){delete cond.$$hashKey,""===cond.field_name&&delete cond.field_vname,""===cond.fieldValue&&delete cond.fieldValue}),filter.value_list&&0===filter.value_list.length&&delete filter.value_list;var dtr=_angular2["default"].copy($scope.detector);void 0===dtr.detector_rules&&(dtr.detector_rules=[]),index>=0?dtr.detector_rules[index]=filter:dtr.detector_rules.push(filter),validate(dtr).then(function(resp){msgs.clear(),$scope.saveLock=!1,resp.success?(add($scope.detector,filter,index),$modalInstance.close()):msgs.error(resp.message)})}},$scope.cancel=function(){msgs.clear(),$modalInstance.dismiss("cancel")}})},3697:function(module,exports){module.exports='<div>\n  <div class="form-group">\n    <div ng-repeat="detector in detectors track by $index">\n      <div class="detector" ng-class="{\'detector-edit-mode\':(editMode===\'EDIT\')}">\n        <div class="detector-fields">\n          <div aria-label="Customised description" ng-hide="editMode===\'EDIT\' || detector.detector_description === \'\' || detector.detector_description === detectorToString(detector) ">{{ detector.detector_description }}</div>\n          <div aria-label="Default description" style="font-style:italic;" >{{ detectorToString(detector) }}</div>\n\n          <input\n            ng-show="editMode===\'EDIT\'"\n            ng-model="detector.detector_description"\n            tabindex="2"\n            class="form-control" />\n\n        </div>\n\n        <div class="button-container" ng-show="editMode===\'NEW\'">\n          <button\n            ng-click="editDetector($index)"\n            aria-label="Edit"\n            class="btn btn-xs btn-default"\n            data-toggle="tooltip"\n            tooltip="Edit Detector">\n              <i aria-hidden="true" class="fa fa-pencil"></i>\n          </button>\n\n          <button\n            aria-label="Remove Detector"\n            ng-click="removeDetector($index)"\n            tooltip-append-to-body="true"\n            type="button"\n            class="btn btn-xs btn-danger remove-button">\n              <i aria-hidden="true" class="fa fa-trash"></i>\n          </button>\n        </div>\n\n\n<!--\n        <div ng-show="detector.detector_rules.length > 0" class="filter-list">\n          <div>Filters:</div>\n          <div ng-repeat="filter in detector.detector_rules track by $index" class="filter">\n            {{ filter.ruleAction }} ({{filter.ruleConditions.length}} condition{{(filter.ruleConditions.length>1)?"s":""}})\n            <div class="button-container">\n              <button\n                ng-click="editFilter(detector, $index)"\n                aria-label="Edit"\n                class="btn btn-xs btn-default"\n                data-toggle="tooltip"\n                tooltip="Edit Filter">\n                  <i aria-hidden="true" class="fa fa-pencil"></i>\n              </button>\n              <button\n                aria-label="Remove Filter"\n                ng-click="removeFilter(detector, $index)"\n                tooltip-append-to-body="true"\n                type="button"\n                class="btn btn-xs btn-danger remove-button">\n                  <i aria-hidden="true" class="fa fa-trash"></i>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div ng-show="editMode===\'NEW\'">\n          <button\n            aria-label="Add Filter"\n            ng-click="openFilterWindow(detector)"\n            type="button"\n            class="btn btn-primary btn-xs">\n              <span class="sr-only">Add Filter</span>\n              <i aria-hidden="true" class="fa fa-plus"></i> Add Filter\n          </button>\n        </div>\n-->\n      </div>\n\n    </div>\n\n    <div ng-show="editMode===\'NEW\'">\n      <button\n        aria-label="Add Detector"\n        ng-click="openNewWindow()"\n        type="button"\n        class="btn btn-primary btn-xs">\n          <span class="sr-only">Add Detector</span>\n          <i aria-hidden="true" class="fa fa-plus"></i> Add Detector\n      </button>\n    </div>\n  </div>\n\n</div>\n'},3698:function(module,exports){module.exports='<div class="detector-modal">\n  <ml-message-bar ></ml-message-bar>\n  <h3>{{title}}</h3>\n\n  <div class="form-group">\n    <label>Description</label><i ml-info-icon="new_job_detector_description" />\n    <input\n      ng-model="detector.detector_description"\n      tabindex="1"\n      placeholder="{{ detectorToString(detector) }}"\n      class="form-control" />\n  </div>\n\n  <div class="editor-color detector_field_form">\n\n    <datalist id="properties_datalist">\n      <option ng-repeat="(key, prop) in properties" >{{key}}</option>\n    </datalist>\n\n    <datalist id="properties_datalist_byFieldName">\n      <option ng-repeat="(key, prop) in properties_byFieldName" >{{key}}</option>\n    </datalist>\n\n    <datalist id="exclude_frequent_datalist">\n      <option value="all">all</option>\n      <option value="none">none</option>\n    </datalist>\n\n    <div class="field-cols">\n      <div class="form-group">\n        <label>function</label><i ml-info-icon="new_job_detector_function" />\n\n        <select\n          ng-model="detector.function"\n          ng-change="functionChange()"\n          class="form-control">\n          <option ng-repeat="func in functions" >{{func.id}}</option>\n        </select>\n\n      </div>\n      <div class="form-group">\n        <label>over_field_name</label><i ml-info-icon="new_job_detector_overfieldname" />\n        <input\n          ng-model="detector.over_field_name"\n          type="text"\n          tabindex="5"\n          list=\'properties_datalist\'\n          class="form-control" />\n      </div>\n    </div>\n\n    <div class="field-cols">\n      <div class="form-group">\n        <label>field_name</label><i ml-info-icon="new_job_detector_fieldname" />\n        <input\n          ng-model="detector.field_name"\n          type="text"\n          tabindex="3"\n          list=\'properties_datalist\'\n          class="form-control" />\n      </div>\n      <div class="form-group">\n        <label>partition_field_name</label><i ml-info-icon="new_job_detector_partitionfieldname" />\n        <input\n          ng-model="detector.partition_field_name"\n          type="text"\n          tabindex="6"\n          list=\'properties_datalist\'\n          class="form-control" />\n      </div>\n    </div>\n\n    <div class="field-cols">\n      <div class="form-group">\n        <label>by_field_name</label><i ml-info-icon="new_job_detector_byfieldname" />\n        <input\n          ng-model="detector.by_field_name"\n          type="text"\n          tabindex="4"\n          list=\'properties_datalist_byFieldName\'\n          class="form-control" />\n      </div>\n      <div class="form-group">\n        <label>exclude_frequent</label><i ml-info-icon="new_job_detector_excludefrequent" />\n        <input\n          ng-model="detector.exclude_frequent"\n          type="text"\n          tabindex="7"\n          list=\'exclude_frequent_datalist\'\n          class="form-control" />\n      </div>\n    </div>\n\n  </div>\n  <small><div class=\'help-pane\'><ml-engine-api-help-link ml-uri="{{helpLink.uri}}" ml-label="{{helpLink.label}}"></ml-engine-api-help-link></div></small>\n\n  <hr />\n\n  <button\n    ng-click="save()"\n    ng-disabled="(saveLock === true)"\n    class="btn btn-info"\n    aria-label="Save">\n    {{ (editMode? "Update" : "Add") }}\n  </button>\n  <button\n    ng-click="cancel()"\n    ng-disabled="(saveLock === true)"\n    class="btn btn-info"\n    aria-label="Cancel">\n    Cancel\n  </button>\n</div>\n'},3699:function(module,exports){module.exports='<div class="detector-filter-modal">\n  <ml-message-bar ></ml-message-bar>\n  <h3>{{title}}</h3>\n  <div class="editor-color filter-field-form target-container">\n\n    <datalist id="fields_datalist">\n      <option ng-repeat="field in fields" >{{field}}</option>\n    </datalist>\n\n    <div class="field-cols">\n      <div class="form-group">\n        <label>target_field_name</label><i ml-info-icon="new_filter_targetfieldname" />\n\n        <input\n          ng-model="filter.target_field_name"\n          tabindex="2"\n          ng-change="functionChange()"\n          list=\'fields_datalist\'\n          class="form-control" />\n\n        <label>target_field_value</label><i ml-info-icon="new_action_targetfieldvalue" />\n\n        <input\n          ng-model="filter.target_field_value"\n          tabindex="2"\n          ng-change="functionChange()"\n          class="form-control" />\n      </div>\n    </div>\n\n    <div class="field-cols">\n      <div class="form-group">\n        <label>conditions_connective</label><i ml-info-icon="new_action_conditionsconnective" />\n        <select\n          ng-model="filter.conditions_connective"\n          tabindex="2"\n          placeholder=""\n          class="form-control">\n            <option ng-repeat="index in ui.conditions_connective" value="{{index}}" >{{index}}</option>\n        </select>\n      </div>\n    </div>\n  </div>\n\n  <div class="conditions-list-container" >\n    <div class="title">Conditions<i ml-info-icon="new_action_ruleconditions" /></div>\n    <div class="table-title">\n      <div>Type<i ml-info-icon="new_action_conditiontype" /></div>\n      <div>field_name<i ml-info-icon="new_action_fieldname" /></div>\n      <div>field_value<i ml-info-icon="new_action_fieldvalue" /></div>\n      <div>lt/gt<i ml-info-icon="new_action_condition" /></div>\n      <div>value<i ml-info-icon="new_action_value" /></div>\n      <div></div>\n    </div>\n    <div ng-repeat="cond in filter.ruleConditions track by $index" class="rule-condition">\n      <div>\n        <select\n          ng-model="cond.conditionType"\n          placeholder=""\n          class="form-control">\n            <option ng-repeat="type in ui.ruleCondition.conditionType" value="{{type.value}}" >{{type.label}}</option>\n        </select>\n        <div ng-hide="$index === filter.ruleConditions.length-1" class=\'conditions-connective\'>-- {{filter.conditions_connective}} --</div>\n      </div>\n      <div>\n        <select\n          ng-model="cond.field_name"\n          placeholder=""\n          class="form-control">\n            <option ng-repeat="field in fields" >{{field}}</option>\n        </select>\n        <!-- <input\n          ng-model="cond.field_name"\n          tabindex="2"\n          list=\'fields_datalist\'\n          class="form-control" /> -->\n      </div>\n      <div>\n        <input\n          ng-model="cond.field_value"\n          tabindex="2"\n          class="form-control" />\n      </div>\n      <div>\n        <select\n          ng-model="cond.condition.operator"\n          placeholder=""\n          class="form-control">\n            <option ng-repeat="op in ui.ruleCondition.condition.operator" value="{{op.value}}" >{{op.label}}</option>\n        </select>\n      </div>\n      <div>\n        <input\n          ng-model="cond.condition.value"\n          tabindex="2"\n          class="form-control" />\n      </div>\n      <div>\n        <button\n          aria-label="Remove Condition"\n          ng-click="removeCondition($index)"\n          tooltip-append-to-body="true"\n          type="button"\n          class="btn btn-xs btn-danger remove-button">\n            <i aria-hidden="true" class="fa fa-trash"></i>\n        </button>\n      </div>\n    </div>\n  </div>\n  <button\n    aria-label="Add new condition"\n    ng-click="addNewCondition()"\n    type="button"\n    class="btn btn-primary btn-xs add-new">\n      <span class="sr-only">Add new condition</span>\n      <i aria-hidden="true" class="fa fa-plus"></i> Add new condition\n  </button>\n\n  <hr />\n\n  <button\n    ng-click="save()"\n    ng-disabled="(saveLock === true || filter.ruleConditions.length === 0)"\n    class="btn btn-info"\n    aria-label="Save">\n    {{ (editMode? "Update" : "Add") }}\n  </button>\n  <button\n    ng-click="cancel()"\n    ng-disabled="(saveLock === true)"\n    class="btn btn-info"\n    aria-label="Cancel">\n    Cancel\n  </button>\n</div>'},3700:function(module,exports){},3701:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3702),__webpack_require__(3704),__webpack_require__(3705)},3702:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.service("mlDatafeedService",function($modal,mlJobService){function loadStartEnd(jobId){return mlJobService.jobDatafeedState(jobId)}this.openJobTimepickerWindow=function(job){function func(obj){$modal.open({template:__webpack_require__(3703),controller:"MlJobTimepickerModal",backdrop:"static",keyboard:!1,resolve:{params:function(){return{job:job,startEnd:obj}}}})}loadStartEnd(job.job_id).then(func)["catch"](func)}})},3703:function(module,exports){module.exports='<div class="job-timepicker-modal">\n  <ml-message-bar ></ml-message-bar>\n  <h3>Start datafeed for {{jobId}}</h3>\n\n  <div class="ml-timepicker-contents" >\n    <form name="mlAbsoluteTime">\n      <div class="row">\n        <div \n          class="ml-timepicker-section" \n          ng-class="{ \n            \'ml-timepicker-right-border\': \n              (+ui.startRadio <= 1 && ui.endRadio === \'0\') || \n              (ui.startRadio === \'2\' && +ui.endRadio <= 1) \n          }">\n          <label>Search start time</label>\n\n          <div class="ml-timepicker-radios" >\n            <ul class="nav nav-pills nav-stacked">\n              <li ng-class="{ active: ui.startRadio === \'1\' }">\n                <a ng-click="ui.startRadio = \'1\'" >{{ ( isNew?"Start at beginning of data" : "Continue from " + ui.lastTime ) }}</a>\n              </li>\n              <li ng-class="{ active: ui.startRadio === \'0\' }">\n                <a ng-click="ui.startRadio = \'0\'">{{ ( isNew?"Start now" : "Continue from now" ) }}</a>\n              </li>\n              <li ng-class="{ active: ui.startRadio === \'2\' }">\n                <a ng-click="ui.startRadio = \'2\'" ng-class="{\'ml-timepicker-radio-bottom\': ui.startRadio === \'2\'}">{{ ( isNew?"Specify start time" : "Continue from specified time" ) }}</a>\n              </li>\n            </ul>\n          </div>\n          <div class=\'ml-timepicker\' ng-show="ui.startRadio == \'2\'">\n            <div>\n              <input type="text" class="form-control" input-datetime="YYYY-MM-DD HH:mm:ss" ng-model="ui.timepicker.from" >\n            </div>\n            <div>\n              <datepicker\n                offset-timezone\n                ng-model="ui.timepicker.from"\n                show-weeks="false">\n              </datepicker>\n            </div>\n          </div>\n        </div>\n\n        <div class="ml-timepicker-section"\n          ng-class="{ \n            \'ml-timepicker-left-border\': \n              (+ui.startRadio <= 1 && ui.endRadio === \'1\') \n          }">\n          <label>Search end time</label>\n          <div class="ml-timepicker-radios" >\n            <ul class="nav nav-pills nav-stacked">\n              <li ng-class="{ active: ui.endRadio === \'0\' }">\n                <a ng-click="ui.endRadio = \'0\'">No end time (Realtime search)</a>\n              </li>\n              <li ng-class="{ active: ui.endRadio === \'1\' }">\n                <a ng-click="ui.endRadio = \'1\'" ng-class="{\'ml-timepicker-radio-bottom\': ui.endRadio === \'1\'}">Specify end time</a>\n              </li>\n            </ul>\n          </div>\n          <div class=\'ml-timepicker\' ng-show="ui.endRadio == \'1\'">\n            <div>\n              <input type="text" class="form-control" input-datetime="{{format}}" ng-model="ui.timepicker.to">\n            </div>\n            <div>\n              <datepicker\n                offset-timezone\n                ng-model="ui.timepicker.to"\n                show-weeks="false">\n              </datepicker>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </form>\n  </div>\n  <div class="clearfix"></div>\n\n  <hr />\n\n  <button \n    ng-click="save()" \n    ng-disabled="(\n      saveLock === true || \n      ( ui.startRadio===\'2\' && ui.timepicker.from===\'\' ) || \n      ( ui.endRadio===\'1\' && ui.timepicker.to===\'\' ) \n    )"\n    class="btn btn-info" >\n    Start\n  </button>\n  <button \n    ng-click="cancel()" \n    ng-disabled="(saveLock === true)"\n    class="btn btn-info" \n    aria-label="Cancel">\n    Cancel\n  </button>\n\n</div>\n'},3704:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _moment=__webpack_require__(3678),_moment2=_interopRequireDefault(_moment),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.controller("MlJobTimepickerModal",function($scope,$rootScope,$modalInstance,params,mlJobService,mlMessageBarService){function extractForm(){"0"===$scope.ui.startRadio?$scope.start="now":"1"===$scope.ui.startRadio?$scope.start="0":"2"===$scope.ui.startRadio&&($scope.start=1e3*(0,_moment2["default"])($scope.ui.timepicker.from).unix()),"0"===$scope.ui.endRadio?$scope.end=void 0:"1"===$scope.ui.endRadio&&($scope.end=1e3*(0,_moment2["default"])($scope.ui.timepicker.to).unix())}var msgs=mlMessageBarService;$scope.saveLock=!1;var job=_angular2["default"].copy(params.job);$scope.jobId=job.job_id,$scope.datafeedId=mlJobService.getDatafeedId(job.job_id),$scope.start="",$scope.end="";var lastTime="";if(job.data_counts&&job.data_counts.latest_record_timestamp){var time=(0,_moment2["default"])(job.data_counts.latest_record_timestamp);lastTime=time.format("YYYY-MM-DD HH:mm:ss")}var uiEndRadio="1",uiTo=(0,_moment2["default"])();$scope.isNew=!0,job.data_counts&&job.data_counts.input_record_count>0&&($scope.isNew=!1,null!==params.startEnd.endTimeMillis&&(uiEndRadio="1",uiTo=(0,_moment2["default"])(params.startEnd.endTimeMillis))),$scope.ui={lastTime:lastTime,startDateText:"",startRadio:"1",endDateText:"",endRadio:uiEndRadio,timepicker:{from:"",to:uiTo},setStartRadio:function(i){$scope.ui.startRadio=i}},$scope.save=function(){function doStart(){mlJobService.startDatafeed($scope.datafeedId,$scope.jobId,$scope.start,$scope.end).then(function(){$rootScope.$broadcast("jobsUpdated"),$modalInstance.close()})["catch"](function(resp){$scope.saveLock=!1,msgs.error(resp.message)})}$scope.saveLock=!0,extractForm(),mlJobService.openJob($scope.jobId).then(function(){doStart()})["catch"](function(resp){409===resp.statusCode?doStart():(msgs.error("Could not open job: ",resp),msgs.error(resp.message),$scope.saveLock=!1)})},$scope.cancel=function(){$modalInstance.dismiss("cancel")}})},3705:function(module,exports){},3706:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3707),__webpack_require__(3708)},3707:function(module,exports){},3708:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/prelert");_module.controller("MlDeleteJobModal",function($scope,$modalInstance,params){$scope.ui={stage:0,status:params.status,jobId:params.jobId,isDatafeed:params.isDatafeed},$scope["delete"]=function(){$scope.ui.stage=1,params.doDelete()},$scope.close=function(){$modalInstance.dismiss("cancel")}})},3709:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3710),__webpack_require__(3711),__webpack_require__(3713)},3710:function(module,exports){},3711:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(3678),_moment2=_interopRequireDefault(_moment),_string_utils=__webpack_require__(3681),_string_utils2=_interopRequireDefault(_string_utils),_numeral=__webpack_require__(667),_numeral2=_interopRequireDefault(_numeral),_chrome=__webpack_require__(2429),_chrome2=_interopRequireDefault(_chrome),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.directive("mlJobListExpandedRow",function($location,mlMessageBarService,mlJobService,mlClipboardService){return{restrict:"AE",replace:!1,scope:{},template:__webpack_require__(3712),link:function($scope,$element){function replaceHost(url){return url.match("localhost")&&(url=url.replace("localhost",$location.host())),url}var msgs=mlMessageBarService,TIME_FORMAT="YYYY-MM-DD HH:mm:ss",DATA_FORMAT="0.0 b";$scope.urlBasePath=_chrome2["default"].getBasePath(),$scope.toLocaleString=_string_utils2["default"].toLocaleString,$scope.init=function(){$scope.job=$scope.$parent.job,$scope.jobAudit=$scope.$parent.jobAudit,$scope.jobJson=_angular2["default"].toJson($scope.job,!0),$scope.jobAuditText="",$scope.detectorToString=_string_utils2["default"].detectorToString,$scope.ui={currentTab:0,tabs:[{index:0,title:"Job settings"},{index:1,title:"Job config"},{index:3,title:"Counts"},{index:4,title:"JSON"},{index:5,title:"Job Messages",showIcon:!0}],changeTab:function(tab){this.currentTab=tab.index,5===tab.index&&$scope.jobAudit.update().then(function(){var div=_angular2["default"].element("#ml-job-audit-list-"+$scope.job.job_id);div&&div.length&&window.setTimeout(function(){var table=div.find("table");table&&table.length&&(div[0].scrollTop=table[0].offsetHeight-div[0].offsetHeight+14)},0)})}},"undefined"!=typeof $scope.job.datafeed_config&&$scope.ui.tabs.splice(2,0,{index:2,title:"Datafeed"}),$scope.job.location&&($scope.job.location=replaceHost($scope.job.location)),$scope.job.endpoints&&_lodash2["default"].each($scope.job.endpoints,function(url,i){$scope.job.endpoints[i]=replaceHost(url)})},$scope.init(),$scope.copyToClipboard=function(job){var newJob=_angular2["default"].copy(job),success=mlClipboardService.copy(_angular2["default"].toJson(newJob));if(success){var el=$element.find(".ml-pre");el.css("transition","none"),el.css("background-color","aliceblue"),el.css("color","white"),window.setTimeout(function(){el.css("transition","background 0.3s linear, color 0.3s linear"),el.css("background-color","white"),el.css("color","inherit")},1)}else msgs.error("Job could not be copied to the clipboard")},$scope.formatData=function(txt){return(0,_numeral2["default"])(txt).format(DATA_FORMAT)},$scope.formatMS=function(txt){var dur=_moment2["default"].duration(txt),str="";return dur._data.days>0&&(str+=" "+dur._data.days+"d"),dur._data.hours>0&&(str+=" "+dur._data.hours+"h"),dur._data.minutes>0&&(str+=" "+dur._data.minutes+"m"),dur._data.seconds>0&&(str+=" "+dur._data.seconds+"s"),dur._data.milliseconds>0&&(str+=" "+Math.ceil(dur._data.milliseconds)+"ms"),str},$scope.formatDate=function(txt){return(0,_moment2["default"])(txt).format(TIME_FORMAT)}}}}).filter("filterObjects",function(){return function(input){var tempObj={};return _lodash2["default"].each(input,function(v,i){"object"!==("undefined"==typeof v?"undefined":_typeof(v))&&(tempObj[i]=v)}),tempObj}})},3712:function(module,exports){module.exports='  <div >\n    <ul class="nav nav-tabs">\n      <li class="kbn-settings-tab" ng-class="{ active: ui.currentTab === tab.index }" ng-repeat="tab in ui.tabs">\n        <a ng-click="ui.changeTab(tab)">\n        {{ tab.title }}<i ng-show="tab.showIcon && jobAudit.jobWarningClass !== \'\'" class=\'job-tab-icon job-warning-small {{jobAudit.jobWarningClass}}\'></i>\n      </a>\n      </li>\n    </ul>\n\n    <!-- tab 0 General-->\n    <ml-job-tab-0 ng-show="ui.currentTab === 0">\n      <div class="tab_contents">\n        <ng-include src="urlBasePath+\'/plugins/ml/jobs/components/jobs_list/expanded_row/tabs/tab_general.html\'"></ng-include>\n      </div>\n    </ml-job-tab-0>\n\n    <!-- tab 1 Config -->\n    <ml-job-tab-1 ng-show="ui.currentTab === 1">\n      <div class="tab_contents">\n        <ng-include src="urlBasePath+\'/plugins/ml/jobs/components/jobs_list/expanded_row/tabs/tab_config.html\'"></ng-include>\n      </div>\n    </ml-job-tab-1>\n\n    <!-- tab 2 Datafeed -->\n    <ml-job-tab-2 ng-show="ui.currentTab === 2" >\n      <div class="tab_contents">\n        <ng-include src="urlBasePath+\'/plugins/ml/jobs/components/jobs_list/expanded_row/tabs/tab_datafeed.html\'"></ng-include>\n      </div>\n    </ml-job-tab-2>\n\n  <!-- tab 3 Counts -->\n    <ml-job-tab-3 ng-show="ui.currentTab === 3" >\n      <div class="tab_contents">\n        <ng-include src="urlBasePath+\'/plugins/ml/jobs/components/jobs_list/expanded_row/tabs/tab_counts.html\'"></ng-include>\n      </div>\n    </ml-job-tab-3>\n\n    <!-- tab 4 JSON -->\n    <ml-job-tab-4 ng-show="ui.currentTab === 4" >\n      <div class="tab_contents">\n        <button ng-click="copyToClipboard(job)" class="btn btn-info" aria-label="Copy JSON to clipboard">\n          Copy JSON to clipboard\n        </button>\n        <div class="ml-pre">{{jobJson}}</div>\n      </div>\n    </ml-job-tab-4>\n\n    <!-- tab 5 Job log -->\n    <ml-job-tab-5 ng-show="ui.currentTab === 5" >\n      <div class="tab_contents">\n        <button ng-click="jobAudit.update()" class="btn btn-info">\n          Refresh\n        </button>\n        <div id="ml-job-audit-list-{{job.job_id}}" class="job-audit-list-container">\n        <table>\n          <thead>\n            <th></th>\n            <th>Time</th>\n            <th>Node</th>\n            <th>Message</th>\n          </thead>\n          <tbody >\n            <tr ng-repeat="msg in jobAudit.messages">\n              <td>\n                <i ng-show="msg.level === \'system_info\'" tooltip=\'System Info\' class="job-system-info fa fa-cogs"></i>\n                <i ng-show="msg.level === \'info\'" tooltip=\'Info\' class="job-info fa fa-info-circle"></i>\n                <i ng-show="msg.level === \'warning\'" tooltip=\'Warning\' class="job-warning fa fa-exclamation-circle"></i>\n                <i ng-show="msg.level === \'error\'" tooltip=\'Error\' class="job-error fa fa-exclamation-triangle"></i>\n              </td>\n              <td>{{msg.time}}</td>\n              <td>{{msg.node_name}}</td>\n              <td>{{msg.message}}</td>\n            </tr>\n          </tbody>\n        </table>\n        </div>\n      </div>\n    </ml-job-tab-5>\n\n\n  </div>\n'},3713:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.controller("TabController",function($scope){$scope.formatDelimiter=function(del){var txt=del;switch(del){case" ":txt="space";break;case"\t":txt="tab";break;default:txt=del}return txt}})},3714:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}__webpack_require__(3715),__webpack_require__(3716),__webpack_require__(2743),__webpack_require__(2787);var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.directive("mlPaginatedTable",function($filter){var orderBy=$filter("orderBy");return{restrict:"E",template:__webpack_require__(3717),transclude:!0,scope:{rows:"=",columns:"=",perPage:"=?",sortHandler:"=?",showSelector:"=?"},controllerAs:"mlPaginatedTable",controller:function($scope){var self=this;self.sort={columnIndex:null,direction:null},self.sortColumn=function(colIndex){var col=$scope.columns[colIndex];if(col&&col.sortable!==!1){var sortDirection=void 0;if(self.sort.columnIndex!==colIndex)sortDirection="asc";else{var directions={"null":"asc",asc:"desc",desc:null};sortDirection=directions[self.sort.direction]}self.sort.columnIndex=colIndex,self.sort.direction=sortDirection,self._setSortGetter(colIndex)}},self._setSortGetter=function(index){_lodash2["default"].isFunction($scope.sortHandler)?self.sort.getter=$scope.sortHandler(index):self.sort.getter=function(row){var value=row[index];return value&&void 0!==value.value&&null!==value.value?"function"==typeof value.value?value.value():value.value:value}},$scope.$watchMulti(["rows","columns","[]mlPaginatedTable.sort"],function(){if(!$scope.rows||!$scope.columns)return void($scope.sortedRows=!1);var sort=self.sort;null==sort.direction?$scope.sortedRows=$scope.rows.slice(0):$scope.sortedRows=orderBy($scope.rows,sort.getter,"desc"===sort.direction)})}}})},3715:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_agg_config_result=__webpack_require__(2748),_agg_config_result2=_interopRequireDefault(_agg_config_result),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.directive("mlRows",function($compile,getAppState,Private){var filterBarClickHandler=Private(__webpack_require__(2749));return{restrict:"A",link:function($scope,$el,attr){function addCell($tr,contents){var $cell=(0,_jquery2["default"])(document.createElement("td"));_lodash2["default"].isNumeric(contents)&&$cell.addClass("numeric-value");var createAggConfigResultCell=function(aggConfigResult){var $resultCell=(0,_jquery2["default"])(document.createElement("td")),$state=getAppState(),clickHandler=filterBarClickHandler($state);return $resultCell.scope=$scope.$new(),$resultCell.addClass("cell-hover"),$resultCell.attr("ng-click","clickHandler($event)"),$resultCell.scope.clickHandler=function(event){(0,_jquery2["default"])(event.target).is("a")||clickHandler({point:{aggConfigResult:aggConfigResult}})},$compile($resultCell)($cell.scope)};contents instanceof _agg_config_result2["default"]&&("bucket"===contents.type&&contents.aggConfig.field()&&contents.aggConfig.field().filterable&&($cell=createAggConfigResultCell(contents)),
contents=contents.toString("html")),_lodash2["default"].isObject(contents)?(contents.attr&&$cell.attr(contents.attr),contents["class"]&&$cell.addClass(contents["class"]),contents.scope?$cell=$compile($cell.html(contents.markup))(contents.scope):$cell.html(contents.markup)):""===contents?$cell.html("&nbsp;"):$cell.html(contents),$tr.append($cell)}$scope.$watchMulti([attr.mlRows,attr.mlRowsMin],function(vals){var rows=vals[0],min=vals[1];$el.empty(),_lodash2["default"].isArray(rows)||(rows=[]),isFinite(min)&&rows.length<min&&(rows=_lodash2["default"].clone(rows)),rows.forEach(function(row){if(row.length){var rowScope=row[0].scope,$tr=(0,_jquery2["default"])(document.createElement("tr")).appendTo($el);if(rowScope&&void 0!==rowScope.mouseenterRow&&"function"==typeof rowScope.mouseenterRow&&($tr.attr({"ng-mouseenter":"mouseenterRow($event)"}),$tr.attr({"ng-mouseleave":"mouseleaveRow($event)"}),$compile($tr)(rowScope)),row.forEach(function(cell){addCell($tr,cell)}),rowScope&&rowScope.expandable&&rowScope.expandElement&&""!==row.join("")){void 0===rowScope.open&&(rowScope.open=!1),void 0===rowScope.rowInitialised&&(rowScope.rowInitialised=!1),rowScope.toggleRow=function(){this.open=!this.open,this.initRow&&this.rowInitialised===!1&&(this.rowInitialised=!0,this.initRow())};var $trExpand=(0,_jquery2["default"])(document.createElement("tr")).appendTo($el);$trExpand.attr("ng-show","open"),$trExpand.addClass("row-expand");var $td=(0,_jquery2["default"])(document.createElement("td")).appendTo($trExpand);$td.attr("colspan",row.length);var expEl=rowScope.expandElement,$exp=(0,_jquery2["default"])(document.createElement(expEl)).appendTo($td);rowScope.$expandElement&&rowScope.$expandElement.children().length&&$exp.append(rowScope.$expandElement.children()[0]),$compile($trExpand)(rowScope),rowScope.$expandElement=$exp}}})})}}})},3716:function(module,exports){},3717:function(module,exports){module.exports='<paginate\n  ng-if="sortedRows.length"\n  list="sortedRows"\n  per-page-prop="perPage"\n  class="agg-table">\n  <div class="agg-table-paginated">\n    <table class="table table-condensed">\n      <thead>\n        <tr>\n          <th\n            ng-repeat="col in columns"\n            ng-click="mlPaginatedTable.sortColumn($index)"\n            class="{{ col.class }}">\n            <span ng-bind="col.title"></span>\n            <kbn-info ng-if="col.info" info="{{ col.info }}" placement="top"></kbn-info>\n            <i\n              ng-if="col.sortable !== false"\n              class="fa"\n              ng-class="{\n                \'fa-sort-asc\': mlPaginatedTable.sort.columnIndex === $index && mlPaginatedTable.sort.direction === \'asc\',\n                \'fa-sort-desc\': mlPaginatedTable.sort.columnIndex === $index && mlPaginatedTable.sort.direction === \'desc\',\n                \'fa-sort\': mlPaginatedTable.sort.columnIndex !== $index || mlPaginatedTable.sort.direction === null\n              }">\n            </i>\n            <i aria-label="Click on a cell to filter" ng-if="col.filterable" class="fa fa-search" ng-click="$event.stopPropagation()" tooltip="Click on a cell to filter"></i>\n          </th>\n        </tr>\n      </thead>\n      <tbody ml-rows="page" ml-rows-min="perPage"></tbody>\n    </table>\n  </div>\n\n  <!-- auto-inserted by the paginate directive... -->\n  <!-- <paginate-controls></paginate-controls> -->\n  <div class="pagination-container" ng-transclude></div>\n\n</paginate>\n'},3718:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3719),__webpack_require__(3720),__webpack_require__(3690),__webpack_require__(3724),__webpack_require__(3727)},3719:function(module,exports){},3720:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_parse_interval=__webpack_require__(2730),_parse_interval2=_interopRequireDefault(_parse_interval);__webpack_require__(3721),__webpack_require__(2555);var _routes=__webpack_require__(2485),_routes2=_interopRequireDefault(_routes),_check_license=__webpack_require__(3684),_check_license2=_interopRequireDefault(_check_license),_string_utils=__webpack_require__(3681),_string_utils2=_interopRequireDefault(_string_utils),_job_utils=__webpack_require__(3680),_job_utils2=_interopRequireDefault(_job_utils),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_routes2["default"].when("/jobs/new_job_advanced",{template:__webpack_require__(3722),resolve:{CheckLicense:_check_license2["default"]}}).when("/jobs/new_job_advanced/:jobId",{template:__webpack_require__(3722),resolve:{CheckLicense:_check_license2["default"]}});var _module=_modules2["default"].get("apps/ml");_module.controller("MlNewJob",function($scope,$route,$location,$modal,$timeout,courier,es,Private,timefilter,esServerUrl,mlJobService,mlMessageBarService,mlDatafeedService,mlConfirmModalService){function init(){if(mlJobService.loadJobs(),mlJobService.currentJob){var jobId=$route.current.params.jobId;$scope.job=mlJobService.cloneJob(mlJobService.currentJob),jobId?($scope.mode=MODE.EDIT,console.log("Editing job",mlJobService.currentJob),$scope.ui.pageTitle="Editing Job "+$scope.job.job_id):($scope.mode=MODE.CLONE,$scope.ui.wizard.step=2,console.log("Cloning job",mlJobService.currentJob),$scope.ui.pageTitle="Clone Job from "+$scope.job.job_id,$scope.job.job_id="",setDatafeedUIText(),setFieldDelimiterControlsFromText(),$scope.ui.wizard.indexInputType="TEXT",$scope.job.datafeed_config||($scope.ui.wizard.dataLocation="NONE",$scope.ui.influencers=_angular2["default"].copy($scope.job.analysis_config.influencers)),"shared"===$scope.job.results_index_name?delete $scope.job.results_index_name:($scope.ui.useDedicatedIndex=!0,$scope.job.results_index_name="")),mlJobService.currentJob=void 0}else $scope.mode=MODE.NEW,console.log("Creating new job"),$scope.job=mlJobService.getBlankJob();calculateDatafeedFrequencyDefaultSeconds(),showDataPreviewTab()}function changeTab(tab){$scope.ui.currentTab=tab.index,4===tab.index?createJSONText():5===tab.index&&"ES"===$scope.ui.wizard.dataLocation&&loadDataPreview()}function wizardStep(step){if($scope.ui.wizard.step+=step,1===$scope.ui.wizard.step){if("NONE"===$scope.ui.wizard.dataLocation)return void $scope.ui.wizard.forward()}else if(2===$scope.ui.wizard.step&&"ES"===$scope.ui.wizard.dataLocation&&($scope.ui.isDatafeed=!0,$scope.ui.tabs[2].hidden=!0,$scope.job.data_description.format="json",delete $scope.job.data_description.time_format,delete $scope.job.data_description.format,$scope.timeFieldSelected())){var time=$scope.job.data_description.time_field;time&&$scope.dateProperties[time]&&($scope.job.data_description.time_field=time)}showDataPreviewTab()}function clear(obj){Object.keys(obj).forEach(function(key){delete obj[key]}),Array.isArray(obj)&&(obj.length=0)}function setDatafeedUIText(){if($scope.job.datafeed_config){var datafeedConfig=$scope.job.datafeed_config;$scope.ui.isDatafeed=!0,$scope.ui.tabs[2].hidden=!0,$scope.ui.wizard.dataLocation="ES",showDataPreviewTab();var queryDelayDefault=$scope.ui.datafeed.queryDelayDefault,queryDelay=datafeedConfig.query_delay;$scope.ui.datafeed.queryDelayDefault===datafeedConfig.query_delay&&(queryDelay="");var frequencyDefault=$scope.ui.datafeed.frequencyDefault,freq=datafeedConfig.frequency;$scope.ui.datafeed.frequencyDefault===datafeedConfig.frequency&&(freq="");var scrollSizeDefault=$scope.ui.datafeed.scrollSizeDefault,scrollSize=datafeedConfig.scroll_size;$scope.ui.datafeed.scrollSizeDefault===datafeedConfig.scroll_size&&(scrollSize=""),clear($scope.types),_lodash2["default"].each(datafeedConfig.types,function(type){$scope.types[type]=$scope.ui.types[type]}),clear($scope.indexes),_lodash2["default"].each(datafeedConfig.indexes,function(index){$scope.indexes[index]=$scope.ui.indexes[index]}),$scope.ui.datafeed={queryText:_angular2["default"].toJson(datafeedConfig.query,!0),queryDelayText:queryDelay,queryDelayDefault:queryDelayDefault,frequencyText:freq,frequencyDefault:frequencyDefault,scrollSizeText:scrollSize,scrollSizeDefault:scrollSizeDefault,indexesText:datafeedConfig.indexes.join(","),typesText:datafeedConfig.types.join(",")},"function"==typeof $scope.mlElasticDataDescriptionExposedFunctions.extractFields&&$scope.mlElasticDataDescriptionExposedFunctions.getMappings().then(function(){$scope.mlElasticDataDescriptionExposedFunctions.extractFields({types:$scope.types})})}else $scope.ui.isDatafeed=!1,$scope.ui.tabs[2].hidden=!1}function calculateDatafeedFrequencyDefaultSeconds(){var bucketSpan=(0,_parse_interval2["default"])($scope.job.analysis_config.bucket_span);null!==bucketSpan&&($scope.ui.datafeed.frequencyDefault=_job_utils2["default"].calculateDatafeedFrequencyDefaultSeconds(bucketSpan.asSeconds())+"s")}function setFieldDelimiterControlsFromText(){if($scope.job.data_description&&$scope.job.data_description.field_delimiter){void 0===$scope.job.data_description.format&&($scope.job.data_description.format="delimited");var fieldDelimiter=$scope.job.data_description.field_delimiter;$scope.ui.selectedFieldDelimiter="custom",$scope.ui.customFieldDelimiter="";for(var isCustom=!0,i=0;i<$scope.ui.fieldDelimiterOptions.length-1;i++)$scope.ui.fieldDelimiterOptions[i].value===fieldDelimiter&&(isCustom=!1,$scope.ui.selectedFieldDelimiter=$scope.ui.fieldDelimiterOptions[i].value);isCustom&&($scope.ui.customFieldDelimiter=fieldDelimiter)}}function getDelimiterSelection(){if("delimited"===$scope.job.data_description.format){var selectedFieldDelimiter=$scope.ui.selectedFieldDelimiter;"custom"===selectedFieldDelimiter?$scope.job.data_description.field_delimiter=$scope.ui.customFieldDelimiter:$scope.job.data_description.field_delimiter=selectedFieldDelimiter}else delete $scope.job.data_description.field_delimiter,delete $scope.job.data_description.quote_character}function getDatafeedSelection(){if($scope.ui.isDatafeed){var df=$scope.ui.datafeed;""===df.queryText&&(df.queryText='{"match_all":{}}');var query=df.queryText;try{query=JSON.parse(query)}catch(e){console.log("getDatafeedSelection(): could not parse query JSON")}var indexes=[];if(df.indexesText){indexes=df.indexesText.split(",");for(var i=0;i<indexes.length;i++)indexes[i]=indexes[i].trim()}var types=[];if(df.typesText){types=df.typesText.split(",");for(var _i=0;_i<types.length;_i++)types[_i]=types[_i].trim()}$scope.job.datafeed_config||($scope.job.datafeed_config={});var config=$scope.job.datafeed_config;config.query=query,config.query_delay=""===df.queryDelayText||null===df.queryDelayText||void 0===df.queryDelayText?df.queryDelayDefault:df.queryDelayText,config.frequency=""===df.frequencyText||null===df.frequencyText||void 0===df.frequencyText?df.frequencyDefault:df.frequencyText,config.scroll_size=""===df.scrollSizeText||null===df.scrollSizeText||void 0===df.scrollSizeText?df.scrollSizeDefault:df.scrollSizeText,config.indexes=indexes,config.types=types}}function getCustomUrlSelection(){$scope.job.custom_settings&&$scope.job.custom_settings.custom_urls&&0===$scope.job.custom_settings.custom_urls.length&&delete $scope.job.custom_settings}function getCategorizationFilterSelection(){$scope.job.analysis_config&&$scope.job.analysis_config.categorization_filters&&0===$scope.job.analysis_config.categorization_filters.length&&delete $scope.job.analysis_config.categorization_filters}function createJSONText(){getDelimiterSelection(),getDatafeedSelection(),getCustomUrlSelection(),getCategorizationFilterSelection(),$scope.ui.jsonText=_angular2["default"].toJson($scope.job,!0)}function extractCustomInfluencers(){var allInfluencersList=$scope.ui.influencers;$scope.ui.customInfluencers=_lodash2["default"].difference($scope.job.analysis_config.influencers,allInfluencersList),console.log("extractCustomInfluencers: ",$scope.ui.customInfluencers)}function validateJob(){var valid=!0,tabs=$scope.ui.validation.tabs;_lodash2["default"].each(tabs,function(tab){tab.valid=!0;for(var check in tab.checks)tab.checks.hasOwnProperty(check)&&(tab.checks[check].valid=!0,tab.checks[check].message="")});var job=$scope.job;if(job){if(_lodash2["default"].isEmpty(job.job_id))tabs[0].checks.jobId.valid=!1;else if(!job.job_id.match(/^[a-z0-9\-\_]{1,64}$/g)){tabs[0].checks.jobId.valid=!1;var message="Job name must be a lowercase alphanumeric word no greater than 64 characters long. ";message+="It may contain hyphens or underscores.",tabs[0].checks.jobId.message=message}if(job.analysis_config.categorization_filters){var v=!0;_lodash2["default"].each(job.analysis_config.categorization_filters,function(d){try{new RegExp(d)}catch(e){v=!1}void 0!==job.analysis_config.categorization_field_name&&""!==job.analysis_config.categorization_field_name||(tabs[1].checks.categorizationFilters.message="categorizationFieldName must be set to allow filters",v=!1),""!==d&&v!==!1||(tabs[1].checks.categorizationFilters.valid=!1,valid=!1)})}if(0===job.analysis_config.detectors.length?tabs[1].checks.detectors.valid=!1:_lodash2["default"].each(job.analysis_config.detectors,function(d){_lodash2["default"].isEmpty(d["function"])&&(valid=!1)}),job.analysis_config.influencers&&0===job.analysis_config.influencers.length,""===job.analysis_config.bucket_span||void 0===job.analysis_config.bucket_span)tabs[1].checks.bucketSpan.message="bucket_span must be set",tabs[1].checks.bucketSpan.valid=!1;else{var bucketSpan=(0,_parse_interval2["default"])(job.analysis_config.bucket_span);null===bucketSpan&&(tabs[1].checks.bucketSpan.message=job.analysis_config.bucket_span+" is not a valid time interval format. e.g. 10m, 1h",tabs[1].checks.bucketSpan.valid=!1)}_lodash2["default"].isEmpty(job.data_description.time_field)&&(tabs[2].checks.timeField.valid=!1)}else valid=!1;return _lodash2["default"].each(tabs,function(tab){_lodash2["default"].each(tab.checks,function(item){item.valid===!1&&(tab.valid=!1,valid=!1)})}),valid}function openSaveStatusWindow(){$modal.open({template:__webpack_require__(3723),controller:"MlSaveStatusModal",backdrop:"static",keyboard:!1,size:"sm",resolve:{params:function(){return{pscope:$scope,openDatafeed:function(){mlDatafeedService.openJobTimepickerWindow($scope.job)}}}}})}function loadDataPreview(){createJSONText(),$scope.ui.wizard.dataPreview="";var indexes=Object.keys($scope.indexes),types=Object.keys($scope.types),job=$scope.job;indexes.length&&mlJobService.searchPreview(indexes,types,job).then(function(resp){$scope.ui.wizard.dataPreview=_angular2["default"].toJson(resp,!0)})["catch"](function(resp){$scope.ui.wizard.dataPreview=_angular2["default"].toJson(resp,!0)})}function showDataPreviewTab(){var hidden=!0;$scope.ui.isDatafeed&&(hidden=!1),"NONE"===$scope.ui.wizard.dataLocation&&$scope.mode===MODE.CLONE&&(hidden=!0),$scope.ui.tabs[5].hidden=hidden,$scope.$applyAsync()}function allInfluencers(){var influencers=$scope.ui.influencers.concat($scope.ui.customInfluencers);return influencers=_lodash2["default"].uniq(influencers),_lodash2["default"].sortBy(influencers,function(inf){return inf})}timefilter.enabled=!1;var MODE={NEW:0,EDIT:1,CLONE:2},msgs=mlMessageBarService,mlConfirm=mlConfirmModalService;msgs.clear(),$scope.job={},$scope.mode=MODE.NEW,$scope.saveLock=!1,$scope.indexes={},$scope.types={},$scope.properties={},$scope.dateProperties={},$scope.maximumFileSize,$scope.mlElasticDataDescriptionExposedFunctions={},$scope.elasticServerInfo={},$scope.ui={pageTitle:"Create a new job",wizard:{step:1,stepHovering:0,CHAR_LIMIT:500,dataLocation:"ES",indexInputType:"LIST",dataPreview:"",dataReady:!1,setDataLocation:function(loc){$scope.ui.wizard.dataLocation=loc,wizardStep(1)},forward:function(){wizardStep(1)},back:function(){wizardStep(-1)}},currentTab:0,tabs:[{index:0,title:"Job Details"},{index:1,title:"Analysis Configuration"},{index:2,title:"Data Description"},{index:3,title:"Datafeed"},{index:4,title:"Edit JSON"},{index:5,title:"Data Preview",hidden:!0}],validation:{tabs:[{index:0,valid:!0,checks:{jobId:{valid:!0}}},{index:1,valid:!0,checks:{detectors:{valid:!0},influencers:{valid:!0},categorizationFilters:{valid:!0},bucketSpan:{valid:!0}}},{index:2,valid:!0,checks:{timeField:{valid:!0},timeFormat:{valid:!0}}},{index:3,valid:!0,checks:{isDatafeed:{valid:!0}}},{index:4,valid:!0,checks:{}},{index:5,valid:!0,checks:{}}],setTabValid:function(tab,valid){$scope.ui.validation.tabs[tab].valid=valid}},jsonText:"",changeTab:changeTab,influencers:[],allInfluencers:allInfluencers,customInfluencers:[],tempCustomInfluencer:"",inputDataFormat:[{value:"delimited",title:"Delimited"},{value:"json",title:"JSON"}],fieldDelimiterOptions:[{value:"\t",title:"tab"},{value:" ",title:"space"},{value:",",title:","},{value:";",title:";"},{value:"custom",title:"custom"}],selectedFieldDelimiter:",",customFieldDelimiter:"",esServerOk:0,indexTextOk:!1,indexes:{},types:{},isDatafeed:!1,useDedicatedIndex:!1,datafeed:{queryText:'{"match_all":{}}',queryDelayText:"",queryDelayDefault:"60s",frequencyText:"",frequencyDefault:"",scrollSizeText:"",scrollSizeDefault:1e3,indexesText:"",typesText:""},saveStatus:{job:0},sortByKey:_string_utils2["default"].sortByKey},$scope.save=function(){if(console.log("save() job: ",$scope.job),msgs.clear(),getDelimiterSelection(),getDatafeedSelection(),validateJob()){var checkInfluencers=function(){$scope.job.analysis_config.influencers&&$scope.job.analysis_config.influencers.length?saveFunc():mlConfirm.open({message:"You have not chosen any influencers, do you want to continue?",title:"No Influencers"}).then(saveFunc)["catch"](function(){changeTab({index:1})})},createJobForSaving=function(job){var newJob=_angular2["default"].copy(job);return delete newJob.datafeed_config,newJob},saveFunc=function(){$scope.ui.useDedicatedIndex?""===$scope.job.results_index_name&&($scope.job.results_index_name=$scope.job.job_id):delete $scope.job.results_index_name,$scope.saveLock=!0,$scope.ui.saveStatus.job=1,openSaveStatusWindow();var job=createJobForSaving($scope.job);mlJobService.saveNewJob(job).then(function(result){result.success?(msgs.info("New Job '"+result.resp.job_id+"' added"),$scope.ui.saveStatus.job=2,mlJobService.openJob($scope.job.job_id).then(function(){$scope.job.datafeed_config?mlJobService.saveNewDatafeed($scope.job.datafeed_config,$scope.job.job_id).then(function(){$scope.saveLock=!1})["catch"](function(resp){msgs.error("Could not start datafeed: ",resp),$scope.saveLock=!1}):$scope.saveLock=!1})["catch"](function(resp){msgs.error("Could not open job: ",resp),msgs.error("Job created, creating datafeed anyway"),$scope.saveLock=!1})):($scope.ui.saveStatus.job=-1,$scope.saveLock=!1,msgs.error("Save failed: "+result.resp.message))})["catch"](function(result){$scope.ui.saveStatus.job=-1,$scope.saveLock=!1,msgs.error("Save failed: "+result.resp.message)})},tempJob=mlJobService.getJob($scope.job.job_id);if(tempJob){var tab=$scope.ui.validation.tabs[0];tab.valid=!1,tab.checks.jobId.valid=!1,tab.checks.jobId.message="'"+$scope.job.job_id+"' already exists, please choose a different name",changeTab({index:0})}else checkInfluencers()}else msgs.error("Fill in all required fields"),console.log("save(): job validation failed")},$scope.cancel=function(){mlConfirm.open({message:"Are you sure you want to cancel job creation?",title:"Are you sure?"}).then(function(){msgs.clear(),$location.path("jobs")})},$scope.cloneJobDataDescriptionCallback=function(){extractCustomInfluencers()},$scope.indexSelected=function(){return"TEXT"===$scope.ui.wizard.indexInputType?!(!$scope.ui.datafeed.indexesText.length||!Object.keys($scope.properties).length):!!Object.keys($scope.indexes).length},$scope.timeFieldSelected=function(){return""!==$scope.job.data_description.time_field},$scope.jsonTextChange=function(){try{var minfiedJson=JSON.minify($scope.ui.jsonText);$scope.job=JSON.parse(minfiedJson),$scope.changeJobIDCase(),extractCustomInfluencers(),setFieldDelimiterControlsFromText(),setDatafeedUIText(),void 0!==$scope.job.results_index_name?$scope.ui.useDedicatedIndex=!0:$scope.ui.useDedicatedIndex=!1}catch(e){console.log("JSON could not be parsed")}},$scope.changeJobIDCase=function(){$scope.job.job_id&&($scope.job.job_id=$scope.job.job_id.toLowerCase())},$scope.datafeedChange=function(){$scope.ui.isDatafeed?($scope.job.datafeed_config={},$scope.ui.tabs[2].hidden=!0,calculateDatafeedFrequencyDefaultSeconds()):(delete $scope.job.datafeed_config,$scope.ui.tabs[2].hidden=!1,$scope.job.data_description.format="json"),showDataPreviewTab()},$scope.setDedicatedIndex=function(){$scope.ui.useDedicatedIndex?$scope.job.results_index_name="":delete $scope.job.results_index_name},$scope.generalAnalysisConfigFieldNameChange=function(name){""===$scope.job.analysis_config[name].trim()&&delete $scope.job.analysis_config[name]},$scope.calculateDatafeedFrequencyDefaultSeconds=calculateDatafeedFrequencyDefaultSeconds,$scope.addCustomUrl=function(){$scope.job.custom_settings||($scope.job.custom_settings={}),$scope.job.custom_settings.custom_urls||($scope.job.custom_settings.custom_urls=[]),$scope.job.custom_settings.custom_urls.push({url_name:"",url_value:""})},$scope.removeCustomUrl=function(index){$scope.job.custom_settings.custom_urls.splice(index,1)},$scope.addCategorizationFilter=function(){$scope.job.analysis_config&&($scope.job.analysis_config.categorization_filters||($scope.job.analysis_config.categorization_filters=[]),$scope.job.analysis_config.categorization_filters.push(""))},$scope.removeCategorizationFilter=function(index){$scope.job.analysis_config&&$scope.job.analysis_config.categorization_filters&&$scope.job.analysis_config.categorization_filters.splice(index,1)},$scope.influencerChecked=function(inf){return _lodash2["default"].contains($scope.job.analysis_config.influencers,inf)},$scope.toggleInfluencer=function(inf){var influencers=$scope.job.analysis_config.influencers;if($scope.influencerChecked(inf))for(var i=0;i<influencers.length;i++)influencers[i]===inf&&$scope.job.analysis_config.influencers.splice(i,1);else $scope.job.analysis_config.influencers.push(inf)},$scope.addCustomInfluencer=function(){""!==$scope.ui.tempCustomInfluencer&&($scope.ui.customInfluencers.push($scope.ui.tempCustomInfluencer),$scope.ui.tempCustomInfluencer="")},init()})},3721:function(module,exports){/*! JSON.minify()
	    v0.1 (c) Kyle Simpson
	    MIT License
	*/
!function(global){"use strict";var minify=function(json){var tmp,tmp2,lc,rc,tokenizer=/"|(\/\*)|(\*\/)|(\/\/)|\n|\r|\[|]/g,in_string=!1,in_multiline_comment=!1,in_singleline_comment=!1,new_str=[],ns=0,from=0;for(tokenizer.lastIndex=0;tmp=tokenizer.exec(json);)lc=RegExp.leftContext,rc=RegExp.rightContext,in_multiline_comment||in_singleline_comment||(tmp2=lc.substring(from),in_string||(tmp2=tmp2.replace(/(\n|\r|\s)*/g,"")),new_str[ns++]=tmp2),from=tokenizer.lastIndex,'"'!==tmp[0]||in_multiline_comment||in_singleline_comment?"/*"!==tmp[0]||in_string||in_multiline_comment||in_singleline_comment?"*/"!==tmp[0]||in_string||!in_multiline_comment||in_singleline_comment?"//"!==tmp[0]||in_string||in_multiline_comment||in_singleline_comment?"\n"!==tmp[0]&&"\r"!==tmp[0]||in_string||in_multiline_comment||!in_singleline_comment?in_multiline_comment||in_singleline_comment||/\n|\r|\s/.test(tmp[0])||(new_str[ns++]=tmp[0]):in_singleline_comment=!1:in_singleline_comment=!0:in_multiline_comment=!1:in_multiline_comment=!0:(tmp2=lc.match(/(\\)*$/),in_string&&tmp2&&tmp2[0].length%2!==0||(in_string=!in_string),from--,rc=json.substring(from));return new_str[ns++]=rc,new_str.join("")};"undefined"!=typeof module&&module.exports?(module.exports=minify,JSON.minify=minify):("undefined"!=typeof global.JSON&&global.JSON||(global.JSON={}),global.JSON.minify=minify)}(this)},3722:function(module,exports){module.exports='<ml-nav-menu name="new_job_advanced"></ml-nav-menu>\n<ml-new-job>\n  <ml-message-bar></ml-message-bar>\n  <div ng-controller="MlNewJob" class="container">\n    <!-- first view of wizard -->\n    <div ng-show="ui.wizard.step === 0" class="wizard-step-0">\n      <div>\n        <label>Choose a data source</label>\n\n        <div ng-mouseenter="ui.wizard.stepHovering=1" ng-mouseleave="ui.wizard.stepHovering=0" ng-click="ui.wizard.setDataLocation(\'ES\')" >\n          <label class="data-location">\n            <div class="ml-round-number" ng-class="{\'ml-round-number-pop\':ui.wizard.stepHovering===1}">\n              <i aria-hidden="true" class="fa fa-database"></i>\n            </div>\n            <div>\n              <div>Elasticsearch server</div>\n              <div>Specify the address of an Elasticsearch server.</div>\n            </div>\n          </label>\n        </div>\n\n        <div ng-mouseenter="ui.wizard.stepHovering=3" ng-mouseleave="ui.wizard.stepHovering=0" ng-click="ui.wizard.setDataLocation(\'NONE\')">\n          <label class="data-location">\n            <div class="ml-round-number" ng-class="{\'ml-round-number-pop\':ui.wizard.stepHovering===3}">\n              <i aria-hidden="true" class="fa fa-upload"></i>\n            </div>\n            <div>\n              <div>Other data source</div>\n              <div>Create a job without reference to source data. Specify fields manually and upload data later using the API.</div>\n            </div>\n          </label>\n        </div>\n      </div>\n    </div>\n\n    <!-- second view of wizard -->\n    <div ng-show="ui.wizard.step === 1" class="wizard-step-1">\n      <!-- Elasticsearch server configuration -->\n      <div ng-show="ui.wizard.dataLocation === \'ES\'">\n\n        <ml-elastic-data-description\n          ml-ui="ui"\n          ml-properties="properties"\n          ml-date-properties="dateProperties"\n          ml-indexes="indexes"\n          ml-types="types"\n          ml-data-description="job.data_description"\n          ml-exposed-functions="mlElasticDataDescriptionExposedFunctions"\n          ml-elastic-server-info="elasticServerInfo"\n\n        ></ml-elastic-data-description >\n\n      </div>\n\n      <button\n        ng-click="ui.wizard.forward();"\n        class="btn btn-info"\n        ng-disabled="(ui.esServerOk !== 1 || !indexSelected() || !timeFieldSelected() ) && ui.wizard.dataReady === false"\n        aria-label="Next">\n        Next\n      </button>\n    </div>\n\n    <!-- third view of wizard -->\n    <div ng-show="ui.wizard.step === 2"  class="wizard-step-2">\n      <h3>{{ui.pageTitle}}</h3>\n        <ul class="nav nav-tabs">\n          <li\n            class="kbn-settings-tab"\n            ng-class="{ active: ui.currentTab === tab.index }"\n            ng-repeat="tab in ui.tabs"\n            ng-hide="ui.tabs[{{tab.index}}].hidden">\n\n            <a ng-click="ui.changeTab(tab)">\n              {{ tab.title }}\n              <i ng-hide=\'ui.validation.tabs[tab.index].valid\' class=\'validataion-error fa fa-exclamation-circle\'></i>\n            </a>\n          </li>\n        </ul>\n\n        <!-- tab 0 Job Details -->\n        <ml-job-tab-0 class="tab" ng-show="ui.currentTab === 0">\n          <div class="tab_contents">\n            <!-- ID -->\n            <div class="form-group">\n              <label>Name</label><i ml-info-icon="new_job_id" />\n              <input\n                ng-model="job.job_id"\n                required\n                placeholder="Job ID"\n                ng-change="changeJobIDCase()"\n                input-focus\n                class="form-control lowercase" />\n              <div ng-hide="ui.validation.tabs[0].checks.jobId.valid" class="validation-error">{{ ( ui.validation.tabs[0].checks.jobId.message || "Enter a name for the job" ) }}</div>\n            </div>\n            <!-- description -->\n            <div class="form-group">\n              <label>Description</label><i ml-info-icon="new_job_description" />\n              <input ng-model="job.description" placeholder="Job description" class="form-control" />\n            </div>\n\n            <div class="form-group">\n              <label>Custom URLs</label> <i ml-info-icon="new_job_custom_urls" />\n              <div ng-if="job.custom_settings && job.custom_settings.custom_urls">\n                <div ng-repeat="item in job.custom_settings.custom_urls track by $index" class="custom-url">\n                  <div class="field-cols">\n\n                    <div class="form-group">\n                      <label>Label</label>\n                      <input\n                        ng-model="item.url_name"\n                        type="text"\n                        class="form-control" />\n                    </div>\n                  </div>\n\n                  <div class="field-cols">\n                    <div class="form-group">\n                      <label>URL</label>\n                      <textarea\n                        ng-model="item.url_value"\n                        type="text"\n                        class="form-control" ></textarea>\n                    </div>\n                  </div>\n\n                  <button\n                    ng-click="removeCustomUrl($index)"\n                    tooltip-append-to-body="true"\n                    type="button"\n                    class="btn btn-xs btn-danger remove-button">\n                      <i aria-hidden="true" class="fa fa-times"></i>\n                  </button>\n                </div>\n              </div>\n              <div>\n                <button aria-label="Add Custom URL" ng-click="addCustomUrl()" type="button" class="btn btn-primary btn-xs">\n                  <span class="sr-only">Add Custom URL</span>\n                  <i aria-hidden="true" class="fa fa-plus"></i> Add Custom URL\n                </button>\n              </div>\n\n            </div>\n\n            <div class="form-group">\n              <label>\n                <input type="checkbox"\n                  ng-change="setDedicatedIndex()"\n                  ng-model  ="ui.useDedicatedIndex" />\n                  Use dedicated index <i ml-info-icon="new_job_dedicated_index" ></i>\n              </label>\n            </div>\n\n          </div>\n        </ml-job-tab-0>\n\n        <!-- tab2 1 Analysis Configuration -->\n        <ml-job-tab-1 ng-show="ui.currentTab === 1">\n          <div class="tab_contents">\n            <datalist id="properties_datalist">\n              <option ng-repeat="(key, prop) in properties" >{{key}}</option>\n            </datalist>\n\n            <div class="form-group">\n              <label>bucket_span</label><i ml-info-icon="new_job_bucketspan" />\n              <input\n                type="text"\n                ng-model="job.analysis_config.bucket_span"\n                placeholder=""\n                ng-change="calculateDatafeedFrequencyDefaultSeconds()"\n                class="form-control" />\n              <div ng-hide="ui.validation.tabs[1].checks.bucketSpan.valid" class="validation-error">\n                {{ ( ui.validation.tabs[1].checks.bucketSpan.message || "bucket_span is not a valid time interval format" ) }}\n              </div>\n            </div>\n            <div class="form-group">\n              <label>summary_count_field_name</label><i ml-info-icon="new_job_summarycountfieldname" />\n              <input\n                type="text"\n                ng-model="job.analysis_config.summary_count_field_name"\n                placeholder=""\n                ng-change="generalAnalysisConfigFieldNameChange(\'summary_count_field_name\')"\n                list=\'properties_datalist\'\n                class="form-control" />\n            </div>\n            <div class="form-group">\n              <label>categorization_field_name</label><i ml-info-icon="new_job_categorizationfieldname" />\n              <input\n                type="text"\n                ng-model="job.analysis_config.categorization_field_name"\n                placeholder=""\n                ng-change="generalAnalysisConfigFieldNameChange(\'categorization_field_name\')"\n                ng-change="categorizationFieldNameChange()"\n                list=\'properties_datalist\'\n                class="form-control" />\n            </div>\n\n            <div class="form-group"\n              ng-show="(job.analysis_config.categorization_field_name !== undefined && job.analysis_config.categorization_field_name !== \'\') ||\n                       (job.analysis_config.categorization_filters && job.analysis_config.categorization_filters.length)">\n\n              <label>Categorization Filters</label> <i ml-info-icon="new_job_categorizationfilters" />\n              <div ng-if="job.analysis_config && job.analysis_config.categorization_filters">\n                <div ng-repeat="item in job.analysis_config.categorization_filters track by $index" class="categorization-filter">\n                  <div class="field-cols">\n\n                    <div class="form-group">\n                      <input\n                        ng-model="job.analysis_config.categorization_filters[$index]"\n                        type="text"\n                        class="form-control" />\n                    </div>\n                  </div>\n\n                  <button\n                    ng-click="removeCategorizationFilter($index)"\n                    tooltip-append-to-body="true"\n                    type="button"\n                    class="btn btn-xs btn-danger remove-button">\n                      <i aria-hidden="true" class="fa fa-times"></i>\n                  </button>\n                </div>\n              </div>\n              <div>\n                <button\n                  aria-label="Add Categorization Filter"\n                  ng-click="addCategorizationFilter()"\n                  type="button"\n                  ng-disabled="job.analysis_config.categorization_field_name === undefined || job.analysis_config.categorization_field_name === \'\'"\n                  class="btn btn-primary btn-xs">\n                  <span class="sr-only">Add Categorization Filter</span>\n                  <i aria-hidden="true" class="fa fa-plus"></i> Add Categorization Filter\n                </button>\n              </div>\n            </div>\n            <div ng-hide="ui.validation.tabs[1].checks.categorizationFilters.valid" class="validation-error">\n              {{ ( ui.validation.tabs[1].checks.categorizationFilters.message || "Categorization filters must all be valid regular expressions" ) }}\n            </div>\n\n            <hr />\n            <label>Detectors</label><i ml-info-icon="new_job_detectors" />\n            <div ml-job-detectors-list\n              ml-detectors="job.analysis_config.detectors"\n              ml-indexes="indexes"\n              ml-properties="properties"\n              ml-cat-field-name-selected="(job.analysis_config.categorization_field_name?true:false)"\n              ml-edit-mode="\'NEW\'"\n              ></div>\n            <div ng-hide="ui.validation.tabs[1].checks.detectors.valid" class="validation-error">\n              {{ ( ui.validation.tabs[1].checks.detectors.message || "At least one detector should be configured" ) }}\n            </div>\n            <hr />\n            <label>Influencers</label><i ml-info-icon="new_job_influencers" />\n            <div class="influencer-list-container">\n\n              <div class="checkbox" ng-repeat="inf in ui.allInfluencers()" >\n                <label><input type="checkbox" ng-checked="influencerChecked(inf)" ng-click="toggleInfluencer(inf)" >{{inf}}</label>\n              </div>\n\n              <div class="custom-influencer">\n                <input\n                  type="text"\n                  ng-model="ui.tempCustomInfluencer"\n                  placeholder="Custom influencer"\n                  class="form-control"  />\n                <button aria-label="Add "\n                  ng-click="addCustomInfluencer()"\n                  ng-disabled="ui.tempCustomInfluencer===\'\'"\n                  type="button"\n                  class="btn btn-primary btn-xs" >\n                  <span class="sr-only">Add Custom Influencer</span>\n                  <i aria-hidden="true" class="fa fa-plus"></i> Add\n                </button>\n              </div>\n            </div>\n            <div ng-hide="ui.validation.tabs[1].checks.influencers.valid" class="validation-error">\n              {{ ( ui.validation.tabs[1].checks.influencers.message || "At least one influencer should be selected" ) }}\n            </div>\n          </div>\n        </ml-job-tab-1>\n\n\n        <!-- tab 2 Data Description -->\n        <ml-job-tab-2 ng-show="ui.currentTab === 2">\n          <div class="tab_contents">\n            <label>Data format</label><i ml-info-icon="new_job_data_format" />\n            <select\n              ng-model="job.data_description.format"\n              ng-disabled="ui.isDatafeed"\n              ng-options="item.value as item.title for item in ui.inputDataFormat"\n              class="form-control">\n            </select>\n\n            <ml-job-delimited-options ng-show="job.data_description.format===\'delimited\'">\n              <label>Delimiter</label><i ml-info-icon="new_job_delimiter" />\n              <select\n                ng-model="ui.selectedFieldDelimiter"\n                ng-options="item.value as item.title for item in ui.fieldDelimiterOptions"\n                class="form-control" />\n              <input\n                ng-model="ui.customFieldDelimiter"\n                ng-show="ui.selectedFieldDelimiter===\'custom\'"\n                ng-required="job.data_description.format===\'delimited\' && ui.selectedFieldDelimiter===\'custom\'"\n                class="form-control" />\n\n              <label>Quote character</label><i ml-info-icon="new_job_quote_character" />\n              <input\n                ng-model="job.data_description.quote_character"\n                ng-required="job.data_description.format===\'delimited\'"\n                placeholder=""\n                class="form-control" />\n            </ml-job-delimited-options>\n\n            <label>Time field</label><i ml-info-icon="new_job_time_field" />\n            <input\n              ng-model="job.data_description.time_field"\n              required\n              placeholder=""\n              class="form-control" />\n            <div ng-hide="ui.validation.tabs[2].checks.timeField.valid" class="validation-error">\n              {{ ( ui.validation.tabs[2].checks.timeField.message || "Time field should be specified" ) }}\n            </div>\n\n            <label>Time format</label><i ml-info-icon="new_job_time_format" />\n            <input\n              ng-model="job.data_description.time_format"\n              required\n              placeholder=""\n              class="form-control" />\n            <div ng-hide="ui.validation.tabs[2].checks.timeFormat.valid" class="validation-error">\n              {{ ( ui.validation.tabs[2].checks.timeFormat.message || "Time format should be specified" ) }}\n            </div>\n            <div class="time-example">{{ ((exampleTime)?"e.g. "+ exampleTime:"") }}</div>\n\n          </div>\n        </ml-job-tab-2>\n\n        <!-- tab 3 Datafeed -->\n        <ml-job-tab-3 ng-show="ui.currentTab === 3">\n          <div class="tab_contents">\n            <label>\n              <input\n                ng-model="ui.isDatafeed"\n                ng-change="datafeedChange()"\n                ng-disabled="job.data_description.format!==\'json\'"\n                type="checkbox" />\n              Datafeed job\n            </label><i ml-info-icon="new_job_enable_datafeed_job" />\n            <div ng-hide="ui.validation.tabs[3].checks.isDatafeed.valid" class="validation-error">\n              {{ ( ui.validation.tabs[3].checks.isDatafeed.message ) }}\n            </div>\n            <div class="form-group help-pane" ng-show="job.data_description.format!==\'json\' && job.data_description.format!==undefined">\n              <small class="info">Data format must be set to \'JSON\' to enable the datafeed.</small>\n            </div>\n            <div class="form-group" ng-if="ui.isDatafeed">\n\n              <label>Query</label><i ml-info-icon="new_job_datafeed_query" />\n              <input\n                ng-model="ui.datafeed.queryText"\n                placeholder=\'{ "match_all": {}}\'\n                class="form-control" />\n\n              <label>Query delay</label><i ml-info-icon="new_job_datafeed_query_delay" />\n              <input\n                ng-model="ui.datafeed.queryDelayText"\n                placeholder="{{ui.datafeed.queryDelayDefault}}"\n                min="0"\n                class="form-control" />\n\n              <label>Frequency</label><i ml-info-icon="new_job_datafeed_frequency" />\n              <input\n                ng-model="ui.datafeed.frequencyText"\n                placeholder="{{ui.datafeed.frequencyDefault}}"\n                min="0"\n                class="form-control" />\n\n              <label>scroll_size</label><i ml-info-icon="new_job_datafeed_scrollsize" />\n              <input\n                ng-model="ui.datafeed.scrollSizeText"\n                placeholder="{{ui.datafeed.scrollSizeDefault}}"\n                type="number"\n                min="0"\n                class="form-control" />\n\n              <ml-elastic-data-description\n                ml-ui="ui"\n                ml-properties="properties"\n                ml-date-properties="dateProperties"\n                ml-indexes="indexes"\n                ml-types="types"\n                ml-data-description="job.data_description"\n                ml-mode= "mode"\n                ml-datafeed-config="job.datafeed_config"\n                ml-data-loaded-callback="cloneJobDataDescriptionCallback"\n                ml-exposed-functions="mlElasticDataDescriptionExposedFunctions"\n                ml-elastic-server-info="elasticServerInfo"\n\n              ></ml-elastic-data-description >\n\n              <div class="clearfix"></div>\n\n            </div>\n          </div>\n        </ml-job-tab-3>\n\n        <!-- tab 4 Edit JSON -->\n        <ml-job-tab-4 ng-show="ui.currentTab === 4" class="ml_json_tab">\n          <div class="tab_contents">\n            <label>JSON</label>\n            <textarea\n              ng-model="ui.jsonText"\n              class="form-control json-textarea"\n              ng-change="jsonTextChange()" >\n            </textarea>\n          </div>\n        </ml-job-tab-4>\n\n        <!-- tab 5 Data preview -->\n        <ml-job-tab-5 ng-show="ui.currentTab === 5">\n          <div class="tab_contents">\n            <label>Data preview</label>\n            <div ng-hide="(dataPreview === \'\')" >\n              <div class="ml-pre" >{{ui.wizard.dataPreview}}</div>\n            </div>\n          </div>\n        </ml-job-tab-5>\n\n        <hr />\n\n        <button\n          ng-click="save()"\n          ng-disabled="(saveLock === true || ui.esServerOk === 2)"\n          class="btn btn-info"\n          aria-label="Save">\n          Save\n        </button>\n        <button\n          ng-click="cancel()"\n          ng-disabled="(saveLock === true)"\n          class="btn btn-info"\n          aria-label="Cancel">\n          Cancel\n        </button>\n\n    </div>\n  </div>\n</ml-new-job>\n'},3723:function(module,exports){module.exports='<div class="save-status-modal">\n  <!-- <ml-message-bar ></ml-message-bar> -->\n  <h3>Saving new job</h3>\n  <div class="status-item">Saving job...\n  \t<i ng-show="pscope.ui.saveStatus.job === -1" aria-hidden="true" style="color:red;" class="fa fa-remove"></i>\n  \t<i ng-show="pscope.ui.saveStatus.job === 1" aria-hidden="true" class="fa fa-spinner fa-spin"></i>\n  \t<i ng-show="pscope.ui.saveStatus.job === 2" aria-hidden="true" style="color:green;" class="fa fa-check"></i>\n  </div>\n\n  <hr />\n\n  <button\n    ng-show="(pscope.ui.saveStatus.job === 2 && pscope.ui.isDatafeed)"\n    ng-disabled="pscope.saveLock"\n    ng-click="openDatafeed();"\n    class="btn btn-info"\n    aria-label="Back">\n      Start datafeed\n  </button>\n\n  <button\n  \tng-disabled="pscope.saveLock"\n    ng-click="close();"\n    class="btn btn-info"\n    aria-label="Back">\n    \tClose\n  </button>\n</div>\n'},3724:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3725),__webpack_require__(3726)},3725:function(module,exports){},3726:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.controller("MlSaveStatusModal",function($scope,$location,$modalInstance,params){$scope.pscope=params.pscope,$scope.ui={showTimepicker:!1},$scope.openDatafeed=function(){$location.path("jobs"),$modalInstance.close(),params.openDatafeed()},$scope.close=function(){2===$scope.pscope.ui.saveStatus.job&&$location.path("jobs"),$scope.pscope.ui.saveStatus.job=0,$modalInstance.dismiss("cancel")}})},3727:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3728),__webpack_require__(3730)},3728:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.directive("mlElasticDataDescription",function(){return{restrict:"AE",replace:!0,scope:{ui:"=mlUi",properties:"=mlProperties",dateProperties:"=mlDateProperties",indexes:"=mlIndexes",types:"=mlTypes",mode:"=mlMode",datafeed_config:"=mlDatafeedConfig",data_description:"=mlDataDescription",dataLoadedCallback:"=mlDataLoadedCallback",exposedFunctions:"=mlExposedFunctions",serverInfo:"=mlElasticServerInfo"},template:__webpack_require__(3729),controller:function($scope,$q,$location,mlJobService){function init(){$scope.exposedFunctions&&($scope.exposedFunctions.extractFields=$scope.extractFields,$scope.exposedFunctions.getMappings=getMappings),getMappings().then(function(){$scope.mode===MODE.CLONE&&$scope.ui.isDatafeed&&setUpClonedJob()})}function setUpClonedJob(){extractTypesFromIndexes(!0),_lodash2["default"].each($scope.datafeed_config.types,function(t){t=t.trim(),$scope.types[t]=$scope.ui.types[t]}),$scope.extractFields({types:$scope.types}),$scope.dataLoadedCallback&&$scope.dataLoadedCallback()}function clear(obj){Object.keys(obj).forEach(function(key){delete obj[key]}),Array.isArray(obj)&&(obj.length=0)}function extractTypesFromIndexes(fromClone){if("TEXT"===$scope.ui.wizard.indexInputType){clear($scope.indexes);var indexes=$scope.ui.datafeed.indexesText.split(",");_lodash2["default"].each(indexes,function(ind){ind=ind.trim(),ind=ind.replace(/\*/g,".+");var reg=new RegExp("^"+ind+"$");_lodash2["default"].each($scope.ui.indexes,function(index,key){key.match(reg)&&($scope.indexes[key]=index,_lodash2["default"].each(index.types,function(type,i){fromClone||void 0!==$scope.ui.types[i]||($scope.types[i]=type),$scope.ui.types[i]=type}))})})}else{var keys=Object.keys($scope.indexes);$scope.ui.datafeed.indexesText=keys.join(", "),_lodash2["default"].each($scope.indexes,function(index){_lodash2["default"].each(index.types,function(type,i){fromClone||void 0!==$scope.ui.types[i]||($scope.types[i]=type),$scope.ui.types[i]=type})})}}function getMappings(){function clearMappings(){$scope.ui.indexes=[],$scope.ui.esServerOk=-1,$scope.ui.datafeed.typesText="",$scope.ui.datafeed.indexesText=""}var deferred=$q.defer();return $scope.ui.validation.setTabValid(4,!0),mlJobService.getESMappings().then(function(indexes){$scope.ui.indexes=filterIndexes(indexes),$scope.ui.esServerOk=1,console.log("getMappings():",$scope.ui.indexes),$scope.mode===MODE.CLONE&&setUpClonedJob(),deferred.resolve()})["catch"](function(err){console.log("getMappings:",err),err.statusCode?(401===err.statusCode?$scope.ui.validation.setTabValid(4,!1):403===err.statusCode?$scope.ui.validation.setTabValid(4,!1):clearMappings(),$scope.ui.esServerOk=-1):clearMappings(),deferred.reject()}),deferred.promise}function filterIndexes(idxs){var indexes={},monitoringName=new RegExp("^\\.monitoring-.+"),dotName=new RegExp("^\\..+");return _lodash2["default"].each(idxs,function(idx,key){!key.match(monitoringName)&&key.match(dotName)||(indexes[key]=idx)}),indexes}function collectCopyToFields(data){function recurse(node,name){if("copy_to"===name)if(Array.isArray(node))for(var p in node)node.hasOwnProperty(p)&&(result[node[p]]=!0);else result[node]=!0;else if(Object(node)===node||Array.isArray(node))for(var child in node)node.hasOwnProperty(child)&&recurse(node[child],child)}var result={};return recurse(data,""),result}function extractFlatFields(types){function recurse(node,name,parentNode,parentName){if(node&&node.type&&"string"==typeof node.type)node.__type=currentType,result[name]=node;else if(Object(node)!==node)parentNode.type&&"string"==typeof parentNode.type&&(parentNode.__type=currentType,result[parentName]=parentNode);else{if(Array.isArray(node))return;var isEmpty=!0;for(var field in node)node.hasOwnProperty(field)&&(isEmpty=!1,"properties"===field?recurse(node[field],name,parentNode,parentName):recurse(node[field],name?name+"."+field:field,node,name)),isEmpty&&name&&(result[name]=node)}}var result={},currentType=void 0;return _lodash2["default"].each(types,function(type,i){currentType=i,recurse(type,"","")}),result}function guessTimeField(){var match=$scope.data_description.time_field;void 0===$scope.dateProperties[match]&&(match=""),_lodash2["default"].each($scope.dateProperties,function(prop,i){""===match&&i.match("time")&&(match=i)}),""!==match&&($scope.data_description.time_field=match,console.log("guessTimeField: guessed time fields: ",match))}var MODE={NEW:0,EDIT:1,CLONE:2};$scope.saveLock=!1;var keyPressTimeout=null;$scope.timeFormatGuessed=!1,$scope.exampleTime="";var nonInfluencerTypes=["numeric","long","integer","short","byte","double","float","date","boolean","binary","geo_point","geo_shape","completion","token_count","murmur3","attachment"];$scope.uiTypeKeys=function(){return Object.keys($scope.ui.types)},$scope.extractFields=function(typesIn){typesIn&&typesIn.hasOwnProperty("types")?$scope.types=typesIn.types:clear($scope.types),void 0===typesIn&&clear($scope.ui.types),clear($scope.properties),clear($scope.dateProperties),clear($scope.ui.influencers),$scope.ui.indexTextOk=!1,extractTypesFromIndexes(),$scope.uiTypeKeys().length&&($scope.ui.indexTextOk=!0);var ignoreFields=collectCopyToFields($scope.types),flatFields=extractFlatFields($scope.types);_lodash2["default"].each(flatFields,function(prop,key){ignoreFields[key]||($scope.properties[key]=prop,"date"===prop.type&&($scope.dateProperties[key]=prop))});var keys=Object.keys($scope.types);$scope.ui.datafeed.typesText=keys.join(", "),_lodash2["default"].each($scope.properties,function(prop,key){prop.type&&!_lodash2["default"].findWhere(nonInfluencerTypes,prop.type)&&$scope.ui.influencers.push(key)}),$scope.mode===MODE.CLONE&&$scope.ui.isDatafeed||guessTimeField()},$scope.getIndexesWithDelay=function(){$scope.ui.esServerOk=2,window.clearTimeout(keyPressTimeout),keyPressTimeout=null,keyPressTimeout=window.setTimeout(function(){getMappings()},1e3)},$scope.toggleIndex=function(key,index){var idx=$scope.indexes[key];void 0===idx?$scope.indexes[key]=index:delete $scope.indexes[key],$scope.extractFields(),guessTimeField()},$scope.toggleTypes=function(key,index){var idx=$scope.types[key];void 0===idx?$scope.types[key]=index:delete $scope.types[key],$scope.extractFields({types:$scope.types}),guessTimeField()},$scope.toggleAllTypes=function(){$scope.allTypesSelected()?clear($scope.types):$scope.uiTypeKeys().forEach(function(key){$scope.types[key]=$scope.ui.types[key]}),$scope.extractFields({types:$scope.types}),guessTimeField()},$scope.allTypesSelected=function(){return $scope.uiTypeKeys().length===Object.keys($scope.types).length},init()}}})},3729:function(module,exports){module.exports='<div class="elastic-data-description-container">\n  <div ng-show="ui.esServerOk === 1">\n\n    <div class="form-group">\n      <div><label><input type="radio" name="indexRadio" ng-model="ui.wizard.indexInputType" value="TEXT" /> Input index</label></div>\n      <div><label><input type="radio" name="indexRadio" ng-model="ui.wizard.indexInputType" value="LIST" /> Choose index from list</label></div>\n    </div>\n\n    <!-- text input index list -->\n    <div ng-show="ui.wizard.indexInputType === \'TEXT\'" class="form-group">\n      <label>Index</label>\n      <div class="input-group">\n      <input\n        ng-model="ui.datafeed.indexesText"$\n        placeholder=""\n        class="form-control"\n        ng-change="extractFields()"\n        aria-describedby="index-text-status"\n        list=\'index_datalist\' />\n        <span class="input-group-addon" id="index-text-status">\n          <i ng-show="ui.indexTextOk === true" aria-hidden="true" style=\'color:green;\' class="fa fa-check"></i>\n          <i ng-show="ui.indexTextOk === false" aria-hidden="true" style=\'color:red;\' class="fa fa-remove"></i>\n        </span>\n        <datalist id="index_datalist">\n          <option ng-repeat="(key, value) in ui.sortByKey(ui.indexes)" >{{key}}</option>\n        </datalist>\n      </div>\n    </div>\n\n    <!-- checkbox index list -->\n    <div ng-show="ui.wizard.indexInputType === \'LIST\'" class="form-group">\n      <label>Indices</label>\n      <div>\n        <div class="index-list-container">\n          <div class="checkbox" ng-repeat="(key, value) in ui.sortByKey(ui.indexes)" >\n            <label><input type="checkbox" ng-checked="indexes[key] !== undefined" ng-click="toggleIndex(key, value)" >{{key}}</label>\n          </div>\n        </div>\n      </div>\n    </div>\n\n\n    <!-- checkbox index list -->\n    <div ng-show="ui.indexTextOk" class="form-group">\n      <label>Types</label>\n      <div>\n        <div class="types-list-container">\n          <div class="checkbox all_types" ng-show="(uiTypeKeys().length > 1)"><label><input type="checkbox" ng-checked="allTypesSelected()" ng-click="toggleAllTypes()" >All types</label></div>\n          <div ng-class="{checkbox: (uiTypeKeys().length > 1)}" ></div>\n          <div class="checkbox" ng-repeat="(key, value) in ui.types" >\n            <label><input type="checkbox" ng-checked="types[key] !== undefined" ng-click="toggleTypes(key, value)" >{{key}}</label>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show="ui.indexTextOk" class="form-group">\n      <label>Time-field name</label>\n      <select\n        ng-model="data_description.time_field"\n        class="form-control">\n        <option ng-repeat="(key, value) in dateProperties">{{key}}</option>\n      </select>\n    </div>\n\n  </div>\n\n</div>';
},3730:function(module,exports){},3731:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}__webpack_require__(3732),__webpack_require__(3733),__webpack_require__(3735),__webpack_require__(2860);var _saved_object_registry=__webpack_require__(2753),_saved_object_registry2=_interopRequireDefault(_saved_object_registry),_saved_search_register=__webpack_require__(3045),_saved_search_register2=_interopRequireDefault(_saved_search_register),_routes=__webpack_require__(2485),_routes2=_interopRequireDefault(_routes);_routes2["default"].when("/jobs/new_job_single_metric",{redirectTo:"/jobs/new_job_single_metric/step/1"}),_saved_object_registry2["default"].register(_saved_search_register2["default"])},3732:function(module,exports){},3733:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}__webpack_require__(2555),__webpack_require__(3047),__webpack_require__(3063);var _routes=__webpack_require__(2485),_routes2=_interopRequireDefault(_routes),_check_license=__webpack_require__(3684),_check_license2=_interopRequireDefault(_check_license),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_routes2["default"].when("/jobs/new_job_single_metric/step/1",{template:__webpack_require__(3734),resolve:{CheckLicense:_check_license2["default"],indexPatternIds:function(courier){return courier.indexPatterns.getIds()}}});var _module=_modules2["default"].get("apps/ml");_module.controller("MlNewJobSingleStep1",function($scope,$route,timefilter){timefilter.enabled=!1,$scope.indexPattern={selection:null,list:$route.current.locals.indexPatternIds},$scope.step2WithSearchUrl=function(hit){return"#/jobs/new_job_single_metric/create?savedSearchId="+encodeURIComponent(hit.id)},$scope.makeUrl=function(pattern){if(pattern)return"#/jobs/new_job_single_metric/create?index="+encodeURIComponent(pattern)}})},3734:function(module,exports){module.exports='<ml-nav-menu name="new_job_single_metric"></ml-nav-menu>\n<ml-new-job-single_metric>\n  <ml-message-bar></ml-message-bar>\n  <div class=\'kuiViewContent kuiViewContent--constrainedWidth\' >\n    <div ng-controller="MlNewJobSingleStep1" class="wizard">\n      <div class="wizard-column wizard-column--small">\n        <h3 class="wizard-sub-title">From a New Search, Select Index</h3>\n        <paginated-selectable-list\n          per-page="20"\n          list="indexPattern.list"\n          user-make-url="makeUrl"\n          class="wizard-row visualizeWizardPaginatedSelectableList kuiVerticalRhythm"\n        ></paginated-selectable-list>\n      </div>\n      <div class="wizard-column wizard-column--large">\n\n        <h3 class="wizard-sub-title">Or, From a Saved Search</h3>\n       <saved-object-finder\n          title="Saved Searches"\n          type="searches"\n          class="wizard-row visualizeWizardSavedObjectFinder kuiVerticalRhythm"\n          make-url="step2WithSearchUrl"\n        ></saved-object-finder>\n       </div>\n    </div>\n  </div>\n</ml-new-job-single_metric>\n'},3735:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3736),__webpack_require__(3737),__webpack_require__(3744),__webpack_require__(3745),__webpack_require__(3746),__webpack_require__(3747)},3736:function(module,exports){},3737:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(2555),__webpack_require__(3047);var _index=__webpack_require__(2966),_index2=_interopRequireDefault(_index),_parse_interval=__webpack_require__(2730),_parse_interval2=_interopRequireDefault(_parse_interval),_datemath=__webpack_require__(3738),_datemath2=_interopRequireDefault(_datemath),_moment=__webpack_require__(3678),_moment2=_interopRequireDefault(_moment),_chrome=__webpack_require__(2429),_chrome2=_interopRequireDefault(_chrome),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_routes=__webpack_require__(2485),_routes2=_interopRequireDefault(_routes),_check_license=__webpack_require__(3684),_check_license2=_interopRequireDefault(_check_license),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_routes2["default"].defaults(/dashboard/,{requireDefaultIndex:!0}).when("/jobs/new_job_single_metric/create",{template:__webpack_require__(3740),resolve:{CheckLicense:_check_license2["default"],indexPattern:function(courier,$route){return courier.indexPatterns.get($route.current.params.index)},savedSearch:function(courier,$route,savedSearches){return savedSearches.get($route.current.params.savedSearchId)}}});var _module=_modules2["default"].get("apps/ml");_module.controller("MlCreateSingleMetricJob",function($scope,$route,$location,$filter,$q,$window,courier,timefilter,Private,mlJobService,mlSingleMetricJobService,mlMessageBarService,mlESMappingService,mlBrowserDetectService){function setTime(){$scope.ui.bucketSpanValid=!0,$scope.formConfig.start=_datemath2["default"].parse(timefilter.time.from).valueOf(),$scope.formConfig.end=_datemath2["default"].parse(timefilter.time.to).valueOf(),$scope.formConfig.format="epoch_millis",null===(0,_parse_interval2["default"])($scope.formConfig.bucketSpan)&&($scope.ui.bucketSpanValid=!1);var bounds=timefilter.getActiveBounds();$scope.formConfig.chartInterval=new MlTimeBuckets,$scope.formConfig.chartInterval.setBarTarget(BAR_TARGET),$scope.formConfig.chartInterval.setMaxBars(MAX_BARS),$scope.formConfig.chartInterval.setInterval("auto"),$scope.formConfig.chartInterval.setBounds(bounds),adjustIntervalDisplayed($scope.formConfig.chartInterval),$scope.ui.isFormValid(),$scope.ui.dirty=!0}function adjustIntervalDisplayed(interval){var makeTheSame=!1,intervalSeconds=interval.getInterval().asSeconds(),bucketSpan=(0,_parse_interval2["default"])($scope.formConfig.bucketSpan);if(bucketSpan.asSeconds()>intervalSeconds&&(makeTheSame=!0),void 0!==$scope.formConfig.agg.type){var mlName=$scope.formConfig.agg.type.mlName;"count"!==mlName&&"low_count"!==mlName&&"high_count"!==mlName&&"distinct_count"!==mlName||(makeTheSame=!0)}makeTheSame&&interval.setInterval(bucketSpan)}function loadFields(){var type=$scope.formConfig.agg.type,fields=[];type.params.forEach(function(param){"field"===param.name&&(fields=getIndexedFields(param))}),$scope.ui.fields=fields,(1===$scope.ui.fields.length||null===$scope.formConfig.field&&"cardinality"===type.name)&&($scope.formConfig.field=$scope.ui.fields[0])}function getIndexedFields(param){var fields=_lodash2["default"].filter(indexPattern.fields.raw,"aggregatable"),fieldTypes=param.filterFieldTypes;return fieldTypes&&(fields=$filter("fieldType")(fields,fieldTypes),fields=$filter("orderBy")(fields,["type","name"]),fields=_lodash2["default"].filter(fields,function(f){return"_type"!==f.displayName})),fields}function loadCharts(){function run(){refreshCounter++,reloadSwimlane().then(function(){if(forceStop===!1&&$scope.chartData.percentComplete<100?$scope.jobState===JOB_STATE.STOPPING?$scope.jobState=JOB_STATE.STOPPING:$scope.jobState=JOB_STATE.RUNNING:$scope.jobState=JOB_STATE.FINISHED,ignoreModel)jobCheck();else{var fullModelRefresh=!1;_lodash2["default"].each(jobProgressChecks,function(c,i){jobProgressChecks[i]===!1&&$scope.chartData.percentComplete>=i&&(jobProgressChecks[i]=!0,fullModelRefresh=!0)}),fullModelRefresh&&($scope.chartData.model=[]),reloadModelChart()["catch"](function(){refreshCounter%10===0&&(console.log("Model has failed to load 10 times. Stop trying to load it."),ignoreModel=!0)})["finally"](function(){jobCheck()})}})}var forceStop=globalForceStop,counterLimit=20-refreshInterval/REFRESH_INTERVAL_MS;refreshCounter>=counterLimit?(refreshCounter=0,mlSingleMetricJobService.checkDatafeedState($scope.formConfig).then(function(state){"stopped"===state&&(console.log("Stopping poll because datafeed state is: "+state),$scope.$broadcast("render-results"),forceStop=!0),run()})):run()}function jobCheck(){var isLastRun=!1;$scope.jobState===JOB_STATE.RUNNING||$scope.jobState===JOB_STATE.STOPPING?(refreshInterval=adjustRefreshInterval($scope.chartData.loadingDifference,refreshInterval),_lodash2["default"].delay(loadCharts,refreshInterval)):($scope.chartData.percentComplete=100,isLastRun=!0),isLastRun&&!ignoreModel?($scope.chartData.model=[],reloadModelChart()["finally"](function(){$scope.$broadcast("render-results")})):$scope.$broadcast("render-results")}function reloadModelChart(){return mlSingleMetricJobService.loadModelData($scope.formConfig)}function reloadSwimlane(){return mlSingleMetricJobService.loadSwimlaneData($scope.formConfig)}function adjustRefreshInterval(loadingDifference,currentInterval){var INTERVAL_INCREASE_MS=100,MAX_INTERVAL=1e4,interval=currentInterval;return interval<MAX_INTERVAL&&(loadingDifference<MAX_BUCKET_DIFF?interval+=INTERVAL_INCREASE_MS:interval-INTERVAL_INCREASE_MS>=REFRESH_INTERVAL_MS&&(interval-=INTERVAL_INCREASE_MS)),interval}function viewResults(job,page){job&&page&&mlJobService.jobTimeRange(job.id).then(function(resp){var from=resp.start.string?"'"+resp.start.string+"'":"now-24h",to=resp.end.string?"'"+resp.end.string+"'":"now",path=_chrome2["default"].getBasePath();path+="/app/ml#/"+page,path+="?_g=(ml:(jobIds:!('"+job.id+"'))",path+=",refreshInterval:(display:Off,pause:!f,value:0),time:(from:"+from,path+=",mode:absolute,to:"+to,path+="))&_a=(filters:!(),query:(query_string:(analyze_wildcard:!t,query:'*')))","safari"===mlBrowserDetectService()?location.href=path:$window.open(path,"_blank")})}timefilter.enabled=!0;var msgs=mlMessageBarService,MlTimeBuckets=Private(__webpack_require__(3741)),filterAggTypes=__webpack_require__(3743),aggTypes=Private(_index2["default"]);$scope.courier=courier,$scope.index=$route.current.params.index,$scope.chartData=mlSingleMetricJobService.chartData;var PAGE_WIDTH=_angular2["default"].element(".single-metric-job-container").width(),BAR_TARGET=PAGE_WIDTH>2e3?1e3:PAGE_WIDTH/2,MAX_BARS=BAR_TARGET+BAR_TARGET/100*100,REFRESH_INTERVAL_MS=100,MAX_BUCKET_DIFF=3,METRIC_AGG_TYPE="metrics",jobProgressChecks={25:!1,50:!1,75:!1},CHART_STATE={NOT_STARTED:0,LOADING:1,LOADED:2,NO_RESULTS:3},JOB_STATE={NOT_STARTED:0,RUNNING:1,FINISHED:2,STOPPING:3},refreshCounter=0;$scope.JOB_STATE=JOB_STATE,$scope.jobState=$scope.JOB_STATE.NOT_STARTED,$scope.CHART_STATE=CHART_STATE,$scope.chartState=CHART_STATE.NOT_STARTED;var globalForceStop=!1,indexPattern=$route.current.locals.indexPattern,query={query_string:{analyze_wildcard:!0,query:"*"}},savedSearch=$route.current.locals.savedSearch,searchSource=savedSearch.searchSource,pageTitle="index pattern "+indexPattern.id;void 0===indexPattern.id&&void 0!==savedSearch.id&&(indexPattern=searchSource.get("index"),query=searchSource.get("query"),pageTitle="saved search "+savedSearch.title),$scope.ui={indexPatternId:indexPattern.id,pageTitle:pageTitle,showJobInput:!1,showJobFinished:!1,dirty:!0,formValid:!1,bucketSpanValid:!0,aggTypeOptions:filterAggTypes(aggTypes.byType[METRIC_AGG_TYPE]),fields:[],timeFields:[],intervals:[{title:"Auto",value:"auto"},{title:"Millisecond",value:"ms"},{title:"Second",value:"s"},{title:"Minute",value:"m"},{title:"Hourly",value:"h"},{title:"Daily",value:"d"},{title:"Weekly",value:"w"},{title:"Monthly",value:"M"},{title:"Yearly",value:"y"},{title:"Custom",value:"custom"}],chartHeight:310,showAdvanced:!1},$scope.formConfig={agg:{type:void 0},field:null,bucketSpan:"5m",chartInterval:void 0,resultsIntervalSeconds:void 0,start:0,end:0,timeField:indexPattern.timeFieldName,indexPattern:void 0,query:query,jobId:void 0,description:void 0,mappingTypes:[],useDedicatedIndex:!1},$scope.aggChange=function(){loadFields(),$scope.ui.isFormValid(),$scope.ui.dirty=!0,mlESMappingService.getMappings()},$scope.fieldChange=function(){$scope.ui.isFormValid(),$scope.ui.dirty=!0},$scope.timeFieldChange=function(){$scope.ui.isFormValid(),$scope.ui.dirty=!0},$scope.ui.isFormValid=function(){return void 0===$scope.formConfig.agg.type||void 0===$scope.formConfig.timeField?$scope.ui.formValid=!1:$scope.ui.formValid=!0,$scope.ui.formValid},$scope.loadVis=function(){setTime(),$scope.ui.isFormValid(),$scope.ui.formValid&&($scope.ui.showJobInput=!0,$scope.ui.showJobFinished=!1,$scope.formConfig.indexPattern=indexPattern,$scope.ui.dirty=!1,$scope.chartState=CHART_STATE.LOADING,mlSingleMetricJobService.getLineChartResults($scope.formConfig).then(function(resp){$scope.chartState=resp.length?CHART_STATE.LOADED:CHART_STATE.NO_RESULTS})["catch"](function(resp){msgs.error(resp.message),$scope.chartState=CHART_STATE.NO_RESULTS})["finally"](function(){$scope.$broadcast("render")}))},$scope.changeJobIDCase=function(){$scope.formConfig.jobId&&($scope.formConfig.jobId=$scope.formConfig.jobId.toLowerCase())};var ignoreModel=!1,refreshInterval=REFRESH_INTERVAL_MS;$scope.createJob=function(){function saveNewDatafeed(job,startDatafeedAfterSave){mlJobService.saveNewDatafeed(job.datafeed_config,job.job_id).then(function(){startDatafeedAfterSave&&mlSingleMetricJobService.startDatafeed($scope.formConfig).then(function(){$scope.jobState=JOB_STATE.RUNNING,refreshCounter=0,ignoreModel=!1,refreshInterval=REFRESH_INTERVAL_MS,$scope.formConfig.resultsIntervalSeconds=$scope.formConfig.chartInterval.getInterval().asSeconds();var bucketSpanSeconds=(0,_parse_interval2["default"])($scope.formConfig.bucketSpan).asSeconds();$scope.formConfig.resultsIntervalSeconds<bucketSpanSeconds&&($scope.formConfig.resultsIntervalSeconds=bucketSpanSeconds),loadCharts()})["catch"](function(resp){msgs.error("Could not start datafeed: ",resp)})})["catch"](function(resp){msgs.error("Save datafeed failed: ",resp)})}""!==$scope.formConfig.jobId&&(msgs.clear(),$scope.formConfig.mappingTypes=mlESMappingService.getTypesFromMapping($scope.formConfig.indexPattern.id),mlSingleMetricJobService.createJob($scope.formConfig).then(function(job){mlJobService.openJob(job.job_id).then(function(){saveNewDatafeed(job,!0)})["catch"](function(resp){msgs.error("Could not open job: ",resp),msgs.error("Job created, creating datafeed anyway"),saveNewDatafeed(job,!1)})})["catch"](function(resp){msgs.error("Save failed: ",resp.resp)}))},$scope.setFullTimeRange=function(){mlSingleMetricJobService.indexTimeRange(indexPattern).then(function(resp){timefilter.time.from=(0,_moment2["default"])(resp.start.epoch).toISOString(),timefilter.time.to=(0,_moment2["default"])(resp.end.epoch).toISOString()})["catch"](function(resp){msgs.error(resp.message)})},$scope.resetJob=function(){$scope.jobState=JOB_STATE.NOT_STARTED,_angular2["default"].element(".model-chart, .swimlane").css("opacity",0),_lodash2["default"].each(jobProgressChecks,function(c,i){jobProgressChecks[i]=!1}),window.setTimeout(function(){$scope.ui.showJobInput=!0,$scope.loadVis()},500)},$scope.stopJob=function(){$scope.jobState=JOB_STATE.STOPPING,mlSingleMetricJobService.stopDatafeed($scope.formConfig)},$scope.viewResults=function(page){viewResults({id:$scope.formConfig.jobId},page)},$scope.$listen(timefilter,"fetch",$scope.loadVis),$scope.$on("$destroy",function(){globalForceStop=!0})})},3738:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function parse(text,roundUp){if(text){if(_moment2["default"].isMoment(text))return text;if(_lodash2["default"].isDate(text))return(0,_moment2["default"])(text);var time=void 0,mathString="",index=void 0,parseString=void 0;return"now"===text.substring(0,3)?(time=(0,_moment2["default"])(),mathString=text.substring("now".length)):(index=text.indexOf("||"),index===-1?(parseString=text,mathString=""):(parseString=text.substring(0,index),mathString=text.substring(index+2)),time=(0,_moment2["default"])(parseString)),mathString.length?parseDateMath(mathString,time,roundUp):time}}function parseDateMath(mathString,time,roundUp){for(var dateTime=time,len=mathString.length,i=0;i<len;){var c=mathString.charAt(i++),type=void 0,num=void 0,unit=void 0;if("/"===c)type=0;else if("+"===c)type=1;else{if("-"!==c)return;type=2}if(isNaN(mathString.charAt(i)))num=1;else if(2===mathString.length)num=mathString.charAt(i);else{for(var numFrom=i;!isNaN(mathString.charAt(i));)if(i++,i>10)return;num=parseInt(mathString.substring(numFrom,i),10)}if(0===type&&1!==num)return;unit=mathString.charAt(i++);for(var j=i;j<len;j++){var unitChar=mathString.charAt(i);if(!/[a-z]/i.test(unitChar))break;unit+=unitChar,i++}if(!_lodash2["default"].contains(units,unit))return;0===type?roundUp?dateTime.endOf(unit):dateTime.startOf(unit):1===type?dateTime.add(num,unit):2===type&&dateTime.subtract(num,unit)}return dateTime}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(2799),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(3739),_moment2=_interopRequireDefault(_moment),units=["y","M","w","d","h","m","s","ms"],unitsAsc=_lodash2["default"].sortBy(units,function(unit){return _moment2["default"].duration(1,unit).valueOf()}),unitsDesc=unitsAsc.reverse();exports["default"]={parse:parse,units:Object.freeze(units),unitsAsc:Object.freeze(unitsAsc),unitsDesc:Object.freeze(unitsDesc)},module.exports=exports["default"]},3739:function(module,exports){!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.moment=factory()}(this,function(){"use strict";function utils_hooks__hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(callback){hookCallback=callback}function isArray(input){return input instanceof Array||"[object Array]"===Object.prototype.toString.call(input)}function isDate(input){return input instanceof Date||"[object Date]"===Object.prototype.toString.call(input)}function map(arr,fn){var i,res=[];for(i=0;i<arr.length;++i)res.push(fn(arr[i],i));return res}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b)hasOwnProp(b,i)&&(a[i]=b[i]);return hasOwnProp(b,"toString")&&(a.toString=b.toString),hasOwnProp(b,"valueOf")&&(a.valueOf=b.valueOf),a}function create_utc__createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function getParsingFlags(m){return null==m._pf&&(m._pf=defaultParsingFlags()),m._pf}function valid__isValid(m){if(null==m._isValid){var flags=getParsingFlags(m),parsedParts=some.call(flags.parsedDateParts,function(i){return null!=i});m._isValid=!isNaN(m._d.getTime())&&flags.overflow<0&&!flags.empty&&!flags.invalidMonth&&!flags.invalidWeekday&&!flags.nullInput&&!flags.invalidFormat&&!flags.userInvalidated&&(!flags.meridiem||flags.meridiem&&parsedParts),m._strict&&(m._isValid=m._isValid&&0===flags.charsLeftOver&&0===flags.unusedTokens.length&&void 0===flags.bigHour)}return m._isValid}function valid__createInvalid(flags){var m=create_utc__createUTC(NaN);return null!=flags?extend(getParsingFlags(m),flags):getParsingFlags(m).userInvalidated=!0,m}function isUndefined(input){return void 0===input}function copyConfig(to,from){var i,prop,val;if(isUndefined(from._isAMomentObject)||(to._isAMomentObject=from._isAMomentObject),isUndefined(from._i)||(to._i=from._i),isUndefined(from._f)||(to._f=from._f),isUndefined(from._l)||(to._l=from._l),isUndefined(from._strict)||(to._strict=from._strict),isUndefined(from._tzm)||(to._tzm=from._tzm),isUndefined(from._isUTC)||(to._isUTC=from._isUTC),isUndefined(from._offset)||(to._offset=from._offset),isUndefined(from._pf)||(to._pf=getParsingFlags(from)),isUndefined(from._locale)||(to._locale=from._locale),momentProperties.length>0)for(i in momentProperties)prop=momentProperties[i],val=from[prop],isUndefined(val)||(to[prop]=val);return to}function Moment(config){copyConfig(this,config),this._d=new Date(null!=config._d?config._d.getTime():NaN),updateInProgress===!1&&(updateInProgress=!0,utils_hooks__hooks.updateOffset(this),updateInProgress=!1)}function isMoment(obj){return obj instanceof Moment||null!=obj&&null!=obj._isAMomentObject}function absFloor(number){return number<0?Math.ceil(number):Math.floor(number)}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!==coercedNumber&&isFinite(coercedNumber)&&(value=absFloor(coercedNumber)),value}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;i<len;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function warn(msg){utils_hooks__hooks.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){return null!=utils_hooks__hooks.deprecationHandler&&utils_hooks__hooks.deprecationHandler(null,msg),firstTime&&(warn(msg+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),firstTime=!1),fn.apply(this,arguments)},fn)}function deprecateSimple(name,msg){null!=utils_hooks__hooks.deprecationHandler&&utils_hooks__hooks.deprecationHandler(name,msg),deprecations[name]||(warn(msg),deprecations[name]=!0)}function isFunction(input){return input instanceof Function||"[object Function]"===Object.prototype.toString.call(input)}function isObject(input){return"[object Object]"===Object.prototype.toString.call(input)}function locale_set__set(config){var prop,i;for(i in config)prop=config[i],isFunction(prop)?this[i]=prop:this["_"+i]=prop;this._config=config,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function mergeConfigs(parentConfig,childConfig){var prop,res=extend({},parentConfig);for(prop in childConfig)hasOwnProp(childConfig,prop)&&(isObject(parentConfig[prop])&&isObject(childConfig[prop])?(res[prop]={},extend(res[prop],parentConfig[prop]),extend(res[prop],childConfig[prop])):null!=childConfig[prop]?res[prop]=childConfig[prop]:delete res[prop]);return res}function Locale(config){null!=config&&this.set(config)}function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){for(var j,next,locale,split,i=0;i<names.length;){for(split=normalizeLocale(names[i]).split("-"),j=split.length,next=normalizeLocale(names[i+1]),next=next?next.split("-"):null;j>0;){if(locale=loadLocale(split.slice(0,j).join("-")))return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&"undefined"!=typeof module&&module&&module.exports)try{oldLocale=globalLocale._abbr,require("./locale/"+name),locale_locales__getSetGlobalLocale(oldLocale)}catch(e){}return locales[name]}function locale_locales__getSetGlobalLocale(key,values){var data;return key&&(data=isUndefined(values)?locale_locales__getLocale(key):defineLocale(key,values),data&&(globalLocale=data)),globalLocale._abbr}function defineLocale(name,config){return null!==config?(config.abbr=name,null!=locales[name]?(deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),config=mergeConfigs(locales[name]._config,config)):null!=config.parentLocale&&(null!=locales[config.parentLocale]?config=mergeConfigs(locales[config.parentLocale]._config,config):deprecateSimple("parentLocaleUndefined","specified parentLocale is not defined yet")),locales[name]=new Locale(config),locale_locales__getSetGlobalLocale(name),locales[name]):(delete locales[name],null)}function updateLocale(name,config){if(null!=config){var locale;null!=locales[name]&&(config=mergeConfigs(locales[name]._config,config)),locale=new Locale(config),locale.parentLocale=locales[name],locales[name]=locale,locale_locales__getSetGlobalLocale(name)}else null!=locales[name]&&(null!=locales[name].parentLocale?locales[name]=locales[name].parentLocale:null!=locales[name]&&delete locales[name]);return locales[name]}function locale_locales__getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr&&(key=key._locale._abbr),!key)return globalLocale;if(!isArray(key)){if(locale=loadLocale(key))return locale;key=[key]}return chooseLocale(key)}function locale_locales__listLocales(){return keys(locales)}function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return"string"==typeof units?aliases[units]||aliases[units.toLowerCase()]:void 0}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)hasOwnProp(inputObject,prop)&&(normalizedProp=normalizeUnits(prop),normalizedProp&&(normalizedInput[normalizedProp]=inputObject[prop]));return normalizedInput}function makeGetSet(unit,keepTime){return function(value){return null!=value?(get_set__set(this,unit,value),utils_hooks__hooks.updateOffset(this,keepTime),this):get_set__get(this,unit)}}function get_set__get(mom,unit){return mom.isValid()?mom._d["get"+(mom._isUTC?"UTC":"")+unit]():NaN}function get_set__set(mom,unit,value){mom.isValid()&&mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}function getSet(units,value){var unit;if("object"==typeof units)for(unit in units)this.set(unit,units[unit]);else if(units=normalizeUnits(units),isFunction(this[units]))return this[units](value);return this}function zeroFill(number,targetLength,forceSign){var absNumber=""+Math.abs(number),zerosToFill=targetLength-absNumber.length,sign=number>=0;return(sign?forceSign?"+":"":"-")+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}function addFormatToken(token,padded,ordinal,callback){var func=callback;"string"==typeof callback&&(func=function(){return this[callback]()}),token&&(formatTokenFunctions[token]=func),padded&&(formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}),ordinal&&(formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)})}function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"")}function makeFormatFunction(format){var i,length,array=format.match(formattingTokens);for(i=0,length=array.length;i<length;i++)formatTokenFunctions[array[i]]?array[i]=formatTokenFunctions[array[i]]:array[i]=removeFormattingTokens(array[i]);return function(mom){var i,output="";for(i=0;i<length;i++)output+=array[i]instanceof Function?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict,localeData){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){return hasOwnProp(regexes,token)?regexes[token](config._strict,config._locale):new RegExp(unescapeFormat(token))}function unescapeFormat(s){return regexEscape(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}))}function regexEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function addParseToken(token,callback){var i,func=callback;for("string"==typeof token&&(token=[token]),"number"==typeof callback&&(func=function(input,array){array[callback]=toInt(input)}),i=0;i<token.length;i++)tokens[token[i]]=func}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{},callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){null!=input&&hasOwnProp(tokens,token)&&tokens[token](input,config._a,config,token)}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function localeMonths(m,format){return isArray(this._months)?this._months[m.month()]:this._months[MONTHS_IN_FORMAT.test(format)?"format":"standalone"][m.month()]}function localeMonthsShort(m,format){return isArray(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(format)?"format":"standalone"][m.month()]}function units_month__handleStrictParse(monthName,format,strict){var i,ii,mom,llc=monthName.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)mom=create_utc__createUTC([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(mom,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(mom,"").toLocaleLowerCase();return strict?"MMM"===format?(ii=indexOf.call(this._shortMonthsParse,llc),ii!==-1?ii:null):(ii=indexOf.call(this._longMonthsParse,llc),ii!==-1?ii:null):"MMM"===format?(ii=indexOf.call(this._shortMonthsParse,llc),ii!==-1?ii:(ii=indexOf.call(this._longMonthsParse,llc),ii!==-1?ii:null)):(ii=indexOf.call(this._longMonthsParse,llc),ii!==-1?ii:(ii=indexOf.call(this._shortMonthsParse,llc),ii!==-1?ii:null))}function localeMonthsParse(monthName,format,strict){var i,mom,regex;if(this._monthsParseExact)return units_month__handleStrictParse.call(this,monthName,format,strict);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(mom=create_utc__createUTC([2e3,i]),strict&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")),strict||this._monthsParse[i]||(regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"MMMM"===format&&this._longMonthsParse[i].test(monthName))return i;if(strict&&"MMM"===format&&this._shortMonthsParse[i].test(monthName))return i;if(!strict&&this._monthsParse[i].test(monthName))return i}}function setMonth(mom,value){var dayOfMonth;if(!mom.isValid())return mom;if("string"==typeof value)if(/^\d+$/.test(value))value=toInt(value);else if(value=mom.localeData().monthsParse(value),"number"!=typeof value)return mom;return dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom}function getSetMonth(value){return null!=value?(setMonth(this,value),utils_hooks__hooks.updateOffset(this,!0),this):get_set__get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&isStrict?this._monthsShortStrictRegex:this._monthsShortRegex}function monthsRegex(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&isStrict?this._monthsStrictRegex:this._monthsRegex}function computeMonthsParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,shortPieces=[],longPieces=[],mixedPieces=[];
for(i=0;i<12;i++)mom=create_utc__createUTC([2e3,i]),shortPieces.push(this.monthsShort(mom,"")),longPieces.push(this.months(mom,"")),mixedPieces.push(this.months(mom,"")),mixedPieces.push(this.monthsShort(mom,""));for(shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;i<12;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]),mixedPieces[i]=regexEscape(mixedPieces[i]);this._monthsRegex=new RegExp("^("+mixedPieces.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+longPieces.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i")}function checkOverflow(m){var overflow,a=m._a;return a&&getParsingFlags(m).overflow===-2&&(overflow=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||24===a[HOUR]&&(0!==a[MINUTE]||0!==a[SECOND]||0!==a[MILLISECOND])?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(m)._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)&&(overflow=DATE),getParsingFlags(m)._overflowWeeks&&overflow===-1&&(overflow=WEEK),getParsingFlags(m)._overflowWeekday&&overflow===-1&&(overflow=WEEKDAY),getParsingFlags(m).overflow=overflow),m}function configFromISO(config){var i,l,allowTime,dateFormat,timeFormat,tzFormat,string=config._i,match=extendedIsoRegex.exec(string)||basicIsoRegex.exec(string);if(match){for(getParsingFlags(config).iso=!0,i=0,l=isoDates.length;i<l;i++)if(isoDates[i][1].exec(match[1])){dateFormat=isoDates[i][0],allowTime=isoDates[i][2]!==!1;break}if(null==dateFormat)return void(config._isValid=!1);if(match[3]){for(i=0,l=isoTimes.length;i<l;i++)if(isoTimes[i][1].exec(match[3])){timeFormat=(match[2]||" ")+isoTimes[i][0];break}if(null==timeFormat)return void(config._isValid=!1)}if(!allowTime&&null!=timeFormat)return void(config._isValid=!1);if(match[4]){if(!tzRegex.exec(match[4]))return void(config._isValid=!1);tzFormat="Z"}config._f=dateFormat+(timeFormat||"")+(tzFormat||""),configFromStringAndFormat(config)}else config._isValid=!1}function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);return null!==matched?void(config._d=new Date((+matched[1]))):(configFromISO(config),void(config._isValid===!1&&(delete config._isValid,utils_hooks__hooks.createFromInputFallback(config))))}function createDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return y<100&&y>=0&&isFinite(date.getFullYear())&&date.setFullYear(y),date}function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return y<100&&y>=0&&isFinite(date.getUTCFullYear())&&date.setUTCFullYear(y),date}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}function getIsLeapYear(){return isLeapYear(this.year())}function firstWeekOffset(year,dow,doy){var fwd=7+dow-doy,fwdlw=(7+createUTCDate(year,0,fwd).getUTCDay()-dow)%7;return-fwdlw+fwd-1}function dayOfYearFromWeeks(year,week,weekday,dow,doy){var resYear,resDayOfYear,localWeekday=(7+weekday-dow)%7,weekOffset=firstWeekOffset(year,dow,doy),dayOfYear=1+7*(week-1)+localWeekday+weekOffset;return dayOfYear<=0?(resYear=year-1,resDayOfYear=daysInYear(resYear)+dayOfYear):dayOfYear>daysInYear(year)?(resYear=year+1,resDayOfYear=dayOfYear-daysInYear(year)):(resYear=year,resDayOfYear=dayOfYear),{year:resYear,dayOfYear:resDayOfYear}}function weekOfYear(mom,dow,doy){var resWeek,resYear,weekOffset=firstWeekOffset(mom.year(),dow,doy),week=Math.floor((mom.dayOfYear()-weekOffset-1)/7)+1;return week<1?(resYear=mom.year()-1,resWeek=week+weeksInYear(resYear,dow,doy)):week>weeksInYear(mom.year(),dow,doy)?(resWeek=week-weeksInYear(mom.year(),dow,doy),resYear=mom.year()+1):(resYear=mom.year(),resWeek=week),{week:resWeek,year:resYear}}function weeksInYear(year,dow,doy){var weekOffset=firstWeekOffset(year,dow,doy),weekOffsetNext=firstWeekOffset(year+1,dow,doy);return(daysInYear(year)-weekOffset+weekOffsetNext)/7}function defaults(a,b,c){return null!=a?a:null!=b?b:c}function currentDateArray(config){var nowValue=new Date(utils_hooks__hooks.now());return config._useUTC?[nowValue.getUTCFullYear(),nowValue.getUTCMonth(),nowValue.getUTCDate()]:[nowValue.getFullYear(),nowValue.getMonth(),nowValue.getDate()]}function configFromArray(config){var i,date,currentDate,yearToUse,input=[];if(!config._d){for(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&dayOfYearFromWeekInfo(config),config._dayOfYear&&(yearToUse=defaults(config._a[YEAR],currentDate[YEAR]),config._dayOfYear>daysInYear(yearToUse)&&(getParsingFlags(config)._overflowDayOfYear=!0),date=createUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;i<3&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;i<7;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];24===config._a[HOUR]&&0===config._a[MINUTE]&&0===config._a[SECOND]&&0===config._a[MILLISECOND]&&(config._nextDay=!0,config._a[HOUR]=0),config._d=(config._useUTC?createUTCDate:createDate).apply(null,input),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),config._nextDay&&(config._a[HOUR]=24)}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp,weekdayOverflow;w=config._w,null!=w.GG||null!=w.W||null!=w.E?(dow=1,doy=4,weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(local__createLocal(),1,4).year),week=defaults(w.W,1),weekday=defaults(w.E,1),(weekday<1||weekday>7)&&(weekdayOverflow=!0)):(dow=config._locale._week.dow,doy=config._locale._week.doy,weekYear=defaults(w.gg,config._a[YEAR],weekOfYear(local__createLocal(),dow,doy).year),week=defaults(w.w,1),null!=w.d?(weekday=w.d,(weekday<0||weekday>6)&&(weekdayOverflow=!0)):null!=w.e?(weekday=w.e+dow,(w.e<0||w.e>6)&&(weekdayOverflow=!0)):weekday=dow),week<1||week>weeksInYear(weekYear,dow,doy)?getParsingFlags(config)._overflowWeeks=!0:null!=weekdayOverflow?getParsingFlags(config)._overflowWeekday=!0:(temp=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear)}function configFromStringAndFormat(config){if(config._f===utils_hooks__hooks.ISO_8601)return void configFromISO(config);config._a=[],getParsingFlags(config).empty=!0;var i,parsedInput,tokens,token,skipped,string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0],parsedInput&&(skipped=string.substr(0,string.indexOf(parsedInput)),skipped.length>0&&getParsingFlags(config).unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?getParsingFlags(config).empty=!1:getParsingFlags(config).unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&getParsingFlags(config).unusedTokens.push(token);getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength,string.length>0&&getParsingFlags(config).unusedInput.push(string),getParsingFlags(config).bigHour===!0&&config._a[HOUR]<=12&&config._a[HOUR]>0&&(getParsingFlags(config).bigHour=void 0),getParsingFlags(config).parsedDateParts=config._a.slice(0),getParsingFlags(config).meridiem=config._meridiem,config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem),configFromArray(config),checkOverflow(config)}function meridiemFixWrap(locale,hour,meridiem){var isPm;return null==meridiem?hour:null!=locale.meridiemHour?locale.meridiemHour(hour,meridiem):null!=locale.isPM?(isPm=locale.isPM(meridiem),isPm&&hour<12&&(hour+=12),isPm||12!==hour||(hour=0),hour):hour}function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return getParsingFlags(config).invalidFormat=!0,void(config._d=new Date(NaN));for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=copyConfig({},config),null!=config._useUTC&&(tempConfig._useUTC=config._useUTC),tempConfig._f=config._f[i],configFromStringAndFormat(tempConfig),valid__isValid(tempConfig)&&(currentScore+=getParsingFlags(tempConfig).charsLeftOver,currentScore+=10*getParsingFlags(tempConfig).unusedTokens.length,getParsingFlags(tempConfig).score=currentScore,(null==scoreToBeat||currentScore<scoreToBeat)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}function configFromObject(config){if(!config._d){var i=normalizeObjectUnits(config._i);config._a=map([i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],function(obj){return obj&&parseInt(obj,10)}),configFromArray(config)}}function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));return res._nextDay&&(res.add(1,"d"),res._nextDay=void 0),res}function prepareConfig(config){var input=config._i,format=config._f;return config._locale=config._locale||locale_locales__getLocale(config._l),null===input||void 0===format&&""===input?valid__createInvalid({nullInput:!0}):("string"==typeof input&&(config._i=input=config._locale.preparse(input)),isMoment(input)?new Moment(checkOverflow(input)):(isArray(format)?configFromStringAndArray(config):format?configFromStringAndFormat(config):isDate(input)?config._d=input:configFromInput(config),valid__isValid(config)||(config._d=null),config))}function configFromInput(config){var input=config._i;void 0===input?config._d=new Date(utils_hooks__hooks.now()):isDate(input)?config._d=new Date(input.valueOf()):"string"==typeof input?configFromString(config):isArray(input)?(config._a=map(input.slice(0),function(obj){return parseInt(obj,10)}),configFromArray(config)):"object"==typeof input?configFromObject(config):"number"==typeof input?config._d=new Date(input):utils_hooks__hooks.createFromInputFallback(config)}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};return"boolean"==typeof locale&&(strict=locale,locale=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=isUTC,c._l=locale,c._i=input,c._f=format,c._strict=strict,createFromConfig(c)}function local__createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!1)}function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return local__createLocal();for(res=moments[0],i=1;i<moments.length;++i)moments[i].isValid()&&!moments[i][fn](res)||(res=moments[i]);return res}function min(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)}function max(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+1e3*hours*60*60,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=locale_locales__getLocale(),this._bubble()}function isDuration(obj){return obj instanceof Duration}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset(),sign="+";return offset<0&&(offset=-offset,sign="-"),sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}function offsetFromString(matcher,string){var matches=(string||"").match(matcher)||[],chunk=matches[matches.length-1]||[],parts=(chunk+"").match(chunkOffset)||["-",0,0],minutes=+(60*parts[1])+toInt(parts[2]);return"+"===parts[0]?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;return model._isUTC?(res=model.clone(),diff=(isMoment(input)||isDate(input)?input.valueOf():local__createLocal(input).valueOf())-res.valueOf(),res._d.setTime(res._d.valueOf()+diff),utils_hooks__hooks.updateOffset(res,!1),res):local__createLocal(input).local()}function getDateOffset(m){return 15*-Math.round(m._d.getTimezoneOffset()/15)}function getSetOffset(input,keepLocalTime){var localAdjust,offset=this._offset||0;return this.isValid()?null!=input?("string"==typeof input?input=offsetFromString(matchShortOffset,input):Math.abs(input)<16&&(input=60*input),!this._isUTC&&keepLocalTime&&(localAdjust=getDateOffset(this)),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.add(localAdjust,"m"),offset!==input&&(!keepLocalTime||this._changeInProgress?add_subtract__addSubtract(this,create__createDuration(input-offset,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,utils_hooks__hooks.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?offset:getDateOffset(this):null!=input?this:NaN}function getSetZone(input,keepLocalTime){return null!=input?("string"!=typeof input&&(input=-input),this.utcOffset(input,keepLocalTime),this):-this.utcOffset()}function setOffsetToUTC(keepLocalTime){return this.utcOffset(0,keepLocalTime)}function setOffsetToLocal(keepLocalTime){return this._isUTC&&(this.utcOffset(0,keepLocalTime),this._isUTC=!1,keepLocalTime&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(offsetFromString(matchOffset,this._i)),this}function hasAlignedHourOffset(input){return!!this.isValid()&&(input=input?local__createLocal(input).utcOffset():0,(this.utcOffset()-input)%60===0)}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var c={};if(copyConfig(c,this),c=prepareConfig(c),c._a){var other=c._isUTC?create_utc__createUTC(c._a):local__createLocal(c._a);this._isDSTShifted=this.isValid()&&compareArrays(c._a,other.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function isLocal(){return!!this.isValid()&&!this._isUTC}function isUtcOffset(){return!!this.isValid()&&this._isUTC}function isUtc(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function create__createDuration(input,key){var sign,ret,diffRes,duration=input,match=null;return isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:"number"==typeof input?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}):(match=isoRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),w:parseIso(match[4],sign),d:parseIso(match[5],sign),h:parseIso(match[6],sign),m:parseIso(match[7],sign),s:parseIso(match[8],sign)}):null==duration?duration={}:"object"==typeof duration&&("from"in duration||"to"in duration)&&(diffRes=momentsDifference(local__createLocal(duration.from),local__createLocal(duration.to)),duration={},duration.ms=diffRes.milliseconds,duration.M=diffRes.months),ret=new Duration(duration),isDuration(input)&&hasOwnProp(input,"_locale")&&(ret._locale=input._locale),ret}function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function momentsDifference(base,other){var res;return base.isValid()&&other.isValid()?(other=cloneWithOffset(other,base),base.isBefore(other)?res=positiveMomentsDifference(base,other):(res=positiveMomentsDifference(other,base),res.milliseconds=-res.milliseconds,res.months=-res.months),res):{milliseconds:0,months:0}}function absRound(number){return number<0?Math.round(-1*number)*-1:Math.round(number)}function createAdder(direction,name){return function(val,period){var dur,tmp;return null===period||isNaN(+period)||(deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period)."),tmp=val,val=period,period=tmp),val="string"==typeof val?+val:val,dur=create__createDuration(val,period),add_subtract__addSubtract(this,dur,direction),this}}function add_subtract__addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=absRound(duration._days),months=absRound(duration._months);mom.isValid()&&(updateOffset=null==updateOffset||updateOffset,milliseconds&&mom._d.setTime(mom._d.valueOf()+milliseconds*isAdding),days&&get_set__set(mom,"Date",get_set__get(mom,"Date")+days*isAdding),months&&setMonth(mom,get_set__get(mom,"Month")+months*isAdding),updateOffset&&utils_hooks__hooks.updateOffset(mom,days||months))}function moment_calendar__calendar(time,formats){var now=time||local__createLocal(),sod=cloneWithOffset(now,this).startOf("day"),diff=this.diff(sod,"days",!0),format=diff<-6?"sameElse":diff<-1?"lastWeek":diff<0?"lastDay":diff<1?"sameDay":diff<2?"nextDay":diff<7?"nextWeek":"sameElse",output=formats&&(isFunction(formats[format])?formats[format]():formats[format]);return this.format(output||this.localeData().calendar(format,this,local__createLocal(now)))}function clone(){return new Moment(this)}function isAfter(input,units){var localInput=isMoment(input)?input:local__createLocal(input);return!(!this.isValid()||!localInput.isValid())&&(units=normalizeUnits(isUndefined(units)?"millisecond":units),"millisecond"===units?this.valueOf()>localInput.valueOf():localInput.valueOf()<this.clone().startOf(units).valueOf())}function isBefore(input,units){var localInput=isMoment(input)?input:local__createLocal(input);return!(!this.isValid()||!localInput.isValid())&&(units=normalizeUnits(isUndefined(units)?"millisecond":units),"millisecond"===units?this.valueOf()<localInput.valueOf():this.clone().endOf(units).valueOf()<localInput.valueOf())}function isBetween(from,to,units,inclusivity){return inclusivity=inclusivity||"()",("("===inclusivity[0]?this.isAfter(from,units):!this.isBefore(from,units))&&(")"===inclusivity[1]?this.isBefore(to,units):!this.isAfter(to,units))}function isSame(input,units){var inputMs,localInput=isMoment(input)?input:local__createLocal(input);return!(!this.isValid()||!localInput.isValid())&&(units=normalizeUnits(units||"millisecond"),"millisecond"===units?this.valueOf()===localInput.valueOf():(inputMs=localInput.valueOf(),this.clone().startOf(units).valueOf()<=inputMs&&inputMs<=this.clone().endOf(units).valueOf()))}function isSameOrAfter(input,units){return this.isSame(input,units)||this.isAfter(input,units)}function isSameOrBefore(input,units){return this.isSame(input,units)||this.isBefore(input,units)}function diff(input,units,asFloat){var that,zoneDelta,delta,output;return this.isValid()?(that=cloneWithOffset(input,this),that.isValid()?(zoneDelta=6e4*(that.utcOffset()-this.utcOffset()),units=normalizeUnits(units),"year"===units||"month"===units||"quarter"===units?(output=monthDiff(this,that),"quarter"===units?output/=3:"year"===units&&(output/=12)):(delta=this-that,output="second"===units?delta/1e3:"minute"===units?delta/6e4:"hour"===units?delta/36e5:"day"===units?(delta-zoneDelta)/864e5:"week"===units?(delta-zoneDelta)/6048e5:delta),asFloat?output:absFloor(output)):NaN):NaN}function monthDiff(a,b){var anchor2,adjust,wholeMonthDiff=12*(b.year()-a.year())+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months");return b-anchor<0?(anchor2=a.clone().add(wholeMonthDiff-1,"months"),adjust=(b-anchor)/(anchor-anchor2)):(anchor2=a.clone().add(wholeMonthDiff+1,"months"),adjust=(b-anchor)/(anchor2-anchor)),-(wholeMonthDiff+adjust)||0}function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function moment_format__toISOString(){var m=this.clone().utc();return 0<m.year()&&m.year()<=9999?isFunction(Date.prototype.toISOString)?this.toDate().toISOString():formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function format(inputString){inputString||(inputString=this.isUtc()?utils_hooks__hooks.defaultFormatUtc:utils_hooks__hooks.defaultFormat);var output=formatMoment(this,inputString);return this.localeData().postformat(output)}function from(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||local__createLocal(time).isValid())?create__createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()}function fromNow(withoutSuffix){return this.from(local__createLocal(),withoutSuffix)}function to(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||local__createLocal(time).isValid())?create__createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()}function toNow(withoutSuffix){return this.to(local__createLocal(),withoutSuffix)}function locale(key){var newLocaleData;return void 0===key?this._locale._abbr:(newLocaleData=locale_locales__getLocale(key),null!=newLocaleData&&(this._locale=newLocaleData),this)}function localeData(){return this._locale}function startOf(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units&&this.weekday(0),"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this}function endOf(units){return units=normalizeUnits(units),void 0===units||"millisecond"===units?this:("date"===units&&(units="day"),this.startOf(units).add(1,"isoWeek"===units?"week":units).subtract(1,"ms"))}function to_type__valueOf(){return this._d.valueOf()-6e4*(this._offset||0)}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return this._offset?new Date(this.valueOf()):this._d}function toArray(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]}function toObject(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function moment_valid__isValid(){return valid__isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}function getSetWeekYear(input){return getSetWeekYearHelper.call(this,input,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(input){return getSetWeekYearHelper.call(this,input,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)}function getSetWeekYearHelper(input,week,weekday,dow,doy){var weeksTarget;return null==input?weekOfYear(this,dow,doy).year:(weeksTarget=weeksInYear(input,dow,doy),week>weeksTarget&&(week=weeksTarget),setWeekAll.call(this,input,week,weekday,dow,doy))}function setWeekAll(weekYear,week,weekday,dow,doy){var dayOfYearData=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),date=createUTCDate(dayOfYearData.year,0,dayOfYearData.dayOfYear);return this.year(date.getUTCFullYear()),this.month(date.getUTCMonth()),this.date(date.getUTCDate()),this}function getSetQuarter(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)}function localeWeek(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week}function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")}function getSetISOWeek(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")}function parseWeekday(input,locale){return"string"!=typeof input?input:isNaN(input)?(input=locale.weekdaysParse(input),"number"==typeof input?input:null):parseInt(input,10)}function localeWeekdays(m,format){return isArray(this._weekdays)?this._weekdays[m.day()]:this._weekdays[this._weekdays.isFormat.test(format)?"format":"standalone"][m.day()]}function localeWeekdaysShort(m){return this._weekdaysShort[m.day()]}function localeWeekdaysMin(m){return this._weekdaysMin[m.day()]}function day_of_week__handleStrictParse(weekdayName,format,strict){var i,ii,mom,llc=weekdayName.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)mom=create_utc__createUTC([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(mom,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(mom,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(mom,"").toLocaleLowerCase();return strict?"dddd"===format?(ii=indexOf.call(this._weekdaysParse,llc),ii!==-1?ii:null):"ddd"===format?(ii=indexOf.call(this._shortWeekdaysParse,llc),ii!==-1?ii:null):(ii=indexOf.call(this._minWeekdaysParse,llc),ii!==-1?ii:null):"dddd"===format?(ii=indexOf.call(this._weekdaysParse,llc),ii!==-1?ii:(ii=indexOf.call(this._shortWeekdaysParse,llc),ii!==-1?ii:(ii=indexOf.call(this._minWeekdaysParse,llc),ii!==-1?ii:null))):"ddd"===format?(ii=indexOf.call(this._shortWeekdaysParse,llc),ii!==-1?ii:(ii=indexOf.call(this._weekdaysParse,llc),ii!==-1?ii:(ii=indexOf.call(this._minWeekdaysParse,llc),ii!==-1?ii:null))):(ii=indexOf.call(this._minWeekdaysParse,llc),ii!==-1?ii:(ii=indexOf.call(this._weekdaysParse,llc),ii!==-1?ii:(ii=indexOf.call(this._shortWeekdaysParse,llc),ii!==-1?ii:null)))}function localeWeekdaysParse(weekdayName,format,strict){var i,mom,regex;if(this._weekdaysParseExact)return day_of_week__handleStrictParse.call(this,weekdayName,format,strict);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(mom=create_utc__createUTC([2e3,1]).day(i),strict&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(mom,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(mom,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(mom,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"dddd"===format&&this._fullWeekdaysParse[i].test(weekdayName))return i;if(strict&&"ddd"===format&&this._shortWeekdaysParse[i].test(weekdayName))return i;if(strict&&"dd"===format&&this._minWeekdaysParse[i].test(weekdayName))return i;if(!strict&&this._weekdaysParse[i].test(weekdayName))return i}}function getSetDayOfWeek(input){if(!this.isValid())return null!=input?this:NaN;var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=parseWeekday(input,this.localeData()),this.add(input-day,"d")):day}function getSetLocaleDayOfWeek(input){if(!this.isValid())return null!=input?this:NaN;var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")}function getSetISODayOfWeek(input){return this.isValid()?null==input?this.day()||7:this.day(this.day()%7?input:input-7):null!=input?this:NaN}function weekdaysRegex(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&isStrict?this._weekdaysStrictRegex:this._weekdaysRegex}function weekdaysShortRegex(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}function weekdaysMinRegex(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}function computeWeekdaysParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,minp,shortp,longp,minPieces=[],shortPieces=[],longPieces=[],mixedPieces=[];for(i=0;i<7;i++)mom=create_utc__createUTC([2e3,1]).day(i),minp=this.weekdaysMin(mom,""),shortp=this.weekdaysShort(mom,""),longp=this.weekdays(mom,""),minPieces.push(minp),shortPieces.push(shortp),longPieces.push(longp),mixedPieces.push(minp),mixedPieces.push(shortp),mixedPieces.push(longp);for(minPieces.sort(cmpLenRev),shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;i<7;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]),mixedPieces[i]=regexEscape(mixedPieces[i]);this._weekdaysRegex=new RegExp("^("+mixedPieces.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+longPieces.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+minPieces.join("|")+")","i")}function getSetDayOfYear(input){var dayOfYear=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}function matchMeridiem(isStrict,locale){return locale._meridiemParse}function localeIsPM(input){return"p"===(input+"").toLowerCase().charAt(0)}function localeMeridiem(hours,minutes,isLower){return hours>11?isLower?"pm":"PM":isLower?"am":"AM"}function parseMs(input,array){array[MILLISECOND]=toInt(1e3*("0."+input))}function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}function moment__createUnix(input){return local__createLocal(1e3*input)}function moment__createInZone(){return local__createLocal.apply(null,arguments).parseZone()}function locale_calendar__calendar(key,mom,now){var output=this._calendar[key];return isFunction(output)?output.call(mom,now):output}function longDateFormat(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];return format||!formatUpper?format:(this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key])}function invalidDate(){return this._invalidDate}function ordinal(number){return this._ordinal.replace("%d",number)}function preParsePostFormat(string){return string}function relative__relativeTime(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return isFunction(output)?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)}function pastFuture(diff,output){
var format=this._relativeTime[diff>0?"future":"past"];return isFunction(format)?format(output):format.replace(/%s/i,output)}function lists__get(format,index,field,setter){var locale=locale_locales__getLocale(),utc=create_utc__createUTC().set(setter,index);return locale[field](utc,format)}function listMonthsImpl(format,index,field){if("number"==typeof format&&(index=format,format=void 0),format=format||"",null!=index)return lists__get(format,index,field,"month");var i,out=[];for(i=0;i<12;i++)out[i]=lists__get(format,i,field,"month");return out}function listWeekdaysImpl(localeSorted,format,index,field){"boolean"==typeof localeSorted?("number"==typeof format&&(index=format,format=void 0),format=format||""):(format=localeSorted,index=format,localeSorted=!1,"number"==typeof format&&(index=format,format=void 0),format=format||"");var locale=locale_locales__getLocale(),shift=localeSorted?locale._week.dow:0;if(null!=index)return lists__get(format,(index+shift)%7,field,"day");var i,out=[];for(i=0;i<7;i++)out[i]=lists__get(format,(i+shift)%7,field,"day");return out}function lists__listMonths(format,index){return listMonthsImpl(format,index,"months")}function lists__listMonthsShort(format,index){return listMonthsImpl(format,index,"monthsShort")}function lists__listWeekdays(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdays")}function lists__listWeekdaysShort(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysShort")}function lists__listWeekdaysMin(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysMin")}function duration_abs__abs(){var data=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),data.milliseconds=mathAbs(data.milliseconds),data.seconds=mathAbs(data.seconds),data.minutes=mathAbs(data.minutes),data.hours=mathAbs(data.hours),data.months=mathAbs(data.months),data.years=mathAbs(data.years),this}function duration_add_subtract__addSubtract(duration,input,value,direction){var other=create__createDuration(input,value);return duration._milliseconds+=direction*other._milliseconds,duration._days+=direction*other._days,duration._months+=direction*other._months,duration._bubble()}function duration_add_subtract__add(input,value){return duration_add_subtract__addSubtract(this,input,value,1)}function duration_add_subtract__subtract(input,value){return duration_add_subtract__addSubtract(this,input,value,-1)}function absCeil(number){return number<0?Math.floor(number):Math.ceil(number)}function bubble(){var seconds,minutes,hours,years,monthsFromDays,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;return milliseconds>=0&&days>=0&&months>=0||milliseconds<=0&&days<=0&&months<=0||(milliseconds+=864e5*absCeil(monthsToDays(months)+days),days=0,months=0),data.milliseconds=milliseconds%1e3,seconds=absFloor(milliseconds/1e3),data.seconds=seconds%60,minutes=absFloor(seconds/60),data.minutes=minutes%60,hours=absFloor(minutes/60),data.hours=hours%24,days+=absFloor(hours/24),monthsFromDays=absFloor(daysToMonths(days)),months+=monthsFromDays,days-=absCeil(monthsToDays(monthsFromDays)),years=absFloor(months/12),months%=12,data.days=days,data.months=months,data.years=years,this}function daysToMonths(days){return 4800*days/146097}function monthsToDays(months){return 146097*months/4800}function as(units){var days,months,milliseconds=this._milliseconds;if(units=normalizeUnits(units),"month"===units||"year"===units)return days=this._days+milliseconds/864e5,months=this._months+daysToMonths(days),"month"===units?months:months/12;switch(days=this._days+Math.round(monthsToDays(this._months)),units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return 24*days+milliseconds/36e5;case"minute":return 1440*days+milliseconds/6e4;case"second":return 86400*days+milliseconds/1e3;case"millisecond":return Math.floor(864e5*days)+milliseconds;default:throw new Error("Unknown unit "+units)}}function duration_as__valueOf(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12)}function makeAs(alias){return function(){return this.as(alias)}}function duration_get__get(units){return units=normalizeUnits(units),this[units+"s"]()}function makeGetter(name){return function(){return this._data[name]}}function weeks(){return absFloor(this.days()/7)}function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function duration_humanize__relativeTime(posNegDuration,withoutSuffix,locale){var duration=create__createDuration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),a=seconds<thresholds.s&&["s",seconds]||minutes<=1&&["m"]||minutes<thresholds.m&&["mm",minutes]||hours<=1&&["h"]||hours<thresholds.h&&["hh",hours]||days<=1&&["d"]||days<thresholds.d&&["dd",days]||months<=1&&["M"]||months<thresholds.M&&["MM",months]||years<=1&&["y"]||["yy",years];return a[2]=withoutSuffix,a[3]=+posNegDuration>0,a[4]=locale,substituteTimeAgo.apply(null,a)}function duration_humanize__getSetRelativeTimeThreshold(threshold,limit){return void 0!==thresholds[threshold]&&(void 0===limit?thresholds[threshold]:(thresholds[threshold]=limit,!0))}function humanize(withSuffix){var locale=this.localeData(),output=duration_humanize__relativeTime(this,!withSuffix,locale);return withSuffix&&(output=locale.pastFuture(+this,output)),locale.postformat(output)}function iso_string__toISOString(){var minutes,hours,years,seconds=iso_string__abs(this._milliseconds)/1e3,days=iso_string__abs(this._days),months=iso_string__abs(this._months);minutes=absFloor(seconds/60),hours=absFloor(minutes/60),seconds%=60,minutes%=60,years=absFloor(months/12),months%=12;var Y=years,M=months,D=days,h=hours,m=minutes,s=seconds,total=this.asSeconds();return total?(total<0?"-":"")+"P"+(Y?Y+"Y":"")+(M?M+"M":"")+(D?D+"D":"")+(h||m||s?"T":"")+(h?h+"H":"")+(m?m+"M":"")+(s?s+"S":""):"P0D"}var hookCallback,some;some=Array.prototype.some?Array.prototype.some:function(fun){for(var t=Object(this),len=t.length>>>0,i=0;i<len;i++)if(i in t&&fun.call(this,t[i],i,t))return!0;return!1};var momentProperties=utils_hooks__hooks.momentProperties=[],updateInProgress=!1,deprecations={};utils_hooks__hooks.suppressDeprecationWarnings=!1,utils_hooks__hooks.deprecationHandler=null;var keys;keys=Object.keys?Object.keys:function(obj){var i,res=[];for(i in obj)hasOwnProp(obj,i)&&res.push(i);return res};var globalLocale,indexOf,locales={},aliases={},formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={},match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,regexes={},tokens={},YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;indexOf=Array.prototype.indexOf?Array.prototype.indexOf:function(o){var i;for(i=0;i<this.length;++i)if(this[i]===o)return i;return-1},addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)}),addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)}),addUnitAlias("month","M"),addRegexToken("M",match1to2),addRegexToken("MM",match1to2,match2),addRegexToken("MMM",function(isStrict,locale){return locale.monthsShortRegex(isStrict)}),addRegexToken("MMMM",function(isStrict,locale){return locale.monthsRegex(isStrict)}),addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1}),addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);null!=month?array[MONTH]=month:getParsingFlags(config).invalidMonth=input});var MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord,extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;utils_hooks__hooks.createFromInputFallback=deprecate("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))}),addFormatToken("Y",0,0,function(){var y=this.year();return y<=9999?""+y:"+"+y}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addRegexToken("Y",matchSigned),addRegexToken("YY",match1to2,match2),addRegexToken("YYYY",match1to4,match4),addRegexToken("YYYYY",match1to6,match6),addRegexToken("YYYYYY",match1to6,match6),addParseToken(["YYYYY","YYYYYY"],YEAR),addParseToken("YYYY",function(input,array){array[YEAR]=2===input.length?utils_hooks__hooks.parseTwoDigitYear(input):toInt(input)}),addParseToken("YY",function(input,array){array[YEAR]=utils_hooks__hooks.parseTwoDigitYear(input)}),addParseToken("Y",function(input,array){array[YEAR]=parseInt(input,10)}),utils_hooks__hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);utils_hooks__hooks.ISO_8601=function(){};var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var other=local__createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?other<this?this:other:valid__createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var other=local__createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?other>this?this:other:valid__createInvalid()}),now=function(){return Date.now?Date.now():+new Date};offset("Z",":"),offset("ZZ",""),addRegexToken("Z",matchShortOffset),addRegexToken("ZZ",matchShortOffset),addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=!0,config._tzm=offsetFromString(matchShortOffset,input)});var chunkOffset=/([\+\-]|\d\d)/gi;utils_hooks__hooks.updateOffset=function(){};var aspNetRegex=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,isoRegex=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;create__createDuration.fn=Duration.prototype;var add_subtract__add=createAdder(1,"add"),add_subtract__subtract=createAdder(-1,"subtract");utils_hooks__hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",utils_hooks__hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){return void 0===key?this.localeData():this.locale(key)});addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addRegexToken("G",matchSigned),addRegexToken("g",matchSigned),addRegexToken("GG",match1to2,match2),addRegexToken("gg",match1to2,match2),addRegexToken("GGGG",match1to4,match4),addRegexToken("gggg",match1to4,match4),addRegexToken("GGGGG",match1to6,match6),addRegexToken("ggggg",match1to6,match6),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)}),addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=utils_hooks__hooks.parseTwoDigitYear(input)}),addFormatToken("Q",0,"Qo","quarter"),addUnitAlias("quarter","Q"),addRegexToken("Q",match1),addParseToken("Q",function(input,array){array[MONTH]=3*(toInt(input)-1)}),addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addRegexToken("w",match1to2),addRegexToken("ww",match1to2,match2),addRegexToken("W",match1to2),addRegexToken("WW",match1to2,match2),addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});var defaultLocaleWeek={dow:0,doy:6};addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addRegexToken("D",match1to2),addRegexToken("DD",match1to2,match2),addRegexToken("Do",function(isStrict,locale){return isStrict?locale._ordinalParse:locale._ordinalParseLenient}),addParseToken(["D","DD"],DATE),addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(match1to2)[0],10)});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)}),addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)}),addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addRegexToken("d",match1to2),addRegexToken("e",match1to2),addRegexToken("E",match1to2),addRegexToken("dd",function(isStrict,locale){return locale.weekdaysMinRegex(isStrict)}),addRegexToken("ddd",function(isStrict,locale){return locale.weekdaysShortRegex(isStrict)}),addRegexToken("dddd",function(isStrict,locale){return locale.weekdaysRegex(isStrict)}),addWeekParseToken(["dd","ddd","dddd"],function(input,week,config,token){var weekday=config._locale.weekdaysParse(input,token,config._strict);null!=weekday?week.d=weekday:getParsingFlags(config).invalidWeekday=input}),addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)});var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addRegexToken("DDD",match1to3),addRegexToken("DDDD",match3),addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)}),addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("k",["kk",2],0,kFormat),addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)}),addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)}),addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",match1to2),addRegexToken("h",match1to2),addRegexToken("HH",match1to2,match2),addRegexToken("hh",match1to2,match2),addRegexToken("hmm",match3to4),addRegexToken("hmmss",match5to6),addRegexToken("Hmm",match3to4),addRegexToken("Hmmss",match5to6),addParseToken(["H","HH"],HOUR),addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input),config._meridiem=input}),addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input),getParsingFlags(config).bigHour=!0}),addParseToken("hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos)),getParsingFlags(config).bigHour=!0}),addParseToken("hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2)),getParsingFlags(config).bigHour=!0}),addParseToken("Hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos))}),addParseToken("Hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2))});var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addRegexToken("m",match1to2),addRegexToken("mm",match1to2,match2),addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addRegexToken("s",match1to2),addRegexToken("ss",match1to2,match2),addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addRegexToken("S",match1to3,match1),addRegexToken("SS",match1to3,match2),addRegexToken("SSS",match1to3,match3);var token;for(token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);var getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var momentPrototype__proto=Moment.prototype;momentPrototype__proto.add=add_subtract__add,momentPrototype__proto.calendar=moment_calendar__calendar,momentPrototype__proto.clone=clone,momentPrototype__proto.diff=diff,momentPrototype__proto.endOf=endOf,momentPrototype__proto.format=format,momentPrototype__proto.from=from,momentPrototype__proto.fromNow=fromNow,momentPrototype__proto.to=to,momentPrototype__proto.toNow=toNow,momentPrototype__proto.get=getSet,momentPrototype__proto.invalidAt=invalidAt,momentPrototype__proto.isAfter=isAfter,momentPrototype__proto.isBefore=isBefore,momentPrototype__proto.isBetween=isBetween,momentPrototype__proto.isSame=isSame,momentPrototype__proto.isSameOrAfter=isSameOrAfter,momentPrototype__proto.isSameOrBefore=isSameOrBefore,momentPrototype__proto.isValid=moment_valid__isValid,momentPrototype__proto.lang=lang,momentPrototype__proto.locale=locale,momentPrototype__proto.localeData=localeData,momentPrototype__proto.max=prototypeMax,momentPrototype__proto.min=prototypeMin,momentPrototype__proto.parsingFlags=parsingFlags,momentPrototype__proto.set=getSet,momentPrototype__proto.startOf=startOf,momentPrototype__proto.subtract=add_subtract__subtract,momentPrototype__proto.toArray=toArray,momentPrototype__proto.toObject=toObject,momentPrototype__proto.toDate=toDate,momentPrototype__proto.toISOString=moment_format__toISOString,momentPrototype__proto.toJSON=toJSON,momentPrototype__proto.toString=toString,momentPrototype__proto.unix=unix,momentPrototype__proto.valueOf=to_type__valueOf,momentPrototype__proto.creationData=creationData,momentPrototype__proto.year=getSetYear,momentPrototype__proto.isLeapYear=getIsLeapYear,momentPrototype__proto.weekYear=getSetWeekYear,momentPrototype__proto.isoWeekYear=getSetISOWeekYear,momentPrototype__proto.quarter=momentPrototype__proto.quarters=getSetQuarter,momentPrototype__proto.month=getSetMonth,momentPrototype__proto.daysInMonth=getDaysInMonth,momentPrototype__proto.week=momentPrototype__proto.weeks=getSetWeek,momentPrototype__proto.isoWeek=momentPrototype__proto.isoWeeks=getSetISOWeek,momentPrototype__proto.weeksInYear=getWeeksInYear,momentPrototype__proto.isoWeeksInYear=getISOWeeksInYear,momentPrototype__proto.date=getSetDayOfMonth,momentPrototype__proto.day=momentPrototype__proto.days=getSetDayOfWeek,momentPrototype__proto.weekday=getSetLocaleDayOfWeek,momentPrototype__proto.isoWeekday=getSetISODayOfWeek,momentPrototype__proto.dayOfYear=getSetDayOfYear,momentPrototype__proto.hour=momentPrototype__proto.hours=getSetHour,momentPrototype__proto.minute=momentPrototype__proto.minutes=getSetMinute,momentPrototype__proto.second=momentPrototype__proto.seconds=getSetSecond,momentPrototype__proto.millisecond=momentPrototype__proto.milliseconds=getSetMillisecond,momentPrototype__proto.utcOffset=getSetOffset,momentPrototype__proto.utc=setOffsetToUTC,momentPrototype__proto.local=setOffsetToLocal,momentPrototype__proto.parseZone=setOffsetToParsedOffset,momentPrototype__proto.hasAlignedHourOffset=hasAlignedHourOffset,momentPrototype__proto.isDST=isDaylightSavingTime,momentPrototype__proto.isDSTShifted=isDaylightSavingTimeShifted,momentPrototype__proto.isLocal=isLocal,momentPrototype__proto.isUtcOffset=isUtcOffset,momentPrototype__proto.isUtc=isUtc,momentPrototype__proto.isUTC=isUtc,momentPrototype__proto.zoneAbbr=getZoneAbbr,momentPrototype__proto.zoneName=getZoneName,momentPrototype__proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth),momentPrototype__proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),momentPrototype__proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear),momentPrototype__proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",getSetZone);var momentPrototype=momentPrototype__proto,defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},defaultInvalidDate="Invalid date",defaultOrdinal="%d",defaultOrdinalParse=/\d{1,2}/,defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},prototype__proto=Locale.prototype;prototype__proto._calendar=defaultCalendar,prototype__proto.calendar=locale_calendar__calendar,prototype__proto._longDateFormat=defaultLongDateFormat,prototype__proto.longDateFormat=longDateFormat,prototype__proto._invalidDate=defaultInvalidDate,prototype__proto.invalidDate=invalidDate,prototype__proto._ordinal=defaultOrdinal,prototype__proto.ordinal=ordinal,prototype__proto._ordinalParse=defaultOrdinalParse,prototype__proto.preparse=preParsePostFormat,prototype__proto.postformat=preParsePostFormat,prototype__proto._relativeTime=defaultRelativeTime,prototype__proto.relativeTime=relative__relativeTime,prototype__proto.pastFuture=pastFuture,prototype__proto.set=locale_set__set,prototype__proto.months=localeMonths,prototype__proto._months=defaultLocaleMonths,prototype__proto.monthsShort=localeMonthsShort,prototype__proto._monthsShort=defaultLocaleMonthsShort,prototype__proto.monthsParse=localeMonthsParse,prototype__proto._monthsRegex=defaultMonthsRegex,prototype__proto.monthsRegex=monthsRegex,prototype__proto._monthsShortRegex=defaultMonthsShortRegex,prototype__proto.monthsShortRegex=monthsShortRegex,prototype__proto.week=localeWeek,prototype__proto._week=defaultLocaleWeek,prototype__proto.firstDayOfYear=localeFirstDayOfYear,prototype__proto.firstDayOfWeek=localeFirstDayOfWeek,prototype__proto.weekdays=localeWeekdays,prototype__proto._weekdays=defaultLocaleWeekdays,prototype__proto.weekdaysMin=localeWeekdaysMin,prototype__proto._weekdaysMin=defaultLocaleWeekdaysMin,prototype__proto.weekdaysShort=localeWeekdaysShort,prototype__proto._weekdaysShort=defaultLocaleWeekdaysShort,prototype__proto.weekdaysParse=localeWeekdaysParse,prototype__proto._weekdaysRegex=defaultWeekdaysRegex,prototype__proto.weekdaysRegex=weekdaysRegex,prototype__proto._weekdaysShortRegex=defaultWeekdaysShortRegex,prototype__proto.weekdaysShortRegex=weekdaysShortRegex,prototype__proto._weekdaysMinRegex=defaultWeekdaysMinRegex,prototype__proto.weekdaysMinRegex=weekdaysMinRegex,prototype__proto.isPM=localeIsPM,prototype__proto._meridiemParse=defaultLocaleMeridiemParse,prototype__proto.meridiem=localeMeridiem,locale_locales__getSetGlobalLocale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output}}),utils_hooks__hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",locale_locales__getSetGlobalLocale),utils_hooks__hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",locale_locales__getLocale);var mathAbs=Math.abs,asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asYears=makeAs("y"),milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years"),round=Math.round,thresholds={s:45,m:45,h:22,d:26,M:11},iso_string__abs=Math.abs,duration_prototype__proto=Duration.prototype;duration_prototype__proto.abs=duration_abs__abs,duration_prototype__proto.add=duration_add_subtract__add,duration_prototype__proto.subtract=duration_add_subtract__subtract,duration_prototype__proto.as=as,duration_prototype__proto.asMilliseconds=asMilliseconds,duration_prototype__proto.asSeconds=asSeconds,duration_prototype__proto.asMinutes=asMinutes,duration_prototype__proto.asHours=asHours,duration_prototype__proto.asDays=asDays,duration_prototype__proto.asWeeks=asWeeks,duration_prototype__proto.asMonths=asMonths,duration_prototype__proto.asYears=asYears,duration_prototype__proto.valueOf=duration_as__valueOf,duration_prototype__proto._bubble=bubble,duration_prototype__proto.get=duration_get__get,duration_prototype__proto.milliseconds=milliseconds,duration_prototype__proto.seconds=seconds,duration_prototype__proto.minutes=minutes,duration_prototype__proto.hours=hours,duration_prototype__proto.days=days,duration_prototype__proto.weeks=weeks,duration_prototype__proto.months=months,duration_prototype__proto.years=years,duration_prototype__proto.humanize=humanize,duration_prototype__proto.toISOString=iso_string__toISOString,duration_prototype__proto.toString=iso_string__toISOString,duration_prototype__proto.toJSON=iso_string__toISOString,duration_prototype__proto.locale=locale,duration_prototype__proto.localeData=localeData,duration_prototype__proto.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",iso_string__toISOString),duration_prototype__proto.lang=lang,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",matchSigned),addRegexToken("X",matchTimestamp),addParseToken("X",function(input,array,config){config._d=new Date(1e3*parseFloat(input,10))}),addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))}),utils_hooks__hooks.version="2.13.0",setHookCallback(local__createLocal),utils_hooks__hooks.fn=momentPrototype,utils_hooks__hooks.min=min,utils_hooks__hooks.max=max,utils_hooks__hooks.now=now,utils_hooks__hooks.utc=create_utc__createUTC,utils_hooks__hooks.unix=moment__createUnix,utils_hooks__hooks.months=lists__listMonths,utils_hooks__hooks.isDate=isDate,utils_hooks__hooks.locale=locale_locales__getSetGlobalLocale,utils_hooks__hooks.invalid=valid__createInvalid,utils_hooks__hooks.duration=create__createDuration,utils_hooks__hooks.isMoment=isMoment,utils_hooks__hooks.weekdays=lists__listWeekdays,utils_hooks__hooks.parseZone=moment__createInZone,utils_hooks__hooks.localeData=locale_locales__getLocale,utils_hooks__hooks.isDuration=isDuration,utils_hooks__hooks.monthsShort=lists__listMonthsShort,utils_hooks__hooks.weekdaysMin=lists__listWeekdaysMin,utils_hooks__hooks.defineLocale=defineLocale,utils_hooks__hooks.updateLocale=updateLocale,utils_hooks__hooks.locales=locale_locales__listLocales,utils_hooks__hooks.weekdaysShort=lists__listWeekdaysShort,utils_hooks__hooks.normalizeUnits=normalizeUnits,utils_hooks__hooks.relativeTimeThreshold=duration_humanize__getSetRelativeTimeThreshold,utils_hooks__hooks.prototype=momentPrototype;var _moment=utils_hooks__hooks;return _moment})},3740:function(module,exports){module.exports='<ml-nav-menu name="new_job_single_metric"></ml-nav-menu>\n<ml-new-job-single-metric>\n  <ml-message-bar></ml-message-bar>\n  <div ng-controller="MlCreateSingleMetricJob" class="single-metric-job-container">\n    <div class="row">\n      <div class="col-md-6"><h3>New job from {{ui.pageTitle}}</h3></div>\n      <div class="col-md-6">\n        <div class="pull-right">\n          <span style="font-size:10px;" ng-show="formConfig.chartInterval !== undefined">Chart interval: {{formConfig.chartInterval.getInterval().expression}}</span>\n          <button\n            aria-label="Create Job"\n            ng-click="setFullTimeRange()"\n            type="button"\n            ng-disabled="jobState === JOB_STATE.RUNNING  || jobState === JOB_STATE.STOPPING || jobState === JOB_STATE.FINISHED"\n            class="btn btn-sm btn-success">\n              Use full {{ui.indexPatternId}} data\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <div class="row form-controls">\n\n      <div class="form-group col-md-4">\n        <label>Aggregation</label><i ml-info-icon="new_job_detector_function"></i>\n        <select\n          ng-model="formConfig.agg.type"\n          ng-options="agg as agg.title for agg in ui.aggTypeOptions"\n          ng-change="aggChange()"\n          ng-disabled="jobState === JOB_STATE.RUNNING  || jobState === JOB_STATE.STOPPING || jobState === JOB_STATE.FINISHED"\n          class="form-control">\n        </select>\n      </div>\n\n      <div class="form-group col-md-4">\n        <label>Field</label><i ml-info-icon="new_job_detector_fieldname_subset" ></i>\n        <select\n          ng-model="formConfig.field"\n          ng-options="field as field.displayName for field in ui.fields"\n          ng-change="fieldChange()"\n          ng-disabled="jobState === JOB_STATE.RUNNING || jobState === JOB_STATE.STOPPING || jobState === JOB_STATE.FINISHED"\n          class="form-control">\n        </select>\n      </div>\n\n      <div class="form-group col-md-4">\n        <label>Bucket span</label><i ml-info-icon="new_job_bucketspan" ></i>\n        <input\n          ng-model="formConfig.bucketSpan"\n          required\n          placeholder={{formConfig-bucketSpan}}\n          ng-disabled="jobState === JOB_STATE.RUNNING  || jobState === JOB_STATE.STOPPING || jobState === JOB_STATE.FINISHED"\n          ng-change="timeFieldChange()"\n          ng-class=\'{"ng-invalid": (!ui.bucketSpanValid)}\'\n          class="form-control lowercase" />\n        <button class="btn-success navbar-btn-link btn-load-vis"\n          ng-click="loadVis()"\n          ng-disabled="ui.formValid === false || jobState === JOB_STATE.RUNNING || jobState === JOB_STATE.STOPPING || jobState === JOB_STATE.FINISHED" >\n          <i class="fa fa-play" ></i>\n        </button>\n        <div ng-hide="ui.bucketSpanValid" class="validation-error">Invalid interval format</div>\n      </div>\n    </div>\n\n    <div ng-show="ui.showJobInput">\n      <div class=\'chart-contrainer\'>\n        <ml-single-metric-job-chart\n          chart-data="chartData"\n          chart-height=\'ui.chartHeight\'\n          chart-ticks-margin="chartData.chartTicksMargin">\n        </ml-single-metric-job-chart>\n\n        <div ng-show="chartState === CHART_STATE.NOT_STARTED || chartState === CHART_STATE.LOADING || chartState === CHART_STATE.NO_RESULTS"\n          class=\'chart-loader\'\n          style=\'height: {{ui.chartHeight}}px; margin-top: -{{ui.chartHeight + 35}}px; margin-left: {{chartData.chartTicksMargin.width - 1}}px;\'>\n            <div class=\'status-label\' ng-show="chartState === CHART_STATE.NOT_STARTED"></div>\n            <div class=\'status-label\' ng-show="chartState === CHART_STATE.LOADING">\n              <h2><i class=\'fa fa-spinner fa-spin\'></i></h2>\n            </div>\n            <div class=\'status-label\' ng-show="chartState === CHART_STATE.NO_RESULTS">\n              <div class=\'no-results\'>\n                <h4><i class="fa fa-info-circle"></i> No results found</h4>\n                <span>Consider using the <a ng-click="setFullTimeRange()">full {{ui.indexPatternId}} data</a></span>\n              </div>\n            </div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show="ui.showJobInput && (jobState === JOB_STATE.NOT_STARTED || jobState === JOB_STATE.RUNNING || jobState === JOB_STATE.STOPPING)">\n      <div class="form-group">\n        <label>Name</label><i ml-info-icon="new_job_id" ></i>\n        <input\n          ng-model="formConfig.jobId"\n          required\n          placeholder="Job ID"\n          ng-change="changeJobIDCase()"\n          ng-disabled="jobState === JOB_STATE.RUNNING  || jobState === JOB_STATE.STOPPING || jobState === JOB_STATE.FINISHED"\n          input-focus\n          class="form-control lowercase" />\n      </div>\n\n      <div class="form-group">\n        <label>Description</label><i ml-info-icon="new_job_description" ></i>\n        <input\n          ng-model="formConfig.description"\n          placeholder="Job description"\n          ng-disabled="jobState === JOB_STATE.RUNNING  || jobState === JOB_STATE.STOPPING || jobState === JOB_STATE.FINISHED"\n          input-focus\n          class="form-control" />\n      </div>\n\n      <div class="form-group">\n        <button\n          aria-label="{{ ui.showAdvanced ? \'Hide Advanced\' : \'Show Advanced\' }}"\n          ng-click="ui.showAdvanced = !ui.showAdvanced"\n          type="button"\n          ng-disabled="formConfig.useDedicatedIndex"\n          class="btn btn-primary btn-xs advanced-button">\n          <i aria-hidden="true" ng-class="{ \'fa-caret-down\': ui.showAdvanced, \'fa-caret-right\': !ui.showAdvanced }" class="fa"></i>\n        </button>\n        <label>Advanced</label><i ml-info-icon="new_job_advanced_settings" ></i>\n        <div class=\'advanced-group\' ng-show="ui.showAdvanced">\n          <label>\n            <input type="checkbox"\n              ng-model  ="formConfig.useDedicatedIndex" />\n              Use dedicated index <i ml-info-icon="new_job_dedicated_index" ></i>\n          </label>\n        </div>\n      </div>\n\n      <button\n        aria-label="Create Job"\n        ng-click="createJob()"\n        type="button"\n        ng-show="jobState === JOB_STATE.NOT_STARTED"\n        ng-disabled=\'ui.formValid === false || ui.dirty === true || formConfig.jobId === undefined || ui.bucketSpanValid === false\'\n        class="btn btn-primary">\n          Create Job\n      </button>\n\n      <div class=\'job-state-info\' ng-show="jobState === JOB_STATE.RUNNING">Analysis running <i class=\'fa fa-spinner fa-spin\'></i></div>\n      <div class=\'job-state-info\' ng-show="jobState === JOB_STATE.STOPPING">Analysis stopping <i class=\'fa fa-spinner fa-spin\'></i></div>\n\n      <button\n        aria-label="Stop Job"\n        ng-click="stopJob()"\n        type="button"\n        ng-show="jobState === JOB_STATE.RUNNING || jobState === JOB_STATE.STOPPING"\n        ng-disabled="jobState === JOB_STATE.STOPPING"\n        class="btn btn-primary btn-danger">\n          {{(jobState === JOB_STATE.STOPPING) ? \'Analysis stopping\' : \'Stop analysis\' }}\n      </button>\n\n      <button\n        aria-label="Reset"\n        ng-show="jobState === JOB_STATE.RUNNING || jobState === JOB_STATE.STOPPING"\n        ng-click="viewResults(\'timeseriesexplorer\')"\n        type="button"\n        class="btn btn-primary">\n          View Results\n      </button>\n\n    </div>\n    <div ng-show="jobState === JOB_STATE.FINISHED">\n      <h3>Job {{formConfig.jobId }} created</h3>\n\n      <button\n        aria-label="Reset"\n        ng-click="resetJob()"\n        type="button"\n        class="btn btn-primary">\n          Reset\n      </button>\n      <button\n        aria-label="Reset"\n        ng-click="viewResults(\'timeseriesexplorer\')"\n        type="button"\n        class="btn btn-primary">\n          View Results\n      </button>\n\n    </div>\n  </div>\n</ml-new-job-single-metric>\n';
},3741:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function IntervalHelperProvider(Private,timefilter,config){function TimeBuckets(){this.barTarget=config.get("histogram:barTarget"),this.maxBars=config.get("histogram:maxBars")}var calcAuto=Private(_ml_calc_auto_interval2["default"]),calcEsInterval=Private(_calc_es_interval2["default"]);return _lodash2["default"]["class"](TimeBuckets).inherits(Private(_time_buckets2["default"])),TimeBuckets.prototype.setBarTarget=function(bt){this.barTarget=bt},TimeBuckets.prototype.setMaxBars=function(mb){this.maxBars=mb},TimeBuckets.prototype.getInterval=function(){function readInterval(){var interval=self._i;return _moment2["default"].isDuration(interval)?interval:calcAuto.near(self.barTarget,duration)}function maybeScaleInterval(interval){if(!self.hasBounds())return interval;var maxLength=self.maxBars,approxLen=duration/interval,scaled=void 0;return approxLen>maxLength?(scaled=calcAuto.lessThan(maxLength,duration),+scaled===+interval?interval:(decorateInterval(interval),_lodash2["default"].assign(scaled,{preScaled:interval,scale:interval/scaled,scaled:!0}))):interval}function decorateInterval(interval){var esInterval=calcEsInterval(interval);interval.esValue=esInterval.value,interval.esUnit=esInterval.unit,interval.expression=esInterval.expression,interval.overflow=duration>interval&&_moment2["default"].duration(interval-duration);var prettyUnits=_moment2["default"].normalizeUnits(esInterval.unit);return 1===esInterval.value?interval.description=prettyUnits:interval.description=esInterval.value+" "+prettyUnits+"s",interval}var self=this,duration=self.getDuration();return decorateInterval(maybeScaleInterval(readInterval()))},TimeBuckets}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=IntervalHelperProvider;var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(3678),_moment2=_interopRequireDefault(_moment),_ml_calc_auto_interval=__webpack_require__(3742),_ml_calc_auto_interval2=_interopRequireDefault(_ml_calc_auto_interval),_calc_es_interval=__webpack_require__(3009),_calc_es_interval2=_interopRequireDefault(_calc_es_interval),_time_buckets=__webpack_require__(3007),_time_buckets2=_interopRequireDefault(_time_buckets);module.exports=exports["default"]},3742:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function DateIntervalRoundingRulesProvider(){function find(rules,check,last){function pick(buckets,duration){for(var target=duration/buckets,lastResp=void 0,i=0;i<rules.length;i++){var rule=rules[i],resp=check(rule[0],rule[1],target);if(null==resp){if(!last)continue;if(lastResp)return lastResp;break}if(!last)return resp;lastResp=resp}var ms=Math.max(Math.floor(target),1);return _moment2["default"].duration(ms,"ms")}return function(buckets,duration){var interval=pick(buckets,duration);if(interval)return _moment2["default"].duration(interval._data)}}var roundingRules=[[(0,_moment.duration)(500,"ms"),(0,_moment.duration)(100,"ms")],[(0,_moment.duration)(5,"second"),(0,_moment.duration)(1,"second")],[(0,_moment.duration)(10,"second"),(0,_moment.duration)(5,"second")],[(0,_moment.duration)(15,"second"),(0,_moment.duration)(10,"second")],[(0,_moment.duration)(30,"second"),(0,_moment.duration)(15,"second")],[(0,_moment.duration)(1,"minute"),(0,_moment.duration)(30,"second")],[(0,_moment.duration)(5,"minute"),(0,_moment.duration)(1,"minute")],[(0,_moment.duration)(10,"minute"),(0,_moment.duration)(5,"minute")],[(0,_moment.duration)(15,"minute"),(0,_moment.duration)(10,"minute")],[(0,_moment.duration)(30,"minute"),(0,_moment.duration)(10,"minute")],[(0,_moment.duration)(1,"hour"),(0,_moment.duration)(30,"minute")],[(0,_moment.duration)(2,"hour"),(0,_moment.duration)(1,"hour")],[(0,_moment.duration)(4,"hour"),(0,_moment.duration)(2,"hour")],[(0,_moment.duration)(8,"hour"),(0,_moment.duration)(4,"hour")],[(0,_moment.duration)(12,"hour"),(0,_moment.duration)(8,"hour")],[(0,_moment.duration)(24,"hour"),(0,_moment.duration)(12,"hour")],[(0,_moment.duration)(2,"d"),(0,_moment.duration)(1,"d")],[(0,_moment.duration)(4,"d"),(0,_moment.duration)(2,"d")],[(0,_moment.duration)(1,"week"),(0,_moment.duration)(4,"d")],[(0,_moment.duration)(1,"month"),(0,_moment.duration)(1,"week")],[(0,_moment.duration)(1,"year"),(0,_moment.duration)(1,"month")],[1/0,(0,_moment.duration)(1,"year")]],revRoundingRules=roundingRules.slice(0).reverse();return{near:find(revRoundingRules,function(upperBound,lowerBound,target){if(upperBound>target){if(upperBound===1/0)return lowerBound;var boundMs=upperBound.asMilliseconds(),intervalMs=lowerBound.asMilliseconds(),retInterval=Math.abs(boundMs-target)<=Math.abs(intervalMs)?upperBound:lowerBound;return retInterval}},!0),lessThan:find(revRoundingRules,function(upperBound,lowerBound,target){if(lowerBound<target)return upperBound!==1/0?upperBound:lowerBound}),atLeast:find(revRoundingRules,function(upperBound,lowerBound,target){if(lowerBound<=target)return lowerBound})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=DateIntervalRoundingRulesProvider;var _moment=__webpack_require__(3678),_moment2=_interopRequireDefault(_moment);module.exports=exports["default"]},3743:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function filterAggTypes(aggTypes){var filteredAggTypes=[],typeCopy=void 0;return _lodash2["default"].each(aggTypes,function(type){type.mlName=type.name,type.mlModelPlotAgg={max:type.name,min:type.name},_lodash2["default"].each(type.params,function(p){p.filterFieldTypes&&"string"==typeof p.filterFieldTypes&&(p.filterFieldTypes=p.filterFieldTypes.replace(",date",""))}),"count"===type.name?(type.mlModelPlotAgg={max:"max",min:"min"},type.isCountType=!0,filteredAggTypes.push(type),typeCopy=_angular2["default"].copy(type),typeCopy.title="High count",typeCopy.mlName="high_count",typeCopy.mlModelPlotAgg={max:"max",min:"min"},type.isCountType=!0,filteredAggTypes.push(typeCopy),typeCopy=_angular2["default"].copy(type),typeCopy.title="Low count",typeCopy.mlName="low_count",typeCopy.mlModelPlotAgg={ax:"max",min:"min"},type.isCountType=!0,filteredAggTypes.push(typeCopy)):"sum"===type.name?(filteredAggTypes.push(type),typeCopy=_angular2["default"].copy(type),typeCopy.title="High sum",typeCopy.mlName="high_sum",type.isCountType=!1,filteredAggTypes.push(typeCopy),typeCopy=_angular2["default"].copy(type),typeCopy.title="Low sum",typeCopy.mlName="low_sum",type.isCountType=!1,filteredAggTypes.push(typeCopy)):"avg"===type.name?(type.title="Mean",type.mlName="mean",type.isCountType=!1,filteredAggTypes.push(type),typeCopy=_angular2["default"].copy(type),typeCopy.title="High mean",typeCopy.mlName="high_mean",type.isCountType=!1,filteredAggTypes.push(typeCopy),typeCopy=_angular2["default"].copy(type),typeCopy.title="Low mean",typeCopy.mlName="low_mean",type.isCountType=!1,filteredAggTypes.push(typeCopy)):"min"===type.name?(type.isCountType=!1,filteredAggTypes.push(type)):"max"===type.name?(type.isCountType=!1,filteredAggTypes.push(type)):"cardinality"===type.name&&(type.title="Distinct count",type.mlName="distinct_count",type.mlModelPlotAgg={max:"max",min:"min"},_lodash2["default"].each(type.params,function(p){p.filterFieldTypes&&(p.filterFieldTypes="number,boolean,ip,string")}),type.isCountType=!1,filteredAggTypes.push(type))}),filteredAggTypes}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular);module.exports=filterAggTypes},3744:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular);__webpack_require__(2439);var _parse_interval=__webpack_require__(2730),_parse_interval2=_interopRequireDefault(_parse_interval),_job_utils=__webpack_require__(3680),_job_utils2=_interopRequireDefault(_job_utils),_string_utils=__webpack_require__(3681),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.service("mlSingleMetricJobService",function($q,es,timefilter,Private,mlJobService,mlSingleMetricJobSearchService){function processLineChartResults(data,formConfig){var scale=1;if(formConfig&&("count"===formConfig.agg.type.mlName||"high_count"===formConfig.agg.type.mlName||"low_count"===formConfig.agg.type.mlName||"distinct_count"===formConfig.agg.type.mlName)){var chartIntervalSeconds=formConfig.chartInterval.getInterval().asSeconds(),bucketSpan=(0,_parse_interval2["default"])(formConfig.bucketSpan);null!==bucketSpan&&(scale=chartIntervalSeconds/bucketSpan.asSeconds())}var lineData=[];return _lodash2["default"].each(data,function(dataForTime,t){var time=+t,date=new Date(time);lineData.push({date:date,time:time,lower:dataForTime.modelLower*scale,value:dataForTime.actual,upper:dataForTime.modelUpper*scale})}),lineData}function processSwimlaneResults(bucketScoreData,init){var swimlaneData=[];return _lodash2["default"].each(bucketScoreData,function(dataForTime,t){var time=+t,date=new Date(time);swimlaneData.push({date:date,time:time,value:init?0:dataForTime.anomalyScore,color:""})}),swimlaneData}function getSearchJsonFromConfig(formConfig){var interval=formConfig.chartInterval.getInterval().asMilliseconds()+"ms",json={index:formConfig.indexPattern.id,size:0,body:{query:{bool:{filter:[formConfig.query,{range:_defineProperty({},formConfig.timeField,{gte:formConfig.start,lte:formConfig.end,format:formConfig.format})}]}},aggs:{times:{date_histogram:{field:formConfig.timeField,interval:interval,min_doc_count:1}}}}};return null!==formConfig.field&&(json.body.aggs.times.aggs={field_value:_defineProperty({},formConfig.agg.type.name,{field:formConfig.field.displayName})}),json}function getJobFromConfig(formConfig){var _aggregations2,_aggregations3,mappingTypes=formConfig.mappingTypes,job=mlJobService.getBlankJob();job.data_description.time_field=formConfig.timeField;var dtr={"function":formConfig.agg.type.mlName},query={match_all:{}};"*"!==formConfig.query.query_string.query&&(query=formConfig.query),formConfig.field&&formConfig.field.displayName&&(dtr.field_name=formConfig.field.displayName),job.analysis_config.detectors.push(dtr),job.analysis_config.bucket_span=formConfig.bucketSpan,delete job.data_description.field_delimiter,delete job.data_description.quote_character,delete job.data_description.time_format,delete job.data_description.format;var bucketSpanSeconds=(0,_parse_interval2["default"])(formConfig.bucketSpan).asSeconds();job.datafeed_config={query:query,types:mappingTypes,query_delay:"60s",frequency:_job_utils2["default"].calculateDatafeedFrequencyDefaultSeconds(bucketSpanSeconds)+"s",indexes:[formConfig.indexPattern.id],scroll_size:1e3},job.job_id=formConfig.jobId,job.description=formConfig.description,job.model_plot_config={enabled:!0},formConfig.useDedicatedIndex&&(job.results_index_name=job.job_id);var aggType=formConfig.agg.type.name,interval=1e3*bucketSpanSeconds;switch(aggType){case"count":job.analysis_config.summary_count_field_name="doc_count",job.datafeed_config.aggregations={buckets:{date_histogram:{field:formConfig.timeField,interval:interval},aggregations:_defineProperty({},formConfig.timeField,{max:{field:formConfig.timeField}})}};break;case"avg":case"sum":case"min":case"max":job.analysis_config.summary_count_field_name="doc_count",job.datafeed_config.aggregations={buckets:{date_histogram:{field:formConfig.timeField,interval:interval/100*10},aggregations:(_aggregations2={},_defineProperty(_aggregations2,dtr.field_name,_defineProperty({},aggType,{field:dtr.field_name})),_defineProperty(_aggregations2,formConfig.timeField,{max:{field:formConfig.timeField}}),_aggregations2)}};break;case"cardinality":job.analysis_config.summary_count_field_name="dc_"+dtr.field_name,job.datafeed_config.aggregations={buckets:{date_histogram:{field:formConfig.timeField,interval:interval},aggregations:(_aggregations3={},_defineProperty(_aggregations3,formConfig.timeField,{max:{field:formConfig.timeField}}),_defineProperty(_aggregations3,job.analysis_config.summary_count_field_name,_defineProperty({},aggType,{field:dtr.field_name})),_aggregations3)}},dtr["function"]="non_zero_count",delete dtr.field_name}return console.log("auto created job: ",job),job}function createJobForSaving(job){var newJob=_angular2["default"].copy(job);return delete newJob.datafeed_config,newJob}this.chartData={line:[],model:[],swimlane:[],hasBounds:!1,percentComplete:0,loadingDiffernce:0,highestValue:0,chartTicksMargin:{width:30}},this.job={},this.getLineChartResults=function(formConfig){var _this=this,deferred=$q.defer();this.chartData.line=[],this.chartData.model=[],this.chartData.swimlane=[],this.chartData.hasBounds=!1,this.chartData.percentComplete=0,this.chartData.loadingDifference=0,this.chartData.eventRateHighestValue=0;var obj={success:!0,results:{}},searchJson=getSearchJsonFromConfig(formConfig);return es.search(searchJson).then(function(resp){var aggregationsByTime=_lodash2["default"].get(resp,["aggregations","times","buckets"],[]),highestValue=0;_lodash2["default"].each(aggregationsByTime,function(dataForTime){var time=dataForTime.key,value=_lodash2["default"].get(dataForTime,["field_value","value"]);void 0===value&&null===formConfig.field&&(value=dataForTime.doc_count),isFinite(value)||(value=0),value>highestValue&&(highestValue=value),obj.results[time]={actual:value}}),_this.chartData.line=processLineChartResults(obj.results),_this.chartData.highestValue=Math.ceil(highestValue),_this.chartData.chartTicksMargin.width=(0,_string_utils.calculateTextWidth)(_this.chartData.highestValue,!0),deferred.resolve(_this.chartData.line)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.createJob=function(formConfig){var _this2=this,deferred=$q.defer();this.job=getJobFromConfig(formConfig);var job=createJobForSaving(this.job);return mlJobService.saveNewJob(job).then(function(resp){resp.success?deferred.resolve(_this2.job):deferred.reject(resp)}),deferred.promise},this.startDatafeed=function(formConfig){var datafeedId=mlJobService.getDatafeedId(formConfig.jobId);return mlJobService.startDatafeed(datafeedId,formConfig.jobId,formConfig.start,formConfig.end)},this.stopDatafeed=function(formConfig){var datafeedId=mlJobService.getDatafeedId(formConfig.jobId);return mlJobService.stopDatafeed(datafeedId,formConfig.jobId)},this.checkDatafeedState=function(formConfig){return mlJobService.updateSingleJobDatafeedState(formConfig.jobId)},this.loadModelData=function(formConfig){var _this3=this,deferred=$q.defer(),start=formConfig.start;if(this.chartData.model.length>5){start=this.chartData.model[this.chartData.model.length-5].time;for(var i=0;i<5;i++)this.chartData.model.pop()}return mlSingleMetricJobSearchService.getModelPlotOutput(formConfig.indexPattern.id,formConfig.jobId,start,formConfig.end,formConfig.resultsIntervalSeconds+"s",formConfig.agg.type.mlModelPlotAgg).then(function(data){_this3.chartData.model=_this3.chartData.model.concat(processLineChartResults(data.results,formConfig));var lastBucket=_this3.chartData.model[_this3.chartData.model.length-1],time=void 0!==lastBucket?lastBucket.time:formConfig.start,pcnt=(time-formConfig.start+formConfig.resultsIntervalSeconds)/(formConfig.end-formConfig.start)*100;_this3.chartData.percentComplete=Math.round(pcnt),deferred.resolve(_this3.chartData)})["catch"](function(){deferred.reject(_this3.chartData)}),deferred.promise},this.loadSwimlaneData=function(formConfig){var _this4=this,deferred=$q.defer();return mlSingleMetricJobSearchService.getScoresByBucket(formConfig.indexPattern.id,formConfig.jobId,formConfig.start,formConfig.end,formConfig.resultsIntervalSeconds+"s").then(function(data){_this4.chartData.swimlane=processSwimlaneResults(data.results),_this4.chartData.swimlaneInterval=1e3*formConfig.resultsIntervalSeconds,deferred.resolve(_this4.chartData)})["catch"](function(){deferred.resolve(_this4.chartData)}),deferred.promise},this.indexTimeRange=function(indexPattern){var deferred=$q.defer(),obj={success:!0,start:{epoch:0,string:""},end:{epoch:0,string:""}};return es.search({index:indexPattern.id,size:0,body:{aggs:{earliest:{min:{field:indexPattern.timeFieldName}},latest:{max:{field:indexPattern.timeFieldName}}}}}).then(function(resp){resp.aggregations&&resp.aggregations.earliest&&resp.aggregations.latest&&(obj.start.epoch=resp.aggregations.earliest.value,obj.start.string=resp.aggregations.earliest.value_as_string,obj.end.epoch=resp.aggregations.latest.value,obj.end.string=resp.aggregations.latest.value_as_string),deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise}})},3745:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_d=__webpack_require__(2794),_d2=_interopRequireDefault(_d),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular);__webpack_require__(2439);var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.directive("mlSingleMetricJobChart",function(){function link(scope,element){function init(){margin.left=scope.chartTicksMargin.width,vizWidth=svgWidth-margin.left-margin.right,lineChartXScale=_d2["default"].time.scale().range([0,vizWidth]),lineChartYScale=_d2["default"].scale.linear().range([lineChartHeight,0]),_d2["default"].svg.axis().scale(lineChartXScale).orient("bottom").innerTickSize(-lineChartHeight).outerTickSize(0).tickPadding(10),_d2["default"].svg.axis().scale(lineChartYScale).orient("left").innerTickSize(-vizWidth).outerTickSize(0).tickPadding(10),lineChartValuesLine=_d2["default"].svg.line().x(function(d){return lineChartXScale(d.date)}).y(function(d){return lineChartYScale(d.value)}),lineChartBoundedArea=_d2["default"].svg.area().x(function(d){return lineChartXScale(d.date)||0}).y0(function(d){return lineChartYScale(Math.max(chartLimits.min,Math.min(chartLimits.max,d.upper)))}).y1(function(d){return lineChartYScale(Math.min(chartLimits.max,Math.max(chartLimits.min,d.lower)))})}function createSVGGroups(){if(void 0!==scope.chartData.line){var chartElement=_d2["default"].select(element.get(0));if(chartElement.select("svg").remove(),chartElement.select(".progress").remove(),null===chartElement.select(".progress-bar")[0][0]){var style="width:"+(+vizWidth+2)+"px; margin-bottom: -"+(+lineChartHeight+8)+"px; ";style+="margin-left: "+(+margin.left-1)+"px;",chartElement.append("div").attr("class","progress").attr("style",style).append("div").attr("class","progress-bar")}$progressBar=(0,_jquery2["default"])(".progress-bar");var svg=chartElement.append("svg").attr("width",svgWidth).attr("height",svgHeight);swimlaneGroup=svg.append("g").attr("class","swimlane").attr("transform","translate("+margin.left+","+margin.top+")"),modelChartGroup=svg.append("g").attr("class","model-chart").attr("transform","translate("+margin.left+","+margin.top+")"),lineChartGroup=svg.append("g").attr("class","line-chart").attr("transform","translate("+margin.left+","+margin.top+")")}}function drawLineChart(){var data=scope.chartData.line,model=scope.chartData.model;lineChartXScale=lineChartXScale.domain(_d2["default"].extent(data,function(d){return d.date})),chartLimits.max=_d2["default"].max(data,function(d){return d.value}),chartLimits.min=_d2["default"].min(data,function(d){return d.value});var padding=.1*(chartLimits.max-chartLimits.min);chartLimits.max+=padding,chartLimits.min-=padding,lineChartYScale=lineChartYScale.domain([chartLimits.min,chartLimits.max]);var xAxis=_d2["default"].svg.axis().scale(lineChartXScale).orient("bottom").innerTickSize(-lineChartHeight).outerTickSize(0).tickPadding(10),yAxis=_d2["default"].svg.axis().scale(lineChartYScale).orient("left").innerTickSize(-vizWidth).outerTickSize(0).tickPadding(10);lineChartGroup.append("rect").attr("x",0).attr("y",0).attr("height",lineChartHeight).attr("width",vizWidth).style("stroke","#cccccc").style("fill","none").style("stroke-width",1),drawLineChartAxes(xAxis,yAxis),drawLineChartPaths(data,model)}function drawLineChartAxes(xAxis,yAxis){var axes=lineChartGroup.append("g");axes.append("g").attr("class","x axis").attr("transform","translate(0,"+lineChartHeight+")").call(xAxis),axes.append("g").attr("class","y axis").call(yAxis)}function drawLineChartPaths(data){lineChartGroup.append("path").attr("class","values-line").attr("d",lineChartValuesLine(data))}function drawResults(){var model=scope.chartData.model;drawModelPaths(model),drawSwimlane(vizWidth,lineChartHeight),updateProgressBar()}function drawModelPaths(model){modelChartGroup.selectAll("*").remove(),modelChartGroup.append("path").attr("class","area bounds").attr("d",lineChartBoundedArea(model))}function drawSwimlane(swlWidth,swlHeight){var data=scope.chartData.swimlane,cellWidth=0;data.length>0&&(cellWidth=lineChartXScale(data[0].time+scope.chartData.swimlaneInterval)-lineChartXScale(data[0].time)),_d2["default"].time.scale().range([0,swlWidth]).domain(_d2["default"].extent(data,function(d){return d.date})),_d2["default"].scale.linear().range([swlHeight,0]).domain([0,swlHeight]);var color=_d2["default"].scale.threshold().domain([3,25,50,75,100]).range(["#d2e9f7","#8bc8fb","#ffdd00","#ff7e00","#fe5050"]);swimlaneGroup.select(".swimlane-cells").remove();var cells=swimlaneGroup.append("g").attr("class","swimlane-cells").selectAll("cells").data(data);cells.enter().append("rect").attr("x",function(d){return lineChartXScale(d.date)}).attr("y",0).attr("rx",0).attr("ry",0).attr("class",function(d){return d.value>0?"swimlane-cell":"swimlane-cell-hidden"}).attr("width",cellWidth).attr("height",swlHeight).style("fill",function(d){return color(d.value)})}function updateProgressBar(){var pcnt=scope.chartData.percentComplete<100?scope.chartData.percentComplete:0;$progressBar.css("width",pcnt+"%")}var svgWidth=_angular2["default"].element(".single-metric-job-container").width(),lineChartHeight=scope.chartHeight,swimlaneHeight=30,margin={top:0,right:0,bottom:0,left:scope.chartTicksMargin.width},svgHeight=lineChartHeight+swimlaneHeight+margin.top+margin.bottom,vizWidth=svgWidth-margin.left-margin.right,chartLimits={max:0,min:0},lineChartXScale=null,lineChartYScale=null,lineChartValuesLine=null,lineChartBoundedArea=null,lineChartGroup=void 0,modelChartGroup=void 0,swimlaneGroup=void 0,$progressBar=void 0;scope.$on("render",function(){init(),createSVGGroups(),drawLineChart()}),scope.$on("render-results",function(){drawResults()}),element.on("$destroy",function(){scope.$destroy()})}return{scope:{chartData:"=",chartHeight:"=",chartTicksMargin:"="},link:link}})},3746:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.service("mlSingleMetricJobSearchService",function($q,es){this.getScoresByBucket=function(index,jobId,earliestMs,latestMs,interval){var deferred=$q.defer(),obj={success:!0,results:{}};return es.search({index:".ml-anomalies-*",size:0,body:{query:{bool:{filter:[{query_string:{query:"_type:result AND result_type:bucket"}},{bool:{must:[{range:{timestamp:{gte:earliestMs,lte:latestMs,format:"epoch_millis"}}},{query_string:{query:"job_id:"+jobId}}]}}]}},aggs:{times:{date_histogram:{field:"timestamp",interval:interval,min_doc_count:1},aggs:{anomalyScore:{max:{field:"anomaly_score"}}}}}}}).then(function(resp){var aggregationsByTime=_lodash2["default"].get(resp,["aggregations","times","buckets"],[]);_lodash2["default"].each(aggregationsByTime,function(dataForTime){var time=dataForTime.key;obj.results[time]={anomalyScore:_lodash2["default"].get(dataForTime,["anomalyScore","value"])}}),deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.getModelPlotOutput=function(index,jobId,earliestMs,latestMs,interval,aggType){var deferred=$q.defer(),obj={success:!0,results:{}};return es.search({index:".ml-anomalies-*",size:0,body:{query:{bool:{filter:[{query_string:{query:"_type:result AND result_type:model_plot"}},{bool:{must:[{range:{timestamp:{gte:earliestMs,lte:latestMs,format:"epoch_millis"}}},{query_string:{query:"job_id:"+jobId}}]}}]}},aggs:{times:{date_histogram:{field:"timestamp",interval:interval,min_doc_count:1},aggs:{actual:{avg:{field:"actual"}},modelUpper:_defineProperty({},aggType.max,{field:"model_upper"}),modelLower:_defineProperty({},aggType.min,{field:"model_lower"})}}}}}).then(function(resp){var aggregationsByTime=_lodash2["default"].get(resp,["aggregations","times","buckets"],[]);_lodash2["default"].each(aggregationsByTime,function(dataForTime){var time=dataForTime.key,modelUpper=_lodash2["default"].get(dataForTime,["modelUpper","value"]),modelLower=_lodash2["default"].get(dataForTime,["modelLower","value"]);modelUpper=void 0!==modelUpper&&isFinite(modelUpper)?modelUpper.toFixed(4):0,modelLower=void 0!==modelLower&&isFinite(modelLower)?modelLower.toFixed(4):0,obj.results[time]={actual:_lodash2["default"].get(dataForTime,["actual","value"]),modelUpper:modelUpper,modelLower:modelLower}}),deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise}})},3747:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.service("mlESMappingService",function($q,mlJobService){this.indexes={},this.getMappings=function(){var _this=this,deferred=$q.defer();return mlJobService.getESMappings().then(function(indexes){_this.indexes=indexes,deferred.resolve(indexes)})["catch"](function(err){console.log("getMappings:",err)}),deferred.promise},this.getTypesFromMapping=function(index){var types=[],ind=index.trim();if(ind.match(/\*/g)){ind=ind.replace(/\*/g,".*");var reg=new RegExp("^"+ind+"$"),tempTypes={};_lodash2["default"].each(this.indexes,function(idx,key){key.match(reg)&&_lodash2["default"].each(idx.types,function(t,tName){tempTypes[tName]={}})}),types=Object.keys(tempTypes)}else types=Object.keys(this.indexes[index].types);return types},this.getMappingTypeFromFieldName=function(index,fieldName){var found=!1,type="",ind=index.trim();if(ind.match(/\*/g)){ind=ind.replace(/\*/g,".+");var reg=new RegExp("^"+ind+"$");_lodash2["default"].each(this.indexes,function(idx,key){key.match(reg)&&_lodash2["default"].each(idx.types,function(t,tName){!found&&t&&_lodash2["default"].has(t.properties,fieldName)&&(found=!0,type=tName)})})}else _lodash2["default"].each(this.indexes[index].types,function(t,tName){!found&&t&&_lodash2["default"].has(t.properties,fieldName)&&(found=!0,type=tName)});return type}})},3748:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}__webpack_require__(3749),__webpack_require__(3750),__webpack_require__(3752),__webpack_require__(2860);var _saved_object_registry=__webpack_require__(2753),_saved_object_registry2=_interopRequireDefault(_saved_object_registry),_saved_search_register=__webpack_require__(3045),_saved_search_register2=_interopRequireDefault(_saved_search_register),_routes=__webpack_require__(2485),_routes2=_interopRequireDefault(_routes);_routes2["default"].when("/jobs/new_job_multi_metric",{redirectTo:"/jobs/new_job_multi_metric/step/1"}),_saved_object_registry2["default"].register(_saved_search_register2["default"])},3749:function(module,exports){},3750:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}__webpack_require__(2555),__webpack_require__(3047),__webpack_require__(3063);var _routes=__webpack_require__(2485),_routes2=_interopRequireDefault(_routes),_check_license=__webpack_require__(3684),_check_license2=_interopRequireDefault(_check_license),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_routes2["default"].when("/jobs/new_job_multi_metric/step/1",{template:__webpack_require__(3751),resolve:{CheckLicense:_check_license2["default"],indexPatternIds:function(courier){return courier.indexPatterns.getIds()}}});var _module=_modules2["default"].get("apps/ml");_module.controller("MlNewJobMultiStep1",function($scope,$route,timefilter){timefilter.enabled=!1,$scope.indexPattern={selection:null,list:$route.current.locals.indexPatternIds},$scope.step2WithSearchUrl=function(hit){return"#/jobs/new_job_multi_metric/create?savedSearchId="+encodeURIComponent(hit.id)},$scope.makeUrl=function(pattern){if(pattern)return"#/jobs/new_job_multi_metric/create?index="+encodeURIComponent(pattern)}})},3751:function(module,exports){module.exports='<ml-nav-menu name="new_job_multi_metric"></ml-nav-menu>\n<ml-new-job-multi-metric>\n  <ml-message-bar></ml-message-bar>\n  <div class=\'kuiViewContent kuiViewContent--constrainedWidth\' >\n    <div ng-controller="MlNewJobMultiStep1" class="wizard">\n      <div class="wizard-column wizard-column--small">\n        <h3 class="wizard-sub-title">From a New Search, Select Index</h3>\n        <paginated-selectable-list\n          per-page="20"\n          list="indexPattern.list"\n          user-make-url="makeUrl"\n          class="wizard-row visualizeWizardPaginatedSelectableList kuiVerticalRhythm"\n        ></paginated-selectable-list>\n      </div>\n      <div class="wizard-column wizard-column--large">\n\n        <h3 class="wizard-sub-title">Or, From a Saved Search</h3>\n        <saved-object-finder\n          title="Saved Searches"\n          type="searches"\n          class="wizard-row visualizeWizardSavedObjectFinder kuiVerticalRhythm"\n          make-url="step2WithSearchUrl"\n        ></saved-object-finder>\n       </div>\n    </div>\n    </div>\n</ml-new-job-multi-metric>\n'},3752:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3753),__webpack_require__(3754),__webpack_require__(3756),__webpack_require__(3757),__webpack_require__(3758),__webpack_require__(3759),__webpack_require__(3747)},3753:function(module,exports){},3754:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(2555),__webpack_require__(3047);var _index=__webpack_require__(2966),_index2=_interopRequireDefault(_index),_parse_interval=__webpack_require__(2730),_parse_interval2=_interopRequireDefault(_parse_interval),_datemath=__webpack_require__(3738),_datemath2=_interopRequireDefault(_datemath),_moment=__webpack_require__(3678),_moment2=_interopRequireDefault(_moment),_chrome=__webpack_require__(2429),_chrome2=_interopRequireDefault(_chrome),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_routes=__webpack_require__(2485),_routes2=_interopRequireDefault(_routes),_check_license=__webpack_require__(3684),_check_license2=_interopRequireDefault(_check_license),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);
_routes2["default"].defaults(/dashboard/,{requireDefaultIndex:!0}).when("/jobs/new_job_multi_metric/create",{template:__webpack_require__(3755),resolve:{CheckLicense:_check_license2["default"],indexPattern:function(courier,$route){return courier.indexPatterns.get($route.current.params.index)},savedSearch:function(courier,$route,savedSearches){return savedSearches.get($route.current.params.savedSearchId)}}});var _module=_modules2["default"].get("apps/ml");_module.controller("MlCreateMultiMetricJob",function($scope,$route,$location,$filter,$window,courier,timefilter,Private,mlJobService,mlMultiMetricJobService,mlMessageBarService,mlESMappingService,mlBrowserDetectService){function wizardStep(step){$scope.ui.wizard.step+=step}function setTime(){$scope.ui.bucketSpanValid=!0,$scope.formConfig.start=_datemath2["default"].parse(timefilter.time.from).valueOf(),$scope.formConfig.end=_datemath2["default"].parse(timefilter.time.to).valueOf(),$scope.formConfig.format="epoch_millis",null===(0,_parse_interval2["default"])($scope.formConfig.bucketSpan)&&($scope.ui.bucketSpanValid=!1);var bounds=timefilter.getActiveBounds();$scope.formConfig.chartInterval=new MlTimeBuckets,$scope.formConfig.chartInterval.setBarTarget(BAR_TARGET),$scope.formConfig.chartInterval.setMaxBars(MAX_BARS),$scope.formConfig.chartInterval.setInterval("auto"),$scope.formConfig.chartInterval.setBounds(bounds),adjustIntervalDisplayed($scope.formConfig.chartInterval),$scope.ui.isFormValid(),$scope.ui.dirty=!0}function adjustIntervalDisplayed(interval){var makeTheSame=!1,intervalSeconds=interval.getInterval().asSeconds(),bucketSpan=(0,_parse_interval2["default"])($scope.formConfig.bucketSpan);if(bucketSpan.asSeconds()>intervalSeconds&&(makeTheSame=!0),void 0!==$scope.formConfig.agg.type){var mlName=$scope.formConfig.agg.type.mlName;"count"!==mlName&&"low_count"!==mlName&&"high_count"!==mlName&&"distinct_count"!==mlName||(makeTheSame=!0)}makeTheSame&&interval.setInterval(bucketSpan)}function initAgg(){_lodash2["default"].each($scope.ui.aggTypeOptions,function(agg){"Mean"===agg.title&&($scope.formConfig.agg.type=agg)})}function loadFields(){var type=$scope.formConfig.agg.type,fields=[],categoryFields=[];$scope.ui.fields=[],type.params.forEach(function(param){"field"===param.name&&(fields=getIndexedFields(param,"number")),"customLabel"===param.name&&(categoryFields=getIndexedFields(param,["string","ip"]))}),$scope.ui.fields.push({id:EVENT_RATE_COUNT_FIELD,name:"event rate",tooltip:"System defined field",isCountField:!0,agg:{type:_lodash2["default"].findWhere($scope.ui.aggTypeOptions,{title:"Count"})}}),_lodash2["default"].each(fields,function(field){$scope.ui.fields.push({id:field.displayName,name:field.displayName,tooltip:field.displayName,agg:{type:type}})}),_lodash2["default"].each(categoryFields,function(field){"type"!==field.displayName&&$scope.ui.splitFields.push(field.displayName)}),1===$scope.ui.fields.length&&($scope.formConfig.field=$scope.ui.fields[0])}function getIndexedFields(param,fieldTypes){var fields=_lodash2["default"].filter(indexPattern.fields.raw,"aggregatable");return fieldTypes&&(fields=$filter("fieldType")(fields,fieldTypes),fields=$filter("orderBy")(fields,["type","name"]),fields=_lodash2["default"].filter(fields,function(f){return"_type"!==f.displayName})),fields}function setFieldsChartStates(state){_lodash2["default"].each($scope.chartStates.fields,function(chart,key){$scope.chartStates.fields[key]=state})}function drawCards(labels){function fadeCard(){i<cardsBehind.length&&(cardsBehind[i].style.opacity=1,window.setTimeout(fadeCard,60),i++)}var $frontCard=_angular2["default"].element(".multi-metric-job-container .detector-container .card-front");$frontCard.addClass("card"),$frontCard.find(".card-title").text(labels[0]);var w=$frontCard.width(),marginTop=labels.length>1?54:0;$frontCard.css("margin-top",marginTop);var backCardTitle="";2===labels.length&&(backCardTitle=$scope.formConfig.fields[Object.keys($scope.formConfig.fields)[0]].agg.type.title,backCardTitle+=" ",backCardTitle+=Object.keys($scope.formConfig.fields)[0]),_angular2["default"].element(".card-behind").remove();for(var _i=0;_i<labels.length;_i++){var el='<div class="card card-behind"><div class="card-title">';el+=labels[_i],el+="</div><label>",el+=backCardTitle,el+="</label></div>";var $backCard=_angular2["default"].element(el);$backCard.css("width",w),$backCard.css("height",100),$backCard.css("display","auto"),$backCard.css("z-index",9-_i),$backCard.insertBefore($frontCard)}for(var cardsBehind=_angular2["default"].element(".card-behind"),marginLeft=0,backWidth=w,_i2=0;_i2<cardsBehind.length;_i2++)cardsBehind[_i2].style.marginTop=marginTop+"px",cardsBehind[_i2].style.marginLeft=marginLeft+"px",cardsBehind[_i2].style.width=backWidth+"px",marginTop-=(10-_i2*(10/labels.length))*(10/labels.length),marginLeft+=5-_i2/2,backWidth-=2*(5-_i2/2);var i=0;fadeCard()}function destroyCards(){_angular2["default"].element(".card-behind").remove();var $frontCard=_angular2["default"].element(".multi-metric-job-container .detector-container .card-front");$frontCard.removeClass("card"),$frontCard.find(".card-title").text(""),$frontCard.css("margin-top",0)}function loadCharts(){function run(){refreshCounter++,reloadJobSwimlaneData().then(function(){reloadDetectorSwimlane().then(function(){forceStop===!1&&$scope.chartData.percentComplete<100?$scope.jobState===JOB_STATE.STOPPING?$scope.jobState=JOB_STATE.STOPPING:$scope.jobState=JOB_STATE.RUNNING:$scope.jobState=JOB_STATE.FINISHED,jobCheck()})})}var forceStop=globalForceStop,counterLimit=20-refreshInterval/REFRESH_INTERVAL_MS;refreshCounter>=counterLimit?(refreshCounter=0,mlMultiMetricJobService.checkDatafeedStatus($scope.formConfig).then(function(status){"stopped"===status&&(console.log("Stopping poll because datafeed status is: "+status),$scope.$broadcast("render-results"),forceStop=!0),run()})):run()}function jobCheck(){$scope.jobState===JOB_STATE.RUNNING||$scope.jobState===JOB_STATE.STOPPING?(refreshInterval=adjustRefreshInterval($scope.chartData.loadingDifference,refreshInterval),_lodash2["default"].delay(loadCharts,refreshInterval)):_lodash2["default"].each($scope.chartData.detectors,function(chart){chart.percentComplete=100}),$scope.chartData.percentComplete>0&&toggleSwimlaneVisibility(),$scope.$broadcast("render-results")}function reloadJobSwimlaneData(){return mlMultiMetricJobService.loadJobSwimlaneData($scope.formConfig)}function reloadDetectorSwimlane(){return mlMultiMetricJobService.loadDetectorSwimlaneData($scope.formConfig)}function adjustRefreshInterval(loadingDifference,currentInterval){var INTERVAL_INCREASE_MS=100,MAX_INTERVAL=1e4,interval=currentInterval;return interval<MAX_INTERVAL&&(loadingDifference<MAX_BUCKET_DIFF?interval+=INTERVAL_INCREASE_MS:interval-INTERVAL_INCREASE_MS>=REFRESH_INTERVAL_MS&&(interval-=INTERVAL_INCREASE_MS)),interval}function toggleSwimlaneVisibility(){$scope.jobState===JOB_STATE.NOT_STARTED?(_angular2["default"].element(".swimlane-cells").css("opacity",0),_angular2["default"].element(".bar").css("opacity",1)):_angular2["default"].element(".bar").css("opacity",.1)}function viewResults(job,page){job&&page&&mlJobService.jobTimeRange(job.id).then(function(resp){var from=resp.start.string?"'"+resp.start.string+"'":"now-24h",to=resp.end.string?"'"+resp.end.string+"'":"now",path=_chrome2["default"].getBasePath();path+="/app/ml#/"+page,path+="?_g=(ml:(jobIds:!('"+job.id+"'))",path+=",refreshInterval:(display:Off,pause:!f,value:0),time:(from:"+from,path+=",mode:absolute,to:"+to,path+="))&_a=(filters:!(),query:(query_string:(analyze_wildcard:!t,query:'*')))","safari"===mlBrowserDetectService()?location.href=path:$window.open(path,"_blank")})["catch"](function(){})}function resize(){if("--No split--"!==$scope.formConfig.splitField)for(var width=_angular2["default"].element(".card-front").width(),cardsBehind=_angular2["default"].element(".card-behind"),i=0;i<cardsBehind.length;i++)cardsBehind[i].style.width=width+"px",width-=2*(5-i/2)}timefilter.enabled=!0;var msgs=mlMessageBarService,MlTimeBuckets=Private(__webpack_require__(3741)),filterAggTypes=__webpack_require__(3743),aggTypes=Private(_index2["default"]);$scope.courier=courier,mlMultiMetricJobService.clearChartData(),$scope.chartData=mlMultiMetricJobService.chartData;var PAGE_WIDTH=_angular2["default"].element(".multi-metric-job-container").width(),BAR_TARGET=PAGE_WIDTH>1600?800:PAGE_WIDTH/2,MAX_BARS=BAR_TARGET+BAR_TARGET/100*100,REFRESH_INTERVAL_MS=100,MAX_BUCKET_DIFF=3,METRIC_AGG_TYPE="metrics",EVENT_RATE_COUNT_FIELD="__ml_event_rate_count__",CHART_STATE={NOT_STARTED:0,LOADING:1,LOADED:2,NO_RESULTS:3},JOB_STATE={NOT_STARTED:0,RUNNING:1,FINISHED:2,STOPPING:3},refreshCounter=0;$scope.JOB_STATE=JOB_STATE,$scope.jobState=$scope.JOB_STATE.NOT_STARTED,$scope.CHART_STATE=CHART_STATE,$scope.chartStates={eventRate:CHART_STATE.LOADING,fields:{}};var globalForceStop=!1,indexPattern=$route.current.locals.indexPattern,query={query_string:{analyze_wildcard:!0,query:"*"}},savedSearch=$route.current.locals.savedSearch,searchSource=savedSearch.searchSource,pageTitle="index pattern "+indexPattern.id;void 0===indexPattern.id&&void 0!==savedSearch.id&&(indexPattern=searchSource.get("index"),query=searchSource.get("query"),pageTitle="saved search "+savedSearch.title),$scope.ui={indexPatternId:indexPattern.id,pageTitle:pageTitle,showJobInput:!0,showJobFinished:!1,dirty:!1,formValid:!1,bucketSpanValid:!0,aggTypeOptions:filterAggTypes(aggTypes.byType[METRIC_AGG_TYPE]),fields:[],splitFields:[],timeFields:[],splitText:"",wizard:{step:0,forward:function(){wizardStep(1)},back:function(){wizardStep(-1)}},intervals:[{title:"Auto",value:"auto"},{title:"Millisecond",value:"ms"},{title:"Second",value:"s"},{title:"Minute",value:"m"},{title:"Hourly",value:"h"},{title:"Daily",value:"d"},{title:"Weekly",value:"w"},{title:"Monthly",value:"M"},{title:"Yearly",value:"y"},{title:"Custom",value:"custom"}],eventRateChartHeight:100,chartHeight:150,showFieldCharts:!1,showAdvanced:!1},$scope.formConfig={agg:{type:void 0},field:null,fields:{},bucketSpan:"5m",chartInterval:void 0,resultsIntervalSeconds:void 0,start:0,end:0,timeField:indexPattern.timeFieldName,splitField:"--No split--",keyFields:{},firstSplitFieldValue:void 0,indexPattern:indexPattern,query:query,jobId:void 0,description:void 0,mappingTypes:[],useDedicatedIndex:!1},$scope.formChange=function(){$scope.ui.isFormValid(),$scope.ui.dirty=!0,$scope.loadVis()},$scope.splitChange=function(){var splitField=$scope.formConfig.splitField;$scope.formConfig.firstSplitFieldValue=void 0,"--No split--"!==splitField?($scope.formConfig.keyFields[splitField]=splitField,$scope.ui.splitText="Data split by "+splitField,mlMultiMetricJobService.getSplitFields($scope.formConfig,10).then(function(resp){resp.results.values&&resp.results.values.length&&($scope.formConfig.firstSplitFieldValue=resp.results.values[0]),setFieldsChartStates(CHART_STATE.LOADING),drawCards(resp.results.values),$scope.formChange()})):(setFieldsChartStates(CHART_STATE.LOADING),$scope.ui.splitText="",destroyCards(),$scope.formChange())},$scope.toggleFields=function(field){var key=field.id,f=$scope.formConfig.fields[key];void 0===f?($scope.formConfig.fields[key]=field,$scope.chartStates.fields[key]=CHART_STATE.LOADING):(delete $scope.formConfig.fields[key],delete $scope.chartStates.fields[key])},$scope.toggleKeyFields=function(key){var f=$scope.formConfig.keyFields[key];void 0===f?$scope.formConfig.keyFields[key]=key:delete $scope.formConfig.keyFields[key]},$scope.ui.isFormValid=function(){return void 0===$scope.formConfig.agg.type||void 0===$scope.formConfig.timeField||0===Object.keys($scope.formConfig.fields).length?$scope.ui.formValid=!1:$scope.ui.formValid=!0,$scope.ui.formValid},$scope.loadVis=function(){function loadDocCountData(dtrs){var gridWidth=_angular2["default"].element(".charts-container").width();mlMultiMetricJobService.loadDocCountData($scope.formConfig,gridWidth).then(function(resp){thisLoadTimestamp===$scope.chartData.lastLoadTimestamp&&(_lodash2["default"].each(dtrs,function(dtr,id){var state=dtr.line.length?CHART_STATE.LOADED:CHART_STATE.NO_RESULTS;$scope.chartStates.fields[id]=state}),$scope.chartData.lastLoadTimestamp=null,$scope.$broadcast("render"),$scope.chartStates.eventRate=resp.job.bars.length?CHART_STATE.LOADED:CHART_STATE.NO_RESULTS)})["catch"](function(resp){$scope.chartStates.eventRate=CHART_STATE.NO_RESULTS,msgs.error(resp.message)})}var thisLoadTimestamp=Date.now();$scope.chartData.lastLoadTimestamp=thisLoadTimestamp,setTime(),$scope.ui.isFormValid(),$scope.ui.showJobInput=!0,$scope.ui.showJobFinished=!1,$scope.ui.dirty=!1,mlMultiMetricJobService.clearChartData(),setFieldsChartStates(CHART_STATE.LOADING),Object.keys($scope.formConfig.fields).length?($scope.ui.showFieldCharts=!0,mlMultiMetricJobService.getLineChartResults($scope.formConfig,thisLoadTimestamp).then(function(resp){loadDocCountData(resp.detectors)})["catch"](function(resp){msgs.error(resp.message),_lodash2["default"].each($scope.formConfig.fields,function(field,id){$scope.chartStates.fields[id]=CHART_STATE.NO_RESULTS})})):($scope.ui.showFieldCharts=!1,loadDocCountData([]))},$scope.changeJobIDCase=function(){$scope.formConfig.jobId&&($scope.formConfig.jobId=$scope.formConfig.jobId.toLowerCase())};var refreshInterval=REFRESH_INTERVAL_MS;$scope.createJob=function(){function saveNewDatafeed(job,startDatafeedAfterSave){mlJobService.saveNewDatafeed(job.datafeed_config,job.job_id).then(function(){startDatafeedAfterSave&&mlMultiMetricJobService.startDatafeed($scope.formConfig).then(function(){$scope.jobState=JOB_STATE.RUNNING,refreshCounter=0,refreshInterval=REFRESH_INTERVAL_MS,$scope.formConfig.resultsIntervalSeconds=$scope.formConfig.chartInterval.getInterval().asSeconds();var bucketSpanSeconds=(0,_parse_interval2["default"])($scope.formConfig.bucketSpan).asSeconds();$scope.formConfig.resultsIntervalSeconds<bucketSpanSeconds&&($scope.formConfig.resultsIntervalSeconds=bucketSpanSeconds),loadCharts()})["catch"](function(resp){msgs.error("Could not start datafeed: ",resp)})})["catch"](function(resp){msgs.error("Save datafeed failed: ",resp)})}""!==$scope.formConfig.jobId&&void 0!==$scope.formConfig.jobId&&(msgs.clear(),$scope.formConfig.mappingTypes=mlESMappingService.getTypesFromMapping($scope.formConfig.indexPattern.id),mlMultiMetricJobService.createJob($scope.formConfig).then(function(job){mlJobService.openJob(job.job_id).then(function(){saveNewDatafeed(job,!0)})["catch"](function(resp){msgs.error("Could not open job: ",resp),msgs.error("Job created, creating datafeed anyway"),saveNewDatafeed(job,!1)})})["catch"](function(resp){msgs.error("Save failed: ",resp.resp)}))},$scope.setFullTimeRange=function(){mlMultiMetricJobService.indexTimeRange(indexPattern).then(function(resp){timefilter.time.from=(0,_moment2["default"])(resp.start.epoch).toISOString(),timefilter.time.to=(0,_moment2["default"])(resp.end.epoch).toISOString()})["catch"](function(resp){msgs.error(resp.message)})},$scope.resetJob=function(){$scope.jobState=JOB_STATE.NOT_STARTED,toggleSwimlaneVisibility(),window.setTimeout(function(){$scope.ui.showJobInput=!0,$scope.loadVis()},500)},$scope.stopJob=function(){$scope.jobState=JOB_STATE.STOPPING,mlMultiMetricJobService.stopDatafeed($scope.formConfig)},$scope.viewResults=function(page){viewResults({id:$scope.formConfig.jobId},page)},mlESMappingService.getMappings().then(function(){initAgg(),loadFields(),$scope.loadVis()}),$scope.$listen(timefilter,"fetch",$scope.loadVis),_angular2["default"].element(window).resize(function(){resize()}),$scope.$on("$destroy",function(){globalForceStop=!0,_angular2["default"].element(window).off("resize")})}).filter("filterAggTypes",function(){return function(aggTypes,field){var output=[];return _lodash2["default"].each(aggTypes,function(i){"__ml_event_rate_count__"===field.id?i.isCountType&&output.push(i):i.isCountType||output.push(i)}),output}})},3755:function(module,exports){module.exports='<ml-nav-menu name="new_job_multi_metric"></ml-nav-menu>\n<ml-new-job-multi-metric>\n  <ml-message-bar></ml-message-bar>\n  <div ng-controller="MlCreateMultiMetricJob" class="multi-metric-job-container">\n    <div class="row">\n      <div class="col-md-6"><h3>New job from {{ui.pageTitle}}</h3></div>\n      <div class="col-md-6">\n        <div class="pull-right">\n          <span style="font-size:10px;" ng-show="formConfig.chartInterval !== undefined">Chart interval: {{formConfig.chartInterval.getInterval().expression}}</span>\n          <button\n            aria-label="Create Job"\n            ng-click="setFullTimeRange()"\n            type="button"\n            ng-disabled="jobState === JOB_STATE.RUNNING  || jobState === JOB_STATE.STOPPING || jobState === JOB_STATE.FINISHED"\n            class="btn btn-sm btn-success">\n              Use full {{ui.indexPatternId}} data\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <div class="row">\n      <div class="col-md-4">\n        <div class="row form-controls">\n          <h4 >Job settings</h4>\n          <div>\n            <div class=\'form-section\'>\n              <h4 >Fields</h4>\n              <div class="row">\n                <div class="col-md-12">\n                  <div class="form-group">\n\n                    <div class=\'selection-list-container fields-list\'>\n                      <div class="checkbox field-row" ng-repeat="field in ui.fields" >\n                        <label>\n                          <input type="checkbox"\n                            ng-checked="formConfig.fields[field.id] !== undefined"\n                            ng-click="toggleFields(field); formChange()"\n                            ng-disabled="jobState === JOB_STATE.RUNNING  || jobState === JOB_STATE.STOPPING || jobState === JOB_STATE.FINISHED"\n                            />\n                          <span tooltip=\'{{field.tooltip}}\' tooltip-append-to-body="true">{{field.name}}</span>\n                        </label>\n                        <div>\n                          <select\n                            ng-model="field.agg.type"\n                            ng-options="agg as agg.title for agg in ui.aggTypeOptions | filterAggTypes:field"\n                            ng-change="formChange()"\n                            ng-disabled="formConfig.fields[field.id] === undefined || jobState === JOB_STATE.RUNNING  || jobState === JOB_STATE.STOPPING || jobState === JOB_STATE.FINISHED"\n                            class="form-control agg-type">\n                          </select>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class="row">\n                <div class="col-md-6">\n                  <div class="form-group">\n                    <label>Bucket span</label><i ml-info-icon="new_job_bucketspan" ></i>\n                    <input\n                      ng-model="formConfig.bucketSpan"\n                      required\n                      placeholder={{formConfig-bucketSpan}}\n                      ng-disabled="jobState === JOB_STATE.RUNNING  || jobState === JOB_STATE.STOPPING || jobState === JOB_STATE.FINISHED"\n                      ng-change="formChange()"\n                      ng-class=\'{"ng-invalid": (!ui.bucketSpanValid)}\'\n                      class="form-control lowercase" />\n                    <div ng-hide="ui.bucketSpanValid" class="validation-error">Invalid interval format</div>\n                  </div>\n                </div>\n\n                <div class="col-md-6">\n                </div>\n              </div>\n            </div>\n\n            <div class=\'form-section\' >\n              <h4 >Split Data</h4>\n              <div class="row">\n                <div class="col-md-12">\n                  <div class="form-group">\n                    <select\n                      ng-model="formConfig.splitField"\n                      ng-change="splitChange()"\n                      ng-disabled="!ui.formValid || jobState === JOB_STATE.RUNNING || jobState === JOB_STATE.STOPPING || jobState === JOB_STATE.FINISHED"\n                      class="form-control">\n                        <option value=\'--No split--\'>--No split--</option>\n                        <option ng-repeat="field in ui.splitFields" value=\'{{field}}\'>{{field}}</option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\'form-section\' >\n              <h4 >Key Fields</h4>\n              <div class="row">\n                <div class="col-md-12">\n                  <div class="form-group">\n                    <div class=\'selection-list-container\'>\n                      <div class="checkbox field-row" ng-repeat="field in ui.splitFields" >\n                        <label>\n                          <input type="checkbox"\n                            ng-checked="formConfig.keyFields[field] !== undefined"\n                            ng-click="toggleKeyFields(field)"\n                            ng-disabled=\'formConfig.splitField===field || jobState === JOB_STATE.RUNNING || jobState === JOB_STATE.STOPPING || jobState === JOB_STATE.FINISHED\'\n                          />\n                          {{field}}\n                        </label>\n                      </div>\n                    </div>\n\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\'form-section\' >\n              <h4 >Job Details</h4>\n              <div ng-show="ui.showJobInput && (jobState === JOB_STATE.NOT_STARTED || jobState === JOB_STATE.RUNNING || jobState === JOB_STATE.STOPPING)">\n                <div class="form-group">\n                  <label>Name</label><i ml-info-icon="new_job_id" ></i>\n                  <input\n                    ng-model="formConfig.jobId"\n                    required\n                    placeholder="Job ID"\n                    ng-change="changeJobIDCase()"\n                    ng-disabled="jobState === JOB_STATE.RUNNING  || jobState === JOB_STATE.STOPPING || jobState === JOB_STATE.FINISHED"\n                    class="form-control lowercase" />\n                </div>\n\n                <div class="form-group">\n                  <label>Description</label><i ml-info-icon="new_job_description" ></i>\n                  <input\n                    ng-model="formConfig.description"\n                    placeholder="Job description"\n                    ng-disabled="jobState === JOB_STATE.RUNNING  || jobState === JOB_STATE.STOPPING || jobState === JOB_STATE.FINISHED"\n                    class="form-control" />\n                </div>\n\n                <div class="form-group">\n                  <button\n                    aria-label="{{ ui.showAdvanced ? \'Hide Advanced\' : \'Show Advanced\' }}"\n                    ng-click="ui.showAdvanced = !ui.showAdvanced"\n                    ng-disabled="formConfig.useDedicatedIndex"\n                    type="button"\n                    class="btn btn-primary btn-xs advanced-button">\n                    <i aria-hidden="true" ng-class="{ \'fa-caret-down\': ui.showAdvanced, \'fa-caret-right\': !ui.showAdvanced }" class="fa"></i>\n                  </button>\n                  <label>Advanced</label><i ml-info-icon="new_job_advanced_settings" ></i>\n                  <div class=\'advanced-group\' ng-show="ui.showAdvanced">\n                    <label>\n                      <input type="checkbox"\n                        ng-model  ="formConfig.useDedicatedIndex" />\n                        Use dedicated index <i ml-info-icon="new_job_dedicated_index" ></i>\n                    </label>\n                  </div>\n                </div>\n\n                <button\n                  aria-label="Create Job"\n                  ng-click="createJob()"\n                  type="button"\n                  ng-show="jobState === JOB_STATE.NOT_STARTED"\n                  ng-disabled="!ui.formValid"\n                  class="btn btn-primary">\n                    Create Job\n                </button>\n\n                <div class=\'job-state-info\' ng-show="jobState === JOB_STATE.RUNNING">Analysis running <i class=\'fa fa-spinner fa-spin\'></i></div>\n                <div class=\'job-state-info\' ng-show="jobState === JOB_STATE.STOPPING">Analysis stopping <i class=\'fa fa-spinner fa-spin\'></i></div>\n\n                <button\n                  aria-label="Stop Job"\n                  ng-click="stopJob()"\n                  type="button"\n                  ng-show="jobState === JOB_STATE.RUNNING || jobState === JOB_STATE.STOPPING"\n                  ng-disabled="jobState === JOB_STATE.STOPPING"\n                  class="btn btn-primary btn-danger">\n                    {{(jobState === JOB_STATE.STOPPING) ? \'Analysis stopping\' : \'Stop analysis\' }}\n                </button>\n\n                <button\n                  aria-label="Reset"\n                  ng-show="jobState === JOB_STATE.RUNNING || jobState === JOB_STATE.STOPPING"\n                  ng-click="viewResults(\'explorer\')"\n                  type="button"\n                  class="btn btn-primary">\n                    View Results\n                </button>\n              </div>\n              <div ng-show="jobState === JOB_STATE.FINISHED">\n                <h3>Job {{formConfig.jobId }} created</h3>\n\n                <button\n                  aria-label="Reset"\n                  ng-click="resetJob()"\n                  type="button"\n                  class="btn btn-primary">\n                    Reset\n                </button>\n                <button\n                  aria-label="Reset"\n                  ng-click="viewResults(\'explorer\')"\n                  type="button"\n                  class="btn btn-primary">\n                    View Results\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="col-md-8">\n        <div class="row charts-container">\n          <h4>Results</h4>\n          <div>\n            <div class=\'chart-list-panel event-rate-container\' style=\'height: {{ui.eventRateChartHeight + 70}}px;\'>\n              <label>Document count</label>\n\n              <div class=\'chart-contrainer\'>\n                <div style=\'height: {{ui.eventRateChartHeight + 25}}px;\'>\n                  <ml-multi-metric-job-event-rate-chart\n                    chart-data="chartData.job"\n                    event-rate-chart-height=\'ui.eventRateChartHeight\'\n                    chart-ticks-margin="chartData.chartTicksMargin">\n                  </ml-multi-metric-job-event-rate-chart>\n                </div>\n\n                <div ng-show="chartStates.eventRate === CHART_STATE.NOT_STARTED || chartStates.eventRate === CHART_STATE.LOADING || chartStates.eventRate === CHART_STATE.NO_RESULTS"\n                  class=\'chart-loader event-rate-chart-loader\'\n                  style=\'height: {{ui.eventRateChartHeight}}px; margin-top: -{{ui.eventRateChartHeight + 25}}px;\'>\n                    <div class=\'status-label\' ng-if="chartStates.eventRate === CHART_STATE.NOT_STARTED"></div>\n                    <div class=\'status-label\' ng-if="chartStates.eventRate === CHART_STATE.LOADING">\n                      <h2><i class=\'fa fa-spinner fa-spin\'></i></h2>\n                    </div>\n                    <div class=\'status-label\' ng-if="chartStates.eventRate === CHART_STATE.NO_RESULTS">\n                      <div class=\'no-results\'>\n                        <h4><i class="fa fa-info-circle"></i> No results found</h4>\n                        <span>Consider using the <a ng-click="setFullTimeRange()">full {{ui.indexPatternId}} data</a></span>\n                      </div>\n                    </div>\n                </div>\n\n              </div>\n\n            </div>\n            <div class=\'chart-list-panel detector-container\' ng-show=\'ui.showFieldCharts\'>\n              <label ng-hide="ui.splitText === \'\'">{{ui.splitText}}</label>\n              <div class=\'card-front\'>\n                <div class="card-title"></div>\n                <div ng-repeat=\'(id, chart) in chartData.detectors\' class=\'chart\' style=\'height: {{ui.chartHeight + 50}}px;\'>\n                  <label>{{formConfig.fields[id].agg.type.title}} {{formConfig.fields[id].name}}</label>\n                  <div class=\'chart-contrainer\'>\n                    <div style=\'height: {{ui.chartHeight + 25}}px;\'>\n                      <ml-multi-metric-job-chart\n                        chart-data="chart"\n                        chart-height=\'ui.chartHeight\'\n                        chart-ticks-margin="chartData.chartTicksMargin">\n                      </ml-multi-metric-job-chart>\n                    </div>\n\n                    <div ng-show="chartStates.fields[id] === CHART_STATE.NOT_STARTED || chartStates.fields[id] === CHART_STATE.LOADING || chartStates.fields[id] === CHART_STATE.NO_RESULTS"\n                      class=\'chart-loader fields-chart-loader\'\n                      style=\'height: {{ui.chartHeight}}px; margin-top: -{{ui.chartHeight + 25}}px; margin-left: {{chartData.chartTicksMargin.width - 1}}px;\'>\n                        <div class=\'status-label\' ng-show="chartStates.fields[id] === CHART_STATE.NOT_STARTED"></div>\n                        <div class=\'status-label\' ng-show="chartStates.fields[id] === CHART_STATE.LOADING">\n                          <h2><i class=\'fa fa-spinner fa-spin\'></i></h2>\n                        </div>\n                        <div class=\'status-label\' ng-show="chartStates.fields[id] === CHART_STATE.NO_RESULTS">\n                          <div class=\'no-results\'>\n                            <h4><i class="fa fa-info-circle"></i> No results found</h4>\n                          </div>\n                        </div>\n                    </div>\n\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</ml-new-job-multi-metric>\n'},3756:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular);__webpack_require__(2439);var _parse_interval=__webpack_require__(2730),_parse_interval2=_interopRequireDefault(_parse_interval),_job_utils=__webpack_require__(3680),_job_utils2=_interopRequireDefault(_job_utils),_string_utils=__webpack_require__(3681),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.service("mlMultiMetricJobService",function($q,es,timefilter,Private,mlJobService,mlMultiMetricJobSearchService){function getSearchJsonFromConfig(formConfig){var term={};void 0!==formConfig.firstSplitFieldValue&&(term={term:_defineProperty({},formConfig.splitField,formConfig.firstSplitFieldValue)});var interval=formConfig.chartInterval.getInterval().asMilliseconds()+"ms",json={index:formConfig.indexPattern.id,size:0,body:{query:{bool:{filter:[formConfig.query,{range:_defineProperty({},formConfig.timeField,{gte:formConfig.start,lte:formConfig.end,format:formConfig.format})},term]}},aggs:{times:{date_histogram:{field:formConfig.timeField,interval:interval,min_doc_count:1}}}}};return Object.keys(formConfig.fields).length&&(json.body.aggs.times.aggs={},_lodash2["default"].each(formConfig.fields,function(field){field.id!==EVENT_RATE_COUNT_FIELD&&(json.body.aggs.times.aggs[field.id]=_defineProperty({},field.agg.type.name,{
field:field.id}))})),json}function getJobFromConfig(formConfig){var mappingTypes=formConfig.mappingTypes,job=mlJobService.getBlankJob();job.data_description.time_field=formConfig.timeField,_lodash2["default"].each(formConfig.fields,function(field,key){var func=field.agg.type.mlName,dtr={"function":func};dtr.detector_description=func,key!==EVENT_RATE_COUNT_FIELD&&(dtr.field_name=key,dtr.detector_description+="("+key+")"),"--No split--"!==formConfig.splitField&&(dtr.partition_field_name=formConfig.splitField),job.analysis_config.detectors.push(dtr)});var keyFields=Object.keys(formConfig.keyFields);keyFields&&keyFields.length&&(job.analysis_config.influencers=keyFields);var query={match_all:{}};"*"!==formConfig.query.query_string.query&&(query=formConfig.query),job.analysis_config.bucket_span=formConfig.bucketSpan,delete job.data_description.field_delimiter,delete job.data_description.quote_character,delete job.data_description.time_format,delete job.data_description.format;var bucketSpanSeconds=(0,_parse_interval2["default"])(formConfig.bucketSpan).asSeconds();return job.datafeed_config={query:query,types:mappingTypes,query_delay:"60s",frequency:_job_utils2["default"].calculateDatafeedFrequencyDefaultSeconds(bucketSpanSeconds)+"s",indexes:[formConfig.indexPattern.id],scroll_size:1e3},job.job_id=formConfig.jobId,job.description=formConfig.description,formConfig.useDedicatedIndex&&(job.results_index_name=job.job_id),job}function createJobForSaving(job){var newJob=_angular2["default"].copy(job);return delete newJob.datafeed_config,newJob}var TimeBuckets=Private(__webpack_require__(3741)),EVENT_RATE_COUNT_FIELD="__ml_event_rate_count__";this.chartData={job:{swimlane:[],line:[],bars:[]},detectors:{},percentComplete:0,loadingDifference:0,lastLoadTimestamp:null,highestValue:0,eventRateHighestValue:0,chartTicksMargin:{width:30}},this.job={},this.clearChartData=function(){this.chartData.job.swimlane=[],this.chartData.job.line=[],this.chartData.job.bars=[],this.chartData.detectors={},this.chartData.percentComplete=0,this.chartData.loadingDifference=0,this.chartData.highestValue=0,this.chartData.eventRateHighestValue=0,this.job={}},this.getLineChartResults=function(formConfig,thisLoadTimestamp){var _this=this,deferred=$q.defer(),fieldIds=Object.keys(formConfig.fields).sort(),idx=_lodash2["default"].findIndex(fieldIds,function(id){return id===EVENT_RATE_COUNT_FIELD});idx!==-1&&(fieldIds.splice(idx,1),fieldIds.splice(0,0,EVENT_RATE_COUNT_FIELD)),_lodash2["default"].each(fieldIds,function(field){_this.chartData.detectors[field]={line:[],swimlane:[]}});var searchJson=getSearchJsonFromConfig(formConfig);return es.search(searchJson).then(function(resp){thisLoadTimestamp===_this.chartData.lastLoadTimestamp?_lodash2["default"].each(fieldIds,function(field){_this.chartData.detectors[field]={line:[],swimlane:[]}}):deferred.resolve(_this.chartData);var aggregationsByTime=_lodash2["default"].get(resp,["aggregations","times","buckets"],[]),highestValue=Math.max(_this.chartData.eventRateHighestValue,_this.chartData.highestValue);_lodash2["default"].each(aggregationsByTime,function(dataForTime){var time=+dataForTime.key,date=new Date(time),docCount=+dataForTime.doc_count;_this.chartData.job.swimlane.push({date:date,time:time,value:0,color:"",percentComplete:0}),_this.chartData.job.line.push({date:date,time:time,value:null}),_lodash2["default"].each(fieldIds,function(fieldId){var value=fieldId===EVENT_RATE_COUNT_FIELD?docCount:dataForTime[fieldId].value;isFinite(value)||(value=0),value>highestValue&&(highestValue=value),_this.chartData.detectors[fieldId]&&(_this.chartData.detectors[fieldId].line.push({date:date,time:time,value:value}),_this.chartData.detectors[fieldId].swimlane.push({date:date,time:time,value:0,color:"",percentComplete:0}))})}),_this.chartData.highestValue=Math.ceil(highestValue),_this.chartData.chartTicksMargin.width=(0,_string_utils.calculateTextWidth)(_this.chartData.highestValue,!0),deferred.resolve(_this.chartData)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.createJob=function(formConfig){var _this2=this,deferred=$q.defer();this.job=getJobFromConfig(formConfig);var job=createJobForSaving(this.job);return mlJobService.saveNewJob(job).then(function(resp){resp.success?deferred.resolve(_this2.job):deferred.reject(resp)}),deferred.promise},this.startDatafeed=function(formConfig){var datafeedId=mlJobService.getDatafeedId(formConfig.jobId);return mlJobService.startDatafeed(datafeedId,formConfig.jobId,formConfig.start,formConfig.end)},this.stopDatafeed=function(formConfig){var datafeedId=mlJobService.getDatafeedId(formConfig.jobId);return mlJobService.stopDatafeed(datafeedId,formConfig.jobId)},this.checkDatafeedStatus=function(formConfig){return mlJobService.updateSingleJobDatafeedState(formConfig.jobId)},this.loadJobSwimlaneData=function(formConfig){var _this3=this,deferred=$q.defer();return mlMultiMetricJobSearchService.getScoresByBucket(formConfig.indexPattern.id,formConfig.jobId,formConfig.start,formConfig.end,formConfig.resultsIntervalSeconds+"s").then(function(data){var time=formConfig.start;_lodash2["default"].each(data.results,function(dataForTime,t){time=+t;var date=new Date(time);_this3.chartData.job.swimlane.push({date:date,time:time,value:dataForTime.anomalyScore,color:""})});var pcnt=(time-formConfig.start+formConfig.resultsIntervalSeconds)/(formConfig.end-formConfig.start)*100;_this3.chartData.percentComplete=Math.round(pcnt),_this3.chartData.job.percentComplete=_this3.chartData.percentComplete,_this3.chartData.job.swimlaneInterval=1e3*formConfig.resultsIntervalSeconds,deferred.resolve(_this3.chartData)})["catch"](function(){deferred.resolve(_this3.chartData)}),deferred.promise},this.loadDetectorSwimlaneData=function(formConfig){var _this4=this,deferred=$q.defer();return mlMultiMetricJobSearchService.getScoresByRecord(formConfig.indexPattern.id,formConfig.jobId,formConfig.start,formConfig.end,formConfig.resultsIntervalSeconds+"s",{name:formConfig.splitField,value:formConfig.firstSplitFieldValue}).then(function(data){var dtrIndex=0;_lodash2["default"].each(formConfig.fields,function(field,key){var dtr=_this4.chartData.detectors[key],times=data.results[dtrIndex];dtr.swimlane=[],_lodash2["default"].each(times,function(timeObj,t){var time=+t,date=new Date(time);dtr.swimlane.push({date:date,time:time,value:timeObj.recordScore,color:""})}),dtr.percentComplete=_this4.chartData.percentComplete,dtr.swimlaneInterval=1e3*formConfig.resultsIntervalSeconds,dtrIndex++}),deferred.resolve(_this4.chartData)})["catch"](function(){deferred.resolve(_this4.chartData)}),deferred.promise},this.indexTimeRange=function(indexPattern){var deferred=$q.defer(),obj={success:!0,start:{epoch:0,string:""},end:{epoch:0,string:""}};return es.search({index:indexPattern.id,size:0,body:{aggs:{earliest:{min:{field:indexPattern.timeFieldName}},latest:{max:{field:indexPattern.timeFieldName}}}}}).then(function(resp){resp.aggregations&&resp.aggregations.earliest&&resp.aggregations.latest&&(obj.start.epoch=resp.aggregations.earliest.value,obj.start.string=resp.aggregations.earliest.value_as_string,obj.end.epoch=resp.aggregations.latest.value,obj.end.string=resp.aggregations.latest.value_as_string),deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.getSplitFields=function(formConfig,size){return mlMultiMetricJobSearchService.getCategoryFields(formConfig.indexPattern.id,formConfig.splitField,size,formConfig.query)},this.loadDocCountData=function(formConfig){var _this5=this,deferred=$q.defer(),bounds=timefilter.getActiveBounds(),buckets=new TimeBuckets;buckets.setInterval("auto"),buckets.setBounds(bounds);var interval=buckets.getInterval().asMilliseconds(),end=formConfig.end,start=formConfig.start;return mlMultiMetricJobSearchService.getEventRate(formConfig.indexPattern.id,start,end,formConfig.timeField,interval+"ms",formConfig.query).then(function(resp){var highestValue=Math.max(_this5.chartData.eventRateHighestValue,_this5.chartData.highestValue);_this5.chartData.job.bars=[],_lodash2["default"].each(resp.results,function(value,t){isFinite(value)||(value=0),value>highestValue&&(highestValue=value);var time=+t,date=new Date(time);_this5.chartData.job.barsInterval=interval,_this5.chartData.job.bars.push({date:date,time:time,value:value})}),_this5.chartData.eventRateHighestValue=Math.ceil(highestValue),_this5.chartData.chartTicksMargin.width=(0,_string_utils.calculateTextWidth)(_this5.chartData.eventRateHighestValue,!0),deferred.resolve(_this5.chartData)})["catch"](function(resp){console.log("getEventRate visualization - error getting event rate data from elasticsearch:",resp),deferred.reject(resp)}),deferred.promise}})},3757:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_d=__webpack_require__(2794),_d2=_interopRequireDefault(_d),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular);__webpack_require__(2439);var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.directive("mlMultiMetricJobChart",function(){function link(scope,element){function init(){var $el=_angular2["default"].element(".multi-metric-job-container .card-front"),offset=$el.hasClass("card")?30:0;margin.left=scope.chartTicksMargin.width,svgWidth=$el.width()-offset,vizWidth=svgWidth-margin.left-margin.right,lineChartXScale=_d2["default"].time.scale().range([0,vizWidth]),lineChartYScale=_d2["default"].scale.linear().range([lineChartHeight,0]),_d2["default"].svg.axis().scale(lineChartXScale).orient("bottom").innerTickSize(-lineChartHeight).outerTickSize(0).tickPadding(10),_d2["default"].svg.axis().scale(lineChartYScale).orient("left").innerTickSize(-vizWidth).outerTickSize(0).tickPadding(10),lineChartValuesLine=_d2["default"].svg.line().x(function(d){return lineChartXScale(d.date)}).y(function(d){return lineChartYScale(d.value)}).defined(function(d){return null!==d.value})}function createSVGGroups(){if(void 0!==scope.chartData.line){var chartElement=_d2["default"].select(element.get(0));if(chartElement.select("svg").remove(),chartElement.select(".progress").remove(),null===chartElement.select(".progress-bar")[0][0]){var style="width:"+(+vizWidth+2)+"px; margin-bottom: -"+(+lineChartHeight-12)+"px; ";style+="margin-left: "+(+margin.left-1)+"px;",chartElement.append("div").attr("class","progress").attr("style",style).append("div").attr("class","progress-bar")}$progressBar=(0,_jquery2["default"])(".progress-bar");var svg=chartElement.append("svg").attr("width",svgWidth).attr("height",svgHeight);swimlaneGroup=svg.append("g").attr("class","swimlane").attr("transform","translate("+margin.left+","+margin.top+")"),lineChartGroup=svg.append("g").attr("class","line-chart").attr("transform","translate("+margin.left+","+margin.top+")")}}function drawLineChart(){var data=scope.chartData.line;lineChartXScale=lineChartXScale.domain(_d2["default"].extent(data,function(d){return d.date})),chartLimits.max=_d2["default"].max(data,function(d){return d.value}),chartLimits.min=_d2["default"].min(data,function(d){return d.value});var padding=.05*(chartLimits.max-chartLimits.min);chartLimits.max+=padding,chartLimits.min-=padding,lineChartYScale=lineChartYScale.domain([chartLimits.min,chartLimits.max]);var xAxis=_d2["default"].svg.axis().scale(lineChartXScale).orient("bottom").innerTickSize(-lineChartHeight).outerTickSize(0).tickPadding(10),yAxis=_d2["default"].svg.axis().scale(lineChartYScale).orient("left").innerTickSize(-vizWidth).outerTickSize(0).tickPadding(10);swimlaneGroup.append("rect").attr("x",0).attr("y",0).attr("height",lineChartHeight).attr("width",vizWidth).style("fill","#FFFFFF"),lineChartGroup.append("rect").attr("x",0).attr("y",0).attr("height",lineChartHeight).attr("width",vizWidth).style("stroke","#cccccc").style("fill","none").style("stroke-width",1),drawLineChartAxes(xAxis,yAxis),drawLineChartPaths(data)}function drawLineChartAxes(xAxis,yAxis){var axes=lineChartGroup.append("g");axes.append("g").attr("class","x axis").attr("transform","translate(0,"+lineChartHeight+")").call(xAxis),axes.append("g").attr("class","y axis").call(yAxis)}function drawLineChartPaths(data){lineChartGroup.append("path").attr("class","values-line").attr("d",lineChartValuesLine(data))}function drawResults(){drawSwimlane(vizWidth,lineChartHeight),updateProgressBar()}function drawSwimlane(swlWidth,swlHeight){var data=scope.chartData.swimlane,cellWidth=0;data.length>0&&(cellWidth=lineChartXScale(data[0].time+scope.chartData.swimlaneInterval)-lineChartXScale(data[0].time)),_d2["default"].time.scale().range([0,swlWidth]).domain(_d2["default"].extent(data,function(d){return d.date})),_d2["default"].scale.linear().range([swlHeight,0]).domain([0,swlHeight]);var color=_d2["default"].scale.threshold().domain([3,25,50,75,100]).range(["#d2e9f7","#8bc8fb","#ffdd00","#ff7e00","#fe5050"]);swimlaneGroup.select(".swimlane-cells").remove();var cells=swimlaneGroup.append("g").attr("class","swimlane-cells").selectAll("cells").data(data);cells.enter().append("rect").attr("x",function(d){return lineChartXScale(d.date)}).attr("y",0).attr("rx",0).attr("ry",0).attr("class",function(d){return d.value>0?"swimlane-cell":"swimlane-cell-hidden"}).attr("width",cellWidth-0).attr("height",swlHeight-0).style("fill",function(d){return color(d.value)})}function updateProgressBar(){var pcnt=scope.chartData.percentComplete<100?scope.chartData.percentComplete:0;$progressBar.css("width",pcnt+"%")}var svgWidth=0,lineChartHeight=scope.chartHeight,margin={top:0,right:0,bottom:20,left:scope.chartTicksMargin.width},svgHeight=lineChartHeight+margin.top+margin.bottom,vizWidth=svgWidth-margin.left-margin.right,chartLimits={max:0,min:0},lineChartXScale=null,lineChartYScale=null,lineChartGroup=void 0,swimlaneGroup=void 0,lineChartValuesLine=null,$progressBar=void 0;scope.$on("render",function(){init(),createSVGGroups(),drawLineChart()}),scope.$on("render-results",function(){drawResults()}),element.on("$destroy",function(){scope.$destroy()})}return{scope:{chartData:"=",chartHeight:"=",chartTicksMargin:"="},link:link}})},3758:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_d=__webpack_require__(2794),_d2=_interopRequireDefault(_d),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular);__webpack_require__(2439);var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.directive("mlMultiMetricJobEventRateChart",function(){function link(scope,element){function init(){var $el=_angular2["default"].element(".event-rate-container");margin.left=scope.chartTicksMargin.width,svgWidth=$el.width(),vizWidth=svgWidth-margin.left-margin.right,barChartXScale=_d2["default"].scale.linear().rangeRound([0,vizWidth],.05),swimlaneXScale=_d2["default"].time.scale().range([0,vizWidth]),barChartYScale=_d2["default"].scale.linear().range([barChartHeight,0])}function createSVGGroups(){if(void 0!==scope.chartData.bars){var chartElement=_d2["default"].select(element.get(0));if(chartElement.select("svg").remove(),chartElement.select(".progress").remove(),null===chartElement.select(".progress-bar")[0][0]){var style="width:"+(+vizWidth+2)+"px; margin-bottom: -"+(+barChartHeight-12)+"px; ";style+="margin-left: "+(+margin.left-1)+"px;",chartElement.append("div").attr("class","progress").attr("style",style).append("div").attr("class","progress-bar")}$progressBar=(0,_jquery2["default"])(".progress-bar");var svg=chartElement.append("svg").attr("width",svgWidth).attr("height",svgHeight);barChartGroup=svg.append("g").attr("class","bar-chart").attr("transform","translate("+margin.left+","+margin.top+")"),swimlaneGroup=svg.append("g").attr("class","swimlane").attr("transform","translate("+margin.left+","+margin.top+")")}}function drawBarChart(){var data=scope.chartData.bars,finerData=scope.chartData.bars;scope.chartData.line.length>0&&(finerData=scope.chartData.line),swimlaneXScale.domain(_d2["default"].extent(finerData,function(d){return d.date})),barChartXScale=_d2["default"].time.scale().range([0,vizWidth]).domain(_d2["default"].extent(data,function(d){return d.date})),chartLimits.max=_d2["default"].max(data,function(d){return d.value}),chartLimits.min=_d2["default"].min(data,function(d){return d.value});var padding=.05*(chartLimits.max-chartLimits.min);chartLimits.max+=padding,barChartYScale=barChartYScale.domain([chartLimits.min,chartLimits.max]);var xAxis=_d2["default"].svg.axis().scale(swimlaneXScale).orient("bottom").innerTickSize(-barChartHeight).outerTickSize(0).tickPadding(10),yAxis=_d2["default"].svg.axis().scale(barChartYScale).orient("left").innerTickSize(-vizWidth).outerTickSize(0).tickPadding(10);barChartGroup.append("rect").attr("x",0).attr("y",0).attr("height",barChartHeight).attr("width",vizWidth).style("fill","#FFFFFF"),barChartGroup.append("rect").attr("x",0).attr("y",0).attr("height",barChartHeight).attr("width",vizWidth).style("stroke","#cccccc").style("fill","none").style("stroke-width",1),drawBarChartAxes(xAxis,yAxis),drawBarChartPaths(data)}function drawBarChartAxes(xAxis,yAxis){var axes=barChartGroup.append("g");axes.append("g").attr("class","x axis").attr("transform","translate(0,"+barChartHeight+")").call(xAxis),axes.append("g").attr("class","y axis").call(yAxis)}function drawBarChartPaths(data){var cellWidth=0;data.length>0&&(cellWidth=barChartXScale(data[0].time+scope.chartData.barsInterval)-barChartXScale(data[0].time)),barChartGroup.selectAll("bar").data(data).enter().append("rect").style("fill","#32a7c2").attr("class","bar").attr("x",function(d){return barChartXScale(d.time)}).attr("width",cellWidth).attr("y",function(d){return barChartYScale(d.value)}).attr("height",function(d){return barChartHeight-barChartYScale(d.value)})}function drawResults(){updateProgressBar(),drawSwimlane(vizWidth,barChartHeight)}function drawSwimlane(swlWidth,swlHeight){var lineData=scope.chartData.line,data=scope.chartData.swimlane,cellWidth=0;data.length>0&&(cellWidth=barChartXScale(data[0].time+scope.chartData.swimlaneInterval)-barChartXScale(data[0].time)),_d2["default"].time.scale().range([0,swlWidth]).domain(_d2["default"].extent(lineData,function(d){return d.date})),_d2["default"].scale.linear().range([swlHeight,0]).domain([0,swlHeight]);var color=_d2["default"].scale.threshold().domain([3,25,50,75,100]).range(["#d2e9f7","#8bc8fb","#ffdd00","#ff7e00","#fe5050"]);swimlaneGroup.select(".swimlane-cells").remove();var cells=swimlaneGroup.append("g").attr("class","swimlane-cells").selectAll("cells").data(data);cells.enter().append("rect").attr("x",function(d){return swimlaneXScale(d.date)}).attr("y",0).attr("rx",0).attr("ry",0).attr("class",function(d){return d.value>0?"swimlane-cell":"swimlane-cell-hidden"}).attr("width",cellWidth-0).attr("height",swlHeight-0).style("fill",function(d){return color(d.value)})}function updateProgressBar(){var pcnt=scope.chartData.percentComplete;$progressBar.css("width",pcnt+"%")}var svgWidth=0,barChartHeight=scope.eventRateChartHeight,margin={top:0,right:0,bottom:20,left:scope.chartTicksMargin.width},svgHeight=barChartHeight+margin.top+margin.bottom,vizWidth=svgWidth-margin.left-margin.right,chartLimits={max:0,min:0},barChartXScale=null,swimlaneXScale=null,barChartYScale=null,barChartGroup=void 0,swimlaneGroup=void 0,$progressBar=void 0;scope.$on("render",function(){init(),createSVGGroups(),drawBarChart()}),scope.$on("render-results",function(){drawResults()}),element.on("$destroy",function(){scope.$destroy()})}return{scope:{chartData:"=",eventRateChartHeight:"=",chartTicksMargin:"="},link:link}})},3759:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.service("mlMultiMetricJobSearchService",function($q,es){this.getScoresByRecord=function(index,jobId,earliestMs,latestMs,interval,firstSplitField){var deferred=$q.defer(),obj={success:!0,results:{}},jobIdFilterStr="job_id: "+jobId;return firstSplitField&&void 0!==firstSplitField.value&&(jobIdFilterStr+=" AND "+firstSplitField.name+": "+firstSplitField.value),es.search({index:".ml-anomalies-*",size:0,body:{query:{bool:{filter:[{query_string:{query:"_type:result AND result_type:record"}},{bool:{must:[{range:{timestamp:{gte:earliestMs,lte:latestMs,format:"epoch_millis"}}},{query_string:{query:jobIdFilterStr}}]}}]}},aggs:{detector_index:{terms:{field:"detector_index",order:{recordScore:"desc"}},aggs:{recordScore:{max:{field:"record_score"}},byTime:{date_histogram:{field:"timestamp",interval:interval,min_doc_count:1,extended_bounds:{min:earliestMs,max:latestMs}},aggs:{recordScore:{max:{field:"record_score"}}}}}}}}}).then(function(resp){var detectorsByIndex=_lodash2["default"].get(resp,["aggregations","detector_index","buckets"],[]);_lodash2["default"].each(detectorsByIndex,function(dtr){for(var dtrResults={},dtrIndex=+dtr.key,buckets=_lodash2["default"].get(dtr,["byTime","buckets"],[]),j=0;j<buckets.length;j++){var bkt=buckets[j],time=bkt.key;dtrResults[time]={recordScore:_lodash2["default"].get(bkt,["recordScore","value"])}}obj.results[dtrIndex]=dtrResults}),deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.getScoresByBucket=function(index,jobId,earliestMs,latestMs,interval){var deferred=$q.defer(),obj={success:!0,results:{}};return es.search({index:".ml-anomalies-*",size:0,body:{query:{bool:{filter:[{query_string:{query:"_type:result AND result_type:bucket"}},{bool:{must:[{range:{timestamp:{gte:earliestMs,lte:latestMs,format:"epoch_millis"}}},{query_string:{query:"job_id:"+jobId}}]}}]}},aggs:{times:{date_histogram:{field:"timestamp",interval:interval,min_doc_count:1},aggs:{anomalyScore:{max:{field:"anomaly_score"}}}}}}}).then(function(resp){var aggregationsByTime=_lodash2["default"].get(resp,["aggregations","times","buckets"],[]);_lodash2["default"].each(aggregationsByTime,function(dataForTime){var time=dataForTime.key;obj.results[time]={anomalyScore:_lodash2["default"].get(dataForTime,["anomalyScore","value"])}}),deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.getCategoryFields=function(index,field,size,query){var deferred=$q.defer(),obj={success:!0,results:{}};return es.search({index:index,size:0,body:{query:query,aggs:{catFields:{terms:{field:field,size:size}}}}}).then(function(resp){obj.results.values=[];var catFields=_lodash2["default"].get(resp,["aggregations","catFields","buckets"],[]);_lodash2["default"].each(catFields,function(f){obj.results.values.push(f.key)}),deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.getEventRate=function(index,earliestMs,latestMs,timeField,interval,query){var deferred=$q.defer(),obj={success:!0,results:{}};return es.search({index:index,size:0,body:{query:{bool:{must:[query,{range:_defineProperty({},timeField,{gte:earliestMs,lte:latestMs,format:"epoch_millis"})}]}},_source:{excludes:[]},aggs:{eventRate:{date_histogram:{field:timeField,interval:interval,min_doc_count:1}}}}}).then(function(resp){var dataByTimeBucket=_lodash2["default"].get(resp,["aggregations","eventRate","buckets"],[]);_lodash2["default"].each(dataByTimeBucket,function(dataForTime){var time=dataForTime.key;obj.results[time]=dataForTime.doc_count}),deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise}})},3760:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3761),__webpack_require__(3762)},3761:function(module,exports){},3762:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _routes=__webpack_require__(2485),_routes2=_interopRequireDefault(_routes),_check_license=__webpack_require__(3684),_check_license2=_interopRequireDefault(_check_license),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_routes2["default"].when("/jobs/new_job",{template:__webpack_require__(3763),resolve:{CheckLicense:_check_license2["default"]}});var _module=_modules2["default"].get("apps/ml");_module.controller("MlNewJobWizard",function($scope,$route,$location,Private,timefilter){function setJobMode(mode){$location.path(mode)}function wizardStep(step){$scope.ui.wizard.step+=step}timefilter.enabled=!1,$scope.ui={pageTitle:"Create a new job",wizard:{step:0,stepHovering:0,forward:function(){wizardStep(1)},back:function(){wizardStep(-1)},setJobMode:setJobMode}}})},3763:function(module,exports){module.exports='<ml-nav-menu name="new_job"></ml-nav-menu>\n<ml-new-job>\n  <ml-message-bar></ml-message-bar>\n  <div ng-controller="MlNewJobWizard" class="container">\n    <!-- first view of wizard -->\n    <div ng-show="ui.wizard.step === 0" class="wizard-step-0">\n      <div>\n\n        <div ng-mouseenter="ui.wizard.stepHovering=1" ng-mouseleave="ui.wizard.stepHovering=0" ng-click="ui.wizard.setJobMode(\'jobs/new_job_single_metric\')" >\n          <label class="data-location">\n            <div class="ml-round-number" ng-class="{\'ml-round-number-pop\':ui.wizard.stepHovering===1}">\n              <i aria-hidden="true" class="fa fa-area-chart"></i>\n            </div>\n            <div>\n              <div>Create a single metric job</div>\n              <div>Based on a kibana index pattern or saved search</div>\n            </div>\n          </label>\n        </div>\n        <div ng-mouseenter="ui.wizard.stepHovering=2" ng-mouseleave="ui.wizard.stepHovering=0" ng-click="ui.wizard.setJobMode(\'jobs/new_job_multi_metric\')" >\n          <label class="data-location">\n            <div class="ml-round-number" ng-class="{\'ml-round-number-pop\':ui.wizard.stepHovering===2}">\n              <i aria-hidden="true" class="fa fa-area-chart"></i>\n            </div>\n            <div>\n              <div>Create a multi metric job</div>\n              <div>Based on a kibana index pattern or saved search</div>\n            </div>\n          </label>\n        </div>\n        <div ng-mouseenter="ui.wizard.stepHovering=3" ng-mouseleave="ui.wizard.stepHovering=0" ng-click="ui.wizard.setJobMode(\'jobs/new_job_advanced\')" >\n          <label class="data-location">\n            <div class="ml-round-number" ng-class="{\'ml-round-number-pop\':ui.wizard.stepHovering===3}">\n              <i aria-hidden="true" class="fa fa-cog"></i>\n            </div>\n            <div>\n              <div>Create an advanced job</div>\n              <div>Advanced configuration options for creating a job</div>\n            </div>\n          </label>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</ml-new-job>\n'},3764:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.service("mlClipboardService",function(){function copyTextToClipboard(text){var textArea=document.createElement("textarea");textArea.style.position="fixed",textArea.style.top=0,textArea.style.left=0,textArea.style.width="2em",textArea.style.height="2em",textArea.style.padding=0,textArea.style.border="none",textArea.style.outline="none",textArea.style.boxShadow="none",textArea.style.background="transparent",textArea.value=text,document.body.appendChild(textArea),textArea.select();var successful=!1;try{successful=document.execCommand("copy");var msg=successful?"successful":"unsuccessful";console.log("Copying text command was "+msg)}catch(err){console.log("Oops, unable to copy")}return document.body.removeChild(textArea),successful}this.copy=copyTextToClipboard})},3765:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.service("mlPrivilegeService",function(Promise,ml){this.getJobManagementPrivileges=function(){var privileges={canCreateJob:!1,canDeleteJob:!1,canStartStopDatafeed:!1,canUpdateJob:!1,canUpdateDatafeed:!1};return new Promise(function(resolve,reject){var priv={cluster:["cluster:admin/xpack/ml/job/put","cluster:admin/xpack/ml/job/delete","cluster:admin/xpack/ml/job/update","cluster:admin/xpack/ml/datafeeds/put","cluster:admin/xpack/ml/datafeeds/delete","cluster:admin/xpack/ml/datafeeds/start","cluster:admin/xpack/ml/datafeeds/stop","cluster:admin/xpack/ml/datafeeds/update"]};ml.checkPrivilege(priv).then(function(resp){return resp.securityDisabled?_lodash2["default"].each(privileges,function(p,k){privileges[k]=!0}):(resp.cluster["cluster:admin/xpack/ml/job/put"]&&resp.cluster["cluster:admin/xpack/ml/datafeeds/put"]&&(privileges.canCreateJob=!0),resp.cluster["cluster:admin/xpack/ml/job/update"]&&(privileges.canUpdateJob=!0),resp.cluster["cluster:admin/xpack/ml/job/delete"]&&resp.cluster["cluster:admin/xpack/ml/datafeeds/delete"]&&(privileges.canDeleteJob=!0),resp.cluster["cluster:admin/xpack/ml/datafeeds/start"]&&resp.cluster["cluster:admin/xpack/ml/datafeeds/stop"]&&(privileges.canStartStopDatafeed=!0),resp.cluster["cluster:admin/xpack/ml/datafeeds/update"]&&(privileges.canUpdateDatafeed=!0)),resolve(privileges)})["catch"](function(){return reject(privileges)})})}})},3766:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_parse_interval=__webpack_require__(2730),_parse_interval2=_interopRequireDefault(_parse_interval),_anomaly_utils=__webpack_require__(3767),_anomaly_utils2=_interopRequireDefault(_anomaly_utils),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.service("mlJobService",function($rootScope,$http,$q,es,ml,mlMessageBarService){function checkSaveResponse(resp,origJob){if(!resp)return console.log("checkSaveResponse(): response is empty"),!1;if(resp.job_id){if(resp.job_id===origJob.job_id)return console.log("checkSaveResponse(): save successful"),!0}else if(resp.errorCode)return console.log("checkSaveResponse(): save failed",resp),!1}function processBasicJobInfo(mlJobService,jobsList){var processedJobsList=[],detectorDescriptionsByJob={},detectorsByJob={},customUrlsByJob={};return _lodash2["default"].each(jobsList,function(jobObj){var analysisConfig=jobObj.analysis_config,bucketSpan=(0,_parse_interval2["default"])(analysisConfig.bucket_span),job={id:jobObj.job_id,bucketSpanSeconds:bucketSpan.asSeconds()};_lodash2["default"].has(jobObj,"description")&&/^\s*$/.test(jobObj.description)===!1?job.description=jobObj.description:job.description=jobObj.job_id,job.detectorDescriptions=[],job.detectors=[];var detectors=_lodash2["default"].get(analysisConfig,"detectors",[]);_lodash2["default"].each(detectors,function(detector){_lodash2["default"].has(detector,"detector_description")&&(job.detectorDescriptions.push(detector.detector_description),job.detectors.push(detector))}),_lodash2["default"].has(jobObj,"custom_settings.custom_urls")&&(job.customUrls=[],
_lodash2["default"].each(jobObj.custom_settings.custom_urls,function(url){_lodash2["default"].has(url,"url_name")&&_lodash2["default"].has(url,"url_value")&&job.customUrls.push(url)}),job.customUrls.length>0&&(customUrlsByJob[job.id]=job.customUrls)),mlJobService.jobDescriptions[job.id]=job.description,detectorDescriptionsByJob[job.id]=job.detectorDescriptions,detectorsByJob[job.id]=job.detectors,mlJobService.basicJobs[job.id]=job,processedJobsList.push(job)}),detectorDescriptionsByJob=_anomaly_utils2["default"].labelDuplicateDetectorDescriptions(detectorDescriptionsByJob),_lodash2["default"].each(detectorsByJob,function(dtrs,jobId){_lodash2["default"].each(dtrs,function(dtr,i){dtr.detector_description=detectorDescriptionsByJob[jobId][i]})}),mlJobService.detectorsByJob=detectorsByJob,mlJobService.customUrlsByJob=customUrlsByJob,processedJobsList}function createJobStats(jobsList,jobStats){jobStats.activeNodes.value=0,jobStats.total.value=0,jobStats.open.value=0,jobStats.closed.value=0,jobStats.failed.value=0,jobStats.activeDatafeeds.value=0;var mlNodes={},failedJobs=0;_lodash2["default"].each(jobsList,function(job){"opened"===job.state?jobStats.open.value++:"closed"===job.state?jobStats.closed.value++:"failed"===job.state&&failedJobs++,"started"===job.datafeed_config.state&&jobStats.activeDatafeeds.value++,job.node&&job.node.name&&(mlNodes[job.node.name]={})}),jobStats.total.value=jobsList.length,failedJobs?(jobStats.failed.value=failedJobs,jobStats.failed.show=!0):jobStats.failed.show=!1,jobStats.activeNodes.value=Object.keys(mlNodes).length}var msgs=mlMessageBarService,jobs=[],datafeedIds={};this.currentJob=void 0,this.jobs=[],this.basicJobs={},this.jobDescriptions={},this.detectorsByJob={},this.customUrlsByJob={},this.jobStats={activeNodes:{label:"Active ML Nodes",value:0,show:!0},total:{label:"Total jobs",value:0,show:!0},open:{label:"Open jobs",value:0,show:!0},closed:{label:"Closed jobs",value:0,show:!0},failed:{label:"Failed jobs",value:0,show:!1},activeDatafeeds:{label:"Active datafeeds",value:0,show:!0}},this.getBlankJob=function(){return{job_id:"",description:"",analysis_config:{bucket_span:"5m",influencers:[],detectors:[]},data_description:{time_field:"",time_format:"",field_delimiter:"",quote_character:'"',format:"delimited"}}},this.loadJobs=function(){function error(err){console.log("MlJobsList error getting list of jobs:",err),msgs.error("Jobs list could not be retrieved"),msgs.error("",err),deferred.reject({jobs:jobs,err:err})}var _this=this,deferred=$q.defer();return jobs=[],datafeedIds={},ml.jobs().then(function(resp){console.log("loadJobs query response:",resp),_angular2["default"].copy(resp.jobs,jobs),ml.jobStats().then(function(statsResp){for(var i=0;i<jobs.length;i++){var job=jobs[i];job.data_counts={},job.model_size_stats={},job.datafeed_config={};for(var j=0;j<statsResp.jobs.length;j++)if(job.job_id===statsResp.jobs[j].job_id){var jobStats=_angular2["default"].copy(statsResp.jobs[j]);job.state=jobStats.state,job.data_counts=jobStats.data_counts,job.model_size_stats=jobStats.model_size_stats,jobStats.node&&(job.node=jobStats.node),jobStats.open_time&&(job.open_time=jobStats.open_time)}}_this.loadDatafeeds().then(function(datafeedsResp){for(var _i=0;_i<jobs.length;_i++)for(var _j=0;_j<datafeedsResp.datafeeds.length;_j++)jobs[_i].job_id===datafeedsResp.datafeeds[_j].job_id&&(jobs[_i].datafeed_config=datafeedsResp.datafeeds[_j],datafeedIds[jobs[_i].job_id]=datafeedsResp.datafeeds[_j].datafeed_id);processBasicJobInfo(_this,jobs),_this.jobs=jobs,createJobStats(_this.jobs,_this.jobStats),deferred.resolve({jobs:_this.jobs})})})["catch"](function(err){error(err)})})["catch"](function(err){error(err)}),deferred.promise},this.refreshJob=function(jobId){function error(err){console.log("MlJobsList error getting list of jobs:",err),msgs.error("Jobs list could not be retrieved"),msgs.error("",err),deferred.reject({jobs:jobs})}var _this2=this,deferred=$q.defer();return ml.jobs({jobId:jobId}).then(function(resp){console.log("refreshJob query response:",resp);var newJob={};resp.jobs&&resp.jobs.length&&(_angular2["default"].copy(resp.jobs[0],newJob),ml.jobStats({jobId:jobId}).then(function(statsResp){for(var j=0;j<statsResp.jobs.length;j++)if(newJob.job_id===statsResp.jobs[j].job_id){var statsJob=statsResp.jobs[j];newJob.state=statsJob.state,newJob.data_counts={},newJob.model_size_stats={},_angular2["default"].copy(statsJob.data_counts,newJob.data_counts),_angular2["default"].copy(statsJob.model_size_stats,newJob.model_size_stats),newJob.node&&_angular2["default"].copy(statsJob.node,newJob.node),statsJob.open_time&&(newJob.open_time=statsJob.open_time)}for(var i=0;i<jobs.length;i++)jobs[i].job_id===newJob.job_id&&(jobs[i]=newJob);var datafeedId=_this2.getDatafeedId(jobId);_this2.loadDatafeeds(datafeedId).then(function(datafeedsResp){for(var _i2=0;_i2<jobs.length;_i2++)for(var _j2=0;_j2<datafeedsResp.datafeeds.length;_j2++)jobs[_i2].job_id===datafeedsResp.datafeeds[_j2].job_id&&(jobs[_i2].datafeed_config=datafeedsResp.datafeeds[_j2],datafeedIds[jobs[_i2].job_id]=datafeedsResp.datafeeds[_j2].datafeed_id);_this2.jobs=jobs,createJobStats(_this2.jobs,_this2.jobStats),deferred.resolve({jobs:_this2.jobs})})})["catch"](function(err){error(err)}))})["catch"](function(err){error(err)}),deferred.promise},this.loadDatafeeds=function(datafeedId){function error(err){console.log("loadDatafeeds error getting list of datafeeds:",err),msgs.error("datafeeds list could not be retrieved"),msgs.error("",err),deferred.reject(err)}var deferred=$q.defer(),datafeeds=[],sId=void 0!==datafeedId?{datafeed_id:datafeedId}:void 0;return ml.datafeeds(sId).then(function(resp){_angular2["default"].copy(resp.datafeeds,datafeeds),ml.datafeedStats().then(function(statsResp){for(var i=0;i<datafeeds.length;i++)for(var datafeed=datafeeds[i],j=0;j<statsResp.datafeeds.length;j++)datafeed.datafeed_id===statsResp.datafeeds[j].datafeed_id&&(datafeed.state=statsResp.datafeeds[j].state);deferred.resolve({datafeeds:datafeeds})})["catch"](function(err){error(err)})})["catch"](function(err){error(err)}),deferred.promise},this.updateSingleJobCounts=function(jobId){function error(err){console.log("updateSingleJobCounts error getting job details:",err),msgs.error("Job details could not be retrieved for "+jobId),msgs.error("",err),deferred.reject({jobs:jobs})}var _this3=this,deferred=$q.defer();return console.log("mlJobService: update job counts and state for "+jobId),ml.jobStats({jobId:jobId}).then(function(resp){if(console.log("updateSingleJobCounts controller query response:",resp),resp.jobs&&resp.jobs.length){var newJob={};_angular2["default"].copy(resp.jobs[0],newJob);for(var i=0;i<jobs.length;i++)if(jobs[i].job_id===jobId){var job=jobs[i];job.state=newJob.state,job.data_counts=newJob.data_counts,newJob.model_size_stats&&(job.model_size_stats=newJob.model_size_stats),newJob.node&&(job.node=newJob.node),newJob.open_time&&(job.open_time=newJob.open_time)}var datafeedId=_this3.getDatafeedId(jobId);_this3.loadDatafeeds(datafeedId).then(function(datafeedsResp){for(var _i3=0;_i3<jobs.length;_i3++)for(var j=0;j<datafeedsResp.datafeeds.length;j++)jobs[_i3].job_id===datafeedsResp.datafeeds[j].job_id&&(jobs[_i3].datafeed_config=datafeedsResp.datafeeds[j],datafeedIds[jobs[_i3].job_id]=datafeedsResp.datafeeds[j].datafeed_id);createJobStats(_this3.jobs,_this3.jobStats),deferred.resolve({jobs:_this3.jobs})})["catch"](function(err){error(err)})}else deferred.resolve({jobs:_this3.jobs})})["catch"](function(err){error(err)}),deferred.promise},this.updateAllJobCounts=function(){function error(err){console.log("updateAllJobCounts error getting list job details:",err),msgs.error("Job details could not be retrieved"),msgs.error("",err),deferred.reject({jobs:jobs})}var _this4=this,deferred=$q.defer();return console.log("mlJobService: update all jobs counts and state"),ml.jobStats().then(function(resp){console.log("updateAllJobCounts controller query response:",resp);for(var newJobsAdded=!1,d=0;d<resp.jobs.length;d++){var newJob={},jobExists=!1;_angular2["default"].copy(resp.jobs[d],newJob);for(var i=0;i<jobs.length;i++){var job=jobs[i];job.job_id===resp.jobs[d].job_id&&(jobExists=!0,job.state=newJob.state,job.data_counts=newJob.data_counts,newJob.model_size_stats&&(job.model_size_stats=newJob.model_size_stats),newJob.node&&(job.node=newJob.node),newJob.open_time&&(job.open_time=newJob.open_time))}jobExists||(jobs.splice(d,0,newJob),newJobsAdded=!0)}_this4.loadDatafeeds().then(function(datafeedsResp){for(var _i4=0;_i4<jobs.length;_i4++)for(var j=0;j<datafeedsResp.datafeeds.length;j++)jobs[_i4].job_id===datafeedsResp.datafeeds[j].job_id&&(jobs[_i4].datafeed_config=datafeedsResp.datafeeds[j],datafeedIds[jobs[_i4].job_id]=datafeedsResp.datafeeds[j].datafeed_id);_this4.jobs=jobs,newJobsAdded||resp.jobs.length!==jobs.length?(console.log("updateAllJobCounts: number of jobs differs. reloading all jobs"),_this4.loadJobs().then(function(){deferred.resolve({jobs:_this4.jobs,listChanged:!0})})["catch"](function(err){error(err)})):(createJobStats(_this4.jobs,_this4.jobStats),deferred.resolve({jobs:_this4.jobs,listChanged:!1}))})["catch"](function(err){error(err)})})["catch"](function(err){error(err)}),deferred.promise},this.checkState=function(){var _this5=this,runningJobs=[];_lodash2["default"].each(jobs,function(job){job.datafeed_config&&"started"===job.datafeed_config.state&&runningJobs.push(job)}),console.log("mlJobService: check state for "+runningJobs.length+" running jobs"),_lodash2["default"].each(runningJobs,function(job){_this5.updateSingleJobCounts(job.job_id)})},this.updateSingleJobDatafeedState=function(jobId){var deferred=$q.defer(),datafeedId=this.getDatafeedId(jobId);return ml.datafeedStats({datafeedId:datafeedId}).then(function(resp){var datafeeds=resp.datafeeds,state="UNKNOWN";datafeeds&&datafeeds.length&&(state=datafeeds[0].state),deferred.resolve(state)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.saveNewJob=function(job){var func=function(resp){console.log("Response for job query:",resp);var success=checkSaveResponse(resp,job);return{success:success,job:job,resp:resp}};return ml.addJob({jobId:job.job_id,job:job}).then(func)["catch"](func)},this.deleteJob=function(job,statusIn){function closeAndDeleteJob(){ml.closeJob({jobId:job.job_id}).then(function(){status.closeJob=1})["catch"](function(resp){console.log("Delete job: close job",resp),status.closeJob=checkError(resp)})["finally"](function(){ml.deleteJob({jobId:job.job_id}).then(function(){status.deleteJob=1,deferred.resolve({success:!0})})["catch"](function(resp){console.log("Delete job: delete job",resp),status.deleteJob=checkError(resp),msgs.error(resp.message),deferred.reject({success:!1})})})}function checkError(resp){return 409===resp.statusCode?1:-1}var deferred=$q.defer(),status=statusIn||{stopDatafeed:0,deleteDatafeed:0,closeJob:0,deleteJob:0};if(console.log("deleting job: "+job.job_id),job.datafeed_config){var datafeedId=this.getDatafeedId(job.job_id);ml.stopDatafeed({datafeedId:datafeedId}).then(function(){status.stopDatafeed=1})["catch"](function(resp){console.log("Delete job: stop datafeed",resp),status.stopDatafeed=checkError(resp)})["finally"](function(){ml.deleteDatafeed({datafeedId:datafeedId}).then(function(){status.deleteDatafeed=1})["catch"](function(resp){console.log("Delete job: delete datafeed",resp),status.deleteDatafeed=checkError(resp)})["finally"](function(){closeAndDeleteJob()})})}else closeAndDeleteJob();return deferred.promise},this.cloneJob=function(job){var tempJob=_angular2["default"].copy(job);return delete tempJob.state,delete tempJob.data_counts,delete tempJob.create_time,delete tempJob.finished_time,delete tempJob.last_data_time,delete tempJob.model_size_stats,delete tempJob.node,delete tempJob.average_bucket_processing_time_ms,delete tempJob.model_snapshot_id,delete tempJob.open_time,delete tempJob.data_description.time_format,delete tempJob.data_description.format,delete tempJob.analysis_config.use_per_partition_normalization,tempJob.datafeed_config&&(delete tempJob.datafeed_config.datafeed_id,delete tempJob.datafeed_config.job_id,delete tempJob.datafeed_config.state),tempJob},this.updateJob=function(jobId,job){return ml.updateJob({jobId:jobId,job:job}).then(function(resp){return console.log("update job",resp),{success:!0}})["catch"](function(err){return msgs.error("Could not update job: "+jobId),console.log("update job",err),{success:!1,message:err.message}})},this.getJob=function(jobId){var job=_lodash2["default"].find(jobs,function(j){return j.job_id===jobId});return job},this.jobTimeRange=function(jobId){var deferred=$q.defer(),obj={success:!0,start:{epoch:0,string:""},end:{epoch:0,string:""}};return es.search({index:".ml-anomalies-"+jobId,size:0,body:{query:{bool:{filter:[{query_string:{query:"_type:result AND result_type:bucket",analyze_wildcard:!0}}]}},aggs:{earliest:{min:{field:"timestamp"}},latest:{max:{field:"timestamp"}}}}}).then(function(resp){resp.aggregations&&resp.aggregations.earliest&&resp.aggregations.latest&&(obj.start.epoch=resp.aggregations.earliest.value,obj.start.string=resp.aggregations.earliest.value_as_string,obj.end.epoch=resp.aggregations.latest.value,obj.end.string=resp.aggregations.latest.value_as_string),deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.getBasicJobInfo=function(){var _this6=this,deferred=$q.defer(),obj={success:!0,jobs:[]};return ml.jobs().then(function(resp){resp.jobs&&resp.jobs.length>0&&(obj.jobs=processBasicJobInfo(_this6,resp.jobs)),deferred.resolve(obj)})["catch"](function(resp){console.log("getBasicJobInfo error getting list of jobs:",resp),deferred.reject(resp)}),deferred.promise},this.getJobViewByFields=function(){var deferred=$q.defer(),obj={success:!0,fieldsByJob:{"*":[]}};return ml.jobs().then(function(resp){resp.jobs&&resp.jobs.length>0&&(_lodash2["default"].each(resp.jobs,function(jobObj){var fieldsForJob=[],analysisConfig=jobObj.analysis_config,detectors=analysisConfig.detectors||[];_lodash2["default"].each(detectors,function(detector){_lodash2["default"].has(detector,"partition_field_name")&&fieldsForJob.push(detector.partition_field_name),_lodash2["default"].has(detector,"over_field_name")&&fieldsForJob.push(detector.over_field_name),_lodash2["default"].has(detector,"by_field_name")&&!_lodash2["default"].has(detector,"over_field_name")&&fieldsForJob.push(detector.by_field_name)}),obj.fieldsByJob[jobObj.job_id]=_lodash2["default"].uniq(fieldsForJob),obj.fieldsByJob["*"]=_lodash2["default"].union(obj.fieldsByJob["*"],obj.fieldsByJob[jobObj.job_id])}),_lodash2["default"].each(obj.fieldsByJob,function(fields,jobId){obj.fieldsByJob[jobId]=_lodash2["default"].sortBy(fields,function(field){return field.toLowerCase()})})),deferred.resolve(obj)})["catch"](function(resp){console.log("getJobViewByFields error getting list of viewBy fields:",resp),deferred.reject(resp)}),deferred.promise},this.getCategoryDefinition=function(index,jobId,categoryId){var deferred=$q.defer(),obj={success:!0,categoryId:categoryId,terms:null,regex:null,examples:[]};return es.search({index:index,size:1,body:{query:{bool:{filter:[{term:{_type:"category_definition"}},{term:{job_id:jobId}},{term:{category_id:categoryId}}]}}}}).then(function(resp){if(0!==resp.hits.total){var source=_lodash2["default"].first(resp.hits.hits)._source;obj.categoryId=source.category_id,obj.regex=source.regex,obj.terms=source.terms,obj.examples=source.examples}deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.jobDatafeedState=function(jobId){var deferred=$q.defer(),obj={startTimeMillis:null,endTimeMillis:null};return es.search({index:".ml-anomalies-"+jobId,size:1,body:{query:{bool:{filter:[{type:{value:"datafeedState"}}]}},_source:["endTimeMillis","startTimeMillis"]}}).then(function(resp){0!==resp.hits.total&&_lodash2["default"].each(resp.hits.hits,function(hit){var _source=hit._source;_lodash2["default"].has(_source,"startTimeMillis")&&(obj.startTimeMillis=_source.startTimeMillis[0]),_lodash2["default"].has(_source,"endTimeMillis")&&(obj.endTimeMillis=_source.endTimeMillis[0])}),deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.getJobAuditMessages=function(fromRange,jobId){var deferred=$q.defer(),messages=[],jobFilter={};void 0!==jobId&&(jobFilter={bool:{should:[{term:{job_id:""}},{term:{job_id:jobId}}]}});var timeFilter={};return void 0!==fromRange&&""!==fromRange&&(timeFilter={range:{timestamp:{gte:"now-"+fromRange,lte:"now"}}}),es.search({index:".ml-notifications",ignore_unavailable:!0,size:1e3,body:{sort:[{timestamp:{order:"asc"}},{job_id:{order:"asc"}}],query:{bool:{filter:[{term:{_type:"audit_message"}},{bool:{must_not:{term:{level:"activity"}}}},jobFilter,timeFilter]}}}}).then(function(resp){0!==resp.hits.total&&_lodash2["default"].each(resp.hits.hits,function(hit){messages.push(hit._source)}),deferred.resolve({messages:messages})})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.getAuditMessagesSummary=function(){var deferred=$q.defer(),aggs=[];return es.search({index:".ml-notifications",ignore_unavailable:!0,size:0,body:{query:{bool:{filter:{range:{timestamp:{gte:"now-1d"}}}}},aggs:{levelsPerJob:{terms:{field:"job_id"},aggs:{levels:{terms:{field:"level"},aggs:{latestMessage:{terms:{field:"message.raw",size:1,order:{latestMessage:"desc"}},aggs:{latestMessage:{max:{field:"timestamp"}}}}}}}}}}}).then(function(resp){0!==resp.hits.total&&resp.aggregations&&resp.aggregations.levelsPerJob&&resp.aggregations.levelsPerJob.buckets&&resp.aggregations.levelsPerJob.buckets.length&&_lodash2["default"].each(resp.aggregations.levelsPerJob.buckets,function(agg){aggs.push(agg)}),deferred.resolve({messagesPerJob:aggs})})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.searchTimeFields=function(index,type,field){var deferred=$q.defer(),obj={time:""};return es.search({method:"GET",index:index,type:type,size:1,_source:field}).then(function(resp){if(0!==resp.hits.total&&resp.hits.hits.length){var hit=resp.hits.hits[0];hit._source&&hit._source[field]&&(obj.time=hit._source[field])}deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.searchPreview=function(indexes,types,job){var deferred=$q.defer();if(job.datafeed_config){var data={index:indexes},body={},query={match_all:{}};job.datafeed_config.query&&(query=job.datafeed_config.query),body.query=query;var aggregations=job.datafeed_config.aggs||job.datafeed_config.aggregations;if(aggregations&&Object.keys(aggregations).length){body.size=0,body.aggregations=aggregations;var scriptFields=job.datafeed_config.script_fields;scriptFields&&Object.keys(scriptFields).length&&(body.script_fields=scriptFields)}else{body.size=10;var _scriptFields=job.datafeed_config.script_fields;_scriptFields&&Object.keys(_scriptFields).length&&(body.script_fields=_scriptFields);var fields={};job.analysis_config.detectors&&_lodash2["default"].each(job.analysis_config.detectors,function(dtr){dtr.by_field_name&&(fields[dtr.by_field_name]={}),dtr.field_name&&(fields[dtr.field_name]={}),dtr.over_field_name&&(fields[dtr.over_field_name]={}),dtr.partition_field_name&&(fields[dtr.partition_field_name]={})}),job.analysis_config.influencers&&_lodash2["default"].each(job.analysis_config.influencers,function(inf){fields[inf]={}}),job.analysis_config.categorization_field_name&&(fields[job.analysis_config.categorization_field_name]={}),job.analysis_config.summary_count_field_name&&(fields[job.analysis_config.summary_count_field_name]={}),job.data_description.time_field&&(fields[job.data_description.time_field]={});var fieldsList=Object.keys(fields);fieldsList.length&&(body._source=fieldsList)}data.body=body,es.search(data).then(function(resp){deferred.resolve(resp)})["catch"](function(resp){deferred.reject(resp)})}return deferred.promise},this.openJob=function(jobId){return ml.openJob({jobId:jobId})},this.closeJob=function(jobId){return ml.closeJob({jobId:jobId})},this.saveNewDatafeed=function(datafeedConfig,jobId){var datafeedId="datafeed-"+jobId;return datafeedConfig.job_id=jobId,ml.addDatafeed({datafeedId:datafeedId,datafeedConfig:datafeedConfig})},this.updateDatafeed=function(datafeedId,datafeedConfig){return ml.updateDatafeed({datafeedId:datafeedId,datafeedConfig:datafeedConfig}).then(function(resp){return console.log("update datafeed",resp),{success:!0}})["catch"](function(err){return msgs.error("Could not update datafeed: "+datafeedId),console.log("update datafeed",err),{success:!1,message:err.message}})},this.deleteDatafeed=function(){},this.startDatafeed=function(datafeedId,jobId,start,end){var deferred=$q.defer();return _lodash2["default"].isNumeric(end)&&end++,ml.startDatafeed({datafeedId:datafeedId,start:start,end:end}).then(function(resp){deferred.resolve(resp)})["catch"](function(err){console.log("MlJobsList error starting datafeed:",err),msgs.error("Could not start datafeed for "+jobId,err),deferred.reject(err)}),deferred.promise},this.stopDatafeed=function(datafeedId,jobId){var deferred=$q.defer();return ml.stopDatafeed({datafeedId:datafeedId}).then(function(resp){deferred.resolve(resp)})["catch"](function(err){console.log("MlJobsList error stoping datafeed:",err),msgs.error("Could not stop datafeed for "+jobId,err),deferred.reject(err)}),deferred.promise},this.getESMappings=function(){var deferred=$q.defer(),mappings={};return es.indices.get({index:"*",feature:["_mappings","_aliases"]}).then(function(resp){_lodash2["default"].each(resp,function(index,indexName){index.mappings!==index.types&&(Object.defineProperty(index,"types",Object.getOwnPropertyDescriptor(index,"mappings")),delete index.mappings),index.aliases&&Object.keys(index.aliases).length&&_lodash2["default"].each(index.aliases,function(alias,aliasName){var indexCopy=_angular2["default"].copy(resp[indexName]);indexCopy.isAlias=!0,indexCopy.aliases={},resp[aliasName]=indexCopy})}),mappings=resp,_lodash2["default"].each(mappings,function(m){_lodash2["default"].each(m.types,function(t,i){"*"===i&&delete m.types[i]})}),deferred.resolve(mappings)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.validateDetector=function(detector){var deferred=$q.defer();return detector?ml.validateDetector({detector:detector}).then(function(resp){deferred.resolve(resp)})["catch"](function(resp){deferred.reject(resp)}):deferred.reject({}),deferred.promise},this.getDatafeedId=function(jobId){var datafeedId=datafeedIds[jobId];return void 0===datafeedId&&(datafeedId="datafeed-"+jobId),datafeedId}})},3767:function(module,exports,__webpack_require__){"use strict";function getSeverity(normalizedScore){return normalizedScore>=75?"critical":normalizedScore>=50?"major":normalizedScore>=25?"minor":normalizedScore>=0?"warning":"unknown"}function getSeverityWithLow(normalizedScore){return normalizedScore>=75?"critical":normalizedScore>=50?"major":normalizedScore>=25?"minor":normalizedScore>=3?"warning":normalizedScore>=0?"low":"unknown"}function getSeverityColor(normalizedScore){return normalizedScore>=75?"#fe5050":normalizedScore>=50?"#fba740":normalizedScore>=25?"#fbfb49":normalizedScore>=3?"#8bc8fb":normalizedScore<3?"#d2e9f7":"#FFFFFF"}function labelDuplicateDetectorDescriptions(detectorsByJob){var checkedJobIds=[];return _.each(detectorsByJob,function(detectors,jobId){checkedJobIds.push(jobId);var otherJobs=_.omit(detectorsByJob,checkedJobIds);_.each(detectors,function(description,i){_.each(otherJobs,function(otherJobDetectors,otherJobId){_.each(otherJobDetectors,function(otherDescription,j){description===otherDescription&&(detectors[i]=description+" ("+jobId+")",otherJobDetectors[j]=description+" ("+otherJobId+")")})})})}),detectorsByJob}function getEntityFieldName(record){return _.has(record,"by_field_name")&&_.has(record,"by_field_value")?record.by_field_name:_.has(record,"over_field_name")?record.over_field_name:_.has(record,"partition_field_name")?record.partition_field_name:void 0}function getEntityFieldValue(record){return _.has(record,"by_field_value")?record.by_field_value:_.has(record,"over_field_value")?record.over_field_value:_.has(record,"partition_field_value")?record.partition_field_value:void 0}function showActualForFunction(functionDescription){return _.indexOf(DISPLAY_ACTUAL_FUNCTIONS,functionDescription)>-1}function showTypicalForFunction(functionDescription){return _.indexOf(DISPLAY_TYPICAL_FUNCTIONS,functionDescription)>-1}Object.defineProperty(exports,"__esModule",{value:!0});var _=__webpack_require__(3677),DISPLAY_ACTUAL_FUNCTIONS=["count","distinct_count","lat_long","mean","max","min","sum","median","varp","info_content"],DISPLAY_TYPICAL_FUNCTIONS=["count","distinct_count","mean","max","min","sum","median","varp","info_content"],aggregationTypeTransform={toES:function(oldAggType){var newAggType=oldAggType;return"mean"===newAggType?newAggType="avg":"distinct_count"===newAggType&&(newAggType="cardinality"),newAggType},toML:function(oldAggType){var newAggType=oldAggType;return"avg"===newAggType?newAggType="mean":"cardinality"===newAggType&&(newAggType="distinct_count"),newAggType}};exports["default"]={getSeverity:getSeverity,getSeverityWithLow:getSeverityWithLow,getSeverityColor:getSeverityColor,labelDuplicateDetectorDescriptions:labelDuplicateDetectorDescriptions,getEntityFieldName:getEntityFieldName,getEntityFieldValue:getEntityFieldValue,showActualForFunction:showActualForFunction,showTypicalForFunction:showTypicalForFunction,aggregationTypeTransform:aggregationTypeTransform},module.exports=exports["default"]},3768:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}__webpack_require__(3769);var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.service("ml",function(prlHttpService){var http=prlHttpService;this.jobs=function(obj){var jobId=obj&&obj.jobId?obj.jobId:"";return http.request({url:"../api/ml/anomaly_detectors/"+jobId})},this.jobStats=function(obj){var jobId=obj&&obj.jobId?obj.jobId+"/":"";return http.request({url:"../api/ml/anomaly_detectors/"+jobId+"_stats"})},this.addJob=function(obj){return http.request({url:"../api/ml/anomaly_detectors/"+obj.jobId,method:"PUT",data:obj.job})},this.openJob=function(obj){return http.request({url:"../api/ml/anomaly_detectors/"+obj.jobId+"/_open",method:"POST"})},this.closeJob=function(obj){return http.request({url:"../api/ml/anomaly_detectors/"+obj.jobId+"/_close",method:"POST"})},this.deleteJob=function(obj){return http.request({url:"../api/ml/anomaly_detectors/"+obj.jobId,method:"DELETE"})},this.updateJob=function(obj){return http.request({url:"../api/ml/anomaly_detectors/"+obj.jobId+"/_update",method:"POST",data:obj.job})},this.datafeeds=function(obj){var datafeedId=obj&&obj.datafeedId?obj.datafeedId:"";return http.request({url:"../api/ml/datafeeds/"+datafeedId})},this.datafeedStats=function(obj){var datafeedId=obj&&obj.datafeedId?obj.datafeedId+"/":"";return http.request({url:"../api/ml/datafeeds/"+datafeedId+"_stats"})},this.addDatafeed=function(obj){return http.request({url:"../api/ml/datafeeds/"+obj.datafeedId,method:"PUT",data:obj.datafeedConfig})},this.updateDatafeed=function(obj){return http.request({url:"../api/ml/datafeeds/"+obj.datafeedId+"/_update",method:"POST",data:obj.datafeedConfig})},this.deleteDatafeed=function(obj){return http.request({url:"../api/ml/datafeeds/"+obj.datafeedId,method:"DELETE"})},this.startDatafeed=function(obj){var data={};return void 0!==obj.start&&(data.start=obj.start),void 0!==obj.end&&(data.end=obj.end),http.request({url:"../api/ml/datafeeds/"+obj.datafeedId+"/_start",method:"POST",data:data})},this.stopDatafeed=function(obj){return http.request({url:"../api/ml/datafeeds/"+obj.datafeedId+"/_stop",method:"POST"})},this.datafeedPreview=function(obj){return http.request({url:"../api/ml/datafeeds/"+obj.datafeedId+"/_preview",method:"GET"})},this.validateDetector=function(obj){return http.request({url:"../api/ml/anomaly_detectors/_validate/detector",method:"POST",data:obj.detector})},this.checkPrivilege=function(obj){return http.request({url:"../api/ml/_has_privileges",method:"POST",data:obj})}})},3769:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_system_api=__webpack_require__(2526),_module=_modules2["default"].get("apps/ml");_module.service("prlHttpService",function($http,$q){this.request=function(options){if(options&&options.url){var url="";url+=options.url||"";var headers=(0,_system_api.addSystemApiHeader)({}),allHeaders=void 0===options.headers?headers:Object.assign(options.headers,headers),deferred=$q.defer();return $http({url:url,method:options.method||"GET",headers:allHeaders,params:options.params||{},data:options.data||null}).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise}}})},3770:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.service("mlBrowserDetectService",function($window){return function(){var userAgent=$window.navigator.userAgent,browsers={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer/i};for(var key in browsers)if(browsers.hasOwnProperty(key)&&browsers[key].test(userAgent))return key;return"unknown"}})},3771:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.service("mlDashboardService",function($rootScope){this.broadcastJobSelectionChange=function(selectedJobIds){$rootScope.$broadcast("jobSelectionChange",selectedJobIds)},this.listenJobSelectionChange=function(scope,callback){var handler=$rootScope.$on("jobSelectionChange",callback);scope.$on("$destroy",handler)}})},3772:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_string_utils=__webpack_require__(3681),_string_utils2=_interopRequireDefault(_string_utils),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.service("mlResultsService",function($q,es){this.getScoresByBucket=function(index,jobIds,earliestMs,latestMs,interval,maxResults){var deferred=$q.defer(),obj={success:!0,results:{}},boolCriteria=[];if(boolCriteria.push({range:{timestamp:{gte:earliestMs,lte:latestMs,format:"epoch_millis"}}}),jobIds&&jobIds.length>0&&(1!==jobIds.length||"*"!==jobIds[0])){var jobIdFilterStr="";_lodash2["default"].each(jobIds,function(jobId,i){i>0&&(jobIdFilterStr+=" OR "),jobIdFilterStr+="job_id:",jobIdFilterStr+=jobId}),boolCriteria.push({query_string:{analyze_wildcard:!1,query:jobIdFilterStr}})}return es.search({index:index,size:0,body:{query:{bool:{filter:[{query_string:{query:"_type:result AND result_type:bucket",analyze_wildcard:!1}},{bool:{must:boolCriteria}}]}},aggs:{jobId:{terms:{field:"job_id",size:void 0!==maxResults?maxResults:5,order:{anomalyScore:"desc"}},aggs:{anomalyScore:{max:{field:"anomaly_score"}},byTime:{date_histogram:{field:"timestamp",interval:interval,min_doc_count:1,extended_bounds:{min:earliestMs,max:latestMs}},aggs:{anomalyScore:{max:{field:"anomaly_score"}}}}}}}}}).then(function(resp){console.log("getScoresByBucket() resp:",resp);var dataByJobId=_lodash2["default"].get(resp,["aggregations","jobId","buckets"],[]);_lodash2["default"].each(dataByJobId,function(dataForJob){
var jobId=dataForJob.key,resultsForTime={},dataByTime=_lodash2["default"].get(dataForJob,["byTime","buckets"],[]);_lodash2["default"].each(dataByTime,function(dataForTime){var value=_lodash2["default"].get(dataForTime,["anomalyScore","value"]);if(void 0!==value){var time=dataForTime.key;resultsForTime[time]=_lodash2["default"].get(dataForTime,["anomalyScore","value"])}}),obj.results[jobId]=resultsForTime}),deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.getTopInfluencers=function(index,jobIds,earliestMs,latestMs,maxFieldNames,maxFieldValues){var deferred=$q.defer(),obj={success:!0,influencers:{}},boolCriteria=[];if(boolCriteria.push({range:{timestamp:{gte:earliestMs,lte:latestMs,format:"epoch_millis"}}}),jobIds&&jobIds.length>0&&(1!==jobIds.length||"*"!==jobIds[0])){var jobIdFilterStr="";_lodash2["default"].each(jobIds,function(jobId,i){i>0&&(jobIdFilterStr+=" OR "),jobIdFilterStr+="job_id:",jobIdFilterStr+=jobId}),boolCriteria.push({query_string:{analyze_wildcard:!1,query:jobIdFilterStr}})}return es.search({index:index,size:0,body:{query:{bool:{filter:[{query_string:{query:"_type:result AND result_type:influencer",analyze_wildcard:!1}},{bool:{must:boolCriteria}}]}},aggs:{influencerFieldNames:{terms:{field:"influencer_field_name",size:5,order:{maxAnomalyScore:"desc"}},aggs:{maxAnomalyScore:{max:{field:"influencer_score"}},influencerFieldValues:{terms:{field:"influencer_field_value",size:void 0!==maxFieldValues?maxFieldValues:10,order:{maxAnomalyScore:"desc"}},aggs:{maxAnomalyScore:{max:{field:"influencer_score"}},sumAnomalyScore:{sum:{field:"influencer_score"}}}}}}}}}).then(function(resp){var fieldNameBuckets=_lodash2["default"].get(resp,["aggregations","influencerFieldNames","buckets"],[]);_lodash2["default"].each(fieldNameBuckets,function(nameBucket){var fieldName=nameBucket.key,fieldValues=[],fieldValueBuckets=_lodash2["default"].get(nameBucket,["influencerFieldValues","buckets"],[]);_lodash2["default"].each(fieldValueBuckets,function(valueBucket){var fieldValueResult={influencerFieldValue:valueBucket.key,maxAnomalyScore:valueBucket.maxAnomalyScore.value,sumAnomalyScore:valueBucket.sumAnomalyScore.value};fieldValues.push(fieldValueResult)}),obj.influencers[fieldName]=fieldValues}),deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.getTopInfluencerValues=function(index,jobIds,influencerFieldName,earliestMs,latestMs,maxResults){var deferred=$q.defer(),obj={success:!0,results:[]},boolCriteria=[];if(boolCriteria.push({range:{timestamp:{gte:earliestMs,lte:latestMs,format:"epoch_millis"}}}),jobIds&&jobIds.length>0&&(1!==jobIds.length||"*"!==jobIds[0])){var jobIdFilterStr="";_lodash2["default"].each(jobIds,function(jobId,i){i>0&&(jobIdFilterStr+=" OR "),jobIdFilterStr+="job_id:",jobIdFilterStr+=jobId}),boolCriteria.push({query_string:{analyze_wildcard:!1,query:jobIdFilterStr}})}return es.search({index:index,size:0,body:{query:{bool:{filter:[{query_string:{query:"_type:result AND result_type:influencer AND influencer_field_name:"+_string_utils2["default"].escapeForElasticsearchQuery(influencerFieldName),analyze_wildcard:!1}},{bool:{must:boolCriteria}}]}},aggs:{influencerFieldValues:{terms:{field:"influencer_field_value",size:void 0!==maxResults?maxResults:2,order:{maxAnomalyScore:"desc"}},aggs:{maxAnomalyScore:{max:{field:"influencer_score"}},sumAnomalyScore:{sum:{field:"influencer_score"}}}}}}}).then(function(resp){var buckets=_lodash2["default"].get(resp,["aggregations","influencerFieldValues","buckets"],[]);_lodash2["default"].each(buckets,function(bucket){var result={influencerFieldValue:bucket.key,maxAnomalyScore:bucket.maxAnomalyScore.value,sumAnomalyScore:bucket.sumAnomalyScore.value};obj.results.push(result)}),deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.getBucketInfluencerMaxScoreByTime=function(index,jobIds,earliestMs,latestMs,interval){var deferred=$q.defer(),obj={success:!0,results:{}},boolCriteria=[];if(boolCriteria.push({range:{timestamp:{gte:earliestMs,lte:latestMs,format:"epoch_millis"}}}),jobIds&&jobIds.length>0&&(1!==jobIds.length||"*"!==jobIds[0])){var jobIdFilterStr="";_lodash2["default"].each(jobIds,function(jobId,i){i>0&&(jobIdFilterStr+=" OR "),jobIdFilterStr+="job_id:",jobIdFilterStr+=jobId}),boolCriteria.push({query_string:{analyze_wildcard:!1,query:jobIdFilterStr}})}return es.search({index:index,size:0,body:{query:{bool:{filter:[{query_string:{query:"_type:result AND result_type:bucket_influencer",analyze_wildcard:!1}},{bool:{must:boolCriteria}}]}},aggs:{byTime:{date_histogram:{field:"timestamp",interval:interval,min_doc_count:1},aggs:{maxAnomalyScore:{max:{field:"anomaly_score"}}}}}}}).then(function(resp){var dataByTime=_lodash2["default"].get(resp,["aggregations","byTime","buckets"],[]);_lodash2["default"].each(dataByTime,function(dataForTime){var value=_lodash2["default"].get(dataForTime,["maxAnomalyScore","value"]);void 0!==value&&(obj.results[dataForTime.key]=value)}),deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.getInfluencerValueMaxScoreByTime=function(index,jobIds,influencerFieldName,influencerFieldValues,earliestMs,latestMs,interval,maxResults){var deferred=$q.defer(),obj={success:!0,results:{}},boolCriteria=[];if(boolCriteria.push({range:{timestamp:{gte:earliestMs,lte:latestMs,format:"epoch_millis"}}}),jobIds&&jobIds.length>0&&(1!==jobIds.length||"*"!==jobIds[0])){var jobIdFilterStr="";_lodash2["default"].each(jobIds,function(jobId,i){i>0&&(jobIdFilterStr+=" OR "),jobIdFilterStr+="job_id:",jobIdFilterStr+=jobId}),boolCriteria.push({query_string:{analyze_wildcard:!1,query:jobIdFilterStr}})}if(influencerFieldValues&&influencerFieldValues.length>0){var influencerFilterStr="";_lodash2["default"].each(influencerFieldValues,function(value,i){i>0&&(influencerFilterStr+=" OR "),influencerFilterStr+="influencer_field_value:",influencerFilterStr+=_string_utils2["default"].escapeForElasticsearchQuery(value)}),boolCriteria.push({query_string:{analyze_wildcard:!1,query:influencerFilterStr}})}return es.search({index:index,size:0,body:{query:{bool:{filter:[{query_string:{query:"_type:result AND result_type:influencer AND influencer_field_name:"+_string_utils2["default"].escapeForElasticsearchQuery(influencerFieldName),analyze_wildcard:!1}},{bool:{must:boolCriteria}}]}},aggs:{influencerFieldValues:{terms:{field:"influencer_field_value",size:void 0!==maxResults?maxResults:10,order:{maxAnomalyScore:"desc"}},aggs:{maxAnomalyScore:{max:{field:"influencer_score"}},byTime:{date_histogram:{field:"timestamp",interval:interval,min_doc_count:1},aggs:{maxAnomalyScore:{max:{field:"influencer_score"}}}}}}}}}).then(function(resp){var fieldValueBuckets=_lodash2["default"].get(resp,["aggregations","influencerFieldValues","buckets"],[]);_lodash2["default"].each(fieldValueBuckets,function(valueBucket){var fieldValue=valueBucket.key,fieldValues={},timeBuckets=_lodash2["default"].get(valueBucket,["byTime","buckets"],[]);_lodash2["default"].each(timeBuckets,function(timeBucket){var time=timeBucket.key,score=timeBucket.maxAnomalyScore.value;fieldValues[time]=score}),obj.results[fieldValue]=fieldValues}),deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.getCategoryExamples=function(index,jobId,categoryIds,maxExamples){var deferred=$q.defer(),obj={success:!0,jobId:jobId,examplesByCategoryId:{}};return es.search({index:index,size:500,body:{query:{bool:{filter:[{term:{_type:"category_definition"}},{term:{job_id:jobId}},{terms:{category_id:categoryIds}}]}}}}).then(function(resp){0!==resp.hits.total&&_lodash2["default"].each(resp.hits.hits,function(hit){maxExamples?obj.examplesByCategoryId[hit._source.category_id]=_lodash2["default"].slice(hit._source.examples,0,Math.min(hit._source.examples.length,maxExamples)):obj.examplesByCategoryId[hit._source.category_id]=hit._source.examples}),deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.getRecordInfluencers=function(index,jobIds,threshold,earliestMs,latestMs,maxResults){var deferred=$q.defer(),obj={success:!0,records:[]},boolCriteria=[];if(boolCriteria.push({nested:{path:"influencers",query:{bool:{must:[{exists:{field:"influencers"}}]}}}}),boolCriteria.push({range:{timestamp:{gte:earliestMs,lte:latestMs,format:"epoch_millis"}}}),boolCriteria.push({range:{record_score:{gte:threshold}}}),jobIds&&jobIds.length>0&&(1!==jobIds.length||"*"!==jobIds[0])){var jobIdFilterStr="";_lodash2["default"].each(jobIds,function(jobId,i){i>0&&(jobIdFilterStr+=" OR "),jobIdFilterStr+="job_id:",jobIdFilterStr+=jobId}),boolCriteria.push({query_string:{analyze_wildcard:!1,query:jobIdFilterStr}})}return es.search({index:index,size:void 0!==maxResults?maxResults:100,body:{_source:["job_id","detector_index","influencers","record_score"],query:{bool:{filter:[{query_string:{query:"_type:result AND result_type:record",analyze_wildcard:!1}},{bool:{must:boolCriteria}}]}},sort:[{record_score:{order:"desc"}}]}}).then(function(resp){0!==resp.hits.total&&_lodash2["default"].each(resp.hits.hits,function(hit){obj.records.push(hit._source)}),deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.getRecordsForInfluencer=function(index,jobIds,influencers,threshold,earliestMs,latestMs,maxResults){var deferred=$q.defer(),obj={success:!0,records:[]},boolCriteria=[];if(boolCriteria.push({range:{timestamp:{gte:earliestMs,lte:latestMs,format:"epoch_millis"}}}),boolCriteria.push({range:{record_score:{gte:threshold}}}),jobIds&&jobIds.length>0&&(1!==jobIds.length||"*"!==jobIds[0])){var jobIdFilterStr="";_lodash2["default"].each(jobIds,function(jobId,i){i>0&&(jobIdFilterStr+=" OR "),jobIdFilterStr+="job_id:",jobIdFilterStr+=jobId}),boolCriteria.push({query_string:{analyze_wildcard:!1,query:jobIdFilterStr}})}return _lodash2["default"].each(influencers,function(influencer){boolCriteria.push({nested:{path:"influencers",query:{bool:{must:[{match:{"influencers.influencer_field_name":influencer.fieldName}},{match:{"influencers.influencer_field_values":influencer.fieldValue}}]}}}})}),es.search({index:index,size:void 0!==maxResults?maxResults:100,body:{query:{bool:{filter:[{query_string:{query:"_type:result AND result_type:record",analyze_wildcard:!1}},{bool:{must:boolCriteria}}]}},sort:[{record_score:{order:"desc"}}]}}).then(function(resp){0!==resp.hits.total&&_lodash2["default"].each(resp.hits.hits,function(hit){obj.records.push(hit._source)}),deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.getRecordsForDetector=function(index,jobId,detectorIndex,checkForInfluencers,influencerFieldName,influencerFieldValue,threshold,earliestMs,latestMs,maxResults){var deferred=$q.defer(),obj={success:!0,records:[]},boolCriteria=[];return boolCriteria.push({range:{timestamp:{gte:earliestMs,lte:latestMs,format:"epoch_millis"}}}),boolCriteria.push({term:{job_id:jobId}}),boolCriteria.push({term:{detector_index:detectorIndex}}),boolCriteria.push({range:{record_score:{gte:threshold}}}),influencerFieldName&&influencerFieldValue?boolCriteria.push({nested:{path:"influencers",query:{bool:{must:[{match:{"influencers.influencer_field_name":influencerFieldName}},{match:{"influencers.influencer_field_values":influencerFieldValue}}]}}}}):checkForInfluencers===!0&&boolCriteria.push({nested:{path:"influencers",query:{bool:{must:[{exists:{field:"influencers"}}]}}}}),es.search({index:index,size:void 0!==maxResults?maxResults:100,body:{query:{bool:{filter:[{query_string:{query:"_type:result AND result_type:record",analyze_wildcard:!1}},{bool:{must:boolCriteria}}]}},sort:[{record_score:{order:"desc"}}]}}).then(function(resp){0!==resp.hits.total&&_lodash2["default"].each(resp.hits.hits,function(hit){obj.records.push(hit._source)}),deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.getRecords=function(index,jobIds,threshold,earliestMs,latestMs,maxResults){return this.getRecordsForInfluencer(index,jobIds,[],threshold,earliestMs,latestMs,maxResults)},this.getRecordsForCriteria=function(index,jobIds,criteriaFields,threshold,earliestMs,latestMs,maxResults){var deferred=$q.defer(),obj={success:!0,records:[]},boolCriteria=[];if(boolCriteria.push({range:{timestamp:{gte:earliestMs,lte:latestMs,format:"epoch_millis"}}}),boolCriteria.push({range:{record_score:{gte:threshold}}}),jobIds&&jobIds.length>0&&(1!==jobIds.length||"*"!==jobIds[0])){var jobIdFilterStr="";_lodash2["default"].each(jobIds,function(jobId,i){i>0&&(jobIdFilterStr+=" OR "),jobIdFilterStr+="job_id:",jobIdFilterStr+=jobId}),boolCriteria.push({query_string:{analyze_wildcard:!1,query:jobIdFilterStr}})}return _lodash2["default"].each(criteriaFields,function(criteria){var condition={term:{}};condition.term[criteria.fieldName]=criteria.fieldValue,boolCriteria.push(condition)}),es.search({index:index,size:void 0!==maxResults?maxResults:100,body:{query:{bool:{filter:[{query_string:{query:"_type:result AND result_type:record",analyze_wildcard:!1}},{bool:{must:boolCriteria}}]}},sort:[{record_score:{order:"desc"}}]}}).then(function(resp){0!==resp.hits.total&&_lodash2["default"].each(resp.hits.hits,function(hit){obj.records.push(hit._source)}),deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.getMetricData=function(index,entityFields,query,metricFunction,metricFieldName,timeFieldName,earliestMs,latestMs,interval){var deferred=$q.defer(),obj={success:!0,results:{}},mustCriteria=[],shouldCriteria=[],timeRangeCriteria={range:{}};timeRangeCriteria.range[timeFieldName]={gte:earliestMs,lte:latestMs,format:"epoch_millis"},mustCriteria.push(timeRangeCriteria),query&&mustCriteria.push(query),_lodash2["default"].each(entityFields,function(entity){if(0!==entity.fieldValue.length)mustCriteria.push({query_string:{query:_string_utils2["default"].escapeForElasticsearchQuery(entity.fieldName)+":"+_string_utils2["default"].escapeForElasticsearchQuery(entity.fieldValue),analyze_wildcard:!1}});else{var emptyFieldCondition={bool:{must:[{term:{}}]}};emptyFieldCondition.bool.must[0].term[entity.fieldName]="",shouldCriteria.push(emptyFieldCondition),shouldCriteria.push({bool:{must_not:[{exists:{field:entity.fieldName}}]}})}});var searchBody={query:{bool:{must:mustCriteria}},size:0,_source:{excludes:[]},aggs:{byTime:{date_histogram:{field:timeFieldName,interval:interval,min_doc_count:1}}}};if(shouldCriteria.length>0&&(searchBody.query.bool.should=shouldCriteria,searchBody.query.bool.minimum_should_match=shouldCriteria.length/2),void 0!==metricFieldName){searchBody.aggs.byTime.aggs={};var metricAgg={};metricAgg[metricFunction]={field:metricFieldName},searchBody.aggs.byTime.aggs.metric=metricAgg}return es.search({index:index,body:searchBody}).then(function(resp){var dataByTime=_lodash2["default"].get(resp,["aggregations","byTime","buckets"],[]);_lodash2["default"].each(dataByTime,function(dataForTime){if("count"===metricFunction)obj.results[dataForTime.key]=dataForTime.doc_count;else{var value=_lodash2["default"].get(dataForTime,["metric","value"]);void 0!==value&&(obj.results[dataForTime.key]=value)}}),deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise}})},3773:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(3774);var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.service("mlMessageBarService",function(){function expandErrorMessageObj(resp){var txt="";if(void 0!==resp&&"object"===("undefined"==typeof resp?"undefined":_typeof(resp)))try{var respObj=JSON.parse(resp.response);"object"===("undefined"==typeof respObj?"undefined":_typeof(respObj))&&void 0!==respObj.error&&(txt=respObj.error.reason)}catch(e){txt=resp.message}return txt}var MSG_STYLE={INFO:"ml-message-info",WARNING:"ml-message-warning",ERROR:"ml-message-error"};this.messages=[],this.addMessage=function(msg){_lodash2["default"].findWhere(this.messages,msg)||this.messages.push(msg)},this.removeMessage=function(index){this.messages.splice(index,1)},this.clear=function(){this.messages.length=0},this.info=function(text){this.addMessage({text:text,style:MSG_STYLE.INFO})},this.warning=function(text){this.addMessage({text:text,style:MSG_STYLE.WARNING})},this.error=function(text,resp){var txt=text+" "+expandErrorMessageObj(resp);this.addMessage({text:txt,style:MSG_STYLE.ERROR})}}).controller("MlMessageBarController",function($scope,mlMessageBarService){$scope.messages=mlMessageBarService.messages,$scope.removeMessage=mlMessageBarService.removeMessage}).directive("mlMessageBar",function(){return{restrict:"AE",template:__webpack_require__(3775)}})},3774:function(module,exports){},3775:function(module,exports){module.exports='<div ng-controller="MlMessageBarController">\n  <div\n    ng-repeat="msg in messages"\n    class=\'ml-message {{msg.style}}\'>\n      {{msg.text}} <a ng-click="removeMessage($index)">x</a>\n  </div>\n</div>'},3776:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3777),__webpack_require__(3789),__webpack_require__(3790),__webpack_require__(3791),__webpack_require__(3792),__webpack_require__(3800)},3777:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_moment=__webpack_require__(3678),_moment2=_interopRequireDefault(_moment);__webpack_require__(3778),__webpack_require__(3783),__webpack_require__(3771),__webpack_require__(3766),__webpack_require__(3772);var _query_filter=__webpack_require__(2654),_query_filter2=_interopRequireDefault(_query_filter),_parse_interval=__webpack_require__(2730),_parse_interval2=_interopRequireDefault(_parse_interval),_routes=__webpack_require__(2485),_routes2=_interopRequireDefault(_routes),_check_license=__webpack_require__(3684),_check_license2=_interopRequireDefault(_check_license),_refresh_interval_watcher=__webpack_require__(3787),_refresh_interval_watcher2=_interopRequireDefault(_refresh_interval_watcher),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_routes2["default"].when("/explorer/?",{template:__webpack_require__(3788),resolve:{CheckLicense:_check_license2["default"]}});var _module=_modules2["default"].get("apps/ml");_module.controller("MlExplorerController",function($scope,$timeout,AppState,Private,timefilter,globalState,mlJobService,mlResultsService,mlDashboardService,mlExplorerDashboardService){function loadViewBySwimlaneOptions(){$scope.swimlaneViewByFieldName=null;var viewByOptions=[],selectedJobIds=$scope.getSelectedJobIds(),fieldsByJob={"*":[]};if(_lodash2["default"].each(mlJobService.jobs,function(job){var fieldsForJob=[],analysisConfig=job.analysis_config,detectors=analysisConfig.detectors||[];_lodash2["default"].each(detectors,function(detector){_lodash2["default"].has(detector,"partition_field_name")&&fieldsForJob.push(detector.partition_field_name),_lodash2["default"].has(detector,"over_field_name")&&fieldsForJob.push(detector.over_field_name),_lodash2["default"].has(detector,"by_field_name")&&!_lodash2["default"].has(detector,"over_field_name")&&fieldsForJob.push(detector.by_field_name)});var influencers=analysisConfig.influencers||[];fieldsForJob=fieldsForJob.concat(influencers),selectedJobIds.indexOf(job.job_id)!==-1&&(viewByOptions=viewByOptions.concat(influencers)),fieldsByJob[job.job_id]=_lodash2["default"].uniq(fieldsForJob),fieldsByJob["*"]=_lodash2["default"].union(fieldsByJob["*"],fieldsByJob[job.job_id])}),$scope.fieldsByJob=fieldsByJob,viewByOptions=_lodash2["default"].chain(viewByOptions).uniq().sortBy(function(fieldname){return fieldname.toLowerCase()}).value(),viewByOptions.push(VIEW_BY_JOB_LABEL),$scope.viewBySwimlaneOptions=viewByOptions,void 0!==$scope.appState.mlExplorerSwimlane.viewBy&&$scope.viewBySwimlaneOptions.indexOf($scope.appState.mlExplorerSwimlane.viewBy)!==-1)$scope.swimlaneViewByFieldName=$scope.appState.mlExplorerSwimlane.viewBy;else{if(selectedJobIds.length>1)$scope.swimlaneViewByFieldName=VIEW_BY_JOB_LABEL;else{var firstSelectedJob=_lodash2["default"].find(mlJobService.jobs,function(job){return job.job_id===selectedJobIds[0]}),firstJobInfluencers=firstSelectedJob.analysis_config.influencers||[];_lodash2["default"].each(firstSelectedJob.analysis_config.detectors,function(detector){return _lodash2["default"].has(detector,"partition_field_name")&&firstJobInfluencers.indexOf(detector.partition_field_name)!==-1?($scope.swimlaneViewByFieldName=detector.partition_field_name,!1):_lodash2["default"].has(detector,"over_field_name")&&firstJobInfluencers.indexOf(detector.over_field_name)!==-1?($scope.swimlaneViewByFieldName=detector.over_field_name,!1):_lodash2["default"].has(detector,"by_field_name")&&!_lodash2["default"].has(detector,"over_field_name")&&firstJobInfluencers.indexOf(detector.by_field_name)!==-1?($scope.swimlaneViewByFieldName=detector.by_field_name,!1):void 0}),null===$scope.swimlaneViewByFieldName&&(firstJobInfluencers.length>0?$scope.swimlaneViewByFieldName=firstJobInfluencers[0]:$scope.swimlaneViewByFieldName=$scope.viewBySwimlaneOptions.length>0?$scope.viewBySwimlaneOptions[0]:null)}$scope.appState.mlExplorerSwimlane.viewBy=$scope.swimlaneViewByFieldName,$scope.appState.save()}loadViewBySwimlane([])}function loadOverallData(){function finish(){awaitingCount--,0===awaitingCount&&($scope.overallSwimlaneData.points&&$scope.overallSwimlaneData.points.length>0?($scope.hasResults=!0,loadViewBySwimlaneOptions()):$scope.hasResults=!1,$scope.loading=!1,$timeout(function(){$scope.$broadcast("render"),mlExplorerDashboardService.fireSwimlaneDataChange("overall")},0))}if(void 0!==$scope.selectedJobs){$scope.loading=!0,$scope.hasResults=!1;var awaitingCount=2;$scope.swimlaneBucketInterval=calculateSwimlaneBucketInterval(),console.log("Explorer swimlane bucketInterval:",$scope.swimlaneBucketInterval);var bounds=timefilter.getActiveBounds(),selectedJobIds=$scope.getSelectedJobIds();mlResultsService.getTopInfluencers($scope.indexPatternId,selectedJobIds,bounds.min.valueOf(),bounds.max.valueOf(),MAX_INFLUENCER_FIELD_NAMES,MAX_DISPLAY_FIELD_VALUES).then(function(resp){$scope.influencersData=resp.influencers,console.log("Explorer top influencers data set:",$scope.influencersData),finish()}),mlResultsService.getBucketInfluencerMaxScoreByTime($scope.indexPatternId,selectedJobIds,bounds.min.valueOf(),bounds.max.valueOf(),$scope.swimlaneBucketInterval.asSeconds()+"s").then(function(resp){processOverallResults(resp.results),console.log("Explorer overall swimlane data set:",$scope.overallSwimlaneData),finish()})}}function loadViewBySwimlane(fieldValues){function finish(){console.log("Explorer view by swimlane data set:",$scope.viewBySwimlaneData),$timeout(function(){mlExplorerDashboardService.fireSwimlaneDataChange("viewBy")},0)}if(void 0===$scope.selectedJobs||void 0===$scope.swimlaneViewByFieldName||null===$scope.swimlaneViewByFieldName)$scope.viewBySwimlaneData={fieldName:"",laneLabels:[],points:[],interval:3600},finish();else{var bounds=timefilter.getActiveBounds(),selectedJobIds=$scope.getSelectedJobIds(),interval=$scope.swimlaneBucketInterval.asSeconds()+"s";if($scope.swimlaneViewByFieldName!==VIEW_BY_JOB_LABEL)mlResultsService.getInfluencerValueMaxScoreByTime($scope.indexPatternId,selectedJobIds,$scope.swimlaneViewByFieldName,fieldValues,bounds.min.valueOf(),bounds.max.valueOf(),interval,MAX_DISPLAY_FIELD_VALUES).then(function(resp){processViewByResults(resp.results),finish()});else{var jobIds=void 0!==fieldValues&&fieldValues.length>0?fieldValues:selectedJobIds;mlResultsService.getScoresByBucket($scope.indexPatternId,jobIds,bounds.min.valueOf(),bounds.max.valueOf(),interval,MAX_DISPLAY_FIELD_VALUES).then(function(resp){processViewByResults(resp.results),finish()})}}}function loadViewBySwimlaneForSelectedTime(earliestMs,latestMs){var selectedJobIds=$scope.getSelectedJobIds();$scope.swimlaneViewByFieldName!==VIEW_BY_JOB_LABEL?mlResultsService.getTopInfluencers($scope.indexPatternId,selectedJobIds,earliestMs,latestMs,MAX_INFLUENCER_FIELD_NAMES,MAX_DISPLAY_FIELD_VALUES).then(function(resp){var topFieldValues=[],topInfluencers=resp.influencers[$scope.swimlaneViewByFieldName];_lodash2["default"].each(topInfluencers,function(influencerData){influencerData.maxAnomalyScore>0&&topFieldValues.push(influencerData.influencerFieldValue)}),loadViewBySwimlane(topFieldValues)}):mlResultsService.getScoresByBucket($scope.indexPatternId,selectedJobIds,earliestMs,latestMs,$scope.swimlaneBucketInterval.asSeconds()+"s",MAX_DISPLAY_FIELD_VALUES).then(function(resp){loadViewBySwimlane(_lodash2["default"].keys(resp.results))})}function clearSelectedAnomalies(){$scope.anomalyChartRecords={},$scope.anomalyRecords=[],$scope.showNoSelectionMessage=!0,$scope.viewByLoadedForTimeFormatted=null}function calculateSwimlaneBucketInterval(){var bounds=timefilter.getActiveBounds(),buckets=new TimeBuckets;buckets.setInterval("auto"),buckets.setBounds(bounds);var intervalSeconds=buckets.getInterval().asSeconds(),numBuckets=parseInt((bounds.max.valueOf()-bounds.min.valueOf())/1e3/intervalSeconds),swimlaneWidth=getSwimlaneContainerWidth(),cellWidth=Math.floor(swimlaneWidth/numBuckets);$scope.swimlaneWidth=swimlaneWidth,cellWidth<8&&buckets.setInterval(2*intervalSeconds+"s");var selectedJobs=_lodash2["default"].filter($scope.jobs,function(job){return job.selected}),maxBucketSpanSeconds=_lodash2["default"].reduce(selectedJobs,function(memo,job){return Math.max(memo,job.bucketSpanSeconds)},0);return maxBucketSpanSeconds>intervalSeconds&&(buckets.setInterval(maxBucketSpanSeconds+"s"),buckets.setBounds(bounds)),buckets.getInterval()}function getSwimlaneContainerWidth(){return(0,_jquery2["default"])(".ml-explorer").width()/6*5-170-50}function processOverallResults(scoresByTime){var bounds=timefilter.getActiveBounds(),boundsMin=Math.floor(bounds.min.valueOf()/1e3),boundsMax=Math.floor(bounds.max.valueOf()/1e3),dataset={laneLabels:["Overall"],points:[],interval:$scope.swimlaneBucketInterval.asSeconds(),earliest:boundsMin,latest:boundsMax};if(_lodash2["default"].keys(scoresByTime).length>0){dataset.earliest=Number.MAX_VALUE,dataset.latest=0,_lodash2["default"].each(scoresByTime,function(score,timeMs){var time=timeMs/1e3;dataset.points.push({laneLabel:"Overall",time:time,value:score}),dataset.earliest=Math.min(time,dataset.earliest),dataset.latest=Math.max(time+dataset.interval,dataset.latest)});var bucketIntervalSecs=$scope.swimlaneBucketInterval.asSeconds();dataset.earliest>boundsMin&&(dataset.earliest=dataset.earliest-Math.ceil((dataset.earliest-boundsMin)/bucketIntervalSecs)*bucketIntervalSecs),dataset.latest<boundsMax&&(dataset.latest=dataset.latest+Math.ceil((boundsMax-dataset.latest)/bucketIntervalSecs)*bucketIntervalSecs)}$scope.overallSwimlaneData=dataset}function processViewByResults(scoresByInfluencerAndTime){var dataset={fieldName:$scope.swimlaneViewByFieldName,laneLabels:[],points:[],interval:$scope.swimlaneBucketInterval.asSeconds()};dataset.earliest=$scope.overallSwimlaneData.earliest,dataset.latest=$scope.overallSwimlaneData.latest,_lodash2["default"].each(scoresByInfluencerAndTime,function(influencerData,influencerFieldValue){dataset.laneLabels.push(influencerFieldValue),_lodash2["default"].each(influencerData,function(anomalyScore,timeMs){var time=timeMs/1e3;dataset.points.push({laneLabel:influencerFieldValue,time:time,value:anomalyScore})})}),$scope.viewBySwimlaneData=dataset}$scope.indexPatternId=".ml-anomalies-*",$scope.timeFieldName="timestamp",$scope.showNoSelectionMessage=!0,timefilter.enabled=!0,void 0===globalState.ml&&(globalState.ml={},globalState.save());var TimeBuckets=Private(__webpack_require__(3741)),queryFilter=Private(_query_filter2["default"]),MAX_INFLUENCER_FIELD_NAMES=10,MAX_DISPLAY_FIELD_VALUES=10,VIEW_BY_JOB_LABEL="job ID";$scope.getSelectedJobIds=function(){var selectedJobs=_lodash2["default"].filter($scope.jobs,function(job){return job.selected});return _lodash2["default"].map(selectedJobs,function(job){return job.id})},$scope.viewBySwimlaneOptions=[],$scope.viewBySwimlaneData={fieldName:"",laneLabels:[],points:[],interval:3600},$scope.initializeVis=function(){var stateDefaults={filters:[],mlExplorerSwimlane:{}};$scope.appState=new AppState(stateDefaults),$scope.jobs=[],mlJobService.loadJobs().then(function(resp){if(resp.jobs.length>0){_lodash2["default"].each(resp.jobs,function(job){var bucketSpan=(0,_parse_interval2["default"])(job.analysis_config.bucket_span);$scope.jobs.push({id:job.job_id,selected:!1,bucketSpanSeconds:bucketSpan.asSeconds()})});var selectedJobIds=_lodash2["default"].get(globalState.ml,"jobIds",[]);$scope.setSelectedJobs(selectedJobIds)}})["catch"](function(resp){console.log("Explorer - error getting job info from elasticsearch:",resp)}),mlExplorerDashboardService.init()},$scope.loadAnomaliesTable=function(jobIds,influencers,earliestMs,latestMs){mlResultsService.getRecordsForInfluencer($scope.indexPatternId,jobIds,influencers,0,earliestMs,latestMs,500).then(function(resp){$scope.anomalyRecords=_lodash2["default"].chain(resp.records).sortBy(function(record){return record[$scope.timeFieldName]}).reverse().value(),console.log("Explorer anomalies table data set:",$scope.anomalyRecords),$timeout(function(){$scope.$broadcast("renderTable")},0)})},$scope.loadAnomaliesForCharts=function(jobIds,influencers,earliestMs,latestMs){mlResultsService.getRecordsForInfluencer($scope.indexPatternId,jobIds,influencers,0,earliestMs,latestMs,500).then(function(resp){$scope.anomalyChartRecords=resp.records,console.log("Explorer anomaly charts data set:",$scope.anomalyChartRecords),mlExplorerDashboardService.fireAnomalyDataChange($scope.anomalyChartRecords,earliestMs,latestMs),$timeout(function(){$scope.$broadcast("renderCharts")},0)})},$scope.setSelectedJobs=function(selections){var previousSelected=0;void 0!==$scope.selectedJobs&&(previousSelected=$scope.selectedJobs.length),$scope.selectedJobs=[];var selectedJobIds=[],selectAll=1===selections.length&&"*"===selections[0]||0===selections.length;_lodash2["default"].each($scope.jobs,function(job){job.selected=selectAll||_lodash2["default"].indexOf(selections,job.id)!==-1,job.selected&&($scope.selectedJobs.push(job),selectedJobIds.push(job.id))}),$scope.unsafeHtml='<ml-job-select-list selected="'+selectedJobIds.join(" ")+'"></ml-job-select-list>';var firstJobId=selectedJobIds[0];selectedJobIds.length>1&&firstJobId.length>22&&(firstJobId=firstJobId.substring(0,19)+"..."),$scope.selectJobBtnJobIdLabel=firstJobId,globalState.ml.jobIds=selections,globalState.save(),(previousSelected<=1&&selectedJobIds.length>1||1===selectedJobIds.length&&previousSelected>1)&&delete $scope.appState.mlExplorerSwimlane.viewBy,$scope.appState.save(),clearSelectedAnomalies(),loadOverallData()},$scope.setSwimlaneViewBy=function(viewByFieldName){$scope.swimlaneViewByFieldName=viewByFieldName,$scope.appState.mlExplorerSwimlane.viewBy=viewByFieldName,$scope.appState.save(),loadViewBySwimlane([]),clearSelectedAnomalies()},$scope.$listen(timefilter,"fetch",function(){loadOverallData(),clearSelectedAnomalies()});var refreshWatcher=Private(_refresh_interval_watcher2["default"]);refreshWatcher.init(function(){loadOverallData(),clearSelectedAnomalies()}),$scope.$on("$destroy",function(){refreshWatcher.cancel()}),mlDashboardService.listenJobSelectionChange($scope,function(event,selections){delete $scope.appState.mlExplorerSwimlane.selectedType,
delete $scope.appState.mlExplorerSwimlane.selectedLane,delete $scope.appState.mlExplorerSwimlane.selectedTime,delete $scope.appState.mlExplorerSwimlane.selectedInterval,$scope.setSelectedJobs(selections)}),$scope.$listen(queryFilter,"update",function(){console.log("explorer_controller queryFilter update, filters:",queryFilter.getFilters())}),$scope.initializeVis(),$scope.showViewBySwimlane=function(){return null!==$scope.viewBySwimlaneData&&$scope.viewBySwimlaneData.laneLabels&&$scope.viewBySwimlaneData.laneLabels.length>0},mlExplorerDashboardService.addSwimlaneCellClickListener(function(cellData){if(0===_lodash2["default"].keys(cellData).length)$scope.viewByLoadedForTimeFormatted&&loadViewBySwimlane([]),clearSelectedAnomalies();else{var jobIds=[],influencers=[],bounds=timefilter.getActiveBounds(),earliestMs=void 0!==cellData.time?1e3*cellData.time:bounds.min.valueOf(),latestMs=void 0!==cellData.time?1e3*(cellData.time+cellData.interval)-1:bounds.max.valueOf();void 0===cellData.fieldName&&(loadViewBySwimlaneForSelectedTime(earliestMs,latestMs),$scope.viewByLoadedForTimeFormatted=(0,_moment2["default"])(earliestMs).format("MMMM Do YYYY, HH:mm")),cellData.fieldName===VIEW_BY_JOB_LABEL?jobIds.push(cellData.laneLabel):(jobIds=$scope.getSelectedJobIds(),void 0!==cellData.fieldName&&influencers.push({fieldName:$scope.swimlaneViewByFieldName,fieldValue:cellData.laneLabel})),$scope.loadAnomaliesTable(jobIds,influencers,earliestMs,latestMs),$scope.loadAnomaliesForCharts(jobIds,influencers,earliestMs,latestMs),$scope.showNoSelectionMessage=!1}})})},3778:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3779),__webpack_require__(3782)},3779:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(3671),__webpack_require__(3780);var _anomaly_utils=__webpack_require__(3767),_anomaly_utils2=_interopRequireDefault(_anomaly_utils),_filter_manager=__webpack_require__(2660),_filter_manager2=_interopRequireDefault(_filter_manager),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.directive("mlInfluencersList",function(Private){function link(scope,element){function render(){if(void 0!==scope.influencersData){var dataByViewBy={},compiledTooltip=_lodash2["default"].template('<div class="ml-influencers-list-tooltip"><%= influencerFieldName %>: <%= influencerFieldValue %><hr/>Max anomaly score: <%= maxScoreValue %><hr/>Total anomaly score: <%= totalScoreValue %></div>');_lodash2["default"].each(scope.influencersData,function(fieldValues,influencerFieldName){var valuesForViewBy=[];_lodash2["default"].each(fieldValues,function(valueData){var maxScorePrecise=valueData.maxAnomalyScore,maxScore=parseInt(maxScorePrecise),totalScore=parseInt(valueData.sumAnomalyScore),barScore=0!==maxScore?maxScore:1,maxScoreLabel=0!==maxScore?maxScore:"< 1",totalScoreLabel=0!==totalScore?totalScore:"< 1",severity=_anomaly_utils2["default"].getSeverity(maxScore);valuesForViewBy.push({influencerFieldValue:valueData.influencerFieldValue,maxScorePrecise:maxScorePrecise,barScore:barScore,maxScoreLabel:maxScoreLabel,totalScore:totalScore,severity:severity,tooltip:compiledTooltip({influencerFieldName:influencerFieldName,influencerFieldValue:valueData.influencerFieldValue,maxScoreValue:maxScoreLabel,totalScoreValue:totalScoreLabel})})}),dataByViewBy[influencerFieldName]=_lodash2["default"].sortBy(valuesForViewBy,"maxScorePrecise").reverse()}),scope.influencers=dataByViewBy}}scope.$on("render",function(){render()}),element.on("$destroy",function(){scope.$destroy()}),scope.tooltipPlacement=void 0===scope.tooltipPlacement?"top":scope.tooltipPlacement,scope.filter=function(field,value,operator){filterManager.add(field,value,operator,scope.indexPatternId)},scope.showNoResultsMessage=function(){return void 0===scope.influencersData||0===_lodash2["default"].keys(scope.influencersData).length}}var filterManager=Private(_filter_manager2["default"]);return{scope:{influencersData:"=",indexPatternId:"=",tooltipPlacement:"@"},template:__webpack_require__(3781),link:link}})},3780:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _numeral=__webpack_require__(667),_numeral2=_interopRequireDefault(_numeral),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.filter("abbreviateWholeNumber",function(){return function(value,maxDigits){var maxNumDigits=void 0!==maxDigits?maxDigits:3;return Math.abs(value)<Math.pow(10,maxNumDigits)?value:(0,_numeral2["default"])(value).format("0a")}})},3781:function(module,exports){module.exports='<div class="ml-influencers-list">\n\n  <div ng-if="showNoResultsMessage()" class="text-center visualize-error">\n    <div class="item top"></div>\n    <div class="item">\n      <h4>No influencers found</h4>\n    </div>\n    <div class="item bottom"></div>\n  </div>\n\n  <div ng-repeat="(influencerfieldname, groupData) in influencers">\n\n    <div class="section-label">{{influencerfieldname}}</div>\n\n    <div ng-repeat="influencer in groupData" class="influencer-content">\n      <div class="field-label">\n        <div ng-if="influencerfieldname !== \'mlcategory\'" class="influencerfieldvalue">{{influencer.influencerFieldValue}}</div>\n        <div ng-if="influencerfieldname === \'mlcategory\'" class="influencerfieldvalue">mlcategory {{influencer.influencerFieldValue}}</div>\n        <div class="filter-buttons" style="display: none;">\n          <i ng-click="filter(influencerfieldname, influencer.influencerFieldValue, \'+\')"\n            tooltip="Filter for value" tooltip-append-to-body="1" class="fa fa-search-plus"></i>\n          <i ng-click="filter(influencerfieldname, influencer.influencerFieldValue, \'-\')"\n            tooltip="Filter out value" tooltip-append-to-body="1" class="fa fa-search-minus"></i>\n        </div>\n\n      </div>\n\n      <div>\n        <div class="progress" value="{{influencer.barScore}}" max="100">\n          <div class="progress-bar {{influencer.severity}}" style="width: {{influencer.barScore}}%;"\n            tooltip-placement="{{tooltipPlacement}}" tooltip-html-unsafe="{{influencer.tooltip}}" tooltip-append-to-body="true">\n            <span class="score-label">{{influencer.maxScoreLabel}}</span>\n          </div>\n        </div>\n        <div ng-if="influencer.totalScore > 0" class="score-label total-score-label" tooltip-placement="{{tooltipPlacement}}" tooltip-html-unsafe="{{influencer.tooltip}}" tooltip-append-to-body="true">\n          {{influencer.totalScore | abbreviateWholeNumber:4}}\n        </div>\n        <div ng-if="influencer.totalScore === 0" class="score-label total-score-label" tooltip-placement="{{tooltipPlacement}}" tooltip-html-unsafe="{{influencer.tooltip}}" tooltip-append-to-body="true">\n          &lt;&nbsp;1\n        </div>\n\n      </div>\n\n    </div>\n\n  </div>\n\n</div>\n\n'},3782:function(module,exports){},3783:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3784),__webpack_require__(3786)},3784:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_job_utils=__webpack_require__(3680),_job_utils2=_interopRequireDefault(_job_utils),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.directive("mlJobSelectList",["mlJobService","mlDashboardService",function(mlJobService,mlDashboardService){return{restrict:"AE",replace:!0,transclude:!0,template:__webpack_require__(3785),controller:function($scope){mlJobService.loadJobs().then(function(resp){if(resp.jobs.length>0){var jobs=[];_lodash2["default"].each(resp.jobs,function(job){$scope.timeSeriesOnly!==!1&&_job_utils2["default"].isTimeSeriesViewJob(job)!==!0||jobs.push({id:job.job_id})}),$scope.jobs=jobs,1===$scope.selections.length&&"*"===$scope.selections[0]&&($scope.selections=_lodash2["default"].map($scope.jobs,function(job){return job.id}))}})["catch"](function(resp){console.log("mlJobSelectList controller - error getting job info from ES:",resp)}),$scope.apply=function(){$scope.selections.length===$scope.jobs.length?mlDashboardService.broadcastJobSelectionChange(["*"]):mlDashboardService.broadcastJobSelectionChange($scope.selections),$scope.closePopover()},$scope.toggleSelection=function(jobId){var idx=$scope.selections.indexOf(jobId);idx>-1?$scope.selections.splice(idx,1):$scope.selections.push(jobId)},$scope.isSelected=function(jobId){return _lodash2["default"].contains($scope.selections,jobId)||1===$scope.selections.length&&"*"===$scope.selections[0]}},link:function(scope,element,attrs){scope.timeSeriesOnly=!1,void 0!==attrs.timeseriesonly&&/true/i.test(attrs.timeseriesonly)&&(scope.timeSeriesOnly=!0),scope.selections=attrs.selected?attrs.selected.split(" "):[],scope.selectAll=function(){(0,_jquery2["default"])("input:checkbox",element).prop("checked",!0),scope.selections=_lodash2["default"].map(scope.jobs,function(job){return job.id})},scope.unselectAll=function(){(0,_jquery2["default"])("input:checkbox",element).prop("checked",!1),scope.selections=[]},(0,_jquery2["default"])(".ml-select-list",element).focus()}}}])},3785:function(module,exports){module.exports='<div>\n  <div class="ml-select-list">\n    <div class="ml-select-all-controls">\n      <a ng-click="selectAll()"><i class="fa fa-check"></i> Select all</a>\n      <a ng-click="unselectAll()"><i class="fa fa-times"></i> Unselect all</a>\n    </div>\n    <hr />\n    <label ng-repeat="job in jobs"><input type="checkbox" value="{{job.id}}" ng-checked="isSelected(job.id)" ng-click="toggleSelection(job.id)" />{{job.id}}</label>\n  </div>\n\n  <hr />\n\n  <div style="text-align: center;">\n    <button ng-click="apply()"  class="btn btn-info" aria-label="Apply">Apply</button>\n    <button ng-click="closePopover()" class="btn btn-info" aria-label="Cancel">Cancel</button>\n  </div>\n  \n</div>\n'},3786:function(module,exports){},3787:function(module,exports){"use strict";function refreshIntervalWatcher($rootScope,$timeout){function init(listener){$rootScope.$watchCollection("timefilter.refreshInterval",function(interval){if(refresher&&$timeout.cancel(refresher),interval.value>0&&!interval.pause){var startRefresh=function startRefresh(){refresher=$timeout(function(){startRefresh(),listener()},interval.value)};startRefresh()}})}function cancel(){$timeout.cancel(refresher)}var refresher=void 0;return{init:init,cancel:cancel}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=refreshIntervalWatcher,module.exports=exports["default"]},3788:function(module,exports){module.exports='<ml-nav-menu name="explorer"></ml-nav-menu>\n<div class="ml-explorer" ng-controller="MlExplorerController">\n  <navbar ng-show="jobs.length > 0 && chrome.getVisible()">\n    <div class="ml-job-select-btn-label">Job</div>\n    <div style="flex:0 0 auto;">\n      <button ng-if="selectedJobs.length == 1 && selectedJobs[0].id === \'*\'"\n              popover-placement="bottom" popover-html-unsafe="{{unsafeHtml}}" popover-append-to-body="false" popover-trigger="click"\n              class="btn btn-default ml-job-select-btn" tooltip="All jobs selected">\n        <span class="ml-job-select-btn-text">All jobs</span>\n        <span class="caret"></span>\n      </button>\n\n      <button ng-if="selectedJobs.length == 1 && selectedJobs[0].id !== \'*\'" popover-placement="bottom"\n              popover-placement="bottom" popover-html-unsafe="{{unsafeHtml}}" popover-append-to-body="false" popover-trigger="click"\n              class="btn btn-default ml-job-select-btn" tooltip="{{selectedJobs[0].id}} selected">\n        <span class="ml-job-select-btn-text">{{selectedJobs[0].id}}</span>\n        <span class="caret"></span>\n      </button>\n\n      <button ng-if="selectedJobs.length == 2" popover-placement="bottom"\n              popover-placement="bottom" popover-html-unsafe="{{unsafeHtml}}" popover-append-to-body="false" popover-trigger="click"\n              class="btn btn-default ml-job-select-btn" tooltip="{{selectedJobs[0].id}} and 1 other job selected">\n        <span class="ml-job-select-btn-text">{{selectJobBtnJobIdLabel}} and 1 other</span>\n        <span class="caret"></span>\n      </button>\n\n      <button ng-if="selectedJobs.length > 2" popover-placement="bottom"\n              popover-placement="bottom" popover-html-unsafe="{{unsafeHtml}}" popover-append-to-body="false" popover-trigger="click"\n              class="btn btn-default ml-job-select-btn" tooltip="{{selectedJobs[0].id}} and {{selectedJobs.length-1}} other jobs selected">\n        <span class="ml-job-select-btn-text">{{selectJobBtnJobIdLabel}} and {{selectedJobs.length-1}} others</span>\n        <span class="caret"></span>\n      </button>\n\n\n    </div>\n  </navbar>\n\n  <filter-bar state="appState"></filter-bar>\n\n  <div class="no-results-container" ng-if="jobs.length === 0">\n    <div class="no-results">\n      <div><i class="fa fa-exclamation-triangle" ></i>No jobs found</div>\n      <div><a href="ml#/jobs">Create new job</a></div>\n    </div>\n  </div>\n\n  <div class="loading-container" ng-show="loading === true">\n    <div class="loading-spinner"><i class=\'fa fa-spinner fa-spin\'></i></div>\n    <div>Loading</div>\n  </div>\n\n  <div class="no-results-container" ng-show="jobs.length > 0 && loading === false && hasResults === false">\n    <div class="no-results">\n      <div><i class="fa fa-info-circle" ></i>No results found</div>\n      <div>Try widening the time selection or moving further back in time</div>\n    </div>\n  </div>\n\n  <div ng-if="loading === false && hasResults === true">\n    <div class="results-container">\n\n      <div class="influencers-list-container column col-xs-2">\n        <span class="panel-title">\n          Top Influencers\n        </span>\n        <ml-influencers-list\n          influencers-data="influencersData"\n          index-pattern-id="indexPatternId"\n          tooltip-placement="right">\n        </ml-influencers-list>\n      </div>\n\n      <div class="column col-xs-10">\n        <span class="panel-title">\n          Anomaly timeline\n        </span>\n        <div class="ml-explorer-swimlane">\n          <ml-explorer-swimlane\n            swimlane-type="overall"\n            swimlane-data="overallSwimlaneData"\n            selected-job-ids="selectedJobIds"\n            chart-width="swimlaneWidth"\n            app-state="appState"\n            style="width: 100%; height: 250px;">\n          </ml-explorer-swimlane>\n        </div>\n\n        <div ng-if="viewBySwimlaneOptions.length > 0">\n          <div class="swimlane-controls">\n            <label>View by:</label>\n            <div class="btn-group" dropdown>\n              <button type="button" class="form-control dropdown-toggle" dropdown-toggle ng-disabled="disabled">\n                <span>{{swimlaneViewByFieldName}}</span> <span class="caret"></span>\n              </button>\n              <ul class="dropdown-menu" role="menu">\n                <li ng-repeat="swimlaneOption in viewBySwimlaneOptions"><a ng-click="setSwimlaneViewBy(swimlaneOption)">{{swimlaneOption}}</a></li>\n              </ul>\n            </div>\n            <span ng-if="viewByLoadedForTimeFormatted" class="panel-sub-title">\n              (Top 10 by max anomaly score for {{viewByLoadedForTimeFormatted}})\n            </span>\n            <span ng-if="!viewByLoadedForTimeFormatted" class="panel-sub-title">\n              (Top 10 by max anomaly score)\n            </span>\n          </div>\n\n          <div class="ml-explorer-swimlane" ng-if="showViewBySwimlane()">\n            <ml-explorer-swimlane\n              swimlane-type="viewBy"\n              swimlane-data="viewBySwimlaneData"\n              selected-job-ids="selectedJobIds"\n              chart-width="swimlaneWidth"\n              app-state="appState"\n              style="width: 100%; height: 250px;">\n            </ml-explorer-swimlane>\n          </div>\n\n          <div ng-if="!showViewBySwimlane()" class="text-center visualize-error">\n            <div class="item top"></div>\n            <div class="item">\n              <h4>No {{swimlaneViewByFieldName}} influencers found</h4>\n            </div>\n            <div class="item bottom"></div>\n          </div>\n\n        </div>\n\n        <div ng-if="showNoSelectionMessage" class="text-center visualize-error">\n          <div class="item top"></div>\n          <div class="item">\n            <h4>Click on a section in the timeline to view the anomalies</h4>\n          </div>\n          <div class="item bottom"></div>\n        </div>\n\n        <div ng-show="!showNoSelectionMessage">\n          <span class="panel-title">\n            Anomalies\n          </span>\n\n          <div ng-controller="MlExplorerChartsContainerController">\n            <ml-explorer-charts-container\n              series-to-plot="seriesToPlot"\n              time-field-name="timeFieldName"\n              plot-earliest="plotEarliest"\n              plot-latest="plotLatest"\n              selected-earliest="selectedEarliest"\n              selected-latest="selectedLatest"\n              charts-per-row="chartsPerRow"\n              layout-cells-per-chart="layoutCellsPerChart"\n              too-many-buckets="tooManyBuckets">\n            </ml-explorer-charts-container>\n          </div>\n\n          <div>\n            <ml-anomalies-table\n              anomaly-records="anomalyRecords"\n              index-pattern-id="indexPatternId"\n              time-field-name="timeFieldName">\n            </ml-anomalies-table>\n        </div>\n\n        </div>\n\n      </div>\n\n\n    </div>\n  </div>\n\n</div>\n'},3789:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.service("mlExplorerDashboardService",function(){var listeners={swimlaneCellClick:[],swimlaneDataChange:[],anomalyDataChange:[]};this.init=function(){listeners.swimlaneCellClick.splice(0),listeners.swimlaneDataChange.splice(0)},this.fireSwimlaneCellClick=function(cellData){listeners.swimlaneCellClick.forEach(function(listener){listener(cellData)})},this.addSwimlaneCellClickListener=function(listener){listeners.swimlaneCellClick.push(listener)},this.fireSwimlaneDataChange=function(swimlaneType){listeners.swimlaneDataChange.forEach(function(listener){listener(swimlaneType)})},this.addSwimlaneDataChangeListener=function(listener){listeners.swimlaneDataChange.push(listener)},this.fireAnomalyDataChange=function(anomalyRecords,earliestMs,latestMs){listeners.anomalyDataChange.forEach(function(listener){listener(anomalyRecords,earliestMs,latestMs)})},this.addAnomalyDataChangeListener=function(listener){listeners.anomalyDataChange.push(listener)}})},3790:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_moment=__webpack_require__(3678),_moment2=_interopRequireDefault(_moment),_anomaly_utils=__webpack_require__(3767),_anomaly_utils2=_interopRequireDefault(_anomaly_utils),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.directive("mlExplorerSwimlane",function($compile,mlExplorerDashboardService){function link(scope,element){function render(){function colorScore(value){return _anomaly_utils2["default"].getSeverityColor(value)}function cellClick($event,laneLabel,bucketScore,index,time){var $target=(0,_jquery2["default"])($event.target);$target.hasClass("sl-cell")&&($target=$target.find(".sl-cell-inner")),$target&&bucketScore>0&&$target.hasClass("sl-cell-inner-selected")===!1?selectCell($target,laneLabel,time,bucketScore):clearSelection()}function cellMouseover($event,laneLabel,bucketScore,index,time){if(void 0!==bucketScore){var displayScore=bucketScore>1?parseInt(bucketScore):"< 1",formattedDate=(0,_moment2["default"])(1e3*time).format("MMMM Do YYYY, HH:mm"),contents=formattedDate+"<br/><hr/>";void 0!==scope.swimlaneData.fieldName&&(contents+=scope.swimlaneData.fieldName+": "+laneLabel+"<br/><hr/>"),contents+="Max anomaly score: "+displayScore;var x=$event.pageX,y=$event.pageY,offset=5;(0,_jquery2["default"])('<div class="ml-explorer-swimlane-tooltip ml-explorer-tooltip">'+contents+"</div>").css({position:"absolute",display:"none","z-index":1,top:y+offset,left:x+offset}).appendTo("body").fadeIn(200);var $win=(0,_jquery2["default"])(window),winHeight=$win.height(),yOffset=window.pageYOffset,tooltipWidth=(0,_jquery2["default"])(".ml-explorer-swimlane-tooltip").outerWidth(!0),tooltipHeight=(0,_jquery2["default"])(".ml-explorer-swimlane-tooltip").outerHeight(!0);(0,_jquery2["default"])(".ml-explorer-swimlane-tooltip").css("left",x+offset+tooltipWidth>$win.width()?x-offset-tooltipWidth:x+offset),(0,_jquery2["default"])(".ml-explorer-swimlane-tooltip").css("top",y+tooltipHeight<winHeight+yOffset?y:y-tooltipHeight)}}function cellMouseleave(){(0,_jquery2["default"])(".ml-explorer-swimlane-tooltip").remove()}if(void 0!==scope.swimlaneData){var lanes=scope.swimlaneData.laneLabels,startTime=scope.swimlaneData.earliest,endTime=scope.swimlaneData.latest,stepSecs=scope.swimlaneData.interval,points=scope.swimlaneData.points,numBuckets=parseInt((endTime-startTime)/stepSecs),cellHeight=30,height=(lanes.length+1)*cellHeight-10,laneLabelWidth=170;element.css("height",height+20+"px");var $swimlanes=element.find("#swimlanes");$swimlanes.empty();var cellWidth=Math.floor(scope.chartWidth/numBuckets),cellsPerTick=1;if(cellWidth<100){var numTickLabels=scope.chartWidth/100;cellsPerTick=Math.max(Math.floor(numBuckets/numTickLabels),2)}for(var timeTickLabels=[],i=0;i<numBuckets;i+=cellsPerTick)timeTickLabels.push(_moment2["default"].unix(startTime+i*stepSecs).format("MMM DD HH:mm"));$swimlanes.click(function($event){var $target=(0,_jquery2["default"])($event.target);!$target.hasClass("sl-cell")&&!$target.hasClass("sl-cell-inner")&&(0,_jquery2["default"])(".sl-cell-inner.sl-cell-inner-selected",".ml-explorer-swimlane").length>0&&clearSelection()}),_lodash2["default"].each(lanes,function(lane){var rowScope=scope.$new();rowScope.cellClick=cellClick,rowScope.cellMouseover=cellMouseover,rowScope.cellMouseleave=cellMouseleave;var $lane=(0,_jquery2["default"])("<div>",{"class":"lane"}),label=lane;$lane.append((0,_jquery2["default"])("<div>",{"class":"lane-label",css:{width:laneLabelWidth+"px"},html:label}));var $cellsContainer=(0,_jquery2["default"])("<div>",{"class":"cells-container"});$lane.append($cellsContainer);for(var time=startTime,_i=0;_i<numBuckets;_i++){for(var $cell=(0,_jquery2["default"])("<div>",{"class":"sl-cell ",css:{width:cellWidth+"px"},"data-lane-label":lane,"data-time":time}),color="none",bucketScore=0,j=0;j<points.length;j++)points[j].value>0&&points[j].laneLabel===lane&&points[j].time===time&&(bucketScore=points[j].value,color=colorScore(bucketScore),$cell.append((0,_jquery2["default"])("<div>",{"class":"sl-cell-inner",css:{"background-color":color}})),$cell.attr({"data-score":bucketScore}));var cellClickTxt="cellClick($event, '"+lane+"', "+bucketScore+", "+_i+", "+time+")";if($cell.attr({"ng-click":cellClickTxt}),bucketScore>0){var cellMouseoverTxt="cellMouseover($event, '"+lane+"', "+bucketScore+", "+_i+", "+time+")",cellMouseleaveTxt="cellMouseleave()";$cell.attr({"ng-mouseover":cellMouseoverTxt,"ng-mouseleave":cellMouseleaveTxt})}$cellsContainer.append($cell),time+=stepSecs}$swimlanes.append($lane),$compile($lane)(rowScope)});var $laneTimes=(0,_jquery2["default"])("<div>",{"class":"time-tick-labels"});_lodash2["default"].each(timeTickLabels,function(label,i){$laneTimes.append((0,_jquery2["default"])("<span>",{"class":"tick-label",text:label,css:{"margin-left":i*cellWidth*cellsPerTick+"px"}}))}),$swimlanes.append($laneTimes)}}function checkForSelection(){var selectionState=scope.appState.mlExplorerSwimlane,selectedType=_lodash2["default"].get(selectionState,"selectedType",void 0),viewBy=_lodash2["default"].get(selectionState,"viewBy","");if(scope.swimlaneType!==selectedType&&void 0!==selectedType&&((0,_jquery2["default"])(".lane-label",element).addClass("lane-label-masked"),(0,_jquery2["default"])(".sl-cell-inner",element).addClass("sl-cell-inner-masked")),scope.swimlaneType===selectedType&&(void 0===scope.swimlaneData.fieldName||scope.swimlaneData.fieldName===viewBy)){var cellToSelect=void 0,selectedLane=_lodash2["default"].get(selectionState,"selectedLane",""),selectedTime=_lodash2["default"].get(selectionState,"selectedTime",-1),lanes=scope.swimlaneData.laneLabels,startTime=scope.swimlaneData.earliest,endTime=scope.swimlaneData.latest;if(lanes.indexOf(selectedLane)>-1&&selectedTime>=startTime&&selectedTime<=endTime){var $swimlanes=element.find("#swimlanes"),laneCells=(0,_jquery2["default"])('div[data-lane-label="'+selectedLane+'"]',$swimlanes);if(0===laneCells.length)return;var previousCell=laneCells[0];cellToSelect=laneCells[0];for(var i=0;i<laneCells.length;i++){var cell=laneCells[i],cellTime=(0,_jquery2["default"])(cell).attr("data-time");if(cellTime===selectedTime){cellToSelect=cell;break}if(cellTime>selectedTime){var previousScore=+(0,_jquery2["default"])(previousCell).attr("data-score");cellToSelect=void 0!==previousScore?previousCell:cell;break}cellToSelect=cell,previousCell=cell}}if(void 0!==cellToSelect&&void 0!==(0,_jquery2["default"])(cellToSelect).attr("data-score")){var $target=(0,_jquery2["default"])(cellToSelect).find(".sl-cell-inner");selectCell($target,selectedLane,selectedTime,+(0,_jquery2["default"])(cellToSelect).attr("data-score"))}else clearSelection()}}function selectCell($target,laneLabel,time,bucketScore){if((0,_jquery2["default"])(".lane-label",".ml-explorer-swimlane").addClass("lane-label-masked"),(0,_jquery2["default"])(".sl-cell-inner",".ml-explorer-swimlane").addClass("sl-cell-inner-masked"),(0,_jquery2["default"])(".sl-cell-inner.sl-cell-inner-selected",".ml-explorer-swimlane").removeClass("sl-cell-inner-selected"),$target.removeClass("sl-cell-inner-masked"),$target.addClass("sl-cell-inner-selected"),(0,_jquery2["default"])(".lane-label").filter(function(){return(0,_jquery2["default"])(this).text()===laneLabel}).removeClass("lane-label-masked"),"viewBy"===scope.swimlaneType){var overallSwimlane=(0,_jquery2["default"])('ml-explorer-swimlane[swimlane-type="overall"]'),overallCell=(0,_jquery2["default"])('div[data-time="'+time+'"]',overallSwimlane).find(".sl-cell-inner");overallCell.addClass("sl-cell-inner-selected")}scope.appState.mlExplorerSwimlane.selectedType=scope.swimlaneType,scope.appState.mlExplorerSwimlane.selectedLane=laneLabel,scope.appState.mlExplorerSwimlane.selectedTime=time,scope.appState.save(),mlExplorerDashboardService.fireSwimlaneCellClick({fieldName:scope.swimlaneData.fieldName,laneLabel:laneLabel,time:time,interval:scope.swimlaneData.interval,score:bucketScore})}function clearSelection(){(0,_jquery2["default"])(".lane-label",".ml-explorer-swimlane").removeClass("lane-label-masked"),(0,_jquery2["default"])(".sl-cell-inner",".ml-explorer-swimlane").removeClass("sl-cell-inner-masked"),(0,_jquery2["default"])(".sl-cell-inner.sl-cell-inner-selected",".ml-explorer-swimlane").removeClass("sl-cell-inner-selected"),delete scope.appState.mlExplorerSwimlane.selectedType,delete scope.appState.mlExplorerSwimlane.selectedLane,delete scope.appState.mlExplorerSwimlane.selectedTime,scope.appState.save(),mlExplorerDashboardService.fireSwimlaneCellClick({})}mlExplorerDashboardService.addSwimlaneDataChangeListener(function(swimlaneType){swimlaneType===scope.swimlaneType&&(render(),checkForSelection())}),element.on("$destroy",function(){scope.$destroy()})}var template="<div id='swimlanes'></div>";return{scope:{swimlaneType:"@",swimlaneData:"=",selectedJobIds:"=",chartWidth:"=",appState:"="},link:link,template:template}})},3791:function(module,exports){},3792:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3793),__webpack_require__(3795),__webpack_require__(3797),__webpack_require__(3799)},3793:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_explorer_chart_config_builder=__webpack_require__(3794),_explorer_chart_config_builder2=_interopRequireDefault(_explorer_chart_config_builder),_module=_modules2["default"].get("apps/ml");_module.controller("MlExplorerChartsContainerController",function($scope,timefilter,Private,mlExplorerDashboardService){function processRecordsForDisplay(anomalyRecords){if(0===anomalyRecords.length)return[];var aggregatedData={};_lodash2["default"].each(anomalyRecords,function(record){if(_lodash2["default"].indexOf(FUNCTION_DESCRIPTIONS_TO_PLOT,record.function_description)!==-1&&"mlcategory"!==record.by_field_name){var jobId=record.job_id;_lodash2["default"].has(aggregatedData,jobId)||(aggregatedData[jobId]={});var detectorsForJob=aggregatedData[jobId],detectorIndex=record.detector_index;_lodash2["default"].has(detectorsForJob,detectorIndex)||(detectorsForJob[detectorIndex]={});var firstFieldName=record.partition_field_name||record.by_field_name||record.over_field_name,firstFieldValue=record.partition_field_value||record.by_field_value||record.over_field_value;if(void 0!==firstFieldName){var groupsForDetector=detectorsForJob[detectorIndex];_lodash2["default"].has(groupsForDetector,firstFieldName)||(groupsForDetector[firstFieldName]={});var valuesForGroup=groupsForDetector[firstFieldName];_lodash2["default"].has(valuesForGroup,firstFieldValue)||(valuesForGroup[firstFieldValue]={});var dataForGroupValue=valuesForGroup[firstFieldValue],isSecondSplit=!1;if(void 0!==record.partition_field_name){var splitFieldName=record.over_field_name||record.by_field_name;void 0!==splitFieldName&&(isSecondSplit=!0)}if(isSecondSplit===!1)_lodash2["default"].has(dataForGroupValue,"maxScoreRecord")?record.record_score>dataForGroupValue.maxScore&&(dataForGroupValue.maxScore=record.record_score,dataForGroupValue.maxScoreRecord=record):(dataForGroupValue.maxScore=record.record_score,dataForGroupValue.maxScoreRecord=record);else{var secondFieldName=record.over_field_name||record.by_field_name,secondFieldValue=record.over_field_value||record.by_field_value;_lodash2["default"].has(dataForGroupValue,secondFieldName)||(dataForGroupValue[secondFieldName]={});var splitsForGroup=dataForGroupValue[secondFieldName];_lodash2["default"].has(splitsForGroup,secondFieldValue)||(splitsForGroup[secondFieldValue]={});var dataForSplitValue=splitsForGroup[secondFieldValue];_lodash2["default"].has(dataForSplitValue,"maxScoreRecord")?record.record_score>dataForSplitValue.maxScore&&(dataForSplitValue.maxScore=record.record_score,dataForSplitValue.maxScoreRecord=record):(dataForSplitValue.maxScore=record.record_score,dataForSplitValue.maxScoreRecord=record)}}else{var dataForDetector=detectorsForJob[detectorIndex];_lodash2["default"].has(dataForDetector,"maxScoreRecord")?record.record_score>dataForDetector.maxScore&&(dataForDetector.maxScore=record.record_score,
dataForDetector.maxScoreRecord=record):(dataForDetector.maxScore=record.record_score,dataForDetector.maxScoreRecord=record)}}}),console.log("explorer charts aggregatedData is:",aggregatedData);var recordsForSeries=[];return _lodash2["default"].each(aggregatedData,function(detectorsForJob){_lodash2["default"].each(detectorsForJob,function(groupsForDetector){_lodash2["default"].has(groupsForDetector,"maxScoreRecord")?recordsForSeries.push(groupsForDetector.maxScoreRecord):_lodash2["default"].each(groupsForDetector,function(valuesForGroup){_lodash2["default"].each(valuesForGroup,function(dataForGroupValue){_lodash2["default"].has(dataForGroupValue,"maxScoreRecord")?recordsForSeries.push(dataForGroupValue.maxScoreRecord):_lodash2["default"].each(dataForGroupValue,function(splitsForGroup){_lodash2["default"].each(splitsForGroup,function(dataForSplitValue){recordsForSeries.push(dataForSplitValue.maxScoreRecord)})})})})})}),recordsForSeries=_lodash2["default"].sortBy(recordsForSeries,"record_score").reverse()}function buildDataConfigs(anomalyRecords){var seriesConfigs=[],configBuilder=Private(_explorer_chart_config_builder2["default"]);return _lodash2["default"].each(anomalyRecords,function(record){var config=configBuilder.buildConfig(record);seriesConfigs.push(config)}),seriesConfigs}function calculateChartRange(earliestMs,latestMs,chartWidth,recordsToPlot){var midpointMs=Math.ceil((earliestMs+latestMs)/2),maxBucketSpanMs=1e3*Math.max.apply(null,_lodash2["default"].pluck($scope.seriesToPlot,"bucketSpanSeconds")),pointsToPlotFullSelection=Math.ceil((latestMs-earliestMs)/maxBucketSpanMs),optimumPointSpacing=5,optimumNumPoints=chartWidth/optimumPointSpacing,plotPoints=Math.max(optimumNumPoints,pointsToPlotFullSelection),halfPoints=Math.ceil(plotPoints/2),chartRange={min:midpointMs-halfPoints*maxBucketSpanMs,max:midpointMs+halfPoints*maxBucketSpanMs};if(plotPoints>CHART_MAX_POINTS){$scope.tooManyBuckets=!0;var maxTimeSpan=maxBucketSpanMs*CHART_MAX_POINTS,minMs=recordsToPlot[0][$scope.timeFieldName],maxMs=recordsToPlot[0][$scope.timeFieldName];_lodash2["default"].each(recordsToPlot,function(record){var diffMs=maxMs-minMs;if(diffMs<maxTimeSpan){var recordTime=record[$scope.timeFieldName];recordTime<minMs&&maxMs-recordTime<=maxTimeSpan&&(minMs=recordTime),recordTime>maxMs&&recordTime-minMs<=maxTimeSpan&&(maxMs=recordTime)}}),maxMs-minMs<maxTimeSpan&&(minMs=Math.max(earliestMs,maxMs-maxTimeSpan),maxMs=Math.min(latestMs,minMs+maxTimeSpan)),chartRange={min:minMs,max:maxMs}}return chartRange}$scope.allSeriesRecords=[],$scope.recordsForSeries=[];var FUNCTION_DESCRIPTIONS_TO_PLOT=["mean","min","max","sum","count","distinct_count"],CHART_MAX_POINTS=500;mlExplorerDashboardService.addAnomalyDataChangeListener(function(anomalyRecords,earliestMs,latestMs){$scope.allSeriesRecords=processRecordsForDisplay(anomalyRecords);var chartsContainerWidth=(0,_jquery2["default"])(".explorer-charts").width(),chartsPerRow=Math.min(Math.max(Math.floor(chartsContainerWidth/600),1),4);$scope.chartsPerRow=chartsPerRow,$scope.layoutCellsPerChart=12/$scope.chartsPerRow;var maxSeriesToPlot=Math.max(2*chartsPerRow,6),recordsToPlot=$scope.allSeriesRecords.slice(0,maxSeriesToPlot);$scope.seriesToPlot=buildDataConfigs(recordsToPlot),$scope.tooManyBuckets=!1;var chartRange=calculateChartRange(earliestMs,latestMs,Math.floor(chartsContainerWidth/chartsPerRow),recordsToPlot);$scope.plotEarliest=chartRange.min,$scope.plotLatest=chartRange.max,$scope.selectedEarliest=earliestMs,$scope.selectedLatest=latestMs})})},3794:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function explorerChartConfigBuilder(mlJobService){function buildConfig(record){var job=mlJobService.getJob(record.job_id),config={jobId:record.job_id,detectorIndex:record.detector_index,"function":record.function_description,metricFunction:_anomaly_utils.aggregationTypeTransform.toES(record.function_description),timeField:job.data_description.time_field,bucketSpanSeconds:(0,_parse_interval2["default"])(job.analysis_config.bucket_span).asSeconds(),interval:job.analysis_config.bucket_span};config.detectorLabel=record["function"];var detectorIndex=record.detector_index;_.has(mlJobService.detectorsByJob,record.job_id)&&detectorIndex<mlJobService.detectorsByJob[record.job_id].length?config.detectorLabel=mlJobService.detectorsByJob[record.job_id][detectorIndex].detector_description:void 0!==record.field_name&&(config.detectorLabel+=" ",config.detectorLabel+=config.fieldName),void 0!==record.field_name&&(config.fieldName=record.field_name,config.metricFieldName=record.field_name);var summaryCountFieldName=job.analysis_config.summary_count_field_name;if("count"===record.function_description&&void 0!==summaryCountFieldName&&"doc_count"!==summaryCountFieldName){var cardinalityField=void 0,topAgg=_.get(job.datafeed_config,"aggregations")||_.get(job.datafeed_config,"aggs");void 0!==topAgg&&_.values(topAgg).length>0&&(cardinalityField=_.get(_.values(topAgg)[0],["aggregations",summaryCountFieldName,"cardinality","field"])||_.get(_.values(topAgg)[0],["aggs",summaryCountFieldName,"cardinality","field"])),"non_zero_count"===record["function"]&&void 0!==cardinalityField?(config.metricFunction="cardinality",config.metricFieldName=cardinalityField):(config.metricFunction="sum",config.metricFieldName=summaryCountFieldName)}config.entityFields=[],_.has(record,"partition_field_name")&&config.entityFields.push({fieldName:record.partition_field_name,fieldValue:record.partition_field_value}),_.has(record,"over_field_name")&&config.entityFields.push({fieldName:record.over_field_name,fieldValue:record.over_field_value}),_.has(record,"by_field_name")&&!_.has(record,"over_field_name")&&config.entityFields.push({fieldName:record.by_field_name,fieldValue:record.by_field_value}),job.datafeed_config&&(config.datafeedConfig=job.datafeed_config);var functionLabel=config.metricFunction;return void 0!==config.metricFieldName&&(functionLabel+=" ",functionLabel+=config.metricFieldName),config.infoTooltip=compiledTooltip({jobId:record.job_id,aggregationInterval:job.analysis_config.bucket_span,chartFunction:functionLabel}),config}var compiledTooltip=_.template('<div class="explorer-chart-info-tooltip">job ID: <%= jobId %><br/>aggregation interval: <%= aggregationInterval %><br/>chart function: <%= chartFunction %></div>');return{buildConfig:buildConfig}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=explorerChartConfigBuilder;var _parse_interval=__webpack_require__(2730),_parse_interval2=_interopRequireDefault(_parse_interval),_anomaly_utils=__webpack_require__(3767),_=__webpack_require__(3677);module.exports=exports["default"]},3795:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.directive("mlExplorerChartsContainer",function(){function link(scope,element){(0,_jquery2["default"])(".ml-explorer-charts-tooltip").remove(),(0,_jquery2["default"])("body").append('<div class="ml-explorer-tooltip ml-explorer-charts-tooltip" style="opacity:0">'),element.on("$destroy",function(){scope.$destroy()})}return{restrict:"E",scope:{seriesToPlot:"=",plotEarliest:"=",plotLatest:"=",selectedEarliest:"=",selectedLatest:"=",chartsPerRow:"=",layoutCellsPerChart:"=",tooManyBuckets:"="},link:link,template:__webpack_require__(3796)}})},3796:function(module,exports){module.exports='<div class="explorer-charts">\n  <div class="row" ng-hide="seriesToPlot.length === 0">\n\n    <div ng-repeat="series in seriesToPlot">\n      <div class="clearfix" ng-if="$index % chartsPerRow == 0"></div>\n      <div class="ml-explorer-chart-container col-md-{{layoutCellsPerChart}}">\n        <div class="explorer-chart-label">{{series.detectorLabel}} -\n          <span ng-repeat=\'entity in series.entityFields\'>{{entity.fieldName}} {{entity.fieldValue}}\n          </span>\n          <i aria-hidden="true" class="fa fa-info-circle" tooltip-placement="bottom" tooltip-html-unsafe="{{series.infoTooltip}}" tooltip-append-to-body="false"></i>\n          <i ng-if="tooManyBuckets" aria-hidden="true" class="fa fa-exclamation-triangle text-warning" tooltip-placement="bottom" tooltip-append-to-body="true"\n            tooltip-html-unsafe="This selection contains too many buckets to be displayed. The dashboard is best viewed over a shorter time range." ></i>\n        </div>\n        <ml-explorer-chart\n          series-config="series"\n          plot-earliest="plotEarliest"\n          plot-latest="plotLatest"\n          selected-earliest="selectedEarliest"\n          selected-latest="selectedLatest">\n        </ml-explorer-chart>\n      </div>\n    </div>\n\n  </div>\n\n</div>\n'},3797:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_d=__webpack_require__(2794),_d2=_interopRequireDefault(_d),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_moment=__webpack_require__(3678),_moment2=_interopRequireDefault(_moment),_numeral=__webpack_require__(667),_numeral2=_interopRequireDefault(_numeral),_anomaly_utils=__webpack_require__(3767),_anomaly_utils2=_interopRequireDefault(_anomaly_utils);__webpack_require__(3798),__webpack_require__(3772);var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.directive("mlExplorerChart",function(mlResultsService,formatValueFilter){function link(scope,element){function finish(){awaitingCount--,0===awaitingCount&&(scope.chartData=processChartData(),init(),drawLineChart())}function render(){void 0===scope.metricData}function init(){var $el=_angular2["default"].element(".ml-explorer-chart-container"),data=scope.chartData,chartElement=_d2["default"].select(element.get(0));chartElement.select("svg").remove(),svgWidth=$el.width();var svg=chartElement.append("svg").attr("width",svgWidth).attr("height",svgHeight);lineChartYScale=_d2["default"].scale.linear().range([chartHeight,0]);var yAxis=_d2["default"].svg.axis().scale(lineChartYScale).orient("left").innerTickSize(-vizWidth).outerTickSize(0).tickPadding(10);chartLimits.max=_d2["default"].max(data,function(d){return d.value}),chartLimits.min=_d2["default"].min(data,function(d){return d.value});var padding=.05*(chartLimits.max-chartLimits.min);chartLimits.max+=padding,chartLimits.min-=padding,lineChartYScale=lineChartYScale.domain([chartLimits.min,chartLimits.max]);var maxYAxisLabelWidth=0,tempLabelText=svg.append("g").attr("class","temp-axis-label tick");tempLabelText.selectAll("text.temp.axis").data(lineChartYScale.ticks()).enter().append("text").text(function(d){return lineChartYScale.tickFormat()(d)}).each(function(){maxYAxisLabelWidth=Math.max(this.getBBox().width+yAxis.tickPadding(),maxYAxisLabelWidth)}).remove(),_d2["default"].select(".temp-axis-label").remove(),margin.left=Math.max(maxYAxisLabelWidth,40),vizWidth=svgWidth-margin.left-margin.right,lineChartXScale=_d2["default"].time.scale().range([0,vizWidth]).domain([scope.plotEarliest,scope.plotLatest]),lineChartValuesLine=_d2["default"].svg.line().x(function(d){return lineChartXScale(d.date)}).y(function(d){return lineChartYScale(d.value)}).defined(function(d){return null!==d.value}),lineChartGroup=svg.append("g").attr("class","line-chart").attr("transform","translate("+margin.left+","+margin.top+")")}function drawLineChart(){var data=scope.chartData;lineChartGroup.append("rect").attr("x",0).attr("y",0).attr("height",chartHeight).attr("width",vizWidth).style("stroke","#cccccc").style("fill","none").style("stroke-width",1),drawLineChartAxes(),drawLineChartHighlightedSpan(),drawLineChartPaths(data),drawLineChartMarkers(data)}function drawLineChartAxes(){var xAxis=_d2["default"].svg.axis().scale(lineChartXScale).orient("bottom").innerTickSize(-chartHeight).outerTickSize(0).tickPadding(10),yAxis=_d2["default"].svg.axis().scale(lineChartYScale).orient("left").innerTickSize(-vizWidth).outerTickSize(0).tickPadding(10),axes=lineChartGroup.append("g");axes.append("g").attr("class","x axis").attr("transform","translate(0,"+chartHeight+")").call(xAxis),axes.append("g").attr("class","y axis").call(yAxis)}function drawLineChartHighlightedSpan(){var rectStart=Math.max(scope.selectedEarliest,scope.plotEarliest),rectEnd=Math.min(scope.selectedLatest,scope.plotLatest),rectWidth=lineChartXScale(rectEnd)-lineChartXScale(rectStart);lineChartGroup.append("rect").attr("class","selected-interval").attr("x",lineChartXScale(new Date(rectStart))).attr("y",1).attr("width",rectWidth).attr("height",chartHeight-1)}function drawLineChartPaths(data){lineChartGroup.append("path").attr("class","values-line").attr("d",lineChartValuesLine(data))}function drawLineChartMarkers(data){var dots=lineChartGroup.append("g").attr("class","chart-markers").selectAll(".metric-value").data(data);dots.exit().remove(),dots.enter().append("circle").attr("r",LINE_CHART_ANOMALY_RADIUS).on("mouseover",function(d){showLineChartTooltip(d,this)}).on("mouseout",hideLineChartTooltip),dots.attr("cx",function(d){return lineChartXScale(d.date)}).attr("cy",function(d){return lineChartYScale(d.value)}).attr("class",function(d){var markerClass="metric-value";return _lodash2["default"].has(d,"anomalyScore")&&(markerClass+=" anomaly-marker ",markerClass+=_anomaly_utils2["default"].getSeverityWithLow(d.anomalyScore)),markerClass})}function showLineChartTooltip(marker,circle){var formattedDate=(0,_moment2["default"])(marker.date).format("MMMM Do YYYY, HH:mm"),contents=formattedDate+"<br/><hr/>";if(_lodash2["default"].has(marker,"anomalyScore")){var score=parseInt(marker.anomalyScore),displayScore=score>0?score:"< 1";contents+="anomaly score: "+displayScore,contents+="<br/>actual: "+formatValueFilter(marker.actual,config["function"]),contents+="<br/>typical: "+formatValueFilter(marker.typical,config["function"])}else contents+="value: "+(0,_numeral2["default"])(marker.value).format("0,0.[00]");var tooltipDiv=_d2["default"].select(".ml-explorer-charts-tooltip");tooltipDiv.transition().duration(200).style("opacity",.9),tooltipDiv.html(contents);var pos=(0,_jquery2["default"])(circle).position(),x=pos.left,y=pos.top,parentWidth=(0,_jquery2["default"])(".ml-explorer").width(),tooltipWidth=tooltipDiv.node().offsetWidth;x+tooltipWidth+LINE_CHART_ANOMALY_RADIUS+10<parentWidth?tooltipDiv.style("left",x+2*LINE_CHART_ANOMALY_RADIUS+4+"px").style("top",y-0+"px"):tooltipDiv.style("left",x-(tooltipWidth+LINE_CHART_ANOMALY_RADIUS)+"px").style("top",y-0+"px")}function hideLineChartTooltip(){var tooltipDiv=_d2["default"].select(".ml-explorer-charts-tooltip");tooltipDiv.transition().duration(500).style("opacity",0)}function processChartData(){var chartData=[];return void 0===scope.metricData||0===_lodash2["default"].keys(scope.metricData).length?chartData:(_lodash2["default"].each(scope.metricData,function(value,time){chartData.push({date:new Date((+time)),value:value})}),_lodash2["default"].each(scope.anomalyRecords,function(record){for(var recordTime=record[ML_TIME_FIELD_NAME],chartPoint=void 0,i=0;i<chartData.length;i++)if(chartData[i].date.getTime()===recordTime){chartPoint=chartData[i];break}if(void 0===chartPoint){for(var foundItem=void 0,_i=0;_i<chartData.length;_i++){var itemTime=chartData[_i].date.getTime();if(itemTime>recordTime){var item=chartData[_i],prevousItem=chartData[_i-1],diff1=Math.abs(recordTime-prevousItem.date.getTime()),diff2=Math.abs(recordTime-itemTime);foundItem=void 0===prevousItem||diff1>diff2?item:prevousItem;break}}chartPoint=foundItem}if(void 0===chartPoint){var lastChartPoint=chartData[chartData.length-1],lastChartPointScore=lastChartPoint.anomalyScore||0;record.record_score>lastChartPointScore&&(chartPoint=lastChartPoint)}if(void 0!==chartPoint)if(chartPoint.anomalyScore=record.record_score,_lodash2["default"].has(record,"actual"))chartPoint.actual=record.actual,chartPoint.typical=record.typical;else if(1===_lodash2["default"].get(record,"causes",[]).length){var cause=_lodash2["default"].first(record.causes);chartPoint.actual=cause.actual,chartPoint.typical=cause.typical}}),chartData)}console.log("ml-explorer-chart directive link series config:",scope.seriesConfig);var config=scope.seriesConfig,ML_RESULTS_INDEX_ID=".ml-anomalies-*",ML_TIME_FIELD_NAME="timestamp",ANOMALIES_MAX_RESULTS=500,svgWidth=0,vizWidth=0,chartHeight=170,LINE_CHART_ANOMALY_RADIUS=7,margin={top:10,right:0,bottom:30,left:60},svgHeight=chartHeight+margin.top+margin.bottom,chartLimits={max:0,min:0},lineChartXScale=null,lineChartYScale=null,lineChartGroup=void 0,lineChartValuesLine=null,awaitingCount=2,datafeedQuery=_lodash2["default"].get(config,"datafeedConfig.query",null);mlResultsService.getMetricData(config.datafeedConfig.indexes,config.entityFields,datafeedQuery,config.metricFunction,config.metricFieldName,config.timeField,scope.plotEarliest,scope.plotLatest,config.interval).then(function(resp){scope.metricData=resp.results,finish()});var criteria=[];criteria.push({fieldName:"detector_index",fieldValue:config.detectorIndex}),criteria=criteria.concat(config.entityFields),mlResultsService.getRecordsForCriteria(ML_RESULTS_INDEX_ID,[config.jobId],criteria,0,scope.plotEarliest,scope.plotLatest,ANOMALIES_MAX_RESULTS).then(function(resp){scope.anomalyRecords=resp.records,finish()}),scope.$on("renderExplorerChart",function(){render()}),element.on("$destroy",function(){scope.$destroy()})}return{restrict:"E",scope:{seriesConfig:"=",plotEarliest:"=",plotLatest:"=",selectedEarliest:"=",selectedLatest:"="},link:link}})},3798:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(3678),_moment2=_interopRequireDefault(_moment),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.filter("formatValue",function(){function formatValue(value,fx){if("time_of_week"===fx){var d=new Date,i=parseInt(value);return d.setTime(1e3*i),(0,_moment2["default"])(d).format("ddd hh:mm")}if("time_of_day"===fx){var _d=new Date,_i=parseInt(value);return _d.setTime(1e3*_i),(0,_moment2["default"])(_d).format("hh:mm")}return value}return function(value,fx){return Array.isArray(value)?1===value.length?formatValue(value[0],fx):_lodash2["default"].map(value,function(val){return formatValue(val,fx)}):formatValue(value,fx)}})},3799:function(module,exports){},3800:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3801),__webpack_require__(3802)},3801:function(module,exports){},3802:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _moment=__webpack_require__(3678),_moment2=_interopRequireDefault(_moment),_lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_string_utils=__webpack_require__(3681),_string_utils2=_interopRequireDefault(_string_utils),_anomaly_utils=__webpack_require__(3767),_anomaly_utils2=_interopRequireDefault(_anomaly_utils);__webpack_require__(3714),__webpack_require__(3798),__webpack_require__(3803),__webpack_require__(3766),__webpack_require__(3804);var _anomalies_table_links=__webpack_require__(3806),_anomalies_table_links2=_interopRequireDefault(_anomalies_table_links),_open=__webpack_require__(928),_open2=_interopRequireDefault(_open),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.directive("mlAnomaliesTable",function($window,$rootScope,mlJobService,mlResultsService,mlTimeSeriesDashboardService,formatValueFilter,AppState){return{restrict:"E",scope:{anomalyRecords:"=",indexPatternId:"=",timeFieldName:"="},template:__webpack_require__(3807),link:function(scope,element){function updateTableData(){var summaryRecords=[];if(scope.isShowingAggregatedData())summaryRecords=aggregateAnomalies();else{scope.momentInterval=scope.interval.val;var filteredRecords=_lodash2["default"].filter(scope.anomalyRecords,function(record){return Number(record.record_score)>=scope.threshold.val});_lodash2["default"].each(filteredRecords,function(record){var detectorIndex=record.detector_index,jobId=record.job_id,detector=record.function_description;_lodash2["default"].has(mlJobService.detectorsByJob,jobId)&&detectorIndex<mlJobService.detectorsByJob[jobId].length&&(detector=mlJobService.detectorsByJob[jobId][detectorIndex].detector_description);var displayRecord={time:record[scope.timeFieldName],"max severity":record.record_score,detector:detector,jobId:jobId,source:record},entityName=_anomaly_utils2["default"].getEntityFieldName(record);if(void 0!==entityName&&(displayRecord.entityName=entityName,displayRecord.entityValue=_anomaly_utils2["default"].getEntityFieldValue(record)),_lodash2["default"].has(record,"partition_field_name")&&(displayRecord.partitionFieldName=record.partition_field_name,displayRecord.partitionFieldValue=record.partition_field_value),_lodash2["default"].has(record,"influencers")){var influencers=[],sourceInfluencers=_lodash2["default"].sortBy(record.influencers,"influencer_field_name");_lodash2["default"].each(sourceInfluencers,function(influencer){var influencerFieldName=influencer.influencer_field_name;_lodash2["default"].each(influencer.influencer_field_values,function(influencerFieldValue){var influencerToAdd={};influencerToAdd[influencerFieldName]=influencerFieldValue,influencers.push(influencerToAdd)})}),displayRecord.influencers=influencers}var functionDescription=_lodash2["default"].get(record,"function_description","");if(_anomaly_utils2["default"].showActualForFunction(functionDescription)===!0)if(_lodash2["default"].has(record,"actual"))displayRecord.actual=record.actual;else if(1===_lodash2["default"].get(record,"causes",[]).length){var cause=_lodash2["default"].first(record.causes);displayRecord.actual=cause.actual}if(_anomaly_utils2["default"].showTypicalForFunction(functionDescription)===!0)if(_lodash2["default"].has(record,"typical"))displayRecord.typical=record.typical;else if(1===_lodash2["default"].get(record,"causes",[]).length){var _cause=_lodash2["default"].first(record.causes);displayRecord.typical=_cause.typical}_lodash2["default"].has(mlJobService.customUrlsByJob,jobId)&&(displayRecord.links=mlJobService.customUrlsByJob[jobId]),summaryRecords.push(displayRecord)})}_lodash2["default"].invoke(scope.rowScopes,"$destroy"),scope.rowScopes.length=0;var showExamples=_lodash2["default"].some(summaryRecords,{entityName:"mlcategory"});if(showExamples){var categoryRecords=_lodash2["default"].where(summaryRecords,{entityName:"mlcategory"}),categoryIdsByJobId={};_lodash2["default"].each(categoryRecords,function(record){_lodash2["default"].has(categoryIdsByJobId,record.jobId)||(categoryIdsByJobId[record.jobId]=[]),categoryIdsByJobId[record.jobId].push(record.entityValue)}),loadCategoryExamples(categoryIdsByJobId)}else scope.categoryExamplesByJob={};scope.table.columns=getPaginatedTableColumns(summaryRecords),summaryRecords=_lodash2["default"].sortBy(summaryRecords,"max severity").reverse(),scope.table.rows=summaryRecords.map(function(record){return createTableRow(record)})}function aggregateAnomalies(){if(console.log("aggregateAnomalies(): number of anomalies to aggregate:",scope.anomalyRecords.length),0===scope.anomalyRecords.length)return[];if("auto"===scope.interval.val){var earliest=(0,_moment2["default"])(_lodash2["default"].last(scope.anomalyRecords)[scope.timeFieldName]),latest=(0,_moment2["default"])(_lodash2["default"].first(scope.anomalyRecords)[scope.timeFieldName]),daysDiff=latest.diff(earliest,"days");scope.momentInterval=daysDiff<2?"hour":"day"}else scope.momentInterval=scope.interval.val;var filteredRecords=_lodash2["default"].filter(scope.anomalyRecords,function(record){return Number(record.record_score)>=scope.threshold.val}),aggregatedData={};_lodash2["default"].each(filteredRecords,function(record){var roundedTime=(0,_moment2["default"])(record[scope.timeFieldName]).startOf(scope.momentInterval).valueOf();_lodash2["default"].has(aggregatedData,roundedTime)||(aggregatedData[roundedTime]={});var detectorIndex=record.detector_index,jobId=record.job_id,detector=record.function_description;_lodash2["default"].has(mlJobService.detectorsByJob,jobId)&&detectorIndex<mlJobService.detectorsByJob[jobId].length&&(detector=mlJobService.detectorsByJob[jobId][detectorIndex].detector_description);var detectorsAtTime=aggregatedData[roundedTime];_lodash2["default"].has(detectorsAtTime,detector)||(detectorsAtTime[detector]={});var entitiesForDetector=detectorsAtTime[detector],entity=_anomaly_utils2["default"].getEntityFieldValue(record);if(void 0===entity&&(entity=""),_lodash2["default"].has(entitiesForDetector,entity)){var score=record.record_score;score>entitiesForDetector[entity].record_score&&(entitiesForDetector[entity]=record)}else entitiesForDetector[entity]=record}),console.log("aggregateAnomalies() aggregatedData is:",aggregatedData);var summaryRecords=[];return _lodash2["default"].each(aggregatedData,function(timeDetectors,roundedTime){_lodash2["default"].each(timeDetectors,function(entityDetectors,detector){_lodash2["default"].each(entityDetectors,function(record,entity){var displayRecord={time:+roundedTime,"max severity":record.record_score,detector:detector,jobId:record.job_id,source:record},entityName=_anomaly_utils2["default"].getEntityFieldName(record);if(void 0!==entityName&&(displayRecord.entityName=entityName,displayRecord.entityValue=entity),_lodash2["default"].has(record,"partition_field_name")&&(displayRecord.partitionFieldName=record.partition_field_name,displayRecord.partitionFieldValue=record.partition_field_value),_lodash2["default"].has(record,"influencers")){var influencers=[],sourceInfluencers=_lodash2["default"].sortBy(record.influencers,"influencer_field_name");_lodash2["default"].each(sourceInfluencers,function(influencer){var influencerFieldName=influencer.influencer_field_name;_lodash2["default"].each(influencer.influencer_field_values,function(influencerFieldValue){var influencerToAdd={};influencerToAdd[influencerFieldName]=influencerFieldValue,influencers.push(influencerToAdd)})}),displayRecord.influencers=influencers}var functionDescription=_lodash2["default"].get(record,"function_description","");if(_anomaly_utils2["default"].showActualForFunction(functionDescription)===!0)if(_lodash2["default"].has(record,"actual"))displayRecord.actual=record.actual;else if(1===_lodash2["default"].get(record,"causes",[]).length){var cause=_lodash2["default"].first(record.causes);displayRecord.actual=cause.actual}if(_anomaly_utils2["default"].showTypicalForFunction(functionDescription)===!0)if(_lodash2["default"].has(record,"typical"))displayRecord.typical=record.typical;else if(1===_lodash2["default"].get(record,"causes",[]).length){var _cause2=_lodash2["default"].first(record.causes);displayRecord.typical=_cause2.typical}_lodash2["default"].has(mlJobService.customUrlsByJob,record.job_id)&&(displayRecord.links=mlJobService.customUrlsByJob[record.job_id]),summaryRecords.push(displayRecord)})})}),summaryRecords}function getPaginatedTableColumns(summaryRecords){var paginatedTableColumns=[{title:"",sortable:!1,"class":"col-expand-arrow"},{title:"time",sortable:!0}];scope.isShowingAggregatedData()?paginatedTableColumns.push({title:"max severity",sortable:!0}):paginatedTableColumns.push({title:"severity",sortable:!0}),paginatedTableColumns.push({title:"detector",sortable:!0});var showEntity=_lodash2["default"].some(summaryRecords,"entityValue"),showInfluencers=_lodash2["default"].some(summaryRecords,"influencers"),showActual=_lodash2["default"].some(summaryRecords,"actual"),showTypical=_lodash2["default"].some(summaryRecords,"typical"),showExamples=_lodash2["default"].some(summaryRecords,{entityName:"mlcategory"}),showLinks=_lodash2["default"].some(summaryRecords,"links");return showEntity===!0&&paginatedTableColumns.push({title:"found for",sortable:!0}),showInfluencers===!0&&paginatedTableColumns.push({title:"influenced by",sortable:!0}),showActual===!0&&paginatedTableColumns.push({title:"actual",sortable:!0}),showTypical===!0&&(paginatedTableColumns.push({title:"typical",sortable:!0}),paginatedTableColumns.push({title:"description",sortable:!0})),paginatedTableColumns.push({title:"job ID",sortable:!0}),showLinks===!0&&paginatedTableColumns.push({title:"links",sortable:!1}),showExamples===!0&&paginatedTableColumns.push({title:"category examples",sortable:!1}),paginatedTableColumns}function createTableRow(record){var rowScope=scope.$new();rowScope.expandable=!0,rowScope.expandElement="ml-anomalies-table-expanded-row",rowScope.record=record,rowScope.isShowingAggregatedData=scope.isShowingAggregatedData(),rowScope.initRow=function(){_lodash2["default"].has(record,"entityValue")&&"mlcategory"===record.entityName&&mlJobService.getCategoryDefinition(scope.indexPatternId,record.jobId,record.entityValue).then(function(resp){rowScope.categoryDefinition={examples:_lodash2["default"].slice(resp.examples,0,Math.min(resp.examples.length,MAX_NUMBER_CATEGORY_EXAMPLES))}})["catch"](function(resp){console.log("Anomalies table createTableRow(): error loading categoryDefinition:",resp)}),rowScope.$broadcast("initRow",record)},rowScope.mouseenterRow=function(){mlTimeSeriesDashboardService.fireAnomalyRecordMouseenter(record)},rowScope.mouseleaveRow=function(){mlTimeSeriesDashboardService.fireAnomalyRecordMouseleave(record)};var addEntity=_lodash2["default"].findWhere(scope.table.columns,{title:"found for"}),addInfluencers=_lodash2["default"].findWhere(scope.table.columns,{title:"influenced by"}),addActual=_lodash2["default"].findWhere(scope.table.columns,{title:"actual"}),addTypical=_lodash2["default"].findWhere(scope.table.columns,{title:"typical"}),addExamples=_lodash2["default"].findWhere(scope.table.columns,{title:"category examples"}),addLinks=_lodash2["default"].findWhere(scope.table.columns,{title:"links"}),tableRow=[{markup:_open2["default"],scope:rowScope},{markup:formatTimestamp(record.time),value:record.time},{markup:parseInt(record["max severity"])>=1?'<i class="fa fa-exclamation-triangle icon-severity-'+_anomaly_utils2["default"].getSeverity(record["max severity"])+'"></i> '+Math.floor(record["max severity"]):'<i class="fa fa-exclamation-triangle icon-severity-'+_anomaly_utils2["default"].getSeverity(record["max severity"])+'"></i> &lt; 1',value:record["max severity"]},{markup:record.detector,value:record.detector}];if(void 0!==addEntity&&(_lodash2["default"].has(record,"entityValue")?"mlcategory"!==record.entityName?tableRow.push({markup:record.entityValue,value:record.entityValue}):tableRow.push({markup:"mlcategory "+record.entityValue,value:record.entityValue}):tableRow.push({markup:"",value:""})),void 0!==addInfluencers)if(_lodash2["default"].has(record,"influencers")){var cellMarkup="";_lodash2["default"].each(record.influencers,function(influencer){_lodash2["default"].each(influencer,function(influencerFieldValue,influencerFieldName){cellMarkup+=influencerFieldName+": "+influencerFieldValue+"<br>"})}),tableRow.push({markup:cellMarkup,value:cellMarkup})}else tableRow.push({markup:"",value:""});if(void 0!==addActual)if(_lodash2["default"].has(record,"actual")){var actualVal=formatValueFilter(record.actual,record.source["function"]);tableRow.push({markup:actualVal,value:actualVal,scope:rowScope})}else tableRow.push({markup:"",value:""});if(void 0!==addTypical)if(_lodash2["default"].has(record,"typical")){
var typicalVal=formatValueFilter(record.typical,record.source["function"]);tableRow.push({markup:typicalVal,value:typicalVal,scope:rowScope});var _actualVal=formatValueFilter(record.actual,record.source["function"]),factor=_actualVal>typicalVal?_actualVal/typicalVal:typicalVal/_actualVal;tableRow.push({markup:'<span ng-bind-html="'+_actualVal+" | metricChangeDescription:"+typicalVal+'"></span>',value:Math.abs(factor),scope:rowScope})}else tableRow.push({markup:"",value:""}),tableRow.push({markup:"",value:""});return tableRow.push({markup:record.jobId,value:record.jobId}),void 0!==addLinks&&(_lodash2["default"].has(record,"links")?(rowScope.links=record.links,rowScope.source=record.source,tableRow.push({markup:_anomalies_table_links2["default"],scope:rowScope})):tableRow.push({markup:"",value:""})),void 0!==addExamples&&("mlcategory"===record.entityName?tableRow.push({markup:'<span style="display: block; white-space:nowrap;" ng-repeat="item in getExamplesForCategory(record.jobId, record.entityValue)">{{item}}</span>',scope:rowScope}):tableRow.push({markup:"",value:""})),scope.rowScopes.push(rowScope),tableRow}function loadCategoryExamples(categoryIdsByJobId){scope.categoryExamplesByJob={},_lodash2["default"].each(categoryIdsByJobId,function(categoryIds,jobId){mlResultsService.getCategoryExamples(scope.indexPatternId,jobId,categoryIds,MAX_NUMBER_CATEGORY_EXAMPLES).then(function(resp){scope.categoryExamplesByJob[jobId]=resp.examplesByCategoryId})["catch"](function(resp){console.log("Anomalies table - error getting category examples:",resp)})})}function formatTimestamp(epochMs){var time=(0,_moment2["default"])(epochMs);return"hour"===scope.momentInterval?time.format("MMMM Do YYYY, HH:mm"):"second"===scope.momentInterval?time.format("MMMM Do YYYY, HH:mm:ss"):time.format("MMMM Do YYYY")}var appState=new AppState;appState.fetch(),scope.thresholdOptions=[{display:"critical",val:75},{display:"major",val:50},{display:"minor",val:25},{display:"warning",val:0}],scope.intervalOptions=[{display:"Auto",val:"auto"},{display:"1 hour",val:"hour"},{display:"1 day",val:"day"},{display:"Show all",val:"second"}],void 0===appState.mlAnomaliesTable&&(appState.mlAnomaliesTable={});var thresholdValue=_lodash2["default"].get(appState,"mlAnomaliesTable.thresholdValue",0),thresholdOption=_lodash2["default"].findWhere(scope.thresholdOptions,{val:thresholdValue});void 0===thresholdOption&&(thresholdOption=_lodash2["default"].findWhere(scope.thresholdOptions,{val:0}),thresholdValue=0),scope.threshold=thresholdOption;var intervalValue=_lodash2["default"].get(appState,"mlAnomaliesTable.intervalValue","auto"),intervalOption=_lodash2["default"].findWhere(scope.intervalOptions,{val:intervalValue});void 0===intervalOption&&(intervalOption=_lodash2["default"].findWhere(scope.intervalOptions,{val:"auto"}),intervalValue="auto"),scope.interval=intervalOption,scope.momentInterval="second",appState.mlAnomaliesTable.thresholdValue=thresholdValue,appState.mlAnomaliesTable.intervalValue=intervalValue,appState.save(),scope.table={},scope.table.perPage=25,scope.table.columns=[],scope.table.rows=[],scope.rowScopes=[],scope.categoryExamplesByJob={};var MAX_NUMBER_CATEGORY_EXAMPLES=10;scope.$on("renderTable",function(){updateTableData()}),element.on("$destroy",function(){scope.$destroy()}),scope.isShowingAggregatedData=function(){return"Show all"!==scope.interval.display},scope.setThreshold=function(threshold){scope.threshold=threshold,appState.mlAnomaliesTable.thresholdValue=threshold.val,appState.save(),updateTableData()},scope.setInterval=function(interval){scope.interval=interval,appState.mlAnomaliesTable.intervalValue=interval.val,appState.save(),updateTableData()},scope.getExamplesForCategory=function(jobId,categoryId){return _lodash2["default"].get(scope.categoryExamplesByJob,[jobId,categoryId],[])},scope.openLink=function(link,record){console.log("Anomalies Table - open link for record:",link,record);var timestamp=record[scope.timeFieldName],configuredUrlValue=link.url_value;if(configuredUrlValue.includes("$earliest$")){var roundedMoment=(0,_moment2["default"])(timestamp).startOf(scope.momentInterval);"hour"===scope.momentInterval&&roundedMoment.subtract(1,"h"),record.earliest=roundedMoment.toISOString()}if(configuredUrlValue.includes("$latest$"))if(scope.isShowingAggregatedData()){var _roundedMoment=(0,_moment2["default"])(timestamp).endOf(scope.momentInterval);"hour"===scope.momentInterval&&_roundedMoment.add(1,"h"),record.latest=_roundedMoment.toISOString()}else{var latestMoment=(0,_moment2["default"])(timestamp).add(record.bucket_span,"s");record.latest=latestMoment.toISOString()}if((configuredUrlValue.includes("$mlcategoryterms$")||configuredUrlValue.includes("$mlcategoryregex$"))&&_lodash2["default"].has(record,"mlcategory")){var jobId=record.job_id,categoryId=record.mlcategory[0];mlJobService.getCategoryDefinition(scope.indexPatternId,jobId,categoryId).then(function(resp){var termsArray=_lodash2["default"].map(resp.terms.split(" "),function(term){return"+"+term});record.mlcategoryterms=termsArray.join(" "),record.mlcategoryregex=resp.regex;var urlPath=_string_utils2["default"].replaceStringTokens(link.url_value,record,!0);$window.open(urlPath,"_blank")})["catch"](function(resp){console.log("openLink(): error loading categoryDefinition:",resp)})}else{var urlPath=_string_utils2["default"].replaceStringTokens(link.url_value,record,!0);$window.open(urlPath,"_blank")}}}}})},3803:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.filter("metricChangeDescription",function(){return function(actual,typical){if(actual===typical)return"actual same as typical";var isHigher=actual>typical,iconClass=isHigher?"fa-arrow-up":"fa-arrow-down";if(0!==typical&&0!==actual){var factor=isHigher?actual/typical:typical/actual,direction=isHigher?"higher":"lower";if(factor>1.5)return factor<=100?'<i class="fa '+iconClass+'"></i> '+Math.round(factor)+"x "+direction:'<i class="fa '+iconClass+'"></i> More than 100x '+direction;if(factor>=1.05)return'<i class="fa '+iconClass+'"></i> '+factor.toPrecision(2)+"x "+direction;var dir=isHigher?"high":"low";return'<i class="fa '+iconClass+'"></i> Unusually '+dir}return 0===actual?'<i class="fa '+iconClass+'"></i> Unexpected zero value':'<i class="fa '+iconClass+'"></i> Unexpected non-zero value'}})},3804:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(3678),_moment2=_interopRequireDefault(_moment),_anomaly_utils=__webpack_require__(3767),_anomaly_utils2=_interopRequireDefault(_anomaly_utils);__webpack_require__(3798);var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.directive("mlAnomaliesTableExpandedRow",function(){function link(scope){function buildContent(){buildDescription(),buildMetrics(),buildCauses(),buildInfluencers()}function buildDescription(){var record=scope.record,rowDescription=_anomaly_utils2["default"].getSeverity(record.source.record_score)+" anomaly in "+record.detector;if(_lodash2["default"].has(record,"entityName")&&(rowDescription+=" found for "+record.entityName,rowDescription+=" ",rowDescription+=record.entityValue),_lodash2["default"].has(record.source,"partition_field_name")&&record.source.partition_field_name!==record.entityName&&(rowDescription+=" detected in "+record.source.partition_field_name,rowDescription+=" ",rowDescription+=record.source.partition_field_value),scope.description=rowDescription,_lodash2["default"].has(record.source,"correlated_by_field_value")){var mvDescription="multivariate correlations found in ";mvDescription+=record.source.by_field_name,mvDescription+="; ",mvDescription+=record.source.by_field_value,mvDescription+=" is considered anomalous given ",mvDescription+=record.source.correlated_by_field_value,scope.multiVariateDescription=mvDescription}scope.isInterim=_lodash2["default"].get(record,"source.is_interim",!1)}function buildMetrics(){var record=scope.record,functionDescription=_lodash2["default"].get(record,"source.function_description","");if(_anomaly_utils2["default"].showActualForFunction(functionDescription)===!0)if(_lodash2["default"].has(scope.record.source,"causes")){var causes=scope.record.source.causes;if(1===causes.length){var cause=_lodash2["default"].first(causes);scope.actual=cause.actual}}else scope.actual=record.source.actual;if(_anomaly_utils2["default"].showTypicalForFunction(functionDescription)===!0)if(_lodash2["default"].has(scope.record.source,"causes")){var _causes=scope.record.source.causes;if(1===_causes.length){var _cause=_lodash2["default"].first(_causes);scope.typical=_cause.typical}}else scope.typical=record.source.typical}function buildCauses(){if(_lodash2["default"].has(scope.record.source,"causes")){var causes=scope.record.source.causes;if(1===causes.length){var cause=_lodash2["default"].first(causes);_lodash2["default"].has(cause,"byFieldName")&&(scope.singleCauseByFieldName=cause.by_field_name,scope.singleCauseByFieldValue=cause.by_field_value)}else scope.causes=_lodash2["default"].map(causes,function(cause){var simplified=_lodash2["default"].pick(cause,"typical","actual","probability");return simplified.entityName=_lodash2["default"].has(cause,"by_field_name")?cause.by_field_name:cause.over_field_name,simplified.entityValue=_lodash2["default"].has(cause,"by_field_value")?cause.by_field_value:cause.over_field_value,simplified})}}function buildInfluencers(){if(_lodash2["default"].has(scope.record,"influencers")){var influencers=[];_lodash2["default"].each(scope.record.influencers,function(influencer){_lodash2["default"].each(influencer,function(influencerFieldValue,influencerFieldName){influencers.push({name:influencerFieldName,value:influencerFieldValue})})}),scope.influencers=influencers}}scope.record=scope.$parent.record,scope.filter=scope.$parent.filter,scope.isShowingAggregatedData=scope.$parent.isShowingAggregatedData;var timeFieldName="timestamp",momentTime=(0,_moment2["default"])(scope.record.source[timeFieldName]);if(scope.anomalyTime=momentTime.format("MMMM Do YYYY, HH:mm:ss"),_lodash2["default"].has(scope.record.source,"bucket_span")&&(scope.anomalyEndTime=momentTime.add(scope.record.source.bucket_span,"s").format("MMMM Do YYYY, HH:mm:ss")),scope.$on("initRow",function(){buildContent()}),scope.$parent.open===!0&&buildContent(),_lodash2["default"].has(scope.record,"entityValue")&&"mlcategory"===scope.record.entityName)var unbindWatch=scope.$parent.$watch("categoryDefinition",function(categoryDefinition){void 0!==categoryDefinition&&(scope.examples=categoryDefinition.examples,unbindWatch())})}return{restrict:"AE",replace:!1,scope:{},template:__webpack_require__(3805),link:link}})},3805:function(module,exports){module.exports='<div class="ml-tablerow-expanded">\n  <span class="ml-tablerow-expanded-heading">Description:</span>\n  {{description}}\n  <span ng-if="multiVariateDescription" class="ml-tablerow-expanded-mv-description">{{multiVariateDescription}}</span>\n\n  <span ng-if="isShowingAggregatedData === true" class="ml-tablerow-expanded-heading">Details on highest severity anomaly:</span>\n  <span ng-if="isShowingAggregatedData === false" class="ml-tablerow-expanded-heading">Anomaly Details:</span>\n  <div ng-if="isInterim === true" class="ml-anomaly-interim-result"><i class="fa fa-exclamation-triangle"></i> Interim result</div>\n  <table>\n    <tr ng-if="record.source.partition_field_value">\n      <td>{{record.source.partition_field_name}}:</td>\n      <td>{{record.source.partition_field_value}}\n        <i ng-click="filter(record.source.partition_field_name, record.source.partition_field_value, \'+\')"\n            tooltip="Filter for value" tooltip-append-to-body="1" class="fa fa-search-plus"></i>\n        <i ng-click="filter(record.source.partition_field_name, record.source.partition_field_value, \'-\')"\n            tooltip="Filter out value" tooltip-append-to-body="1" class="fa fa-search-minus"></i>\n      </td>\n    </tr>\n    <tr ng-if="record.source.by_field_value">\n      <td>{{record.source.by_field_name}}:</td>\n      <td>{{record.source.by_field_value}}\n        <i ng-click="filter(record.source.by_field_name, record.source.by_field_value, \'+\')"\n            tooltip="Filter for value" tooltip-append-to-body="1" class="fa fa-search-plus"></i>\n        <i ng-click="filter(record.source.by_field_name, record.source.by_field_value, \'-\')"\n            tooltip="Filter out value" tooltip-append-to-body="1" class="fa fa-search-minus"></i>\n      </td>\n    </tr>\n    <tr ng-if="singleCauseByFieldValue">\n      <td>{{singleCauseByFieldName}}:</td>\n      <td>{{singleCauseByFieldValue}}\n        <i ng-click="filter(singleCauseByFieldName, singleCauseByFieldValue, \'+\')"\n            tooltip="Filter for value" tooltip-append-to-body="1" class="fa fa-search-plus"></i>\n        <i ng-click="filter(singleCauseByFieldName, singleCauseByFieldValue, \'-\')"\n            tooltip="Filter out value" tooltip-append-to-body="1" class="fa fa-search-minus"></i>\n      </td>\n    </tr>\n    <tr ng-if="record.source.over_field_value">\n      <td>{{record.source.over_field_name}}:</td>\n      <td>{{record.source.over_field_value}}\n        <i ng-click="filter(record.source.over_field_name, record.source.over_field_value, \'+\')"\n            tooltip="Filter for value" tooltip-append-to-body="1" class="fa fa-search-plus"></i>\n        <i ng-click="filter(record.source.over_field_name, record.source.over_field_value, \'-\')"\n            tooltip="Filter out value" tooltip-append-to-body="1" class="fa fa-search-minus"></i>\n      </td>\n    </tr>\n    <tr ng-if="anomalyEndTime"><td>time:</td><td>{{anomalyTime}} to {{anomalyEndTime}}</td></tr>\n    <tr ng-if="!anomalyEndTime"><td>time:</td><td>{{anomalyTime}}</td></tr>\n    <tr ng-if="examples" ng-repeat="example in examples track by $index">\n      <td ng-if="$index === 0">category examples:</td><td ng-if="$index > 0">&nbsp;</td>\n      <td>{{example}}</td>\n    </tr>\n    <tr>\n      <td>function:</td>\n      <td ng-if="record.source.function !== \'metric\'">{{record.source.function}}</td>\n      <td ng-if="record.source.function === \'metric\'">{{record.source.function_description}}</td>\n    </tr>\n    <tr ng-if="record.source.field_name"><td>fieldName:</td><td>{{record.source.field_name}}</td></tr>\n    <tr ng-if="actual !== undefined"><td>actual:</td><td>{{actual | formatValue:record.source.function}}</td></tr>\n    <tr ng-if="typical !== undefined"><td>typical:</td><td>{{typical | formatValue:record.source.function}}</td></tr>\n    <tr>\n      <td>job ID:</td>\n      <td>{{record.jobId}}\n        <i ng-click="filter(\'jobId\', record.jobId, \'+\')"\n            tooltip="Filter for value" tooltip-append-to-body="1" class="fa fa-search-plus"></i>\n        <i ng-click="filter(\'jobId\', record.jobId, \'-\')"\n            tooltip="Filter out value" tooltip-append-to-body="1" class="fa fa-search-minus"></i>\n      </td>\n\n    </tr>\n    </tr>\n    <tr><td>probability:</td><td>{{record.source.probability}}</td></tr>\n    <tr ng-if="causes" ng-repeat="cause in causes track by $index">\n      <td ng-if="$index === 0">{{cause.entityName}} values:</td><td ng-if="$index > 0">&nbsp;</td>\n      <td>{{cause.entityValue}} (actual {{cause.actual | formatValue:record.source.function}}, typical {{cause.typical | formatValue:record.source.function}}, probability {{cause.probability}})\n        <i ng-click="filter(cause.entityName, cause.entityValue, \'+\')"\n            tooltip="Filter for value" tooltip-append-to-body="1" class="fa fa-search-plus"></i>\n        <i ng-click="filter(cause.entityName, cause.entityValue, \'-\')"\n            tooltip="Filter out value" tooltip-append-to-body="1" class="fa fa-search-minus"></i>\n      </td>\n    </tr>\n  </table>\n\n  <span ng-if="influencers" class="ml-tablerow-expanded-heading">Influenced by:</span>\n  <table ng-if="influencers">\n    <tr ng-repeat="influencer in influencers">\n      <td>{{influencer.name}}</td>\n      <td>{{influencer.value}}\n        <i ng-click="filter(influencer.name, influencer.value, \'+\')"\n            tooltip="Filter for value" tooltip-append-to-body="1" class="fa fa-search-plus"></i>\n        <i ng-click="filter(influencer.name, influencer.value, \'-\')"\n            tooltip="Filter out value" tooltip-append-to-body="1" class="fa fa-search-minus"></i>\n      </td>\n\n    </tr>\n  </table>\n\n</div>\n'},3806:function(module,exports){module.exports='<div class="btn-group" dropdown>\n  <button type="button" class="btn btn-primary dropdown-toggle" dropdown-toggle>\n    Open link  <span class="caret"></span>\n  </button>\n  <ul class="dropdown-menu" role="menu">\n    <li ng-repeat="link in links"><a ng-click="openLink(link, source)">{{link.url_name}}</a></li>\n  </ul>\n</div>'},3807:function(module,exports){module.exports='<div class="anomalies-table">\n  <div class="table-controls">\n    <label>Severity threshold:</label>\n    <div class="btn-group" dropdown>\n      <button type="button" class="form-control dropdown-toggle" dropdown-toggle ng-disabled="disabled">\n        <span><i class="fa fa-exclamation-triangle icon-severity-{{threshold.display}}"></i> {{threshold.display}}</span> <span class="caret"></span>\n      </button>\n      <ul class="dropdown-menu" role="menu">\n        <li ng-repeat="thresholdOption in thresholdOptions"><a ng-click="setThreshold(thresholdOption)"><i class="fa fa-exclamation-triangle icon-severity-{{thresholdOption.display}}"></i> {{thresholdOption.display}}</a></li>\n      </ul>\n    </div>\n\n    <label style="padding-left: 15px;">Interval:</label>\n    <div class="btn-group" dropdown>\n      <button type="button" class="form-control dropdown-toggle" dropdown-toggle ng-disabled="disabled">\n        <span>{{interval.display}}</span> <span class="caret"></span>\n      </button>\n      <ul class="dropdown-menu" role="menu">\n        <li ng-repeat="intervalOption in intervalOptions"><a ng-click="setInterval(intervalOption)">{{intervalOption.display}}</a></li>\n      </ul>\n    </div>\n  </div>\n\n  <div class="no-results-item" ng-if="table.rows.length === 0">\n    <h4>No matching results found</h4>\n  </div>\n\n  <ml-paginated-table ng-hide="table.rows.length === 0"\n    columns="table.columns"\n    rows="table.rows"\n    per-page="table.perPage">\n  </ml-paginated-table>\n\n</div>'},3808:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3809),__webpack_require__(3811),__webpack_require__(3812),__webpack_require__(3813),__webpack_require__(3800),__webpack_require__(3815)},3809:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(3678),_moment2=_interopRequireDefault(_moment);__webpack_require__(2439),__webpack_require__(3783),__webpack_require__(3766),__webpack_require__(3771),__webpack_require__(3772);var _routes=__webpack_require__(2485),_routes2=_interopRequireDefault(_routes),_parse_interval=__webpack_require__(2730),_parse_interval2=_interopRequireDefault(_parse_interval),_check_license=__webpack_require__(3684),_check_license2=_interopRequireDefault(_check_license),_job_utils=__webpack_require__(3680),_job_utils2=_interopRequireDefault(_job_utils),_refresh_interval_watcher=__webpack_require__(3787),_refresh_interval_watcher2=_interopRequireDefault(_refresh_interval_watcher),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules);_routes2["default"].when("/timeseriesexplorer/?",{template:__webpack_require__(3810),resolve:{CheckLicense:_check_license2["default"]}});var _module=_modules2["default"].get("apps/ml");_module.controller("MlTimeSeriesExplorerController",function($scope,$route,$timeout,$compile,Private,$q,es,timefilter,globalState,AppState,mlJobService,mlResultsService,mlDashboardService,mlTimeSeriesSearchService,mlTimeSeriesDashboardService){function calculateInitialFocusRange(){var earliestDataDate=_lodash2["default"].first($scope.contextChartData).date,latestDataDate=_lodash2["default"].last($scope.contextChartData).date,minBucketSpanSeconds=_lodash2["default"].reduce($scope.selectedJobs,function(memo,job){return Math.min(memo,job.bucketSpanSeconds)},86400);$scope.autoZoomDuration=1e3*minBucketSpanSeconds*(CHARTS_POINT_TARGET-1);var zoomState=$scope.appState.mlTimeSeriesExplorer.zoom;if(void 0!==zoomState){var zoomFrom=(0,_moment2["default"])(zoomState.from,"YYYY-MM-DDTHH:mm:ss.SSSZ",!0),zoomTo=(0,_moment2["default"])(zoomState.to,"YYYY-MM-DDTHH:mm:ss.SSSZ",!0);if(zoomFrom.isValid()&&zoomTo.isValid&&zoomFrom.isBetween(earliestDataDate,latestDataDate)&&zoomTo.isBetween(earliestDataDate,latestDataDate))return[zoomFrom.toDate(),zoomTo.toDate()]}return calculateDefaultFocusRange()}function calculateDefaultFocusRange(){var minBucketSpanSeconds=_lodash2["default"].reduce($scope.selectedJobs,function(memo,job){return Math.min(memo,job.bucketSpanSeconds)},86400);$scope.autoZoomDuration=1e3*minBucketSpanSeconds*(CHARTS_POINT_TARGET-1);var earliestDataDate=_lodash2["default"].first($scope.contextChartData).date,latestDataDate=_lodash2["default"].last($scope.contextChartData).date,latestMsToLoad=latestDataDate.getTime()+$scope.contextAggregationInterval.asMilliseconds(),earliestMsToLoad=Math.max(earliestDataDate.getTime(),latestMsToLoad-$scope.autoZoomDuration);return[new Date(earliestMsToLoad),new Date(latestMsToLoad)]}function calculateAggregationInterval(bounds,bucketsTarget){var barTarget=void 0!==bucketsTarget?bucketsTarget:100,maxBars=Math.floor(1.1*barTarget),buckets=new TimeBuckets;buckets.setInterval("auto"),buckets.setBounds(bounds),buckets.setBarTarget(Math.floor(barTarget)),buckets.setMaxBars(maxBars);var aggInterval=buckets.getInterval(),minJobBucketSpanSeconds=_lodash2["default"].reduce($scope.selectedJobs,function(memo,job){return Math.min(memo,job.bucketSpanSeconds)},86400),secs=aggInterval.asSeconds();return secs<minJobBucketSpanSeconds&&(buckets.setInterval(minJobBucketSpanSeconds+"s"),aggInterval=buckets.getInterval()),console.log("calculateAggregationInterval() barTarget,maxBars,returning:",bucketsTarget,maxBars,bounds.max.diff(bounds.min)/aggInterval.asMilliseconds()),aggInterval}function processModelPlotResults(modelPlotData){var modelPlotChartData=[];return _lodash2["default"].each(modelPlotData,function(dataForTime,time){modelPlotChartData.push({date:new Date((+time)),lower:dataForTime.modelLower,value:dataForTime.actual,upper:dataForTime.modelUpper})}),modelPlotChartData}function processBucketScoreResults(scoreData){var bucketScoreData=[];return _lodash2["default"].each(scoreData,function(dataForTime,time){bucketScoreData.push({date:new Date((+time)),score:dataForTime.anomalyScore})}),bucketScoreData}function processDataForFocusAnomalies(chartData,anomalyScoreData){_lodash2["default"].each(anomalyScoreData,function(bucket){if(bucket.score>0){for(var bucketTime=bucket.date.getTime(),chartPoint=void 0,i=0;i<chartData.length;i++)if(chartData[i].date.getTime()===bucketTime){chartPoint=chartData[i];break}if(void 0===chartPoint){for(var foundItem=void 0,_i=0;_i<chartData.length;_i++){var itemTime=chartData[_i].date.getTime();if(itemTime>bucketTime){var item=chartData[_i],prevousItem=chartData[_i-1],diff1=Math.abs(bucketTime-prevousItem.date.getTime()),diff2=Math.abs(bucketTime-itemTime);foundItem=void 0===prevousItem||diff1>diff2?item:prevousItem;break}}chartPoint=foundItem}if(void 0!==chartPoint)chartPoint.anomalyScore=bucket.score;else{var lastChartPoint=chartData[chartData.length-1],lastChartPointScore=lastChartPoint.anomalyScore||0;lastChartPoint.anomalyScore=Math.max(lastChartPointScore,bucket.score)}}})}$scope.indexPatternId=".ml-anomalies-*",$scope.timeFieldName="timestamp",timefilter.enabled=!0;var CHARTS_POINT_TARGET=500,ANOMALIES_MAX_RESULTS=500,TimeBuckets=Private(__webpack_require__(3741));$scope.loading=!1,$scope.hasResults=!1,void 0===globalState.ml&&(globalState.ml={},globalState.save()),$scope.getSelectedJobIds=function(){var selectedJobs=_lodash2["default"].filter($scope.jobs,function(job){return job.selected});return _lodash2["default"].map(selectedJobs,function(job){return job.id})},$scope.initializeVis=function(){var stateDefaults={mlTimeSeriesExplorer:{}};$scope.appState=new AppState(stateDefaults),$scope.jobs=[],mlJobService.loadJobs().then(function(resp){if(resp.jobs.length>0){var timeSeriesJobIds=[];_lodash2["default"].each(resp.jobs,function(job){if(_job_utils2["default"].isTimeSeriesViewJob(job)===!0){timeSeriesJobIds.push(job.job_id);var bucketSpan=(0,_parse_interval2["default"])(job.analysis_config.bucket_span);$scope.jobs.push({id:job.job_id,selected:!1,bucketSpanSeconds:bucketSpan.asSeconds()})}});var selectedJobIds=_lodash2["default"].get(globalState.ml,"jobIds",[]);selectedJobIds=_lodash2["default"].filter(selectedJobIds,function(jobId){return timeSeriesJobIds.indexOf(jobId)>-1}),$scope.setSelectedJobs(selectedJobIds)}})["catch"](function(resp){console.log("Time series explorer - error getting job info from elasticsearch:",resp)}),mlTimeSeriesDashboardService.init()},$scope.refresh=function(){function finish(){awaitingCount--,0===awaitingCount&&($scope.contextChartData&&$scope.contextChartData.length?$scope.hasResults=!0:$scope.hasResults=!1,$scope.loading=!1,$scope.contextChartData&&$scope.contextChartData.length&&$timeout(function(){$scope.$broadcast("render")},0))}if(void 0!==$scope.selectedJobs){$scope.loading=!0,$scope.hasResults=!1;var awaitingCount=2,bounds=timefilter.getActiveBounds(),selectedJobIds=$scope.getSelectedJobIds();$scope.contextAggregationInterval=calculateAggregationInterval(bounds,CHARTS_POINT_TARGET,CHARTS_POINT_TARGET),console.log("aggregationInterval for context data (s):",$scope.contextAggregationInterval.asSeconds()),mlTimeSeriesSearchService.getModelPlotOutput($scope.indexPatternId,selectedJobIds,bounds.min.valueOf(),bounds.max.valueOf(),$scope.contextAggregationInterval.expression).then(function(resp){var fullRangeChartData=processModelPlotResults(resp.results);if($scope.contextChartData=fullRangeChartData,console.log("Time series explorer model plot context chart data set:",$scope.contextChartData),$scope.contextChartData.length){var focusRange=calculateInitialFocusRange();$scope.zoomFrom=focusRange[0],$scope.zoomTo=focusRange[1]}finish()})["catch"](function(resp){console.log("Time series explorer - error getting model plot data from elasticsearch:",resp)}),mlTimeSeriesSearchService.getScoresByBucket($scope.indexPatternId,selectedJobIds,bounds.min.valueOf(),bounds.max.valueOf(),$scope.contextAggregationInterval.expression).then(function(resp){var fullRangeBucketScoreData=processBucketScoreResults(resp.results);$scope.swimlaneData=fullRangeBucketScoreData,console.log("Time series explorer swimlane anomalies data set:",$scope.swimlaneData),finish()})["catch"](function(resp){console.log("Time series explorer - error getting bucket anomaly scores from elasticsearch:",resp)})}},$scope.refreshFocusData=function(fromDate,toDate){function finish(){awaitingCount--,0===awaitingCount&&(processDataForFocusAnomalies($scope.focusChartData,$scope.focusChartBucketScoreData),console.log("Time series explorer focus chart data set:",$scope.focusChartData),$timeout(function(){$scope.focusChartData&&$scope.focusChartData.length?($scope.$broadcast("renderFocusChart"),$scope.$broadcast("renderTable")):($scope.$broadcast("renderFocusChart"),$scope.$broadcast("renderTable")),$scope.loading=!1},0))}var awaitingCount=3,selectedJobIds=$scope.getSelectedJobIds(),bounds={min:(0,_moment2["default"])(fromDate),max:(0,_moment2["default"])(toDate)};$scope.focusAggregationInterval=calculateAggregationInterval(bounds,CHARTS_POINT_TARGET,CHARTS_POINT_TARGET),console.log("aggregationInterval for focus data (s):",$scope.focusAggregationInterval.asSeconds()),mlTimeSeriesSearchService.getModelPlotOutput($scope.indexPatternId,selectedJobIds,bounds.min.valueOf(),bounds.max.valueOf(),$scope.focusAggregationInterval.expression).then(function(resp){$scope.focusChartData=processModelPlotResults(resp.results),finish()})["catch"](function(resp){console.log("Time series explorer - error getting model plot data from elasticsearch:",resp)}),mlTimeSeriesSearchService.getScoresByBucket($scope.indexPatternId,selectedJobIds,bounds.min.valueOf(),bounds.max.valueOf(),$scope.focusAggregationInterval.expression).then(function(resp){$scope.focusChartBucketScoreData=processBucketScoreResults(resp.results),finish()})["catch"](function(resp){console.log("Time series explorer - error getting bucket anomaly scores from elasticsearch:",resp)}),mlResultsService.getRecords($scope.indexPatternId,selectedJobIds,0,bounds.min.valueOf(),bounds.max.valueOf(),ANOMALIES_MAX_RESULTS).then(function(resp){$scope.anomalyRecords=_lodash2["default"].chain(resp.records).sortBy(function(record){return record[$scope.timeFieldName]}).reverse().value(),console.log("Time series explorer anomalies:",$scope.anomalyRecords),finish()})},$scope.setSelectedJobs=function(selections){$scope.selectedJobs=[];var selectedJobIds=[],selectAll=1===selections.length&&"*"===selections[0]||0===selections.length;_lodash2["default"].each($scope.jobs,function(job){job.selected=selectAll||_lodash2["default"].indexOf(selections,job.id)!==-1,job.selected&&($scope.selectedJobs.push(job),selectedJobIds.push(job.id))}),$scope.unsafeHtml='<ml-job-select-list timeseriesonly="true" selected="'+selectedJobIds.join(" ")+'"></ml-job-select-list>';var firstJobId=selectedJobIds[0];selectedJobIds.length>1&&firstJobId.length>22&&(firstJobId=firstJobId.substring(0,19)+"..."),$scope.selectJobBtnJobIdLabel=firstJobId,globalState.ml.jobIds=selections,globalState.save(),$scope.refresh()},$scope.$listen(timefilter,"fetch",$scope.refresh);var refreshWatcher=Private(_refresh_interval_watcher2["default"]);refreshWatcher.init(function(){$scope.refresh()}),$scope.$on("$destroy",function(){refreshWatcher.cancel()}),mlDashboardService.listenJobSelectionChange($scope,function(event,selections){$scope.setSelectedJobs(selections)}),$scope.$on("contextChartSelected",function(event,selection){var defaultRange=calculateDefaultFocusRange();if(selection.from.getTime()!==defaultRange[0].getTime()||selection.to.getTime()!==defaultRange[1].getTime()){var zoomState={from:selection.from.toISOString(),to:selection.to.toISOString()};$scope.appState.mlTimeSeriesExplorer.zoom=zoomState}else delete $scope.appState.mlTimeSeriesExplorer.zoom;$scope.appState.save(),$scope.zoomFrom=selection.from,$scope.zoomTo=selection.to,$scope.refreshFocusData(selection.from,selection.to)}),$scope.initializeVis()})},3810:function(module,exports){module.exports='<ml-nav-menu name="timeseriesexplorer"></ml-nav-menu>\n<div class="ml-time-series-explorer" ng-controller="MlTimeSeriesExplorerController">\n  <navbar ng-show="jobs.length > 0 && chrome.getVisible()">\n    <div class="ml-job-select-btn-label">Job</div>\n    <div style="flex:0 0 auto;">\n      <button ng-if="selectedJobs.length == 1 && selectedJobs[0].id === \'*\'"\n              popover-placement="bottom" popover-html-unsafe="{{unsafeHtml}}" popover-append-to-body="false" popover-trigger="click"\n              class="btn btn-default ml-job-select-btn" tooltip="All jobs selected">\n        <span class="ml-job-select-btn-text">All jobs</span>\n        <span class="caret"></span>\n      </button>\n\n      <button ng-if="selectedJobs.length == 1 && selectedJobs[0].id !== \'*\'" popover-placement="bottom"\n              popover-placement="bottom" popover-html-unsafe="{{unsafeHtml}}" popover-append-to-body="false" popover-trigger="click"\n              class="btn btn-default ml-job-select-btn" tooltip="{{selectedJobs[0].id}} selected">\n        <span class="ml-job-select-btn-text">{{selectedJobs[0].id}}</span>\n        <span class="caret"></span>\n      </button>\n\n      <button ng-if="selectedJobs.length == 2" popover-placement="bottom"\n              popover-placement="bottom" popover-html-unsafe="{{unsafeHtml}}" popover-append-to-body="false" popover-trigger="click"\n              class="btn btn-default ml-job-select-btn" tooltip="{{selectedJobs[0].id}} and 1 other job selected">\n        <span class="ml-job-select-btn-text">{{selectJobBtnJobIdLabel}} and 1 other</span>\n        <span class="caret"></span>\n      </button>\n\n      <button ng-if="selectedJobs.length > 2" popover-placement="bottom"\n              popover-placement="bottom" popover-html-unsafe="{{unsafeHtml}}" popover-append-to-body="false" popover-trigger="click"\n              class="btn btn-default ml-job-select-btn" tooltip="{{selectedJobs[0].id}} and {{selectedJobs.length-1}} other jobs selected">\n        <span class="ml-job-select-btn-text">{{selectJobBtnJobIdLabel}} and {{selectedJobs.length-1}} others</span>\n        <span class="caret"></span>\n      </button>\n    </div>\n  </navbar>\n\n  <div class="no-results-container" ng-if="jobs.length === 0">\n    <div class="no-results">\n      <div><i class="fa fa-exclamation-triangle"></i>No single metric jobs found</div>\n      <div><a href="ml#/jobs">Create new single metric job</a></div>\n    </div>\n  </div>\n\n  <div class="loading-container" ng-show="loading === true">\n    <div class="loading-spinner"><i class=\'fa fa-spinner fa-spin\'></i></div>\n    <div>Loading</div>\n  </div>\n\n  <div class="no-results-container" ng-show="jobs.length > 0 && loading === false && hasResults === false">\n    <div class="no-results">\n      <div><i class="fa fa-info-circle" ></i>No results found</div>\n      <div>Try widening the time selection or moving further back in time</div>\n    </div>\n  </div>\n\n  <div ng-show="loading === false && hasResults === true">\n    <div class="results-container">\n\n      <span class="panel-title">\n        Time series analysis\n      </span>\n      <div class="ml-model-plot-chart">\n        <ml-model-plot-chart  style="width: 1200px; height: 400px;"\n          context-chart-data="contextChartData"\n          context-aggregation-interval="contextAggregationInterval"\n          focus-aggregation-interval="focusAggregationInterval"\n          swimlane-data="swimlaneData"\n          focus-chart-data="focusChartData"\n          zoom-from="zoomFrom"\n          zoom-to="zoomTo"\n          auto-zoom-duration="autoZoomDuration">\n        </ml-model-plot-chart>\n      </div>\n\n      <span class="panel-title">\n        Anomalies\n      </span>\n      <ml-anomalies-table\n        anomaly-records="anomalyRecords"\n        index-pattern-id="indexPatternId"\n        time-field-name="timeFieldName">\n      </ml-anomalies-table>\n\n    </div>\n  </div>\n\n</div>\n';
},3811:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.service("mlTimeSeriesDashboardService",function(){var listeners={anomalyRecordMouseenter:[],anomalyRecordMouseleave:[]};this.init=function(){listeners.anomalyRecordMouseenter.splice(0),listeners.anomalyRecordMouseleave.splice(0)},this.fireAnomalyRecordMouseenter=function(record){listeners.anomalyRecordMouseenter.forEach(function(listener){listener(record)})},this.onAnomalyRecordMouseenter=function(listener){listeners.anomalyRecordMouseenter.push(listener)},this.fireAnomalyRecordMouseleave=function(record){listeners.anomalyRecordMouseleave.forEach(function(listener){listener(record)})},this.onAnomalyRecordMouseleave=function(listener){listeners.anomalyRecordMouseleave.push(listener)}})},3812:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.service("mlTimeSeriesSearchService",function($q,$timeout,es){this.getModelPlotOutput=function(index,jobIds,earliestMs,latestMs,interval){var deferred=$q.defer(),obj={success:!0,results:{}},boolCriteria=[];if(boolCriteria.push({range:{timestamp:{gte:earliestMs,lte:latestMs,format:"epoch_millis"}}}),jobIds&&jobIds.length>0&&(1!==jobIds.length||"*"!==jobIds[0])){var jobIdFilterStr="";_lodash2["default"].each(jobIds,function(jobId,i){i>0&&(jobIdFilterStr+=" OR "),jobIdFilterStr+="job_id:",jobIdFilterStr+=jobId}),boolCriteria.push({query_string:{analyze_wildcard:!0,query:jobIdFilterStr}})}return es.search({index:index,size:0,body:{query:{bool:{filter:[{query_string:{query:"_type:result AND result_type:model_plot",analyze_wildcard:!0}},{bool:{must:boolCriteria}}]}},aggs:{times:{date_histogram:{field:"timestamp",interval:interval,min_doc_count:1},aggs:{actual:{avg:{field:"actual"}},modelUpper:{max:{field:"model_upper"}},modelLower:{min:{field:"model_lower"}}}}}}}).then(function(resp){console.log("Time series search service getModelPlotOutput() resp:",resp);var aggregationsByTime=_lodash2["default"].get(resp,["aggregations","times","buckets"],[]);_lodash2["default"].each(aggregationsByTime,function(dataForTime){var time=dataForTime.key;obj.results[time]={actual:_lodash2["default"].get(dataForTime,["actual","value"]),modelUpper:_lodash2["default"].get(dataForTime,["modelUpper","value"]),modelLower:_lodash2["default"].get(dataForTime,["modelLower","value"])}}),deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise},this.getScoresByBucket=function(index,jobIds,earliestMs,latestMs,interval){var deferred=$q.defer(),obj={success:!0,results:{}},boolCriteria=[];if(boolCriteria.push({range:{timestamp:{gte:earliestMs,lte:latestMs,format:"epoch_millis"}}}),jobIds&&jobIds.length>0&&(1!==jobIds.length||"*"!==jobIds[0])){var jobIdFilterStr="";_lodash2["default"].each(jobIds,function(jobId,i){i>0&&(jobIdFilterStr+=" OR "),jobIdFilterStr+="job_id:",jobIdFilterStr+=jobId}),boolCriteria.push({query_string:{analyze_wildcard:!0,query:jobIdFilterStr}})}return es.search({index:index,size:0,body:{query:{bool:{filter:[{query_string:{query:"_type:result AND result_type:bucket",analyze_wildcard:!0}},{bool:{must:boolCriteria}}]}},aggs:{times:{date_histogram:{field:"timestamp",interval:interval,min_doc_count:1},aggs:{anomalyScore:{max:{field:"anomaly_score"}}}}}}}).then(function(resp){console.log("Time series search service getScoresByBucket() resp:",resp);var aggregationsByTime=_lodash2["default"].get(resp,["aggregations","times","buckets"],[]);_lodash2["default"].each(aggregationsByTime,function(dataForTime){var time=dataForTime.key;obj.results[time]={anomalyScore:_lodash2["default"].get(dataForTime,["anomalyScore","value"])}}),deferred.resolve(obj)})["catch"](function(resp){deferred.reject(resp)}),deferred.promise}})},3813:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_d=__webpack_require__(2794),_d2=_interopRequireDefault(_d),_moment=__webpack_require__(3678),_moment2=_interopRequireDefault(_moment),_numeral=__webpack_require__(667),_numeral2=_interopRequireDefault(_numeral);__webpack_require__(2439);var _anomaly_utils=__webpack_require__(3767),_anomaly_utils2=_interopRequireDefault(_anomaly_utils),_context_chart_mask=__webpack_require__(3814),_context_chart_mask2=_interopRequireDefault(_context_chart_mask),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.directive("mlModelPlotChart",function($compile,$timeout,timefilter,mlTimeSeriesDashboardService){function link(scope,element){function render(){if(void 0!==scope.contextChartData){svgWidth=_angular2["default"].element(".results-container").width();var chartElement=_d2["default"].select(element.get(0));chartElement.selectAll("*").remove();var svg=chartElement.append("svg").attr("width",svgWidth).attr("height",svgHeight);focusYScale=focusYScale.domain([_d2["default"].min(scope.contextChartData,function(d){return Math.min(d.value,d.lower)}),_d2["default"].max(scope.contextChartData,function(d){return Math.max(d.value,d.upper)})]);var maxYAxisLabelWidth=0,tempLabelText=svg.append("g").attr("class","temp-axis-label tick");tempLabelText.selectAll("text.temp.axis").data(focusYScale.ticks()).enter().append("text").text(function(d){return focusYScale.tickFormat()(d)}).each(function(){maxYAxisLabelWidth=Math.max(this.getBBox().width+focusYAxis.tickPadding(),maxYAxisLabelWidth)}).remove(),_d2["default"].select(".temp-axis-label").remove(),margin.left=Math.max(maxYAxisLabelWidth,40),vizWidth=svgWidth-margin.left-margin.right,focusXScale.range([0,vizWidth]),focusYAxis.innerTickSize(-vizWidth);var focus=svg.append("g").attr("class","focus-chart").attr("transform","translate("+margin.left+","+margin.top+")"),context=svg.append("g").attr("class","context-chart").attr("transform","translate("+margin.left+","+(focusHeight+margin.top+chartSpacing)+")");createFocusChart(focus,vizWidth,focusHeight),drawContextElements(context,vizWidth,contextChartHeight,swimlaneHeight);var focusLoadFrom=void 0,focusLoadTo=void 0,contextXMin=contextXScale.domain()[0].getTime(),contextXMax=contextXScale.domain()[1].getTime();if(focusLoadFrom=scope.zoomFrom?scope.zoomFrom.getTime():_lodash2["default"].reduce(scope.contextChartData,function(memo,point){return Math.min(memo,point.date.getTime())},new Date(2099,12,31).getTime()),focusLoadFrom=Math.max(focusLoadFrom,contextXMin),focusLoadTo=scope.zoomTo?scope.zoomTo.getTime():_lodash2["default"].reduce(scope.contextChartData,function(memo,point){return Math.max(memo,point.date.getTime())},0),focusLoadTo=Math.min(focusLoadTo,contextXMax),focusLoadFrom!==contextXMin||focusLoadTo!==contextXMax)setContextBrushExtent(new Date(focusLoadFrom),new Date(focusLoadTo),!0);else{var selectedBounds=contextXScale.domain();scope.selectedBounds={min:(0,_moment2["default"])(new Date(selectedBounds[0])),max:(0,_moment2["default"])(selectedBounds[1])},scope.$root.$broadcast("contextChartSelected",{from:selectedBounds[0],to:selectedBounds[1]})}}}function createFocusChart(fcsGroup,fcsWidth,fcsHeight){var zoomGroup=fcsGroup.append("g").attr("class","focus-zoom");zoomGroup.append("rect").attr("x",0).attr("y",0).attr("width",fcsWidth).attr("height",focusZoomPanelHeight).attr("class","chart-border"),updateZoomInfoElements(zoomGroup,fcsWidth),fcsGroup.append("rect").attr("x",0).attr("y",focusZoomPanelHeight).attr("width",fcsWidth).attr("height",focusChartHeight).attr("class","chart-border");var xAxisBg=fcsGroup.append("g").attr("class","x-axis-background");xAxisBg.append("rect").attr("x",0).attr("y",fcsHeight).attr("width",fcsWidth).attr("height",chartSpacing),xAxisBg.append("line").attr("x1",0).attr("y1",fcsHeight).attr("x2",0).attr("y2",fcsHeight+chartSpacing),xAxisBg.append("line").attr("x1",fcsWidth).attr("y1",fcsHeight).attr("x2",fcsWidth).attr("y2",fcsHeight+chartSpacing),xAxisBg.append("line").attr("x1",0).attr("y1",fcsHeight+chartSpacing).attr("x2",fcsWidth).attr("y2",fcsHeight+chartSpacing);var axes=fcsGroup.append("g");axes.append("g").attr("class","x axis").attr("transform","translate(0,"+fcsHeight+")"),axes.append("g").attr("class","y axis"),fcsGroup.append("path").attr("class","area bounds"),fcsGroup.append("path").attr("class","values-line"),fcsGroup.append("g").attr("class","focus-chart-markers"),_d2["default"].select("body").selectAll("div.ml-model-plot-point-tooltip").remove(),_d2["default"].select("body").append("div").attr("class","ml-model-plot-point-tooltip").style("opacity",0),fcsGroup.append("rect").attr("x",0).attr("y",0).attr("width",fcsWidth).attr("height",fcsHeight+24).attr("class","chart-border chart-border-highlight")}function renderFocusChart(){if(console.log("renderFocusChart scope.focusChartData:",scope.focusChartData),void 0!==scope.focusChartData){var data=scope.focusChartData,focusChart=_d2["default"].select(".focus-chart");focusChart.select(".zoom-interval").text(scope.focusAggregationInterval.expression),_angular2["default"].element(".zoom-aggregation-interval").text(scope.focusAggregationInterval.expression);var bounds=scope.selectedBounds,aggMs=scope.focusAggregationInterval.asMilliseconds(),earliest=(0,_moment2["default"])(Math.floor(bounds.min.valueOf()/aggMs)*aggMs),latest=(0,_moment2["default"])(Math.ceil(bounds.max.valueOf()/aggMs)*aggMs);focusXScale.domain([earliest.toDate(),latest.toDate()]),scope.focusChartData.length>0?(focusYScale=focusYScale.domain([_d2["default"].min(data,function(d){return Math.min(d.value,d.lower)}),_d2["default"].max(data,function(d){return Math.max(d.value,d.upper)})]),focusYAxis.tickFormat(null)):(focusYScale=focusYScale.domain([0,10]),focusYAxis.tickFormat("")),focusChart.select(".x.axis").call(focusXAxis),focusChart.select(".y.axis").call(focusYAxis),focusChart.select(".area.bounds").attr("d",focusBoundedArea(data)),focusChart.select(".values-line").attr("d",focusValuesLine(data));var dots=_d2["default"].select(".focus-chart-markers").selectAll(".metric-value").data(data);dots.exit().remove(),dots.enter().append("circle").attr("r",FOCUS_CHART_ANOMALY_RADIUS).on("mouseover",function(d){showFocusChartTooltip(d,this)}).on("mouseout",hideFocusChartTooltip),dots.attr("cx",function(d){return focusXScale(d.date)}).attr("cy",function(d){return focusYScale(d.value)}).attr("class",function(d){var markerClass="metric-value";return _lodash2["default"].has(d,"anomalyScore")&&(markerClass+=" anomaly-marker ",markerClass+=_anomaly_utils2["default"].getSeverityWithLow(d.anomalyScore)),markerClass})}}function updateZoomInfoElements(){for(var bounds=timefilter.getActiveBounds(),boundsSecs=bounds.max.unix()-bounds.min.unix(),minSecs=10/vizWidth*boundsSecs,zoomLinks='<a data-ms="'+scope.autoZoomDuration+'">auto</a> ',i=0;i<ZOOM_INTERVAL_OPTIONS.length;i++)ZOOM_INTERVAL_OPTIONS[i].duration.asSeconds()>minSecs&&ZOOM_INTERVAL_OPTIONS[i].duration.asSeconds()<boundsSecs&&(zoomLinks+='<a data-ms="'+ZOOM_INTERVAL_OPTIONS[i].duration.asMilliseconds()+'">',zoomLinks+=ZOOM_INTERVAL_OPTIONS[i].label,zoomLinks+="</a> ");var zoomInfoGroup=_d2["default"].select(".focus-zoom");zoomInfoGroup.append("foreignObject").attr("width",400).attr("height",25).html('<div class="zoom-links">Zoom: '+zoomLinks+'<span class="zoom-aggregation-interval-label">(aggregation interval: <span class="zoom-aggregation-interval"></span>)</span></div>'),(0,_jquery2["default"])(".focus-zoom a").click(function(e){e.preventDefault(),setZoomInterval((0,_jquery2["default"])(this).attr("data-ms"))})}function drawContextElements(cxtGroup,cxtWidth,cxtChartHeight,swlHeight){var data=scope.contextChartData;contextXScale=_d2["default"].time.scale().range([0,cxtWidth]).domain(calculateContextXAxisDomain());var valuesRange={min:Number.MAX_VALUE,max:Number.MIN_VALUE},boundsRange={min:Number.MAX_VALUE,max:Number.MIN_VALUE};_lodash2["default"].each(data,function(item){valuesRange.min=Math.min(item.value,valuesRange.min),valuesRange.max=Math.max(item.value,valuesRange.max),boundsRange.min=Math.min(item.lower,boundsRange.min),boundsRange.max=Math.max(item.upper,boundsRange.max)});var dataMin=Math.min(valuesRange.min,boundsRange.min),dataMax=Math.max(valuesRange.max,boundsRange.max),chartLimits={min:dataMin,max:dataMax};valuesRange.max-valuesRange.min<.5*(dataMax-dataMin)&&(valuesRange.min>dataMin&&(chartLimits.min=valuesRange.min-.5*(valuesRange.max-valuesRange.min)),valuesRange.max<dataMax&&(chartLimits.max=valuesRange.max+.5*(valuesRange.max-valuesRange.min))),contextYScale=_d2["default"].scale.linear().range([cxtChartHeight,0]).domain([chartLimits.min,chartLimits.max]);var borders=cxtGroup.append("g").attr("class","axis");borders.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",cxtChartHeight+swlHeight),borders.append("line").attr("x1",cxtWidth).attr("y1",0).attr("x2",cxtWidth).attr("y2",cxtChartHeight+swlHeight);var xAxis=_d2["default"].svg.axis().scale(contextXScale).orient("top").innerTickSize(-cxtChartHeight).outerTickSize(0).tickPadding(0);cxtGroup.datum(data);var area=_d2["default"].svg.area().x(function(d){return contextXScale(d.date)}).y0(function(d){return contextYScale(Math.min(chartLimits.max,Math.max(d.lower,chartLimits.min)))}).y1(function(d){return contextYScale(Math.max(chartLimits.min,Math.min(d.upper,chartLimits.max)))}),contextValuesLine=_d2["default"].svg.line().x(function(d){return contextXScale(d.date)}).y(function(d){return contextYScale(d.value)});cxtGroup.append("path").datum(data).attr("class","area context").attr("d",area),cxtGroup.append("path").datum(data).attr("class","values-line").attr("d",contextValuesLine);var swimlane=cxtGroup.append("g").attr("class","swimlane").attr("transform","translate(0,"+cxtChartHeight+")");drawSwimlane(swimlane,cxtWidth,swlHeight);var mask=new _context_chart_mask2["default"](cxtGroup,scope.contextChartData,swlHeight).x(contextXScale).y(contextYScale);cxtGroup.append("g").attr("class","x axis context-chart-axis").call(xAxis),cxtGroup.selectAll(".x.context-chart-axis text").attr("dy",cxtChartHeight-5),drawContextBrush(cxtGroup,mask)}function drawContextBrush(contextGroup,mask){function showBrush(show){var brushExtent=brush.extent();mask.reveal(brushExtent),leftHandle.attr("x",contextXScale(brushExtent[0])-10),rightHandle.attr("x",contextXScale(brushExtent[1])+0),topBorder.attr("x",contextXScale(brushExtent[0])+1),topBorder.attr("width",contextXScale(brushExtent[1])-contextXScale(brushExtent[0])-2);var visibility=show?"visible":"hidden";mask.style("visibility",visibility),leftHandle.style("visibility",visibility),rightHandle.style("visibility",visibility),topBorder.style("visibility",visibility),border.style("visibility",visibility)}function brushing(){var isEmpty=brush.empty();showBrush(!isEmpty)}function brushed(){var isEmpty=brush.empty();showBrush(!isEmpty);var selectedBounds=isEmpty?contextXScale.domain():brush.extent(),selectionMin=selectedBounds[0].getTime(),selectionMax=selectedBounds[1].getTime();contextGroup.selectAll(".swimlane-cell").style("fill",function(d){var cellMs=d.date.getTime();return cellMs<selectionMin||cellMs>selectionMax?anomalyGrayScale(d.score):anomalyColorScale(d.score)}),scope.selectedBounds={min:(0,_moment2["default"])(selectionMin),max:(0,_moment2["default"])(selectionMax)},scope.$root.$broadcast("contextChartSelected",{from:selectedBounds[0],to:selectedBounds[1]})}brush.x(contextXScale).on("brush",brushing).on("brushend",brushed),contextGroup.append("g").attr("class","x brush").call(brush).selectAll("rect").attr("y",-1).attr("height",contextChartHeight+swimlaneHeight+1),contextGroup.selectAll(".w rect").attr("x",-10).attr("width",10),contextGroup.selectAll(".e rect").attr("x",0).attr("width",10);var topBorder=contextGroup.append("rect").attr("class","top-border").attr("y",-2).attr("height",3),leftHandle=contextGroup.append("foreignObject").attr("width",10).attr("height",90).attr("class","brush-handle").html('<div class="brush-handle-inner brush-handle-inner-left"><i class="fa fa-caret-left"></i></div>'),rightHandle=contextGroup.append("foreignObject").attr("width",10).attr("height",90).attr("class","brush-handle").html('<div class="brush-handle-inner brush-handle-inner-right"><i class="fa fa-caret-right"></i></div>'),border=_d2["default"].selectAll(".chart-border-highlight")}function drawSwimlane(swlGroup,swlWidth,swlHeight){var data=scope.swimlaneData,xAxisDomain=calculateContextXAxisDomain(),x=_d2["default"].time.scale().range([0,swlWidth]).domain(xAxisDomain),y=_d2["default"].scale.linear().range([swlHeight,0]).domain([0,swlHeight]),xAxis=_d2["default"].svg.axis().scale(x).orient("bottom").innerTickSize(-swlHeight).outerTickSize(0),yAxis=_d2["default"].svg.axis().scale(y).orient("left").tickValues(y.domain()).innerTickSize(-swlWidth).outerTickSize(0),axes=swlGroup.append("g");axes.append("g").attr("class","x axis").attr("transform","translate(0,"+swlHeight+")").call(xAxis),axes.append("g").attr("class","y axis").call(yAxis);var earliest=xAxisDomain[0].getTime(),latest=xAxisDomain[1].getTime(),swimlaneAggMs=scope.contextAggregationInterval.asMilliseconds(),cellWidth=swlWidth/((latest-earliest)/swimlaneAggMs);cellWidth<1&&(cellWidth=1);var cells=swlGroup.append("g").attr("class","swimlane-cells").selectAll("cells").data(data);cells.enter().append("rect").attr("x",function(d){return x(d.date)}).attr("y",0).attr("rx",0).attr("ry",0).attr("class",function(d){return d.score>0?"swimlane-cell":"swimlane-cell-hidden"}).attr("width",cellWidth).attr("height",swlHeight).style("fill",function(d){return anomalyColorScale(d.score)})}function calculateContextXAxisDomain(){var bounds=timefilter.getActiveBounds(),earliest=Math.min(_lodash2["default"].first(scope.swimlaneData).date.getTime(),bounds.min.valueOf()),contextAggMs=scope.contextAggregationInterval.asMilliseconds(),earliestMs=Math.floor(earliest/contextAggMs)*contextAggMs,latestMs=Math.ceil(bounds.max.valueOf()/contextAggMs)*contextAggMs;return[new Date(earliestMs),new Date(latestMs)]}function setContextBrushExtent(from,to,fireEvent){brush.extent([from,to]),brush(_d2["default"].select(".brush")),fireEvent&&brush.event(_d2["default"].select(".brush"))}function setZoomInterval(ms){var bounds=timefilter.getActiveBounds(),minBoundsMs=bounds.min.valueOf(),maxBoundsMs=bounds.max.valueOf(),millis=+ms,to=scope.zoomTo.getTime(),from=to-millis;from<minBoundsMs&&(from=minBoundsMs,to=Math.min(minBoundsMs+millis,maxBoundsMs)),setContextBrushExtent(new Date(from),new Date(to),!0)}function showFocusChartTooltip(marker,circle){var formattedDate=(0,_moment2["default"])(marker.date).format("MMMM Do YYYY, HH:mm"),contents=formattedDate+"<br/><hr/>";if(contents+="value: "+(0,_numeral2["default"])(marker.value).format("0,0.[00]"),contents+="<br/>upper bounds: "+(0,_numeral2["default"])(marker.upper).format("0,0.[00]"),contents+="<br/>lower bounds: "+(0,_numeral2["default"])(marker.lower).format("0,0.[00]"),_lodash2["default"].has(marker,"anomalyScore")){var score=parseInt(marker.anomalyScore),displayScore=score>0?score:"< 1";contents+="<br/>anomaly score: "+displayScore}var tooltipDiv=_d2["default"].select(".ml-model-plot-point-tooltip");tooltipDiv.transition().duration(200).style("opacity",.9),tooltipDiv.html(contents);var pos=(0,_jquery2["default"])(circle).position(),x=pos.left,y=pos.top,parentWidth=(0,_jquery2["default"])("body").width(),tooltipWidth=tooltipDiv.node().offsetWidth;x+tooltipWidth+FOCUS_CHART_ANOMALY_RADIUS+10<parentWidth?tooltipDiv.style("left",x+2*FOCUS_CHART_ANOMALY_RADIUS+4+"px").style("top",y-28+"px"):tooltipDiv.style("left",x-(tooltipWidth+FOCUS_CHART_ANOMALY_RADIUS)+"px").style("top",y-28+"px")}function hideFocusChartTooltip(){var tooltipDiv=_d2["default"].select(".ml-model-plot-point-tooltip");tooltipDiv.transition().duration(500).style("opacity",0)}function highlightFocusChartAnomaly(record){for(var anomalyTime=record.source.timestamp,chartData=scope.focusChartData,previousMarker=chartData[0],markerToSelect=chartData[0],i=0;i<chartData.length;i++){var chartItem=chartData[i];if(_lodash2["default"].has(chartItem,"anomalyScore")){var markerTime=chartItem.date.getTime();if(markerTime===anomalyTime){markerToSelect=chartItem;break}if(markerTime>anomalyTime){markerToSelect=previousMarker;break}markerToSelect=chartItem,previousMarker=chartItem}}var selectedMarker=_d2["default"].select(".focus-chart-markers").selectAll(".focus-chart-highlighted-marker").data([markerToSelect]);selectedMarker.enter().append("circle").attr("r",FOCUS_CHART_ANOMALY_RADIUS),selectedMarker.attr("cx",function(d){return focusXScale(d.date)}).attr("cy",function(d){return focusYScale(d.value)}).attr("class",function(d){var markerClass="metric-value anomaly-marker highlighted ";return markerClass+=_anomaly_utils2["default"].getSeverityWithLow(d.anomalyScore)}),showFocusChartTooltip(markerToSelect,(0,_jquery2["default"])(".focus-chart-markers .anomaly-marker.highlighted"))}function unhighlightFocusChartAnomaly(){_d2["default"].select(".focus-chart-markers").selectAll(".anomaly-marker.highlighted").remove(),hideFocusChartTooltip()}var svgWidth=_angular2["default"].element(".results-container").width(),focusZoomPanelHeight=25,focusChartHeight=310,focusHeight=focusZoomPanelHeight+focusChartHeight,contextChartHeight=60,chartSpacing=25,swimlaneHeight=30,margin={top:20,right:20,bottom:40,left:40},svgHeight=focusHeight+contextChartHeight+swimlaneHeight+margin.top+margin.bottom,vizWidth=svgWidth-margin.left-margin.right,FOCUS_CHART_ANOMALY_RADIUS=7,ZOOM_INTERVAL_OPTIONS=[{duration:_moment2["default"].duration(1,"h"),label:"1h"},{duration:_moment2["default"].duration(12,"h"),label:"12h"},{duration:_moment2["default"].duration(1,"d"),label:"1d"},{duration:_moment2["default"].duration(1,"w"),label:"1w"},{duration:_moment2["default"].duration(2,"w"),label:"2w"},{duration:_moment2["default"].duration(1,"M"),label:"1M"}],anomalyColorScale=_d2["default"].scale.threshold().domain([3,25,50,75,100]).range(["#d2e9f7","#8bc8fb","#ffdd00","#ff7e00","#fe5050"]),anomalyGrayScale=_d2["default"].scale.threshold().domain([3,25,50,75,100]).range(["#dce7ed","#b0c5d6","#b1a34e","#b17f4e","#c88686"]),focusXScale=_d2["default"].time.scale().range([0,vizWidth]),focusYScale=_d2["default"].scale.linear().range([focusHeight,focusZoomPanelHeight]),focusXAxis=_d2["default"].svg.axis().scale(focusXScale).orient("bottom").innerTickSize(-focusChartHeight).outerTickSize(0).tickPadding(10),focusYAxis=_d2["default"].svg.axis().scale(focusYScale).orient("left").innerTickSize(-vizWidth).outerTickSize(0).tickPadding(10),focusValuesLine=_d2["default"].svg.line().x(function(d){return focusXScale(d.date)}).y(function(d){return focusYScale(d.value)}),focusBoundedArea=_d2["default"].svg.area().x(function(d){return focusXScale(d.date)||1}).y0(function(d){return focusYScale(d.upper)}).y1(function(d){return focusYScale(d.lower)}),contextXScale=_d2["default"].time.scale().range([0,vizWidth]),contextYScale=_d2["default"].scale.linear().range([contextChartHeight,0]),brush=_d2["default"].svg.brush();scope.$on("render",function(){render()}),scope.$on("renderFocusChart",function(){renderFocusChart()}),element.on("$destroy",function(){scope.$destroy()}),mlTimeSeriesDashboardService.onAnomalyRecordMouseenter(function(record){highlightFocusChartAnomaly(record)}),mlTimeSeriesDashboardService.onAnomalyRecordMouseleave(function(){unhighlightFocusChartAnomaly()})}return{scope:{contextChartData:"=",contextChartAnomalyData:"=",focusChartData:"=",swimlaneData:"=",contextAggregationInterval:"=",focusAggregationInterval:"=",zoomFrom:"=",zoomTo:"=",autoZoomDuration:"="},link:link}})},3814:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function ContextChartMask(contextGroup,data,swimlaneHeight){this.contextGroup=contextGroup,this.data=data,this.swimlaneHeight=swimlaneHeight,this.mask=this.contextGroup.append("g").attr("class","mask"),this.leftGroup=this.mask.append("g").attr("class","left-mask"),this.rightGroup=this.mask.append("g").attr("class","right-mask"),this.leftPolygon=this.leftGroup.append("polygon"),this.rightPolygon=this.leftGroup.append("polygon"),this.leftGroup.append("path").attr("class","left area bounds"),this.leftGroup.append("path").attr("class","left values-line"),this.rightGroup.append("path").attr("class","right area bounds"),this.rightGroup.append("path").attr("class","right values-line"),this._x=null,this._y=null}var _d=__webpack_require__(2794),_d2=_interopRequireDefault(_d);ContextChartMask.prototype.style=function(prop,val){return this.leftGroup.style(prop,val),this.rightGroup.style(prop,val),this},ContextChartMask.prototype.x=function(f){return null==f?this._x:(this._x=f,this)},ContextChartMask.prototype.y=function(f){return null==f?this._y:(this._y=f,this)},ContextChartMask.prototype.redraw=function(){var yDomain=this._y.domain(),minY=yDomain[0],maxY=yDomain[1],xDomain=this._x.domain(),minX=xDomain[0],maxX=xDomain[1],that=this,boundedArea=_d2["default"].svg.area().x(function(d){return that._x(d.date)||1}).y0(function(d){return that._y(Math.min(maxY,Math.max(d.lower,minY)))}).y1(function(d){return that._y(Math.max(minY,Math.min(d.upper,maxY)))}),valuesLine=_d2["default"].svg.line().x(function(d){return that._x(d.date)}).y(function(d){return that._y(d.value)}),leftData=this.data.filter(function(d){return d.date<that.from}),rightData=this.data.filter(function(d){return d.date>that.to});this.leftGroup.select(".left.area.bounds").attr("d",boundedArea(leftData)),this.leftGroup.select(".left.values-line").attr("d",valuesLine(leftData)),this.rightGroup.select(".right.area.bounds").attr("d",boundedArea(rightData)),this.rightGroup.select(".right.values-line").attr("d",valuesLine(rightData));var leftPoly={l:this._x(minX),t:this._y(minY)+this.swimlaneHeight,r:this._x(this.from),b:this._y(maxY)},rightPoly={l:this._x(this.to),t:this._y(minY)+this.swimlaneHeight,r:this._x(maxX),b:this._y(maxY)};return this.leftPolygon.attr("points",""+leftPoly.l+","+leftPoly.t+"  "+leftPoly.r+","+leftPoly.t+"  "+leftPoly.r+","+leftPoly.b+"  "+leftPoly.l+","+leftPoly.b),this.rightPolygon.attr("points",""+rightPoly.l+","+rightPoly.t+"  "+rightPoly.r+","+rightPoly.t+"  "+rightPoly.r+","+rightPoly.b+"  "+rightPoly.l+","+rightPoly.b),this},ContextChartMask.prototype.reveal=function(extent){return this.from=extent[0],this.to=extent[1],this.redraw(),this},module.exports=ContextChartMask},3815:function(module,exports){},3816:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _tooltips=__webpack_require__(3817),_tooltips2=_interopRequireDefault(_tooltips);__webpack_require__(3818);var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.service("mlJsonTooltipService",function(){this.text=function(id){return _tooltips2["default"][id]?_tooltips2["default"][id].text:""}}).directive("mlInfoIcon",function(){return{scope:{id:"@mlInfoIcon"},restrict:"AE",replace:!0,template:'<i aria-hidden="true" class="fa fa-info-circle" tooltip="{{text}}"></i>',controller:function($scope){$scope.text=_tooltips2["default"][$scope.id]?_tooltips2["default"][$scope.id].text:""}}})},3817:function(module,exports){module.exports={new_job_id:{text:"Unique identifier for job, can use lowercase alphanumeric and underscores."},new_job_description:{text:"Optional descriptive text."},new_job_custom_urls:{text:"Optional drill-through links to source data. Supports string substitution for analyzed fields e.g. $hostname$."},new_job_bucketspan:{text:"Interval for time series analysis."},new_job_summarycountfieldname:{text:"Optional, for use if input data has been pre-summarized e.g. doc_count."},new_job_categorizationfieldname:{text:"Optional, for use if analyzing unstructured log data."},new_job_categorizationfilters:{text:"Optional, apply regular expressions to the categorization field"},new_job_detectors:{text:"Defines the fields and functions used for analysis."},new_job_influencers:{text:'Select which categorical fields have influence on the results. Who/what might you "blame" for an anomaly? Recommend 1-3 influencers.'},new_job_detector_description:{text:"User-friendly text used for dashboards."},new_job_detector_function:{text:"Analysis functions to be performed e.g. sum, count."},new_job_detector_fieldname:{text:"Required for functions: sum, mean, median, max, min, info_content, distinct_count."},new_job_detector_fieldname_subset:{text:"Required for functions: sum, mean, max, min, distinct_count."},new_job_detector_byfieldname:{text:"Required for individual analysis where anomalies are detected compared to an entity's own past behavior."},new_job_detector_overfieldname:{text:"Required for population analysis where anomalies are detected compared to the behavior of the population."},new_job_detector_partitionfieldname:{text:"Allows segmentation of modeling into logical groups."},new_job_detector_excludefrequent:{text:"If true will automatically identify and exclude frequently occurring entities which may otherwise have dominated results."},new_job_data_format:{text:"Describes the format of the input data: delimited, JSON, single line or Elasticsearch."},new_job_time_field:{text:"Name of the field containing the timestamp."},new_job_time_format:{text:"Format of the time field: epoch, epoch_ms or Java DateTimeFormatter string. Important to get right."},new_job_delimiter:{text:"Character used to separate fields."},new_job_quote_character:{text:"Character used to encapsulate values containing reserved characters."},new_job_enable_datafeed_job:{text:"Required for jobs that analyze data from Elasticsearch.\nRequires data format to be set to Elasticsearch"},new_job_data_source:{text:"Elasticsearch versions 1.7.x and 2+ supported."},new_job_datafeed_query:{text:"Elasticsearch Query DSL for filtering input data."},new_job_datafeed_query_delay:{text:"Advanced option. Time delay in seconds, between current time and latest input data time."},new_job_datafeed_frequency:{text:"Advanced option. The interval between searches."},new_job_datafeed_scrollsize:{text:"Advanced option. The maximum number of documents requested for a search.   "},new_job_elasticsearch_server:{text:"Server address and port of Elasticsearch source."},new_job_enable_authenticated:{text:"Select to specify username and password for secure access."},new_job_datafeed_retrieve_source:{text:"Advanced option. Select to retrieve unfiltered _source document, instead of specified fields."},new_job_advanced_settings:{text:"Advanced options"},new_job_dedicated_index:{text:"Select to store results in a separate index for this job"},new_filter_ruleaction:{text:"A string specifying the rule action. Initially, the only valid option is 'filter_results' but it provisions for expansion to actions like 'disable_modeling'."},new_filter_targetfieldname:{text:"A string expecting a field name. The filter will apply on all results for the targetFieldName value the ruleConditions apply. When empty, filtering applies only to results for which the ruleConditions apply."},new_action_targetfieldvalue:{text:"A string expecting a value for targetFieldName. If any of the ruleConditions apply, all results will be excluded for that particular targetValue but not for others. Can only be specified if targetFieldName is not empty."
},new_action_conditionsconnective:{text:"The logical connective of the ruleConditions."},new_action_ruleconditions:{text:"The list of conditions used to apply the rules."},new_action_conditiontype:{text:"A string specifying the condition type."},new_action_fieldname:{text:"A string specifying the field name on which the rule applies. When empty, rule applies to all results."},new_action_fieldvalue:{text:"A string specifying the numerical field value on which the rule applies. When empty, rule applies to all values of fieldName. Can only be specified if fieldName is not empty."},new_action_condition:{text:"The condition comparing fieldValue and value."},new_action_value:{text:"The numerical value to compare against fieldValue."},new_action_valuelist:{text:"A string that is a unique identifier to a list. Only applicable and required when conditionType is categorical."}}},3818:function(module,exports){},3819:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}__webpack_require__(3820);var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.directive("mlEngineApiHelpLink",function(){return{scope:{uri:"@mlUri",label:"@mlLabel"},restrict:"AE",replace:!0,template:'<a href="{{fullUrl()}}" target="_blank" class="ml-engine-api-help-link" tooltip="{{label}}">{{label}}<i class="fa fa-external-link"></i></a>',controller:function($scope){var website="http://www.prelert.com/docs/engine_api",version="2.0";$scope.fullUrl=function(){return website+"/"+version+"/"+$scope.uri}}}})},3820:function(module,exports){},3821:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3822),__webpack_require__(3824),__webpack_require__(3825)},3822:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.service("mlConfirmModalService",["$modal","$q",function($modal,$q){this.open=function(options){var deferred=$q.defer();return $modal.open({template:__webpack_require__(3823),controller:"MlConfirmModal",backdrop:"static",keyboard:!1,size:void 0===options.size?"sm":options.size,resolve:{params:function(){return{message:options.message,title:options.title,okLabel:options.okLabel,cancelLabel:options.cancelLabel,hideCancel:options.hideCancel,ok:deferred.resolve,cancel:deferred.reject}}}}),deferred.promise}}])},3823:function(module,exports){module.exports='<div class="confirm-modal">\n  <div class="modal-title" ng-show="(title !== undefined && title !== \'\' )">{{title}}</div>\n  <div class="modal-body" bind-html-unsafe="message"></div>\n  <div class="modal-footer">\n    <!-- <button class="btn btn-primary" ng-click="ok()">OK</button> -->\n    <!-- <button class="btn" ng-click="cancel()">Cancel</button> -->\n\n    <button \n      ng-click="ok()" \n      ng-disabled="(saveLock === true)"\n      class="btn btn-info" \n      aria-label="OK">\n      {{okLabel}}\n    </button>\n    <button \n      ng-hide="hideCancel"\n      ng-click="cancel()" \n      ng-disabled="(saveLock === true)"\n      class="btn btn-info" \n      aria-label="Cancel">\n      {{cancelLabel}}\n    </button>\n  </div>\n</div>'},3824:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.controller("MlConfirmModal",function($scope,$modalInstance,params){$scope.okFunc=params.ok,$scope.cancelFunc=params.cancel,$scope.message=params.message||"",$scope.title=params.title||"",$scope.okLabel=params.okLabel||"OK",$scope.cancelLabel=params.cancelLabel||"Cancel",$scope.hideCancel=params.hideCancel||!1,$scope.ok=function(){$scope.okFunc(),$modalInstance.close()},$scope.cancel=function(){$scope.cancelFunc(),$modalInstance.dismiss("cancel")}})},3825:function(module,exports){},3826:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_datemath=__webpack_require__(3738),_datemath2=_interopRequireDefault(_datemath),_moment=__webpack_require__(3678),_moment2=_interopRequireDefault(_moment),_angular=__webpack_require__(11),_angular2=_interopRequireDefault(_angular),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery);__webpack_require__(2699),__webpack_require__(2701),__webpack_require__(3827);var _modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.directive("prettyDuration",function(config,quickRanges,timeUnits,$compile,timefilter){return{restrict:"E",priority:1,terminal:!0,scope:{from:"=",to:"="},link:function($scope,$elem){function stringify(){var text=void 0;if($scope.from&&$scope.to&&!_moment2["default"].isMoment($scope.from)&&!_moment2["default"].isMoment($scope.to)){var tryLookup=lookupByRange[$scope.from.toString()+" to "+$scope.to.toString()];if(tryLookup)$elem.text(tryLookup.display);else{var fromParts=$scope.from.toString().split("-");if("now"===$scope.to.toString()&&"now"===fromParts[0]&&fromParts[1]){var rounded=fromParts[1].split("/");text="Last "+rounded[0],rounded[1]&&(text=text+" rounded to the "+timeUnits[rounded[1]]),$elem.text(text)}else cantLookup()}}else cantLookup()}function cantLookup(){var display={};_lodash2["default"].each(["from","to"],function(time){if(_moment2["default"].isMoment($scope[time]))display[time]=$scope[time].format(dateFormat);else if("now"===$scope[time])display[time]="now";else{var tryParse=_datemath2["default"].parse($scope[time],"to"===time);display[time]=_moment2["default"].isMoment(tryParse)?"~ "+tryParse.fromNow():$scope[time]}}),$elem.text(display.from+" to "+display.to)}function addArrows(){var zoomOutButton=_angular2["default"].element('<i ng-click="zoomOut()" class="ml-time-button fa fa-search-minus" ></i>'),zoomInButton=_angular2["default"].element('<i ng-click="zoomIn()" class="ml-time-button fa fa-search-plus" ></i>'),separator=_angular2["default"].element('<div class="ml-time-button-separator" ></div>');(0,_jquery2["default"])($elem.parent()[0].previousElementSibling).before(zoomInButton),(0,_jquery2["default"])($elem.parent()[0].previousElementSibling).before(zoomOutButton),(0,_jquery2["default"])($elem.parent()[0].previousElementSibling).before(separator),$compile(zoomInButton)($scope),$compile(zoomOutButton)($scope)}function getFromTo(){return"absolute"===timefilter.time.mode?{to:(0,_moment2["default"])(timefilter.time.to),from:(0,_moment2["default"])(timefilter.time.from)}:(timefilter.time.mode="absolute",{to:_datemath2["default"].parse(timefilter.time.to,!0),from:_datemath2["default"].parse(timefilter.time.from)})}var dateFormat=config.get("dateFormat"),lookupByRange={};_lodash2["default"].each(quickRanges,function(frame){lookupByRange[frame.from+" to "+frame.to]=frame}),$scope.zoomOut=function(){var time=getFromTo(),from=1e3*time.from.unix(),to=1e3*time.to.unix(),diff=Math.floor((to-from)/2);timefilter.time.from=(0,_moment2["default"])(from-diff).toISOString(),timefilter.time.to=(0,_moment2["default"])(to+diff).toISOString()},$scope.zoomIn=function(){var time=getFromTo(),from=1e3*time.from.unix(),to=1e3*time.to.unix(),diff=Math.floor((to-from)/4);timefilter.time.from=(0,_moment2["default"])(from+diff).toISOString(),timefilter.time.to=(0,_moment2["default"])(to-diff).toISOString()},$scope.$watch("from",stringify),$scope.$watch("to",stringify),addArrows()}}})},3827:function(module,exports){},3828:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(3677),_lodash2=_interopRequireDefault(_lodash),_nav_menu=__webpack_require__(3829),_nav_menu2=_interopRequireDefault(_nav_menu),_chrome=__webpack_require__(2429),_chrome2=_interopRequireDefault(_chrome),_modules=__webpack_require__(2437),_modules2=_interopRequireDefault(_modules),_module=_modules2["default"].get("apps/ml");_module.directive("mlNavMenu",function(){return{restrict:"E",transclude:!0,template:_nav_menu2["default"],link:function(scope,el,attrs){scope.name=attrs.name,scope.showTabs=!1,"jobs"!==scope.name&&"timeseriesexplorer"!==scope.name&&"explorer"!==scope.name||(scope.showTabs=!0),scope.isActiveTab=function(path){return scope.name===path};var crumbNames={jobs:{label:"Job Management",url:"#/jobs"},new_job:{label:"Create New Job",url:"#/jobs/new_job"},new_job_single_metric:{label:"Single Metric Job",url:"#/jobs/new_job_single_metric"},new_job_multi_metric:{label:"Multi Metric job",url:"#/jobs/new_job_multi_metric"},new_job_advanced:{label:"Advanced Job Configuration",url:"#/jobs/new_job_advanced"},explorer:{label:"Anomaly Explorer",url:"#/explorer"},timeseriesexplorer:{label:"Single Metric Viewer",url:"#/timeseriesexplorer"}},breadcrumbs=[{label:"Machine Learning (Beta)",url:"#/"}],crumbs=_chrome2["default"].getBreadcrumbs();_lodash2["default"].each(crumbs,function(crumb){"step"!==crumb&&"1"!==crumb&&"create"!==crumb&&("new_job_single_metric"!==crumb&&"new_job_multi_metric"!==crumb&&"new_job_advanced"!==crumb||breadcrumbs.push(crumbNames.new_job),breadcrumbs.push(crumbNames[crumb]))}),scope.breadcrumbs=breadcrumbs.filter(Boolean)}}})},3829:function(module,exports){module.exports='<kbn-top-nav name="dashboard" config="topNavMenu">\n<div data-transclude-slots>\n    <!-- Breadcrumbs. -->\n    <div data-transclude-slot="topLeftCorner" class="kuiLocalBreadcrumbs">\n      <div ng-repeat="crumb in breadcrumbs" class="kuiLocalBreadcrumb">\n        <a ng-if="crumb.url" kbn-href="{{ crumb.url }}" class="kuiLocalBreadcrumb__link">{{ crumb.label }}</a>\n        <span ng-if="!crumb.url" class="kuiLocalBreadcrumb__link">{{ crumb.label }}</span>\n      </div>\n    </div>\n    <!-- Tabs -->\n    <div data-transclude-slot="bottomRow">\n      <div ng-if="showTabs" class="kuiLocalTabs" role="navigation">\n        <a kbn-href="#/jobs" class="kuiLocalTab"\n        ng-class="{\'kuiLocalTab-isSelected\': isActiveTab(\'jobs\')}">\n        Job Management</a>\n        <a kbn-href="#/explorer" class="kuiLocalTab"\n        ng-class="{\'kuiLocalTab-isSelected\': isActiveTab(\'explorer\')}">\n        Anomaly Explorer</a>\n        <a kbn-href="#/timeseriesexplorer" class="kuiLocalTab"\n        ng-class="{\'kuiLocalTab-isSelected\': isActiveTab(\'timeseriesexplorer\')}">\n        Single Metric Viewer</a>\n      </div>\n    </div>\n  </div>\n</kbn-top-nav>\n'}});